var k9=Object.defineProperty;var lb=n=>{throw TypeError(n)};var E9=(n,e,t)=>e in n?k9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var S9=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Re=(n,e,t)=>E9(n,typeof e!="symbol"?e+"":e,t),zp=(n,e,t)=>e.has(n)||lb("Cannot "+t);var he=(n,e,t)=>(zp(n,e,"read from private field"),t?t.call(n):e.get(n)),Pe=(n,e,t)=>e.has(n)?lb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ue=(n,e,t,i)=>(zp(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),$e=(n,e,t)=>(zp(n,e,"access private method"),t);var su=(n,e,t,i)=>({set _(r){Ue(n,e,r,t)},get _(){return he(n,e,i)}});var mY=S9(C9=>{function I9(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function m5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var w5={exports:{}},Gd={},b5={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=Symbol.for("react.element"),N9=Symbol.for("react.portal"),T9=Symbol.for("react.fragment"),R9=Symbol.for("react.strict_mode"),M9=Symbol.for("react.profiler"),B9=Symbol.for("react.provider"),D9=Symbol.for("react.context"),L9=Symbol.for("react.forward_ref"),z9=Symbol.for("react.suspense"),P9=Symbol.for("react.memo"),O9=Symbol.for("react.lazy"),cb=Symbol.iterator;function H9(n){return n===null||typeof n!="object"?null:(n=cb&&n[cb]||n["@@iterator"],typeof n=="function"?n:null)}var F5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y5=Object.assign,v5={};function yl(n,e,t){this.props=n,this.context=e,this.refs=v5,this.updater=t||F5}yl.prototype.isReactComponent={};yl.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};yl.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function A5(){}A5.prototype=yl.prototype;function $2(n,e,t){this.props=n,this.context=e,this.refs=v5,this.updater=t||F5}var G2=$2.prototype=new A5;G2.constructor=$2;y5(G2,yl.prototype);G2.isPureReactComponent=!0;var hb=Array.isArray,_5=Object.prototype.hasOwnProperty,W2={current:null},C5={key:!0,ref:!0,__self:!0,__source:!0};function x5(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_5.call(e,i)&&!C5.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:zh,type:n,key:s,ref:o,props:r,_owner:W2.current}}function U9(n,e){return{$$typeof:zh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function K2(n){return typeof n=="object"&&n!==null&&n.$$typeof===zh}function V9(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ub=/\/+/g;function Pp(n,e){return typeof n=="object"&&n!==null&&n.key!=null?V9(""+n.key):e.toString(36)}function rf(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case zh:case N9:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Pp(o,0):i,hb(r)?(t="",n!=null&&(t=n.replace(ub,"$&/")+"/"),rf(r,e,t,"",function(c){return c})):r!=null&&(K2(r)&&(r=U9(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ub,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",hb(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Pp(s,a);o+=rf(s,e,t,l,r)}else if(l=H9(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Pp(s,a++),o+=rf(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ou(n,e,t){if(n==null)return n;var i=[],r=0;return rf(n,i,"","",function(s){return e.call(t,s,r++)}),i}function q9(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Tn={current:null},sf={transition:null},j9={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:sf,ReactCurrentOwner:W2};function k5(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:ou,forEach:function(n,e,t){ou(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ou(n,function(){e++}),e},toArray:function(n){return ou(n,function(e){return e})||[]},only:function(n){if(!K2(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};tt.Component=yl;tt.Fragment=T9;tt.Profiler=M9;tt.PureComponent=$2;tt.StrictMode=R9;tt.Suspense=z9;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j9;tt.act=k5;tt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=y5({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=W2.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)_5.call(e,l)&&!C5.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:zh,type:n.type,key:r,ref:s,props:i,_owner:o}};tt.createContext=function(n){return n={$$typeof:D9,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:B9,_context:n},n.Consumer=n};tt.createElement=x5;tt.createFactory=function(n){var e=x5.bind(null,n);return e.type=n,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(n){return{$$typeof:L9,render:n}};tt.isValidElement=K2;tt.lazy=function(n){return{$$typeof:O9,_payload:{_status:-1,_result:n},_init:q9}};tt.memo=function(n,e){return{$$typeof:P9,type:n,compare:e===void 0?null:e}};tt.startTransition=function(n){var e=sf.transition;sf.transition={};try{n()}finally{sf.transition=e}};tt.unstable_act=k5;tt.useCallback=function(n,e){return Tn.current.useCallback(n,e)};tt.useContext=function(n){return Tn.current.useContext(n)};tt.useDebugValue=function(){};tt.useDeferredValue=function(n){return Tn.current.useDeferredValue(n)};tt.useEffect=function(n,e){return Tn.current.useEffect(n,e)};tt.useId=function(){return Tn.current.useId()};tt.useImperativeHandle=function(n,e,t){return Tn.current.useImperativeHandle(n,e,t)};tt.useInsertionEffect=function(n,e){return Tn.current.useInsertionEffect(n,e)};tt.useLayoutEffect=function(n,e){return Tn.current.useLayoutEffect(n,e)};tt.useMemo=function(n,e){return Tn.current.useMemo(n,e)};tt.useReducer=function(n,e,t){return Tn.current.useReducer(n,e,t)};tt.useRef=function(n){return Tn.current.useRef(n)};tt.useState=function(n){return Tn.current.useState(n)};tt.useSyncExternalStore=function(n,e,t){return Tn.current.useSyncExternalStore(n,e,t)};tt.useTransition=function(){return Tn.current.useTransition()};tt.version="18.3.1";b5.exports=tt;var ie=b5.exports;const Zr=m5(ie),Q9=I9({__proto__:null,default:Zr},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $9=ie,G9=Symbol.for("react.element"),W9=Symbol.for("react.fragment"),K9=Object.prototype.hasOwnProperty,Y9=$9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X9={key:!0,ref:!0,__self:!0,__source:!0};function E5(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)K9.call(e,i)&&!X9.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:G9,type:n,key:s,ref:o,props:r,_owner:Y9.current}}Gd.Fragment=W9;Gd.jsx=E5;Gd.jsxs=E5;w5.exports=Gd;var ve=w5.exports,S5={exports:{}},ai={},I5={exports:{}},N5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,O){var $=L.length;L.push(O);e:for(;0<$;){var Q=$-1>>>1,te=L[Q];if(0<r(te,O))L[Q]=O,L[$]=te,$=Q;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var O=L[0],$=L.pop();if($!==O){L[0]=$;e:for(var Q=0,te=L.length,U=te>>>1;Q<U;){var G=2*(Q+1)-1,ne=L[G],J=G+1,Z=L[J];if(0>r(ne,$))J<te&&0>r(Z,ne)?(L[Q]=Z,L[J]=$,Q=J):(L[Q]=ne,L[G]=$,Q=G);else if(J<te&&0>r(Z,$))L[Q]=Z,L[J]=$,Q=J;else break e}}return O}function r(L,O){var $=L.sortIndex-O.sortIndex;return $!==0?$:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,u=null,f=3,d=!1,p=!1,w=!1,F=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var O=t(c);O!==null;){if(O.callback===null)i(c);else if(O.startTime<=L)i(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=t(c)}}function y(L){if(w=!1,b(L),!p)if(t(l)!==null)p=!0,I(A);else{var O=t(c);O!==null&&H(y,O.startTime-L)}}function A(L,O){p=!1,w&&(w=!1,g(_),_=-1),d=!0;var $=f;try{for(b(O),u=t(l);u!==null&&(!(u.expirationTime>O)||L&&!T());){var Q=u.callback;if(typeof Q=="function"){u.callback=null,f=u.priorityLevel;var te=Q(u.expirationTime<=O);O=n.unstable_now(),typeof te=="function"?u.callback=te:u===t(l)&&i(l),b(O)}else i(l);u=t(l)}if(u!==null)var U=!0;else{var G=t(c);G!==null&&H(y,G.startTime-O),U=!1}return U}finally{u=null,f=$,d=!1}}var x=!1,v=null,_=-1,k=5,E=-1;function T(){return!(n.unstable_now()-E<k)}function M(){if(v!==null){var L=n.unstable_now();E=L;var O=!0;try{O=v(!0,L)}finally{O?N():(x=!1,v=null)}}else x=!1}var N;if(typeof m=="function")N=function(){m(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,B=C.port2;C.port1.onmessage=M,N=function(){B.postMessage(null)}}else N=function(){F(M,0)};function I(L){v=L,x||(x=!0,N())}function H(L,O){_=F(function(){L(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){p||d||(p=!0,I(A))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var $=f;f=O;try{return L()}finally{f=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=f;f=L;try{return O()}finally{f=$}},n.unstable_scheduleCallback=function(L,O,$){var Q=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,L={id:h++,callback:O,priorityLevel:L,startTime:$,expirationTime:te,sortIndex:-1},$>Q?(L.sortIndex=$,e(c,L),t(l)===null&&L===t(c)&&(w?(g(_),_=-1):w=!0,H(y,$-Q))):(L.sortIndex=te,e(l,L),p||d||(p=!0,I(A))),L},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(L){var O=f;return function(){var $=f;f=O;try{return L.apply(this,arguments)}finally{f=$}}}})(N5);I5.exports=N5;var Z9=I5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J9=ie,si=Z9;function Ee(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T5=new Set,jc={};function Uo(n,e){nl(n,e),nl(n+"Capture",e)}function nl(n,e){for(jc[n]=e,n=0;n<e.length;n++)T5.add(e[n])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B0=Object.prototype.hasOwnProperty,ek=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fb={},db={};function tk(n){return B0.call(db,n)?!0:B0.call(fb,n)?!1:ek.test(n)?db[n]=!0:(fb[n]=!0,!1)}function nk(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function ik(n,e,t,i){if(e===null||typeof e>"u"||nk(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){fn[n]=new Rn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];fn[e]=new Rn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){fn[n]=new Rn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){fn[n]=new Rn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){fn[n]=new Rn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){fn[n]=new Rn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){fn[n]=new Rn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){fn[n]=new Rn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){fn[n]=new Rn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Y2=/[\-:]([a-z])/g;function X2(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Y2,X2);fn[e]=new Rn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Y2,X2);fn[e]=new Rn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Y2,X2);fn[e]=new Rn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){fn[n]=new Rn(n,1,!1,n.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){fn[n]=new Rn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Z2(n,e,t,i){var r=fn.hasOwnProperty(e)?fn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ik(e,t,r,i)&&(t=null),i||r===null?tk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Ur=J9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),ua=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),J2=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),R5=Symbol.for("react.provider"),M5=Symbol.for("react.context"),e1=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),z0=Symbol.for("react.suspense_list"),t1=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),B5=Symbol.for("react.offscreen"),pb=Symbol.iterator;function Vl(n){return n===null||typeof n!="object"?null:(n=pb&&n[pb]||n["@@iterator"],typeof n=="function"?n:null)}var Dt=Object.assign,Op;function wc(n){if(Op===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Op=e&&e[1]||""}return`
`+Op+n}var Hp=!1;function Up(n,e){if(!n||Hp)return"";Hp=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hp=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?wc(n):""}function rk(n){switch(n.tag){case 5:return wc(n.type);case 16:return wc("Lazy");case 13:return wc("Suspense");case 19:return wc("SuspenseList");case 0:case 2:case 15:return n=Up(n.type,!1),n;case 11:return n=Up(n.type.render,!1),n;case 1:return n=Up(n.type,!0),n;default:return""}}function P0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case fa:return"Fragment";case ua:return"Portal";case D0:return"Profiler";case J2:return"StrictMode";case L0:return"Suspense";case z0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case M5:return(n.displayName||"Context")+".Consumer";case R5:return(n._context.displayName||"Context")+".Provider";case e1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case t1:return e=n.displayName||null,e!==null?e:P0(n.type)||"Memo";case ts:e=n._payload,n=n._init;try{return P0(n(e))}catch{}}return null}function sk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P0(e);case 8:return e===J2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ns(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function D5(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ok(n){var e=D5(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function lu(n){n._valueTracker||(n._valueTracker=ok(n))}function L5(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=D5(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Lf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function O0(n,e){var t=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function gb(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ns(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z5(n,e){e=e.checked,e!=null&&Z2(n,"checked",e,!1)}function H0(n,e){z5(n,e);var t=Ns(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?U0(n,e.type,t):e.hasOwnProperty("defaultValue")&&U0(n,e.type,Ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function mb(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function U0(n,e,t){(e!=="number"||Lf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var bc=Array.isArray;function Sa(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ns(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function V0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function wb(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ee(92));if(bc(t)){if(1<t.length)throw Error(Ee(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ns(t)}}function P5(n,e){var t=Ns(e.value),i=Ns(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function bb(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function O5(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?O5(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var cu,H5=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cu.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Qc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ak=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(n){ak.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),xc[e]=xc[n]})});function U5(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||xc.hasOwnProperty(n)&&xc[n]?(""+e).trim():e+"px"}function V5(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=U5(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var lk=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j0(n,e){if(e){if(lk[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function Q0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $0=null;function n1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var G0=null,Ia=null,Na=null;function Fb(n){if(n=Hh(n)){if(typeof G0!="function")throw Error(Ee(280));var e=n.stateNode;e&&(e=Zd(e),G0(n.stateNode,n.type,e))}}function q5(n){Ia?Na?Na.push(n):Na=[n]:Ia=n}function j5(){if(Ia){var n=Ia,e=Na;if(Na=Ia=null,Fb(n),e)for(n=0;n<e.length;n++)Fb(e[n])}}function Q5(n,e){return n(e)}function $5(){}var Vp=!1;function G5(n,e,t){if(Vp)return n(e,t);Vp=!0;try{return Q5(n,e,t)}finally{Vp=!1,(Ia!==null||Na!==null)&&($5(),j5())}}function $c(n,e){var t=n.stateNode;if(t===null)return null;var i=Zd(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ee(231,e,typeof t));return t}var W0=!1;if(Mr)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){W0=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{W0=!1}function ck(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var kc=!1,zf=null,Pf=!1,K0=null,hk={onError:function(n){kc=!0,zf=n}};function uk(n,e,t,i,r,s,o,a,l){kc=!1,zf=null,ck.apply(hk,arguments)}function fk(n,e,t,i,r,s,o,a,l){if(uk.apply(this,arguments),kc){if(kc){var c=zf;kc=!1,zf=null}else throw Error(Ee(198));Pf||(Pf=!0,K0=c)}}function Vo(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function W5(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function yb(n){if(Vo(n)!==n)throw Error(Ee(188))}function dk(n){var e=n.alternate;if(!e){if(e=Vo(n),e===null)throw Error(Ee(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return yb(r),n;if(s===i)return yb(r),e;s=s.sibling}throw Error(Ee(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Ee(189))}}if(t.alternate!==i)throw Error(Ee(190))}if(t.tag!==3)throw Error(Ee(188));return t.stateNode.current===t?n:e}function K5(n){return n=dk(n),n!==null?Y5(n):null}function Y5(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Y5(n);if(e!==null)return e;n=n.sibling}return null}var X5=si.unstable_scheduleCallback,vb=si.unstable_cancelCallback,pk=si.unstable_shouldYield,gk=si.unstable_requestPaint,Ht=si.unstable_now,mk=si.unstable_getCurrentPriorityLevel,i1=si.unstable_ImmediatePriority,Z5=si.unstable_UserBlockingPriority,Of=si.unstable_NormalPriority,wk=si.unstable_LowPriority,J5=si.unstable_IdlePriority,Wd=null,rr=null;function bk(n){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Wd,n,void 0,(n.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:vk,Fk=Math.log,yk=Math.LN2;function vk(n){return n>>>=0,n===0?32:31-(Fk(n)/yk|0)|0}var hu=64,uu=4194304;function Fc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Hf(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Fc(a):(s&=o,s!==0&&(i=Fc(s)))}else o=t&~r,o!==0?i=Fc(o):s!==0&&(i=Fc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Mi(e),r=1<<t,i|=n[t],e&=~r;return i}function Ak(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _k(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Mi(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=Ak(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Y0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function eA(){var n=hu;return hu<<=1,!(hu&4194240)&&(hu=64),n}function qp(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ph(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Mi(e),n[e]=t}function Ck(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Mi(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function r1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Mi(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var dt=0;function tA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var nA,s1,iA,rA,sA,X0=!1,fu=[],Fs=null,ys=null,vs=null,Gc=new Map,Wc=new Map,ss=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ab(n,e){switch(n){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Gc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(e.pointerId)}}function jl(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Hh(e),e!==null&&s1(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function kk(n,e,t,i,r){switch(e){case"focusin":return Fs=jl(Fs,n,e,t,i,r),!0;case"dragenter":return ys=jl(ys,n,e,t,i,r),!0;case"mouseover":return vs=jl(vs,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Gc.set(s,jl(Gc.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Wc.set(s,jl(Wc.get(s)||null,n,e,t,i,r)),!0}return!1}function oA(n){var e=Zs(n.target);if(e!==null){var t=Vo(e);if(t!==null){if(e=t.tag,e===13){if(e=W5(t),e!==null){n.blockedOn=e,sA(n.priority,function(){iA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function of(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Z0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);$0=i,t.target.dispatchEvent(i),$0=null}else return e=Hh(t),e!==null&&s1(e),n.blockedOn=t,!1;e.shift()}return!0}function _b(n,e,t){of(n)&&t.delete(e)}function Ek(){X0=!1,Fs!==null&&of(Fs)&&(Fs=null),ys!==null&&of(ys)&&(ys=null),vs!==null&&of(vs)&&(vs=null),Gc.forEach(_b),Wc.forEach(_b)}function Ql(n,e){n.blockedOn===e&&(n.blockedOn=null,X0||(X0=!0,si.unstable_scheduleCallback(si.unstable_NormalPriority,Ek)))}function Kc(n){function e(r){return Ql(r,n)}if(0<fu.length){Ql(fu[0],n);for(var t=1;t<fu.length;t++){var i=fu[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Fs!==null&&Ql(Fs,n),ys!==null&&Ql(ys,n),vs!==null&&Ql(vs,n),Gc.forEach(e),Wc.forEach(e),t=0;t<ss.length;t++)i=ss[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ss.length&&(t=ss[0],t.blockedOn===null);)oA(t),t.blockedOn===null&&ss.shift()}var Ta=Ur.ReactCurrentBatchConfig,Uf=!0;function Sk(n,e,t,i){var r=dt,s=Ta.transition;Ta.transition=null;try{dt=1,o1(n,e,t,i)}finally{dt=r,Ta.transition=s}}function Ik(n,e,t,i){var r=dt,s=Ta.transition;Ta.transition=null;try{dt=4,o1(n,e,t,i)}finally{dt=r,Ta.transition=s}}function o1(n,e,t,i){if(Uf){var r=Z0(n,e,t,i);if(r===null)Jp(n,e,i,Vf,t),Ab(n,i);else if(kk(r,n,e,t,i))i.stopPropagation();else if(Ab(n,i),e&4&&-1<xk.indexOf(n)){for(;r!==null;){var s=Hh(r);if(s!==null&&nA(s),s=Z0(n,e,t,i),s===null&&Jp(n,e,i,Vf,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Jp(n,e,i,null,t)}}var Vf=null;function Z0(n,e,t,i){if(Vf=null,n=n1(i),n=Zs(n),n!==null)if(e=Vo(n),e===null)n=null;else if(t=e.tag,t===13){if(n=W5(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Vf=n,null}function aA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case i1:return 1;case Z5:return 4;case Of:case wk:return 16;case J5:return 536870912;default:return 16}default:return 16}}var ms=null,a1=null,af=null;function lA(){if(af)return af;var n,e=a1,t=e.length,i,r="value"in ms?ms.value:ms.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return af=r.slice(n,1<i?1-i:void 0)}function lf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function du(){return!0}function Cb(){return!1}function li(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?du:Cb,this.isPropagationStopped=Cb,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l1=li(vl),Oh=Dt({},vl,{view:0,detail:0}),Nk=li(Oh),jp,Qp,$l,Kd=Dt({},Oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$l&&($l&&n.type==="mousemove"?(jp=n.screenX-$l.screenX,Qp=n.screenY-$l.screenY):Qp=jp=0,$l=n),jp)},movementY:function(n){return"movementY"in n?n.movementY:Qp}}),xb=li(Kd),Tk=Dt({},Kd,{dataTransfer:0}),Rk=li(Tk),Mk=Dt({},Oh,{relatedTarget:0}),$p=li(Mk),Bk=Dt({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),Dk=li(Bk),Lk=Dt({},vl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zk=li(Lk),Pk=Dt({},vl,{data:0}),kb=li(Pk),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vk(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Uk[n])?!!e[n]:!1}function c1(){return Vk}var qk=Dt({},Oh,{key:function(n){if(n.key){var e=Ok[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=lf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(n){return n.type==="keypress"?lf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?lf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jk=li(qk),Qk=Dt({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eb=li(Qk),$k=Dt({},Oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),Gk=li($k),Wk=Dt({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kk=li(Wk),Yk=Dt({},Kd,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xk=li(Yk),Zk=[9,13,27,32],h1=Mr&&"CompositionEvent"in window,Ec=null;Mr&&"documentMode"in document&&(Ec=document.documentMode);var Jk=Mr&&"TextEvent"in window&&!Ec,cA=Mr&&(!h1||Ec&&8<Ec&&11>=Ec),Sb=" ",Ib=!1;function hA(n,e){switch(n){case"keyup":return Zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var da=!1;function eE(n,e){switch(n){case"compositionend":return uA(e);case"keypress":return e.which!==32?null:(Ib=!0,Sb);case"textInput":return n=e.data,n===Sb&&Ib?null:n;default:return null}}function tE(n,e){if(da)return n==="compositionend"||!h1&&hA(n,e)?(n=lA(),af=a1=ms=null,da=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cA&&e.locale!=="ko"?null:e.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!nE[n.type]:e==="textarea"}function fA(n,e,t,i){q5(i),e=qf(e,"onChange"),0<e.length&&(t=new l1("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Sc=null,Yc=null;function iE(n){_A(n,0)}function Yd(n){var e=ma(n);if(L5(e))return n}function rE(n,e){if(n==="change")return e}var dA=!1;if(Mr){var Gp;if(Mr){var Wp="oninput"in document;if(!Wp){var Tb=document.createElement("div");Tb.setAttribute("oninput","return;"),Wp=typeof Tb.oninput=="function"}Gp=Wp}else Gp=!1;dA=Gp&&(!document.documentMode||9<document.documentMode)}function Rb(){Sc&&(Sc.detachEvent("onpropertychange",pA),Yc=Sc=null)}function pA(n){if(n.propertyName==="value"&&Yd(Yc)){var e=[];fA(e,Yc,n,n1(n)),G5(iE,e)}}function sE(n,e,t){n==="focusin"?(Rb(),Sc=e,Yc=t,Sc.attachEvent("onpropertychange",pA)):n==="focusout"&&Rb()}function oE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yd(Yc)}function aE(n,e){if(n==="click")return Yd(e)}function lE(n,e){if(n==="input"||n==="change")return Yd(e)}function cE(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Di=typeof Object.is=="function"?Object.is:cE;function Xc(n,e){if(Di(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!B0.call(e,r)||!Di(n[r],e[r]))return!1}return!0}function Mb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bb(n,e){var t=Mb(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Mb(t)}}function gA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?gA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function mA(){for(var n=window,e=Lf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Lf(n.document)}return e}function u1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function hE(n){var e=mA(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&gA(t.ownerDocument.documentElement,t)){if(i!==null&&u1(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Bb(t,s);var o=Bb(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var uE=Mr&&"documentMode"in document&&11>=document.documentMode,pa=null,J0=null,Ic=null,em=!1;function Db(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;em||pa==null||pa!==Lf(i)||(i=pa,"selectionStart"in i&&u1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ic&&Xc(Ic,i)||(Ic=i,i=qf(J0,"onSelect"),0<i.length&&(e=new l1("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=pa)))}function pu(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ga={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},Kp={},wA={};Mr&&(wA=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Xd(n){if(Kp[n])return Kp[n];if(!ga[n])return n;var e=ga[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in wA)return Kp[n]=e[t];return n}var bA=Xd("animationend"),FA=Xd("animationiteration"),yA=Xd("animationstart"),vA=Xd("transitionend"),AA=new Map,Lb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(n,e){AA.set(n,e),Uo(e,[n])}for(var Yp=0;Yp<Lb.length;Yp++){var Xp=Lb[Yp],fE=Xp.toLowerCase(),dE=Xp[0].toUpperCase()+Xp.slice(1);zs(fE,"on"+dE)}zs(bA,"onAnimationEnd");zs(FA,"onAnimationIteration");zs(yA,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(vA,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function zb(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,fk(i,e,void 0,n),n.currentTarget=null}function _A(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;zb(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;zb(r,a,c),s=l}}}if(Pf)throw n=K0,Pf=!1,K0=null,n}function _t(n,e){var t=e[sm];t===void 0&&(t=e[sm]=new Set);var i=n+"__bubble";t.has(i)||(CA(e,n,2,!1),t.add(i))}function Zp(n,e,t){var i=0;e&&(i|=4),CA(t,n,i,e)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Zc(n){if(!n[gu]){n[gu]=!0,T5.forEach(function(t){t!=="selectionchange"&&(pE.has(t)||Zp(t,!1,n),Zp(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[gu]||(e[gu]=!0,Zp("selectionchange",!1,e))}}function CA(n,e,t,i){switch(aA(e)){case 1:var r=Sk;break;case 4:r=Ik;break;default:r=o1}t=r.bind(null,e,t,n),r=void 0,!W0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Jp(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Zs(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}G5(function(){var c=s,h=n1(t),u=[];e:{var f=AA.get(n);if(f!==void 0){var d=l1,p=n;switch(n){case"keypress":if(lf(t)===0)break e;case"keydown":case"keyup":d=jk;break;case"focusin":p="focus",d=$p;break;case"focusout":p="blur",d=$p;break;case"beforeblur":case"afterblur":d=$p;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Rk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Gk;break;case bA:case FA:case yA:d=Dk;break;case vA:d=Kk;break;case"scroll":d=Nk;break;case"wheel":d=Xk;break;case"copy":case"cut":case"paste":d=zk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Eb}var w=(e&4)!==0,F=!w&&n==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,b;m!==null;){b=m;var y=b.stateNode;if(b.tag===5&&y!==null&&(b=y,g!==null&&(y=$c(m,g),y!=null&&w.push(Jc(m,y,b)))),F)break;m=m.return}0<w.length&&(f=new d(f,p,null,t,h),u.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",d=n==="mouseout"||n==="pointerout",f&&t!==$0&&(p=t.relatedTarget||t.fromElement)&&(Zs(p)||p[Br]))break e;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=t.relatedTarget||t.toElement,d=c,p=p?Zs(p):null,p!==null&&(F=Vo(p),p!==F||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=c),d!==p)){if(w=xb,y="onMouseLeave",g="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(w=Eb,y="onPointerLeave",g="onPointerEnter",m="pointer"),F=d==null?f:ma(d),b=p==null?f:ma(p),f=new w(y,m+"leave",d,t,h),f.target=F,f.relatedTarget=b,y=null,Zs(h)===c&&(w=new w(g,m+"enter",p,t,h),w.target=b,w.relatedTarget=F,y=w),F=y,d&&p)t:{for(w=d,g=p,m=0,b=w;b;b=Ko(b))m++;for(b=0,y=g;y;y=Ko(y))b++;for(;0<m-b;)w=Ko(w),m--;for(;0<b-m;)g=Ko(g),b--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ko(w),g=Ko(g)}w=null}else w=null;d!==null&&Pb(u,f,d,w,!1),p!==null&&F!==null&&Pb(u,F,p,w,!0)}}e:{if(f=c?ma(c):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var A=rE;else if(Nb(f))if(dA)A=lE;else{A=oE;var x=sE}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=aE);if(A&&(A=A(n,c))){fA(u,A,t,h);break e}x&&x(n,f,c),n==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&U0(f,"number",f.value)}switch(x=c?ma(c):window,n){case"focusin":(Nb(x)||x.contentEditable==="true")&&(pa=x,J0=c,Ic=null);break;case"focusout":Ic=J0=pa=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,Db(u,t,h);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":Db(u,t,h)}var v;if(h1)e:{switch(n){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else da?hA(n,t)&&(_="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(_="onCompositionStart");_&&(cA&&t.locale!=="ko"&&(da||_!=="onCompositionStart"?_==="onCompositionEnd"&&da&&(v=lA()):(ms=h,a1="value"in ms?ms.value:ms.textContent,da=!0)),x=qf(c,_),0<x.length&&(_=new kb(_,n,null,t,h),u.push({event:_,listeners:x}),v?_.data=v:(v=uA(t),v!==null&&(_.data=v)))),(v=Jk?eE(n,t):tE(n,t))&&(c=qf(c,"onBeforeInput"),0<c.length&&(h=new kb("onBeforeInput","beforeinput",null,t,h),u.push({event:h,listeners:c}),h.data=v))}_A(u,e)})}function Jc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function qf(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=$c(n,t),s!=null&&i.unshift(Jc(n,s,r)),s=$c(n,e),s!=null&&i.push(Jc(n,s,r))),n=n.return}return i}function Ko(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Pb(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=$c(t,s),l!=null&&o.unshift(Jc(t,l,a))):r||(l=$c(t,s),l!=null&&o.push(Jc(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var gE=/\r\n?/g,mE=/\u0000|\uFFFD/g;function Ob(n){return(typeof n=="string"?n:""+n).replace(gE,`
`).replace(mE,"")}function mu(n,e,t){if(e=Ob(e),Ob(n)!==e&&t)throw Error(Ee(425))}function jf(){}var tm=null,nm=null;function im(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rm=typeof setTimeout=="function"?setTimeout:void 0,wE=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(n){return Hb.resolve(null).then(n).catch(FE)}:rm;function FE(n){setTimeout(function(){throw n})}function eg(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Kc(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Kc(e)}function As(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Ub(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Al=Math.random().toString(36).slice(2),Xi="__reactFiber$"+Al,eh="__reactProps$"+Al,Br="__reactContainer$"+Al,sm="__reactEvents$"+Al,yE="__reactListeners$"+Al,vE="__reactHandles$"+Al;function Zs(n){var e=n[Xi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Br]||t[Xi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Ub(n);n!==null;){if(t=n[Xi])return t;n=Ub(n)}return e}n=t,t=n.parentNode}return null}function Hh(n){return n=n[Xi]||n[Br],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ma(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ee(33))}function Zd(n){return n[eh]||null}var om=[],wa=-1;function Ps(n){return{current:n}}function xt(n){0>wa||(n.current=om[wa],om[wa]=null,wa--)}function yt(n,e){wa++,om[wa]=n.current,n.current=e}var Ts={},vn=Ps(Ts),Un=Ps(!1),vo=Ts;function il(n,e){var t=n.type.contextTypes;if(!t)return Ts;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Vn(n){return n=n.childContextTypes,n!=null}function Qf(){xt(Un),xt(vn)}function Vb(n,e,t){if(vn.current!==Ts)throw Error(Ee(168));yt(vn,e),yt(Un,t)}function xA(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ee(108,sk(n)||"Unknown",r));return Dt({},t,i)}function $f(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ts,vo=vn.current,yt(vn,n),yt(Un,Un.current),!0}function qb(n,e,t){var i=n.stateNode;if(!i)throw Error(Ee(169));t?(n=xA(n,e,vo),i.__reactInternalMemoizedMergedChildContext=n,xt(Un),xt(vn),yt(vn,n)):xt(Un),yt(Un,t)}var vr=null,Jd=!1,tg=!1;function kA(n){vr===null?vr=[n]:vr.push(n)}function AE(n){Jd=!0,kA(n)}function Os(){if(!tg&&vr!==null){tg=!0;var n=0,e=dt;try{var t=vr;for(dt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}vr=null,Jd=!1}catch(r){throw vr!==null&&(vr=vr.slice(n+1)),X5(i1,Os),r}finally{dt=e,tg=!1}}return null}var ba=[],Fa=0,Gf=null,Wf=0,pi=[],gi=0,Ao=null,Er=1,Sr="";function Gs(n,e){ba[Fa++]=Wf,ba[Fa++]=Gf,Gf=n,Wf=e}function EA(n,e,t){pi[gi++]=Er,pi[gi++]=Sr,pi[gi++]=Ao,Ao=n;var i=Er;n=Sr;var r=32-Mi(i)-1;i&=~(1<<r),t+=1;var s=32-Mi(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Er=1<<32-Mi(e)+r|t<<r|i,Sr=s+n}else Er=1<<s|t<<r|i,Sr=n}function f1(n){n.return!==null&&(Gs(n,1),EA(n,1,0))}function d1(n){for(;n===Gf;)Gf=ba[--Fa],ba[Fa]=null,Wf=ba[--Fa],ba[Fa]=null;for(;n===Ao;)Ao=pi[--gi],pi[gi]=null,Sr=pi[--gi],pi[gi]=null,Er=pi[--gi],pi[gi]=null}var ni=null,ei=null,It=!1,Ri=null;function SA(n,e){var t=bi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function jb(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ni=n,ei=As(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ni=n,ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ao!==null?{id:Er,overflow:Sr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=bi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ni=n,ei=null,!0):!1;default:return!1}}function am(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lm(n){if(It){var e=ei;if(e){var t=e;if(!jb(n,e)){if(am(n))throw Error(Ee(418));e=As(t.nextSibling);var i=ni;e&&jb(n,e)?SA(i,t):(n.flags=n.flags&-4097|2,It=!1,ni=n)}}else{if(am(n))throw Error(Ee(418));n.flags=n.flags&-4097|2,It=!1,ni=n}}}function Qb(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ni=n}function wu(n){if(n!==ni)return!1;if(!It)return Qb(n),It=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!im(n.type,n.memoizedProps)),e&&(e=ei)){if(am(n))throw IA(),Error(Ee(418));for(;e;)SA(n,e),e=As(e.nextSibling)}if(Qb(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ee(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ei=As(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ei=null}}else ei=ni?As(n.stateNode.nextSibling):null;return!0}function IA(){for(var n=ei;n;)n=As(n.nextSibling)}function rl(){ei=ni=null,It=!1}function p1(n){Ri===null?Ri=[n]:Ri.push(n)}var _E=Ur.ReactCurrentBatchConfig;function Gl(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ee(309));var i=t.stateNode}if(!i)throw Error(Ee(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ee(284));if(!t._owner)throw Error(Ee(290,n))}return n}function bu(n,e){throw n=Object.prototype.toString.call(e),Error(Ee(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function $b(n){var e=n._init;return e(n._payload)}function NA(n){function e(g,m){if(n){var b=g.deletions;b===null?(g.deletions=[m],g.flags|=16):b.push(m)}}function t(g,m){if(!n)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function i(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function r(g,m){return g=ks(g,m),g.index=0,g.sibling=null,g}function s(g,m,b){return g.index=b,n?(b=g.alternate,b!==null?(b=b.index,b<m?(g.flags|=2,m):b):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,m,b,y){return m===null||m.tag!==6?(m=lg(b,g.mode,y),m.return=g,m):(m=r(m,b),m.return=g,m)}function l(g,m,b,y){var A=b.type;return A===fa?h(g,m,b.props.children,y,b.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ts&&$b(A)===m.type)?(y=r(m,b.props),y.ref=Gl(g,m,b),y.return=g,y):(y=gf(b.type,b.key,b.props,null,g.mode,y),y.ref=Gl(g,m,b),y.return=g,y)}function c(g,m,b,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=cg(b,g.mode,y),m.return=g,m):(m=r(m,b.children||[]),m.return=g,m)}function h(g,m,b,y,A){return m===null||m.tag!==7?(m=bo(b,g.mode,y,A),m.return=g,m):(m=r(m,b),m.return=g,m)}function u(g,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=lg(""+m,g.mode,b),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case au:return b=gf(m.type,m.key,m.props,null,g.mode,b),b.ref=Gl(g,null,m),b.return=g,b;case ua:return m=cg(m,g.mode,b),m.return=g,m;case ts:var y=m._init;return u(g,y(m._payload),b)}if(bc(m)||Vl(m))return m=bo(m,g.mode,b,null),m.return=g,m;bu(g,m)}return null}function f(g,m,b,y){var A=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return A!==null?null:a(g,m,""+b,y);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case au:return b.key===A?l(g,m,b,y):null;case ua:return b.key===A?c(g,m,b,y):null;case ts:return A=b._init,f(g,m,A(b._payload),y)}if(bc(b)||Vl(b))return A!==null?null:h(g,m,b,y,null);bu(g,b)}return null}function d(g,m,b,y,A){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(b)||null,a(m,g,""+y,A);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case au:return g=g.get(y.key===null?b:y.key)||null,l(m,g,y,A);case ua:return g=g.get(y.key===null?b:y.key)||null,c(m,g,y,A);case ts:var x=y._init;return d(g,m,b,x(y._payload),A)}if(bc(y)||Vl(y))return g=g.get(b)||null,h(m,g,y,A,null);bu(m,y)}return null}function p(g,m,b,y){for(var A=null,x=null,v=m,_=m=0,k=null;v!==null&&_<b.length;_++){v.index>_?(k=v,v=null):k=v.sibling;var E=f(g,v,b[_],y);if(E===null){v===null&&(v=k);break}n&&v&&E.alternate===null&&e(g,v),m=s(E,m,_),x===null?A=E:x.sibling=E,x=E,v=k}if(_===b.length)return t(g,v),It&&Gs(g,_),A;if(v===null){for(;_<b.length;_++)v=u(g,b[_],y),v!==null&&(m=s(v,m,_),x===null?A=v:x.sibling=v,x=v);return It&&Gs(g,_),A}for(v=i(g,v);_<b.length;_++)k=d(v,g,_,b[_],y),k!==null&&(n&&k.alternate!==null&&v.delete(k.key===null?_:k.key),m=s(k,m,_),x===null?A=k:x.sibling=k,x=k);return n&&v.forEach(function(T){return e(g,T)}),It&&Gs(g,_),A}function w(g,m,b,y){var A=Vl(b);if(typeof A!="function")throw Error(Ee(150));if(b=A.call(b),b==null)throw Error(Ee(151));for(var x=A=null,v=m,_=m=0,k=null,E=b.next();v!==null&&!E.done;_++,E=b.next()){v.index>_?(k=v,v=null):k=v.sibling;var T=f(g,v,E.value,y);if(T===null){v===null&&(v=k);break}n&&v&&T.alternate===null&&e(g,v),m=s(T,m,_),x===null?A=T:x.sibling=T,x=T,v=k}if(E.done)return t(g,v),It&&Gs(g,_),A;if(v===null){for(;!E.done;_++,E=b.next())E=u(g,E.value,y),E!==null&&(m=s(E,m,_),x===null?A=E:x.sibling=E,x=E);return It&&Gs(g,_),A}for(v=i(g,v);!E.done;_++,E=b.next())E=d(v,g,_,E.value,y),E!==null&&(n&&E.alternate!==null&&v.delete(E.key===null?_:E.key),m=s(E,m,_),x===null?A=E:x.sibling=E,x=E);return n&&v.forEach(function(M){return e(g,M)}),It&&Gs(g,_),A}function F(g,m,b,y){if(typeof b=="object"&&b!==null&&b.type===fa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case au:e:{for(var A=b.key,x=m;x!==null;){if(x.key===A){if(A=b.type,A===fa){if(x.tag===7){t(g,x.sibling),m=r(x,b.props.children),m.return=g,g=m;break e}}else if(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ts&&$b(A)===x.type){t(g,x.sibling),m=r(x,b.props),m.ref=Gl(g,x,b),m.return=g,g=m;break e}t(g,x);break}else e(g,x);x=x.sibling}b.type===fa?(m=bo(b.props.children,g.mode,y,b.key),m.return=g,g=m):(y=gf(b.type,b.key,b.props,null,g.mode,y),y.ref=Gl(g,m,b),y.return=g,g=y)}return o(g);case ua:e:{for(x=b.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){t(g,m.sibling),m=r(m,b.children||[]),m.return=g,g=m;break e}else{t(g,m);break}else e(g,m);m=m.sibling}m=cg(b,g.mode,y),m.return=g,g=m}return o(g);case ts:return x=b._init,F(g,m,x(b._payload),y)}if(bc(b))return p(g,m,b,y);if(Vl(b))return w(g,m,b,y);bu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(t(g,m.sibling),m=r(m,b),m.return=g,g=m):(t(g,m),m=lg(b,g.mode,y),m.return=g,g=m),o(g)):t(g,m)}return F}var sl=NA(!0),TA=NA(!1),Kf=Ps(null),Yf=null,ya=null,g1=null;function m1(){g1=ya=Yf=null}function w1(n){var e=Kf.current;xt(Kf),n._currentValue=e}function cm(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Ra(n,e){Yf=n,g1=ya=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(On=!0),n.firstContext=null)}function yi(n){var e=n._currentValue;if(g1!==n)if(n={context:n,memoizedValue:e,next:null},ya===null){if(Yf===null)throw Error(Ee(308));ya=n,Yf.dependencies={lanes:0,firstContext:n}}else ya=ya.next=n;return e}var Js=null;function b1(n){Js===null?Js=[n]:Js.push(n)}function RA(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,b1(e)):(t.next=r.next,r.next=t),e.interleaved=t,Dr(n,i)}function Dr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ns=!1;function F1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Nr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ot&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Dr(n,t)}return r=i.interleaved,r===null?(e.next=e,b1(i)):(e.next=r.next,r.next=e),i.interleaved=e,Dr(n,t)}function cf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,r1(n,t)}}function Gb(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Xf(n,e,t,i){var r=n.updateQueue;ns=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var u=r.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=n,w=a;switch(f=e,d=t,w.tag){case 1:if(p=w.payload,typeof p=="function"){u=p.call(d,u,f);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,f=typeof p=="function"?p.call(d,u,f):p,f==null)break e;u=Dt({},u,f);break e;case 2:ns=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=d,l=u):h=h.next=d,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Co|=o,n.lanes=o,n.memoizedState=u}}function Wb(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ee(191,r));r.call(i)}}}var Uh={},sr=Ps(Uh),th=Ps(Uh),nh=Ps(Uh);function eo(n){if(n===Uh)throw Error(Ee(174));return n}function y1(n,e){switch(yt(nh,e),yt(th,n),yt(sr,Uh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:q0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=q0(e,n)}xt(sr),yt(sr,e)}function ol(){xt(sr),xt(th),xt(nh)}function BA(n){eo(nh.current);var e=eo(sr.current),t=q0(e,n.type);e!==t&&(yt(th,n),yt(sr,t))}function v1(n){th.current===n&&(xt(sr),xt(th))}var Tt=Ps(0);function Zf(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ng=[];function A1(){for(var n=0;n<ng.length;n++)ng[n]._workInProgressVersionPrimary=null;ng.length=0}var hf=Ur.ReactCurrentDispatcher,ig=Ur.ReactCurrentBatchConfig,_o=0,Rt=null,Wt=null,tn=null,Jf=!1,Nc=!1,ih=0,CE=0;function mn(){throw Error(Ee(321))}function _1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Di(n[t],e[t]))return!1;return!0}function C1(n,e,t,i,r,s){if(_o=s,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hf.current=n===null||n.memoizedState===null?SE:IE,n=t(i,r),Nc){s=0;do{if(Nc=!1,ih=0,25<=s)throw Error(Ee(301));s+=1,tn=Wt=null,e.updateQueue=null,hf.current=NE,n=t(i,r)}while(Nc)}if(hf.current=ed,e=Wt!==null&&Wt.next!==null,_o=0,tn=Wt=Rt=null,Jf=!1,e)throw Error(Ee(300));return n}function x1(){var n=ih!==0;return ih=0,n}function $i(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Rt.memoizedState=tn=n:tn=tn.next=n,tn}function vi(){if(Wt===null){var n=Rt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var e=tn===null?Rt.memoizedState:tn.next;if(e!==null)tn=e,Wt=n;else{if(n===null)throw Error(Ee(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},tn===null?Rt.memoizedState=tn=n:tn=tn.next=n}return tn}function rh(n,e){return typeof e=="function"?e(n):e}function rg(n){var e=vi(),t=e.queue;if(t===null)throw Error(Ee(311));t.lastRenderedReducer=n;var i=Wt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((_o&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var u={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=i):l=l.next=u,Rt.lanes|=h,Co|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Di(i,e.memoizedState)||(On=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Rt.lanes|=s,Co|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function sg(n){var e=vi(),t=e.queue;if(t===null)throw Error(Ee(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Di(s,e.memoizedState)||(On=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function DA(){}function LA(n,e){var t=Rt,i=vi(),r=e(),s=!Di(i.memoizedState,r);if(s&&(i.memoizedState=r,On=!0),i=i.queue,k1(OA.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||tn!==null&&tn.memoizedState.tag&1){if(t.flags|=2048,sh(9,PA.bind(null,t,i,r,e),void 0,null),sn===null)throw Error(Ee(349));_o&30||zA(t,e,r)}return r}function zA(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function PA(n,e,t,i){e.value=t,e.getSnapshot=i,HA(e)&&UA(n)}function OA(n,e,t){return t(function(){HA(e)&&UA(n)})}function HA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Di(n,t)}catch{return!0}}function UA(n){var e=Dr(n,1);e!==null&&Bi(e,n,1,-1)}function Kb(n){var e=$i();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:n},e.queue=n,n=n.dispatch=EE.bind(null,Rt,n),[e.memoizedState,n]}function sh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function VA(){return vi().memoizedState}function uf(n,e,t,i){var r=$i();Rt.flags|=n,r.memoizedState=sh(1|e,t,void 0,i===void 0?null:i)}function ep(n,e,t,i){var r=vi();i=i===void 0?null:i;var s=void 0;if(Wt!==null){var o=Wt.memoizedState;if(s=o.destroy,i!==null&&_1(i,o.deps)){r.memoizedState=sh(e,t,s,i);return}}Rt.flags|=n,r.memoizedState=sh(1|e,t,s,i)}function Yb(n,e){return uf(8390656,8,n,e)}function k1(n,e){return ep(2048,8,n,e)}function qA(n,e){return ep(4,2,n,e)}function jA(n,e){return ep(4,4,n,e)}function QA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function $A(n,e,t){return t=t!=null?t.concat([n]):null,ep(4,4,QA.bind(null,e,n),t)}function E1(){}function GA(n,e){var t=vi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&_1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function WA(n,e){var t=vi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&_1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function KA(n,e,t){return _o&21?(Di(t,e)||(t=eA(),Rt.lanes|=t,Co|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,On=!0),n.memoizedState=t)}function xE(n,e){var t=dt;dt=t!==0&&4>t?t:4,n(!0);var i=ig.transition;ig.transition={};try{n(!1),e()}finally{dt=t,ig.transition=i}}function YA(){return vi().memoizedState}function kE(n,e,t){var i=xs(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},XA(n))ZA(e,t);else if(t=RA(n,e,t,i),t!==null){var r=In();Bi(t,n,i,r),JA(t,e,i)}}function EE(n,e,t){var i=xs(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(XA(n))ZA(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Di(a,o)){var l=e.interleaved;l===null?(r.next=r,b1(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=RA(n,e,r,i),t!==null&&(r=In(),Bi(t,n,i,r),JA(t,e,i))}}function XA(n){var e=n.alternate;return n===Rt||e!==null&&e===Rt}function ZA(n,e){Nc=Jf=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function JA(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,r1(n,t)}}var ed={readContext:yi,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},SE={readContext:yi,useCallback:function(n,e){return $i().memoizedState=[n,e===void 0?null:e],n},useContext:yi,useEffect:Yb,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,uf(4194308,4,QA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return uf(4194308,4,n,e)},useInsertionEffect:function(n,e){return uf(4,2,n,e)},useMemo:function(n,e){var t=$i();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=$i();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=kE.bind(null,Rt,n),[i.memoizedState,n]},useRef:function(n){var e=$i();return n={current:n},e.memoizedState=n},useState:Kb,useDebugValue:E1,useDeferredValue:function(n){return $i().memoizedState=n},useTransition:function(){var n=Kb(!1),e=n[0];return n=xE.bind(null,n[1]),$i().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Rt,r=$i();if(It){if(t===void 0)throw Error(Ee(407));t=t()}else{if(t=e(),sn===null)throw Error(Ee(349));_o&30||zA(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Yb(OA.bind(null,i,s,n),[n]),i.flags|=2048,sh(9,PA.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=$i(),e=sn.identifierPrefix;if(It){var t=Sr,i=Er;t=(i&~(1<<32-Mi(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=ih++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=CE++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},IE={readContext:yi,useCallback:GA,useContext:yi,useEffect:k1,useImperativeHandle:$A,useInsertionEffect:qA,useLayoutEffect:jA,useMemo:WA,useReducer:rg,useRef:VA,useState:function(){return rg(rh)},useDebugValue:E1,useDeferredValue:function(n){var e=vi();return KA(e,Wt.memoizedState,n)},useTransition:function(){var n=rg(rh)[0],e=vi().memoizedState;return[n,e]},useMutableSource:DA,useSyncExternalStore:LA,useId:YA,unstable_isNewReconciler:!1},NE={readContext:yi,useCallback:GA,useContext:yi,useEffect:k1,useImperativeHandle:$A,useInsertionEffect:qA,useLayoutEffect:jA,useMemo:WA,useReducer:sg,useRef:VA,useState:function(){return sg(rh)},useDebugValue:E1,useDeferredValue:function(n){var e=vi();return Wt===null?e.memoizedState=n:KA(e,Wt.memoizedState,n)},useTransition:function(){var n=sg(rh)[0],e=vi().memoizedState;return[n,e]},useMutableSource:DA,useSyncExternalStore:LA,useId:YA,unstable_isNewReconciler:!1};function Si(n,e){if(n&&n.defaultProps){e=Dt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function hm(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Dt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var tp={isMounted:function(n){return(n=n._reactInternals)?Vo(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=In(),r=xs(n),s=Nr(i,r);s.payload=e,t!=null&&(s.callback=t),e=_s(n,s,r),e!==null&&(Bi(e,n,r,i),cf(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=In(),r=xs(n),s=Nr(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=_s(n,s,r),e!==null&&(Bi(e,n,r,i),cf(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=In(),i=xs(n),r=Nr(t,i);r.tag=2,e!=null&&(r.callback=e),e=_s(n,r,i),e!==null&&(Bi(e,n,i,t),cf(e,n,i))}};function Xb(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xc(t,i)||!Xc(r,s):!0}function e_(n,e,t){var i=!1,r=Ts,s=e.contextType;return typeof s=="object"&&s!==null?s=yi(s):(r=Vn(e)?vo:vn.current,i=e.contextTypes,s=(i=i!=null)?il(n,r):Ts),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tp,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Zb(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&tp.enqueueReplaceState(e,e.state,null)}function um(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},F1(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=yi(s):(s=Vn(e)?vo:vn.current,r.context=il(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hm(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&tp.enqueueReplaceState(r,r.state,null),Xf(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function al(n,e){try{var t="",i=e;do t+=rk(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function og(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function fm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var TE=typeof WeakMap=="function"?WeakMap:Map;function t_(n,e,t){t=Nr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){nd||(nd=!0,Am=i),fm(n,e)},t}function n_(n,e,t){t=Nr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){fm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){fm(n,e),typeof i!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Jb(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new TE;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=QE.bind(null,n,e,t),e.then(n,n))}function eF(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function tF(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Nr(-1,1),e.tag=2,_s(t,e,1))),t.lanes|=1),n)}var RE=Ur.ReactCurrentOwner,On=!1;function En(n,e,t,i){e.child=n===null?TA(e,null,t,i):sl(e,n.child,t,i)}function nF(n,e,t,i,r){t=t.render;var s=e.ref;return Ra(e,r),i=C1(n,e,t,i,s,r),t=x1(),n!==null&&!On?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Lr(n,e,r)):(It&&t&&f1(e),e.flags|=1,En(n,e,i,r),e.child)}function iF(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!D1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,i_(n,e,s,i,r)):(n=gf(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Xc,t(o,i)&&n.ref===e.ref)return Lr(n,e,r)}return e.flags|=1,n=ks(s,i),n.ref=e.ref,n.return=e,e.child=n}function i_(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Xc(s,i)&&n.ref===e.ref)if(On=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(On=!0);else return e.lanes=n.lanes,Lr(n,e,r)}return dm(n,e,t,i,r)}function r_(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Aa,Zn),Zn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,yt(Aa,Zn),Zn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,yt(Aa,Zn),Zn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,yt(Aa,Zn),Zn|=i;return En(n,e,r,t),e.child}function s_(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function dm(n,e,t,i,r){var s=Vn(t)?vo:vn.current;return s=il(e,s),Ra(e,r),t=C1(n,e,t,i,s,r),i=x1(),n!==null&&!On?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Lr(n,e,r)):(It&&i&&f1(e),e.flags|=1,En(n,e,t,r),e.child)}function rF(n,e,t,i,r){if(Vn(t)){var s=!0;$f(e)}else s=!1;if(Ra(e,r),e.stateNode===null)ff(n,e),e_(e,t,i),um(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=yi(c):(c=Vn(t)?vo:vn.current,c=il(e,c));var h=t.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Zb(e,o,i,c),ns=!1;var f=e.memoizedState;o.state=f,Xf(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Un.current||ns?(typeof h=="function"&&(hm(e,t,h,i),l=e.memoizedState),(a=ns||Xb(e,t,a,i,f,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,MA(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Si(e.type,a),o.props=c,u=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=yi(l):(l=Vn(t)?vo:vn.current,l=il(e,l));var d=t.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==l)&&Zb(e,o,i,l),ns=!1,f=e.memoizedState,o.state=f,Xf(e,i,o,r);var p=e.memoizedState;a!==u||f!==p||Un.current||ns?(typeof d=="function"&&(hm(e,t,d,i),p=e.memoizedState),(c=ns||Xb(e,t,c,i,f,p,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return pm(n,e,t,i,s,r)}function pm(n,e,t,i,r,s){s_(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&qb(e,t,!1),Lr(n,e,s);i=e.stateNode,RE.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=sl(e,n.child,null,s),e.child=sl(e,null,a,s)):En(n,e,a,s),e.memoizedState=i.state,r&&qb(e,t,!0),e.child}function o_(n){var e=n.stateNode;e.pendingContext?Vb(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Vb(n,e.context,!1),y1(n,e.containerInfo)}function sF(n,e,t,i,r){return rl(),p1(r),e.flags|=256,En(n,e,t,i),e.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function mm(n){return{baseLanes:n,cachePool:null,transitions:null}}function a_(n,e,t){var i=e.pendingProps,r=Tt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),yt(Tt,r&1),n===null)return lm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rp(o,i,0,null),n=bo(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=mm(t),e.memoizedState=gm,n):S1(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ME(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ks(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ks(a,s):(s=bo(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?mm(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=gm,i}return s=n.child,n=s.sibling,i=ks(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function S1(n,e){return e=rp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Fu(n,e,t,i){return i!==null&&p1(i),sl(e,n.child,null,t),n=S1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ME(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=og(Error(Ee(422))),Fu(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=rp({mode:"visible",children:i.children},r,0,null),s=bo(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&sl(e,n.child,null,o),e.child.memoizedState=mm(o),e.memoizedState=gm,s);if(!(e.mode&1))return Fu(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ee(419)),i=og(s,i,void 0),Fu(n,e,o,i)}if(a=(o&n.childLanes)!==0,On||a){if(i=sn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Dr(n,r),Bi(i,n,r,-1))}return B1(),i=og(Error(Ee(421))),Fu(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=$E.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ei=As(r.nextSibling),ni=e,It=!0,Ri=null,n!==null&&(pi[gi++]=Er,pi[gi++]=Sr,pi[gi++]=Ao,Er=n.id,Sr=n.overflow,Ao=e),e=S1(e,i.children),e.flags|=4096,e)}function oF(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),cm(n.return,e,t)}function ag(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function l_(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(En(n,e,i.children,t),i=Tt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&oF(n,t,e);else if(n.tag===19)oF(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(yt(Tt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Zf(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),ag(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Zf(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}ag(e,!0,t,null,s);break;case"together":ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ff(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Lr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Co|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ee(153));if(e.child!==null){for(n=e.child,t=ks(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ks(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function BE(n,e,t){switch(e.tag){case 3:o_(e),rl();break;case 5:BA(e);break;case 1:Vn(e.type)&&$f(e);break;case 4:y1(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;yt(Kf,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(yt(Tt,Tt.current&1),e.flags|=128,null):t&e.child.childLanes?a_(n,e,t):(yt(Tt,Tt.current&1),n=Lr(n,e,t),n!==null?n.sibling:null);yt(Tt,Tt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return l_(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),yt(Tt,Tt.current),i)break;return null;case 22:case 23:return e.lanes=0,r_(n,e,t)}return Lr(n,e,t)}var c_,wm,h_,u_;c_=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};wm=function(){};h_=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,eo(sr.current);var s=null;switch(t){case"input":r=O0(n,r),i=O0(n,i),s=[];break;case"select":r=Dt({},r,{value:void 0}),i=Dt({},i,{value:void 0}),s=[];break;case"textarea":r=V0(n,r),i=V0(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=jf)}j0(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};u_=function(n,e,t,i){t!==i&&(e.flags|=4)};function Wl(n,e){if(!It)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function wn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function DE(n,e,t){var i=e.pendingProps;switch(d1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return Vn(e.type)&&Qf(),wn(e),null;case 3:return i=e.stateNode,ol(),xt(Un),xt(vn),A1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(wu(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ri!==null&&(xm(Ri),Ri=null))),wm(n,e),wn(e),null;case 5:v1(e);var r=eo(nh.current);if(t=e.type,n!==null&&e.stateNode!=null)h_(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ee(166));return wn(e),null}if(n=eo(sr.current),wu(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Xi]=e,i[eh]=s,n=(e.mode&1)!==0,t){case"dialog":_t("cancel",i),_t("close",i);break;case"iframe":case"object":case"embed":_t("load",i);break;case"video":case"audio":for(r=0;r<yc.length;r++)_t(yc[r],i);break;case"source":_t("error",i);break;case"img":case"image":case"link":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"input":gb(i,s),_t("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},_t("invalid",i);break;case"textarea":wb(i,s),_t("invalid",i)}j0(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&mu(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&mu(i.textContent,a,n),r=["children",""+a]):jc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_t("scroll",i)}switch(t){case"input":lu(i),mb(i,s,!0);break;case"textarea":lu(i),bb(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=jf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=O5(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Xi]=e,n[eh]=i,c_(n,e,!1,!1),e.stateNode=n;e:{switch(o=Q0(t,i),t){case"dialog":_t("cancel",n),_t("close",n),r=i;break;case"iframe":case"object":case"embed":_t("load",n),r=i;break;case"video":case"audio":for(r=0;r<yc.length;r++)_t(yc[r],n);r=i;break;case"source":_t("error",n),r=i;break;case"img":case"image":case"link":_t("error",n),_t("load",n),r=i;break;case"details":_t("toggle",n),r=i;break;case"input":gb(n,i),r=O0(n,i),_t("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Dt({},i,{value:void 0}),_t("invalid",n);break;case"textarea":wb(n,i),r=V0(n,i),_t("invalid",n);break;default:r=i}j0(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?V5(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&H5(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Qc(n,l):typeof l=="number"&&Qc(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_t("scroll",n):l!=null&&Z2(n,s,l,o))}switch(t){case"input":lu(n),mb(n,i,!1);break;case"textarea":lu(n),bb(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ns(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Sa(n,!!i.multiple,s,!1):i.defaultValue!=null&&Sa(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=jf)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(n&&e.stateNode!=null)u_(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ee(166));if(t=eo(nh.current),eo(sr.current),wu(e)){if(i=e.stateNode,t=e.memoizedProps,i[Xi]=e,(s=i.nodeValue!==t)&&(n=ni,n!==null))switch(n.tag){case 3:mu(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&mu(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Xi]=e,e.stateNode=i}return wn(e),null;case 13:if(xt(Tt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(It&&ei!==null&&e.mode&1&&!(e.flags&128))IA(),rl(),e.flags|=98560,s=!1;else if(s=wu(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ee(317));s[Xi]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wn(e),s=!1}else Ri!==null&&(xm(Ri),Ri=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Tt.current&1?Yt===0&&(Yt=3):B1())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return ol(),wm(n,e),n===null&&Zc(e.stateNode.containerInfo),wn(e),null;case 10:return w1(e.type._context),wn(e),null;case 17:return Vn(e.type)&&Qf(),wn(e),null;case 19:if(xt(Tt),s=e.memoizedState,s===null)return wn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Wl(s,!1);else{if(Yt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Zf(n),o!==null){for(e.flags|=128,Wl(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return yt(Tt,Tt.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ht()>ll&&(e.flags|=128,i=!0,Wl(s,!1),e.lanes=4194304)}else{if(!i)if(n=Zf(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Wl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!It)return wn(e),null}else 2*Ht()-s.renderingStartTime>ll&&t!==1073741824&&(e.flags|=128,i=!0,Wl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,t=Tt.current,yt(Tt,i?t&1|2:t&1),e):(wn(e),null);case 22:case 23:return M1(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Zn&1073741824&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function LE(n,e){switch(d1(e),e.tag){case 1:return Vn(e.type)&&Qf(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return ol(),xt(Un),xt(vn),A1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return v1(e),null;case 13:if(xt(Tt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));rl()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return xt(Tt),null;case 4:return ol(),null;case 10:return w1(e.type._context),null;case 22:case 23:return M1(),null;case 24:return null;default:return null}}var yu=!1,Fn=!1,zE=typeof WeakSet=="function"?WeakSet:Set,De=null;function va(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Pt(n,e,i)}else t.current=null}function bm(n,e,t){try{t()}catch(i){Pt(n,e,i)}}var aF=!1;function PE(n,e){if(tm=Uf,n=mA(),u1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,u=n,f=null;t:for(;;){for(var d;u!==t||r!==0&&u.nodeType!==3||(a=o+r),u!==s||i!==0&&u.nodeType!==3||(l=o+i),u.nodeType===3&&(o+=u.nodeValue.length),(d=u.firstChild)!==null;)f=u,u=d;for(;;){if(u===n)break t;if(f===t&&++c===r&&(a=o),f===s&&++h===i&&(l=o),(d=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=d}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(nm={focusedElem:n,selectionRange:t},Uf=!1,De=e;De!==null;)if(e=De,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,De=n;else for(;De!==null;){e=De;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,F=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Si(e.type,w),F);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(y){Pt(e,e.return,y)}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}return p=aF,aF=!1,p}function Tc(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&bm(e,t,s)}r=r.next}while(r!==i)}}function np(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Fm(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function f_(n){var e=n.alternate;e!==null&&(n.alternate=null,f_(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Xi],delete e[eh],delete e[sm],delete e[yE],delete e[vE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function d_(n){return n.tag===5||n.tag===3||n.tag===4}function lF(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||d_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ym(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=jf));else if(i!==4&&(n=n.child,n!==null))for(ym(n,e,t),n=n.sibling;n!==null;)ym(n,e,t),n=n.sibling}function vm(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(vm(n,e,t),n=n.sibling;n!==null;)vm(n,e,t),n=n.sibling}var ln=null,Ti=!1;function Gr(n,e,t){for(t=t.child;t!==null;)p_(n,e,t),t=t.sibling}function p_(n,e,t){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Wd,t)}catch{}switch(t.tag){case 5:Fn||va(t,e);case 6:var i=ln,r=Ti;ln=null,Gr(n,e,t),ln=i,Ti=r,ln!==null&&(Ti?(n=ln,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ln.removeChild(t.stateNode));break;case 18:ln!==null&&(Ti?(n=ln,t=t.stateNode,n.nodeType===8?eg(n.parentNode,t):n.nodeType===1&&eg(n,t),Kc(n)):eg(ln,t.stateNode));break;case 4:i=ln,r=Ti,ln=t.stateNode.containerInfo,Ti=!0,Gr(n,e,t),ln=i,Ti=r;break;case 0:case 11:case 14:case 15:if(!Fn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bm(t,e,o),r=r.next}while(r!==i)}Gr(n,e,t);break;case 1:if(!Fn&&(va(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Pt(t,e,a)}Gr(n,e,t);break;case 21:Gr(n,e,t);break;case 22:t.mode&1?(Fn=(i=Fn)||t.memoizedState!==null,Gr(n,e,t),Fn=i):Gr(n,e,t);break;default:Gr(n,e,t)}}function cF(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new zE),e.forEach(function(i){var r=GE.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ki(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ln=a.stateNode,Ti=!1;break e;case 3:ln=a.stateNode.containerInfo,Ti=!0;break e;case 4:ln=a.stateNode.containerInfo,Ti=!0;break e}a=a.return}if(ln===null)throw Error(Ee(160));p_(s,o,r),ln=null,Ti=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Pt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g_(e,n),e=e.sibling}function g_(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ki(e,n),Vi(n),i&4){try{Tc(3,n,n.return),np(3,n)}catch(w){Pt(n,n.return,w)}try{Tc(5,n,n.return)}catch(w){Pt(n,n.return,w)}}break;case 1:ki(e,n),Vi(n),i&512&&t!==null&&va(t,t.return);break;case 5:if(ki(e,n),Vi(n),i&512&&t!==null&&va(t,t.return),n.flags&32){var r=n.stateNode;try{Qc(r,"")}catch(w){Pt(n,n.return,w)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&z5(r,s),Q0(a,o);var c=Q0(a,s);for(o=0;o<l.length;o+=2){var h=l[o],u=l[o+1];h==="style"?V5(r,u):h==="dangerouslySetInnerHTML"?H5(r,u):h==="children"?Qc(r,u):Z2(r,h,u,c)}switch(a){case"input":H0(r,s);break;case"textarea":P5(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Sa(r,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Sa(r,!!s.multiple,s.defaultValue,!0):Sa(r,!!s.multiple,s.multiple?[]:"",!1))}r[eh]=s}catch(w){Pt(n,n.return,w)}}break;case 6:if(ki(e,n),Vi(n),i&4){if(n.stateNode===null)throw Error(Ee(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(w){Pt(n,n.return,w)}}break;case 3:if(ki(e,n),Vi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Kc(e.containerInfo)}catch(w){Pt(n,n.return,w)}break;case 4:ki(e,n),Vi(n);break;case 13:ki(e,n),Vi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(T1=Ht())),i&4&&cF(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Fn=(c=Fn)||h,ki(e,n),Fn=c):ki(e,n),Vi(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(De=n,h=n.child;h!==null;){for(u=De=h;De!==null;){switch(f=De,d=f.child,f.tag){case 0:case 11:case 14:case 15:Tc(4,f,f.return);break;case 1:va(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(w){Pt(i,t,w)}}break;case 5:va(f,f.return);break;case 22:if(f.memoizedState!==null){uF(u);continue}}d!==null?(d.return=f,De=d):uF(u)}h=h.sibling}e:for(h=null,u=n;;){if(u.tag===5){if(h===null){h=u;try{r=u.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=U5("display",o))}catch(w){Pt(n,n.return,w)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(w){Pt(n,n.return,w)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===n)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ki(e,n),Vi(n),i&4&&cF(n);break;case 21:break;default:ki(e,n),Vi(n)}}function Vi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(d_(t)){var i=t;break e}t=t.return}throw Error(Ee(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Qc(r,""),i.flags&=-33);var s=lF(n);vm(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=lF(n);ym(n,a,o);break;default:throw Error(Ee(161))}}catch(l){Pt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function OE(n,e,t){De=n,m_(n)}function m_(n,e,t){for(var i=(n.mode&1)!==0;De!==null;){var r=De,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||yu;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Fn;a=yu;var c=Fn;if(yu=o,(Fn=l)&&!c)for(De=r;De!==null;)o=De,l=o.child,o.tag===22&&o.memoizedState!==null?fF(r):l!==null?(l.return=o,De=l):fF(r);for(;s!==null;)De=s,m_(s),s=s.sibling;De=r,yu=a,Fn=c}hF(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,De=s):hF(n)}}function hF(n){for(;De!==null;){var e=De;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||np(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Fn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Si(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Wb(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Wb(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Kc(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Fn||e.flags&512&&Fm(e)}catch(f){Pt(e,e.return,f)}}if(e===n){De=null;break}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function uF(n){for(;De!==null;){var e=De;if(e===n){De=null;break}var t=e.sibling;if(t!==null){t.return=e.return,De=t;break}De=e.return}}function fF(n){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{np(4,e)}catch(l){Pt(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Pt(e,r,l)}}var s=e.return;try{Fm(e)}catch(l){Pt(e,s,l)}break;case 5:var o=e.return;try{Fm(e)}catch(l){Pt(e,o,l)}}}catch(l){Pt(e,e.return,l)}if(e===n){De=null;break}var a=e.sibling;if(a!==null){a.return=e.return,De=a;break}De=e.return}}var HE=Math.ceil,td=Ur.ReactCurrentDispatcher,I1=Ur.ReactCurrentOwner,Fi=Ur.ReactCurrentBatchConfig,ot=0,sn=null,qt=null,un=0,Zn=0,Aa=Ps(0),Yt=0,oh=null,Co=0,ip=0,N1=0,Rc=null,Ln=null,T1=0,ll=1/0,yr=null,nd=!1,Am=null,Cs=null,vu=!1,ws=null,id=0,Mc=0,_m=null,df=-1,pf=0;function In(){return ot&6?Ht():df!==-1?df:df=Ht()}function xs(n){return n.mode&1?ot&2&&un!==0?un&-un:_E.transition!==null?(pf===0&&(pf=eA()),pf):(n=dt,n!==0||(n=window.event,n=n===void 0?16:aA(n.type)),n):1}function Bi(n,e,t,i){if(50<Mc)throw Mc=0,_m=null,Error(Ee(185));Ph(n,t,i),(!(ot&2)||n!==sn)&&(n===sn&&(!(ot&2)&&(ip|=t),Yt===4&&os(n,un)),qn(n,i),t===1&&ot===0&&!(e.mode&1)&&(ll=Ht()+500,Jd&&Os()))}function qn(n,e){var t=n.callbackNode;_k(n,e);var i=Hf(n,n===sn?un:0);if(i===0)t!==null&&vb(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&vb(t),e===1)n.tag===0?AE(dF.bind(null,n)):kA(dF.bind(null,n)),bE(function(){!(ot&6)&&Os()}),t=null;else{switch(tA(i)){case 1:t=i1;break;case 4:t=Z5;break;case 16:t=Of;break;case 536870912:t=J5;break;default:t=Of}t=C_(t,w_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function w_(n,e){if(df=-1,pf=0,ot&6)throw Error(Ee(327));var t=n.callbackNode;if(Ma()&&n.callbackNode!==t)return null;var i=Hf(n,n===sn?un:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=rd(n,i);else{e=i;var r=ot;ot|=2;var s=F_();(sn!==n||un!==e)&&(yr=null,ll=Ht()+500,wo(n,e));do try{qE();break}catch(a){b_(n,a)}while(!0);m1(),td.current=s,ot=r,qt!==null?e=0:(sn=null,un=0,e=Yt)}if(e!==0){if(e===2&&(r=Y0(n),r!==0&&(i=r,e=Cm(n,r))),e===1)throw t=oh,wo(n,0),os(n,i),qn(n,Ht()),t;if(e===6)os(n,i);else{if(r=n.current.alternate,!(i&30)&&!UE(r)&&(e=rd(n,i),e===2&&(s=Y0(n),s!==0&&(i=s,e=Cm(n,s))),e===1))throw t=oh,wo(n,0),os(n,i),qn(n,Ht()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ee(345));case 2:Ws(n,Ln,yr);break;case 3:if(os(n,i),(i&130023424)===i&&(e=T1+500-Ht(),10<e)){if(Hf(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){In(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=rm(Ws.bind(null,n,Ln,yr),e);break}Ws(n,Ln,yr);break;case 4:if(os(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Mi(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ht()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*HE(i/1960))-i,10<i){n.timeoutHandle=rm(Ws.bind(null,n,Ln,yr),i);break}Ws(n,Ln,yr);break;case 5:Ws(n,Ln,yr);break;default:throw Error(Ee(329))}}}return qn(n,Ht()),n.callbackNode===t?w_.bind(null,n):null}function Cm(n,e){var t=Rc;return n.current.memoizedState.isDehydrated&&(wo(n,e).flags|=256),n=rd(n,e),n!==2&&(e=Ln,Ln=t,e!==null&&xm(e)),n}function xm(n){Ln===null?Ln=n:Ln.push.apply(Ln,n)}function UE(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Di(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function os(n,e){for(e&=~N1,e&=~ip,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Mi(e),i=1<<t;n[t]=-1,e&=~i}}function dF(n){if(ot&6)throw Error(Ee(327));Ma();var e=Hf(n,0);if(!(e&1))return qn(n,Ht()),null;var t=rd(n,e);if(n.tag!==0&&t===2){var i=Y0(n);i!==0&&(e=i,t=Cm(n,i))}if(t===1)throw t=oh,wo(n,0),os(n,e),qn(n,Ht()),t;if(t===6)throw Error(Ee(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ws(n,Ln,yr),qn(n,Ht()),null}function R1(n,e){var t=ot;ot|=1;try{return n(e)}finally{ot=t,ot===0&&(ll=Ht()+500,Jd&&Os())}}function xo(n){ws!==null&&ws.tag===0&&!(ot&6)&&Ma();var e=ot;ot|=1;var t=Fi.transition,i=dt;try{if(Fi.transition=null,dt=1,n)return n()}finally{dt=i,Fi.transition=t,ot=e,!(ot&6)&&Os()}}function M1(){Zn=Aa.current,xt(Aa)}function wo(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,wE(t)),qt!==null)for(t=qt.return;t!==null;){var i=t;switch(d1(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Qf();break;case 3:ol(),xt(Un),xt(vn),A1();break;case 5:v1(i);break;case 4:ol();break;case 13:xt(Tt);break;case 19:xt(Tt);break;case 10:w1(i.type._context);break;case 22:case 23:M1()}t=t.return}if(sn=n,qt=n=ks(n.current,null),un=Zn=e,Yt=0,oh=null,N1=ip=Co=0,Ln=Rc=null,Js!==null){for(e=0;e<Js.length;e++)if(t=Js[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Js=null}return n}function b_(n,e){do{var t=qt;try{if(m1(),hf.current=ed,Jf){for(var i=Rt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Jf=!1}if(_o=0,tn=Wt=Rt=null,Nc=!1,ih=0,I1.current=null,t===null||t.return===null){Yt=1,oh=e,qt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=un,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=eF(o);if(d!==null){d.flags&=-257,tF(d,o,a,s,e),d.mode&1&&Jb(s,c,e),e=d,l=c;var p=e.updateQueue;if(p===null){var w=new Set;w.add(l),e.updateQueue=w}else p.add(l);break e}else{if(!(e&1)){Jb(s,c,e),B1();break e}l=Error(Ee(426))}}else if(It&&a.mode&1){var F=eF(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),tF(F,o,a,s,e),p1(al(l,a));break e}}s=l=al(l,a),Yt!==4&&(Yt=2),Rc===null?Rc=[s]:Rc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=t_(s,l,e);Gb(s,g);break e;case 1:a=l;var m=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Cs===null||!Cs.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=n_(s,a,e);Gb(s,y);break e}}s=s.return}while(s!==null)}v_(t)}catch(A){e=A,qt===t&&t!==null&&(qt=t=t.return);continue}break}while(!0)}function F_(){var n=td.current;return td.current=ed,n===null?ed:n}function B1(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),sn===null||!(Co&268435455)&&!(ip&268435455)||os(sn,un)}function rd(n,e){var t=ot;ot|=2;var i=F_();(sn!==n||un!==e)&&(yr=null,wo(n,e));do try{VE();break}catch(r){b_(n,r)}while(!0);if(m1(),ot=t,td.current=i,qt!==null)throw Error(Ee(261));return sn=null,un=0,Yt}function VE(){for(;qt!==null;)y_(qt)}function qE(){for(;qt!==null&&!pk();)y_(qt)}function y_(n){var e=__(n.alternate,n,Zn);n.memoizedProps=n.pendingProps,e===null?v_(n):qt=e,I1.current=null}function v_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=LE(t,e),t!==null){t.flags&=32767,qt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yt=6,qt=null;return}}else if(t=DE(t,e,Zn),t!==null){qt=t;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=n}while(e!==null);Yt===0&&(Yt=5)}function Ws(n,e,t){var i=dt,r=Fi.transition;try{Fi.transition=null,dt=1,jE(n,e,t,i)}finally{Fi.transition=r,dt=i}return null}function jE(n,e,t,i){do Ma();while(ws!==null);if(ot&6)throw Error(Ee(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ee(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Ck(n,s),n===sn&&(qt=sn=null,un=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||vu||(vu=!0,C_(Of,function(){return Ma(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Fi.transition,Fi.transition=null;var o=dt;dt=1;var a=ot;ot|=4,I1.current=null,PE(n,t),g_(t,n),hE(nm),Uf=!!tm,nm=tm=null,n.current=t,OE(t),gk(),ot=a,dt=o,Fi.transition=s}else n.current=t;if(vu&&(vu=!1,ws=n,id=r),s=n.pendingLanes,s===0&&(Cs=null),bk(t.stateNode),qn(n,Ht()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(nd)throw nd=!1,n=Am,Am=null,n;return id&1&&n.tag!==0&&Ma(),s=n.pendingLanes,s&1?n===_m?Mc++:(Mc=0,_m=n):Mc=0,Os(),null}function Ma(){if(ws!==null){var n=tA(id),e=Fi.transition,t=dt;try{if(Fi.transition=null,dt=16>n?16:n,ws===null)var i=!1;else{if(n=ws,ws=null,id=0,ot&6)throw Error(Ee(331));var r=ot;for(ot|=4,De=n.current;De!==null;){var s=De,o=s.child;if(De.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(De=c;De!==null;){var h=De;switch(h.tag){case 0:case 11:case 15:Tc(8,h,s)}var u=h.child;if(u!==null)u.return=h,De=u;else for(;De!==null;){h=De;var f=h.sibling,d=h.return;if(f_(h),h===c){De=null;break}if(f!==null){f.return=d,De=f;break}De=d}}}var p=s.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var F=w.sibling;w.sibling=null,w=F}while(w!==null)}}De=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,De=o;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,De=g;break e}De=s.return}}var m=n.current;for(De=m;De!==null;){o=De;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,De=b;else e:for(o=m;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:np(9,a)}}catch(A){Pt(a,a.return,A)}if(a===o){De=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,De=y;break e}De=a.return}}if(ot=r,Os(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Wd,n)}catch{}i=!0}return i}finally{dt=t,Fi.transition=e}}return!1}function pF(n,e,t){e=al(t,e),e=t_(n,e,1),n=_s(n,e,1),e=In(),n!==null&&(Ph(n,1,e),qn(n,e))}function Pt(n,e,t){if(n.tag===3)pF(n,n,t);else for(;e!==null;){if(e.tag===3){pF(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cs===null||!Cs.has(i))){n=al(t,n),n=n_(e,n,1),e=_s(e,n,1),n=In(),e!==null&&(Ph(e,1,n),qn(e,n));break}}e=e.return}}function QE(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=In(),n.pingedLanes|=n.suspendedLanes&t,sn===n&&(un&t)===t&&(Yt===4||Yt===3&&(un&130023424)===un&&500>Ht()-T1?wo(n,0):N1|=t),qn(n,e)}function A_(n,e){e===0&&(n.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var t=In();n=Dr(n,e),n!==null&&(Ph(n,e,t),qn(n,t))}function $E(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),A_(n,t)}function GE(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ee(314))}i!==null&&i.delete(e),A_(n,t)}var __;__=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Un.current)On=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return On=!1,BE(n,e,t);On=!!(n.flags&131072)}else On=!1,It&&e.flags&1048576&&EA(e,Wf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ff(n,e),n=e.pendingProps;var r=il(e,vn.current);Ra(e,t),r=C1(null,e,i,n,r,t);var s=x1();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(i)?(s=!0,$f(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,F1(e),r.updater=tp,e.stateNode=r,r._reactInternals=e,um(e,i,n,t),e=pm(null,e,i,!0,s,t)):(e.tag=0,It&&s&&f1(e),En(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(ff(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=KE(i),n=Si(i,n),r){case 0:e=dm(null,e,i,n,t);break e;case 1:e=rF(null,e,i,n,t);break e;case 11:e=nF(null,e,i,n,t);break e;case 14:e=iF(null,e,i,Si(i.type,n),t);break e}throw Error(Ee(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Si(i,r),dm(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Si(i,r),rF(n,e,i,r,t);case 3:e:{if(o_(e),n===null)throw Error(Ee(387));i=e.pendingProps,s=e.memoizedState,r=s.element,MA(n,e),Xf(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=al(Error(Ee(423)),e),e=sF(n,e,i,t,r);break e}else if(i!==r){r=al(Error(Ee(424)),e),e=sF(n,e,i,t,r);break e}else for(ei=As(e.stateNode.containerInfo.firstChild),ni=e,It=!0,Ri=null,t=TA(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(rl(),i===r){e=Lr(n,e,t);break e}En(n,e,i,t)}e=e.child}return e;case 5:return BA(e),n===null&&lm(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,im(i,r)?o=null:s!==null&&im(i,s)&&(e.flags|=32),s_(n,e),En(n,e,o,t),e.child;case 6:return n===null&&lm(e),null;case 13:return a_(n,e,t);case 4:return y1(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=sl(e,null,i,t):En(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Si(i,r),nF(n,e,i,r,t);case 7:return En(n,e,e.pendingProps,t),e.child;case 8:return En(n,e,e.pendingProps.children,t),e.child;case 12:return En(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,yt(Kf,i._currentValue),i._currentValue=o,s!==null)if(Di(s.value,o)){if(s.children===r.children&&!Un.current){e=Lr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Nr(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),cm(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ee(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),cm(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}En(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ra(e,t),r=yi(r),i=i(r),e.flags|=1,En(n,e,i,t),e.child;case 14:return i=e.type,r=Si(i,e.pendingProps),r=Si(i.type,r),iF(n,e,i,r,t);case 15:return i_(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Si(i,r),ff(n,e),e.tag=1,Vn(i)?(n=!0,$f(e)):n=!1,Ra(e,t),e_(e,i,r),um(e,i,r,t),pm(null,e,i,!0,n,t);case 19:return l_(n,e,t);case 22:return r_(n,e,t)}throw Error(Ee(156,e.tag))};function C_(n,e){return X5(n,e)}function WE(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(n,e,t,i){return new WE(n,e,t,i)}function D1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function KE(n){if(typeof n=="function")return D1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===e1)return 11;if(n===t1)return 14}return 2}function ks(n,e){var t=n.alternate;return t===null?(t=bi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function gf(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")D1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case fa:return bo(t.children,r,s,e);case J2:o=8,r|=8;break;case D0:return n=bi(12,t,e,r|2),n.elementType=D0,n.lanes=s,n;case L0:return n=bi(13,t,e,r),n.elementType=L0,n.lanes=s,n;case z0:return n=bi(19,t,e,r),n.elementType=z0,n.lanes=s,n;case B5:return rp(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R5:o=10;break e;case M5:o=9;break e;case e1:o=11;break e;case t1:o=14;break e;case ts:o=16,i=null;break e}throw Error(Ee(130,n==null?n:typeof n,""))}return e=bi(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function bo(n,e,t,i){return n=bi(7,n,i,e),n.lanes=t,n}function rp(n,e,t,i){return n=bi(22,n,i,e),n.elementType=B5,n.lanes=t,n.stateNode={isHidden:!1},n}function lg(n,e,t){return n=bi(6,n,null,e),n.lanes=t,n}function cg(n,e,t){return e=bi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function YE(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qp(0),this.expirationTimes=qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qp(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function L1(n,e,t,i,r,s,o,a,l){return n=new YE(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},F1(s),n}function XE(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function x_(n){if(!n)return Ts;n=n._reactInternals;e:{if(Vo(n)!==n||n.tag!==1)throw Error(Ee(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(n.tag===1){var t=n.type;if(Vn(t))return xA(n,t,e)}return e}function k_(n,e,t,i,r,s,o,a,l){return n=L1(t,i,!0,n,r,s,o,a,l),n.context=x_(null),t=n.current,i=In(),r=xs(t),s=Nr(i,r),s.callback=e??null,_s(t,s,r),n.current.lanes=r,Ph(n,r,i),qn(n,i),n}function sp(n,e,t,i){var r=e.current,s=In(),o=xs(r);return t=x_(t),e.context===null?e.context=t:e.pendingContext=t,e=Nr(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=_s(r,e,o),n!==null&&(Bi(n,r,o,s),cf(n,r,o)),o}function sd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function gF(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function z1(n,e){gF(n,e),(n=n.alternate)&&gF(n,e)}function ZE(){return null}var E_=typeof reportError=="function"?reportError:function(n){console.error(n)};function P1(n){this._internalRoot=n}op.prototype.render=P1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ee(409));sp(n,e,null,null)};op.prototype.unmount=P1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;xo(function(){sp(null,n,null,null)}),e[Br]=null}};function op(n){this._internalRoot=n}op.prototype.unstable_scheduleHydration=function(n){if(n){var e=rA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ss.length&&e!==0&&e<ss[t].priority;t++);ss.splice(t,0,n),t===0&&oA(n)}};function O1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ap(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function mF(){}function JE(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=sd(o);s.call(c)}}var o=k_(e,i,n,0,null,!1,!1,"",mF);return n._reactRootContainer=o,n[Br]=o.current,Zc(n.nodeType===8?n.parentNode:n),xo(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=sd(l);a.call(c)}}var l=L1(n,0,!1,null,null,!1,!1,"",mF);return n._reactRootContainer=l,n[Br]=l.current,Zc(n.nodeType===8?n.parentNode:n),xo(function(){sp(e,l,t,i)}),l}function lp(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=sd(o);a.call(l)}}sp(e,o,n,r)}else o=JE(t,e,n,r,i);return sd(o)}nA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Fc(e.pendingLanes);t!==0&&(r1(e,t|1),qn(e,Ht()),!(ot&6)&&(ll=Ht()+500,Os()))}break;case 13:xo(function(){var i=Dr(n,1);if(i!==null){var r=In();Bi(i,n,1,r)}}),z1(n,1)}};s1=function(n){if(n.tag===13){var e=Dr(n,134217728);if(e!==null){var t=In();Bi(e,n,134217728,t)}z1(n,134217728)}};iA=function(n){if(n.tag===13){var e=xs(n),t=Dr(n,e);if(t!==null){var i=In();Bi(t,n,e,i)}z1(n,e)}};rA=function(){return dt};sA=function(n,e){var t=dt;try{return dt=n,e()}finally{dt=t}};G0=function(n,e,t){switch(e){case"input":if(H0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Zd(i);if(!r)throw Error(Ee(90));L5(i),H0(i,r)}}}break;case"textarea":P5(n,t);break;case"select":e=t.value,e!=null&&Sa(n,!!t.multiple,e,!1)}};Q5=R1;$5=xo;var eS={usingClientEntryPoint:!1,Events:[Hh,ma,Zd,q5,j5,R1]},Kl={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tS={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=K5(n),n===null?null:n.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||ZE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Wd=Au.inject(tS),rr=Au}catch{}}ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eS;ai.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O1(e))throw Error(Ee(200));return XE(n,e,null,t)};ai.createRoot=function(n,e){if(!O1(n))throw Error(Ee(299));var t=!1,i="",r=E_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=L1(n,1,!1,null,null,t,!1,i,r),n[Br]=e.current,Zc(n.nodeType===8?n.parentNode:n),new P1(e)};ai.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ee(188)):(n=Object.keys(n).join(","),Error(Ee(268,n)));return n=K5(e),n=n===null?null:n.stateNode,n};ai.flushSync=function(n){return xo(n)};ai.hydrate=function(n,e,t){if(!ap(e))throw Error(Ee(200));return lp(null,n,e,!0,t)};ai.hydrateRoot=function(n,e,t){if(!O1(n))throw Error(Ee(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=E_;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=k_(e,null,n,1,t??null,r,!1,s,o),n[Br]=e.current,Zc(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new op(e)};ai.render=function(n,e,t){if(!ap(e))throw Error(Ee(200));return lp(null,n,e,!1,t)};ai.unmountComponentAtNode=function(n){if(!ap(n))throw Error(Ee(40));return n._reactRootContainer?(xo(function(){lp(null,null,n,!1,function(){n._reactRootContainer=null,n[Br]=null})}),!0):!1};ai.unstable_batchedUpdates=R1;ai.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!ap(t))throw Error(Ee(200));if(n==null||n._reactInternals===void 0)throw Error(Ee(38));return lp(n,e,t,!1,i)};ai.version="18.3.1-next-f1338f8080-20240426";function S_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S_)}catch(n){console.error(n)}}S_(),S5.exports=ai;var _l=S5.exports;const nS=m5(_l);var I_,wF=_l;I_=wF.createRoot,wF.hydrateRoot;function Ce(n){return N_("div",n)}function N_(n,e){const t=document.createElement(n);return e&&(e.class&&t.classList.add(e.class),e.id&&(t.id=e.id),e.style&&rS(t,e.style)),t}function Xt(n){const e=getComputedStyle(n);e.display!=="none"&&(n._initialDisplay=e.display),n.style.display="none"}function Vh(n){if(getComputedStyle(n).display==="none"){const t=n._initialDisplay||"block";n.style.display=t}}function ah(n){if(n.type.startsWith("touch")){const e=n.touches[0];return{x:e.pageX,y:e.pageY}}else return{x:n.pageX,y:n.pageY}}const iS=(n,e)=>{const{x:t,y:i,width:r,height:s}=n.getBoundingClientRect(),{x:o,y:a,width:l,height:c}=e.getBoundingClientRect();return{x:o-t,y:a-i,width:l,height:c}};function rS(n,e){for(let t of Object.keys(e))n.style[t]=e[t]}function nn(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}let sS=(n,{clientX:e,clientY:t})=>{const{left:i,top:r,width:s,height:o}=n.getBoundingClientRect(),a=e-i,l=t-r;return{x:a,y:l,xNormalized:a/s,yNormalized:l/o,width:s,height:o}};function Zt(n,e){const{clientX:t,clientY:i}=n;return sS(e,{clientX:t,clientY:i})}class oS{constructor(){this.elem=N_("div",{class:"igv-ui-panel-column"})}add(e){if(e instanceof Node)this.elem.append(e);else if(typeof e=="object")this.elem.append(e.elem);else{const t=Ce();t.innerHTML=e,this.elem.append(t),this.html=t}}}function aS(n,e){const t=Ce({class:"igv-ui-trackgear-popover-check-container"}),i=T_("check",e===!0?"#444":"transparent");i.style.borderColor="gray",i.style.borderWidth="1px",i.style.borderStyle="solid",t.appendChild(i);let r=Ce();return r.textContent=n,t.appendChild(r),t}function zr(n,e){return T_(n,e)}function T_(n,e){e=e||"currentColor";let t=bF[n];t||(console.error(`No icon named: ${n}`),t=bF.question);const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"viewBox","0 0 "+t[0]+" "+t[1]);const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttributeNS(null,"fill",e),r.setAttributeNS(null,"d",t[4]),i.appendChild(r),i}const bF={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};function qo(n,e){var t=document.createElement("div");n.appendChild(t),t.appendChild(zr("times")),t.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation(),e()})}let di;function Vr(n,e,t){e.addEventListener("mousedown",i.bind(n));function i(r){r.stopPropagation(),r.preventDefault();const s=lS.bind(this),o=cS.bind(this),a=getComputedStyle(this),l=this.getBoundingClientRect();di={constraint:t,dragFunction:s,dragEndFunction:o,screenX:r.screenX,screenY:r.screenY,minDy:-l.top,minDx:-l.left,top:parseInt(a.top.replace("px","")),left:parseInt(a.left.replace("px",""))},document.addEventListener("mousemove",s),document.addEventListener("mouseup",o),document.addEventListener("mouseleave",o),document.addEventListener("mouseexit",o)}}function lS(n){if(!di){console.error("No drag data!");return}n.stopPropagation(),n.preventDefault();const e=Math.max(di.minDx,n.screenX-di.screenX),t=Math.max(di.minDy,n.screenY-di.screenY),i=di.left+e,r=di.top+t;this.style.left=`${i}px`,this.style.top=`${r}px`}function cS(n){if(!di){console.error("No drag data!");return}n.stopPropagation(),n.preventDefault();const e=di.dragFunction,t=di.dragEndFunction;document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),document.removeEventListener("mouseleave",t),document.removeEventListener("mouseexit",t),di=void 0}class hS{constructor({parent:e,label:t,content:i,okHandler:r,cancelHandler:s}){this.parent=e;const o=()=>{Xt(this.elem),typeof s=="function"&&s(this)};this.elem=Ce(),this.elem.classList.add("igv-ui-generic-dialog-container","igv-ui-center-fixed");const a=Ce({class:"igv-ui-generic-dialog-header"});if(this.elem.appendChild(a),qo(a,o),t){const c=Ce({class:"igv-ui-dialog-one-liner"});this.elem.appendChild(c),c.innerHTML=t}i.elem.style.margin="16px",this.elem.appendChild(i.elem),this.content=i;const l=Ce({class:"igv-ui-generic-dialog-ok-cancel"});this.elem.appendChild(l),this.ok=Ce(),l.appendChild(this.ok),this.ok.textContent="OK",this.cancel=Ce(),l.appendChild(this.cancel),this.cancel.textContent="Cancel",this.callback=void 0,this.ok.addEventListener("click",c=>{Xt(this.elem),typeof r=="function"?r(this):this.callback&&typeof this.callback=="function"&&this.callback(this)}),this.cancel.addEventListener("click",o),Vr(this.elem,a),this.elem.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation()})}present(e,t){if(e.label&&this.label&&(this.label.textContent=e.label),e.html){const i=this.content.html;i.innerHTML=e.html}if(e.text){const i=this.content.html;i.innerText=e.text}e.value&&this.input&&(this.input.value=e.value),e.callback&&(this.callback=e.callback),Vh(this.elem)}clampLocation(e,t){let i=this.elem.getBoundingClientRect(),r=this.parent.getBoundingClientRect();const s=Math.min(Math.max(t,r.y),r.y+r.height-i.height),o=Math.min(Math.max(e,r.x),r.x+r.width-i.width);this.elem.style.left=o+"px",this.elem.style.top=s+"px"}}/*!
 * jQuery JavaScript Library v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */var ko=[],ft=window.document,uS=Object.getPrototypeOf,Fo=ko.slice,R_=ko.concat,H1=ko.push,od=ko.indexOf,cp={},M_=cp.toString,ad=cp.hasOwnProperty,B_=ad.toString,fS=B_.call(Object),Mt={},ut=function(e){return typeof e=="function"&&typeof e.nodeType!="number"},cl=function(e){return e!=null&&e===e.window},dS={type:!0,src:!0,noModule:!0};function D_(n,e,t){e=e||ft;var i,r=e.createElement("script");if(r.text=n,t)for(i in dS)t[i]&&(r[i]=t[i]);e.head.appendChild(r).parentNode.removeChild(r)}function Cl(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?cp[M_.call(n)]||"object":typeof n}var L_="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",P=function(n,e){return new P.fn.init(n,e)},pS=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;P.fn=P.prototype={jquery:L_,constructor:P,length:0,toArray:function(){return Fo.call(this)},get:function(n){return n==null?Fo.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var e=P.merge(this.constructor(),n);return e.prevObject=this,e},each:function(n){return P.each(this,n)},map:function(n){return this.pushStack(P.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(Fo.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var e=this.length,t=+n+(n<0?e:0);return this.pushStack(t>=0&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:H1,sort:ko.sort,splice:ko.splice};P.extend=P.fn.extend=function(){var n,e,t,i,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[a]||{},a++),typeof o!="object"&&!ut(o)&&(o={}),a===l&&(o=this,a--);a<l;a++)if((n=arguments[a])!=null)for(e in n)t=o[e],i=n[e],o!==i&&(c&&i&&(P.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,s=t&&Array.isArray(t)?t:[]):s=t&&P.isPlainObject(t)?t:{},o[e]=P.extend(c,s,i)):i!==void 0&&(o[e]=i));return o};P.extend({expando:"jQuery"+(L_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n)},noop:function(){},isPlainObject:function(n){var e,t;return!n||M_.call(n)!=="[object Object]"?!1:(e=uS(n),e?(t=ad.call(e,"constructor")&&e.constructor,typeof t=="function"&&B_.call(t)===fS):!0)},isEmptyObject:function(n){var e;for(e in n)return!1;return!0},globalEval:function(n){D_(n)},each:function(n,e){var t,i=0;if(hg(n))for(t=n.length;i<t&&e.call(n[i],i,n[i])!==!1;i++);else for(i in n)if(e.call(n[i],i,n[i])===!1)break;return n},trim:function(n){return n==null?"":(n+"").replace(pS,"")},makeArray:function(n,e){var t=e||[];return n!=null&&(hg(Object(n))?P.merge(t,typeof n=="string"?[n]:n):H1.call(t,n)),t},inArray:function(n,e,t){return e==null?-1:od.call(e,n,t)},merge:function(n,e){for(var t=+e.length,i=0,r=n.length;i<t;i++)n[r++]=e[i];return n.length=r,n},grep:function(n,e,t){for(var i,r=[],s=0,o=n.length,a=!t;s<o;s++)i=!e(n[s],s),i!==a&&r.push(n[s]);return r},map:function(n,e,t){var i,r,s=0,o=[];if(hg(n))for(i=n.length;s<i;s++)r=e(n[s],s,t),r!=null&&o.push(r);else for(s in n)r=e(n[s],s,t),r!=null&&o.push(r);return R_.apply([],o)},guid:1,support:Mt});typeof Symbol=="function"&&(P.fn[Symbol.iterator]=ko[Symbol.iterator]);P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,e){cp["[object "+e+"]"]=e.toLowerCase()});function hg(n){var e=!!n&&"length"in n&&n.length,t=Cl(n);return ut(n)||cl(n)?!1:t==="array"||e===0||typeof e=="number"&&e>0&&e-1 in n}var jo=function(n){var e,t,i,r,s,o,a,l,c,h,u,f,d,p,w,F,g,m,b,y="sizzle"+1*new Date,A=n.document,x=0,v=0,_=z(),k=z(),E=z(),T=function(j,X){return j===X&&(u=!0),0},M={}.hasOwnProperty,N=[],C=N.pop,B=N.push,I=N.push,H=N.slice,L=function(j,X){for(var ae=0,be=j.length;ae<be;ae++)if(j[ae]===X)return ae;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$="[\\x20\\t\\r\\n\\f]",Q="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",te="\\["+$+"*("+Q+")(?:"+$+"*([*^$|!~]?=)"+$+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Q+"))|)"+$+"*\\]",U=":("+Q+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+te+")*)|.*)\\)|)",G=new RegExp($+"+","g"),ne=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g"),J=new RegExp("^"+$+"*,"+$+"*"),Z=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),ye=new RegExp("="+$+`*([^\\]'"]*?)`+$+"*\\]","g"),V=new RegExp(U),ee=new RegExp("^"+Q+"$"),R={ID:new RegExp("^#("+Q+")"),CLASS:new RegExp("^\\.("+Q+")"),TAG:new RegExp("^("+Q+"|[*])"),ATTR:new RegExp("^"+te),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,q=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,le=/[+~]/,ue=new RegExp("\\\\([\\da-f]{1,6}"+$+"?|("+$+")|.)","ig"),de=function(j,X,ae){var be="0x"+X-65536;return be!==be||ae?X:be<0?String.fromCharCode(be+65536):String.fromCharCode(be>>10|55296,be&1023|56320)},fe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ae=function(j,X){return X?j==="\0"?"�":j.slice(0,-1)+"\\"+j.charCodeAt(j.length-1).toString(16)+" ":"\\"+j},Ne=function(){f()},S=xi(function(j){return j.disabled===!0&&("form"in j||"label"in j)},{dir:"parentNode",next:"legend"});try{I.apply(N=H.call(A.childNodes),A.childNodes),N[A.childNodes.length].nodeType}catch{I={apply:N.length?function(X,ae){B.apply(X,H.call(ae))}:function(X,ae){for(var be=X.length,ce=0;X[be++]=ae[ce++];);X.length=be-1}}}function D(j,X,ae,be){var ce,_e,xe,Ie,Te,Ve,Oe,Le=X&&X.ownerDocument,Ye=X?X.nodeType:9;if(ae=ae||[],typeof j!="string"||!j||Ye!==1&&Ye!==9&&Ye!==11)return ae;if(!be&&((X?X.ownerDocument||X:A)!==d&&f(X),X=X||d,w)){if(Ye!==11&&(Te=ge.exec(j)))if(ce=Te[1]){if(Ye===9)if(xe=X.getElementById(ce)){if(xe.id===ce)return ae.push(xe),ae}else return ae;else if(Le&&(xe=Le.getElementById(ce))&&b(X,xe)&&xe.id===ce)return ae.push(xe),ae}else{if(Te[2])return I.apply(ae,X.getElementsByTagName(j)),ae;if((ce=Te[3])&&t.getElementsByClassName&&X.getElementsByClassName)return I.apply(ae,X.getElementsByClassName(ce)),ae}if(t.qsa&&!E[j+" "]&&(!F||!F.test(j))){if(Ye!==1)Le=X,Oe=j;else if(X.nodeName.toLowerCase()!=="object"){for((Ie=X.getAttribute("id"))?Ie=Ie.replace(fe,Ae):X.setAttribute("id",Ie=y),Ve=o(j),_e=Ve.length;_e--;)Ve[_e]="#"+Ie+" "+Qt(Ve[_e]);Oe=Ve.join(","),Le=le.test(j)&&Ke(X.parentNode)||X}if(Oe)try{return I.apply(ae,Le.querySelectorAll(Oe)),ae}catch{}finally{Ie===y&&X.removeAttribute("id")}}}return l(j.replace(ne,"$1"),X,ae,be)}function z(){var j=[];function X(ae,be){return j.push(ae+" ")>i.cacheLength&&delete X[j.shift()],X[ae+" "]=be}return X}function K(j){return j[y]=!0,j}function re(j){var X=d.createElement("fieldset");try{return!!j(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function oe(j,X){var ae=X&&j,be=ae&&j.nodeType===1&&X.nodeType===1&&j.sourceIndex-X.sourceIndex;if(be)return be;if(ae){for(;ae=ae.nextSibling;)if(ae===X)return-1}return j?1:-1}function Fe(j){return function(X){var ae=X.nodeName.toLowerCase();return ae==="input"&&X.type===j}}function je(j){return function(X){var ae=X.nodeName.toLowerCase();return(ae==="input"||ae==="button")&&X.type===j}}function We(j){return function(X){return"form"in X?X.parentNode&&X.disabled===!1?"label"in X?"label"in X.parentNode?X.parentNode.disabled===j:X.disabled===j:X.isDisabled===j||X.isDisabled!==!j&&S(X)===j:X.disabled===j:"label"in X?X.disabled===j:!1}}function rt(j){return K(function(X){return X=+X,K(function(ae,be){for(var ce,_e=j([],ae.length,X),xe=_e.length;xe--;)ae[ce=_e[xe]]&&(ae[ce]=!(be[ce]=ae[ce]))})})}function Ke(j){return j&&typeof j.getElementsByTagName<"u"&&j}t=D.support={},s=D.isXML=function(j){var X=j&&(j.ownerDocument||j).documentElement;return X?X.nodeName!=="HTML":!1},f=D.setDocument=function(j){var X,ae,be=j?j.ownerDocument||j:A;return be===d||be.nodeType!==9||!be.documentElement||(d=be,p=d.documentElement,w=!s(d),A!==d&&(ae=d.defaultView)&&ae.top!==ae&&(ae.addEventListener?ae.addEventListener("unload",Ne,!1):ae.attachEvent&&ae.attachEvent("onunload",Ne)),t.attributes=re(function(ce){return ce.className="i",!ce.getAttribute("className")}),t.getElementsByTagName=re(function(ce){return ce.appendChild(d.createComment("")),!ce.getElementsByTagName("*").length}),t.getElementsByClassName=q.test(d.getElementsByClassName),t.getById=re(function(ce){return p.appendChild(ce).id=y,!d.getElementsByName||!d.getElementsByName(y).length}),t.getById?(i.filter.ID=function(ce){var _e=ce.replace(ue,de);return function(xe){return xe.getAttribute("id")===_e}},i.find.ID=function(ce,_e){if(typeof _e.getElementById<"u"&&w){var xe=_e.getElementById(ce);return xe?[xe]:[]}}):(i.filter.ID=function(ce){var _e=ce.replace(ue,de);return function(xe){var Ie=typeof xe.getAttributeNode<"u"&&xe.getAttributeNode("id");return Ie&&Ie.value===_e}},i.find.ID=function(ce,_e){if(typeof _e.getElementById<"u"&&w){var xe,Ie,Te,Ve=_e.getElementById(ce);if(Ve){if(xe=Ve.getAttributeNode("id"),xe&&xe.value===ce)return[Ve];for(Te=_e.getElementsByName(ce),Ie=0;Ve=Te[Ie++];)if(xe=Ve.getAttributeNode("id"),xe&&xe.value===ce)return[Ve]}return[]}}),i.find.TAG=t.getElementsByTagName?function(ce,_e){if(typeof _e.getElementsByTagName<"u")return _e.getElementsByTagName(ce);if(t.qsa)return _e.querySelectorAll(ce)}:function(ce,_e){var xe,Ie=[],Te=0,Ve=_e.getElementsByTagName(ce);if(ce==="*"){for(;xe=Ve[Te++];)xe.nodeType===1&&Ie.push(xe);return Ie}return Ve},i.find.CLASS=t.getElementsByClassName&&function(ce,_e){if(typeof _e.getElementsByClassName<"u"&&w)return _e.getElementsByClassName(ce)},g=[],F=[],(t.qsa=q.test(d.querySelectorAll))&&(re(function(ce){p.appendChild(ce).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",ce.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+$+`*(?:''|"")`),ce.querySelectorAll("[selected]").length||F.push("\\["+$+"*(?:value|"+O+")"),ce.querySelectorAll("[id~="+y+"-]").length||F.push("~="),ce.querySelectorAll(":checked").length||F.push(":checked"),ce.querySelectorAll("a#"+y+"+*").length||F.push(".#.+[+~]")}),re(function(ce){ce.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var _e=d.createElement("input");_e.setAttribute("type","hidden"),ce.appendChild(_e).setAttribute("name","D"),ce.querySelectorAll("[name=d]").length&&F.push("name"+$+"*[*^$|!~]?="),ce.querySelectorAll(":enabled").length!==2&&F.push(":enabled",":disabled"),p.appendChild(ce).disabled=!0,ce.querySelectorAll(":disabled").length!==2&&F.push(":enabled",":disabled"),ce.querySelectorAll("*,:x"),F.push(",.*:")})),(t.matchesSelector=q.test(m=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&re(function(ce){t.disconnectedMatch=m.call(ce,"*"),m.call(ce,"[s!='']:x"),g.push("!=",U)}),F=F.length&&new RegExp(F.join("|")),g=g.length&&new RegExp(g.join("|")),X=q.test(p.compareDocumentPosition),b=X||q.test(p.contains)?function(ce,_e){var xe=ce.nodeType===9?ce.documentElement:ce,Ie=_e&&_e.parentNode;return ce===Ie||!!(Ie&&Ie.nodeType===1&&(xe.contains?xe.contains(Ie):ce.compareDocumentPosition&&ce.compareDocumentPosition(Ie)&16))}:function(ce,_e){if(_e){for(;_e=_e.parentNode;)if(_e===ce)return!0}return!1},T=X?function(ce,_e){if(ce===_e)return u=!0,0;var xe=!ce.compareDocumentPosition-!_e.compareDocumentPosition;return xe||(xe=(ce.ownerDocument||ce)===(_e.ownerDocument||_e)?ce.compareDocumentPosition(_e):1,xe&1||!t.sortDetached&&_e.compareDocumentPosition(ce)===xe?ce===d||ce.ownerDocument===A&&b(A,ce)?-1:_e===d||_e.ownerDocument===A&&b(A,_e)?1:h?L(h,ce)-L(h,_e):0:xe&4?-1:1)}:function(ce,_e){if(ce===_e)return u=!0,0;var xe,Ie=0,Te=ce.parentNode,Ve=_e.parentNode,Oe=[ce],Le=[_e];if(!Te||!Ve)return ce===d?-1:_e===d?1:Te?-1:Ve?1:h?L(h,ce)-L(h,_e):0;if(Te===Ve)return oe(ce,_e);for(xe=ce;xe=xe.parentNode;)Oe.unshift(xe);for(xe=_e;xe=xe.parentNode;)Le.unshift(xe);for(;Oe[Ie]===Le[Ie];)Ie++;return Ie?oe(Oe[Ie],Le[Ie]):Oe[Ie]===A?-1:Le[Ie]===A?1:0}),d},D.matches=function(j,X){return D(j,null,null,X)},D.matchesSelector=function(j,X){if((j.ownerDocument||j)!==d&&f(j),X=X.replace(ye,"='$1']"),t.matchesSelector&&w&&!E[X+" "]&&(!g||!g.test(X))&&(!F||!F.test(X)))try{var ae=m.call(j,X);if(ae||t.disconnectedMatch||j.document&&j.document.nodeType!==11)return ae}catch{}return D(X,d,null,[j]).length>0},D.contains=function(j,X){return(j.ownerDocument||j)!==d&&f(j),b(j,X)},D.attr=function(j,X){(j.ownerDocument||j)!==d&&f(j);var ae=i.attrHandle[X.toLowerCase()],be=ae&&M.call(i.attrHandle,X.toLowerCase())?ae(j,X,!w):void 0;return be!==void 0?be:t.attributes||!w?j.getAttribute(X):(be=j.getAttributeNode(X))&&be.specified?be.value:null},D.escape=function(j){return(j+"").replace(fe,Ae)},D.error=function(j){throw new Error("Syntax error, unrecognized expression: "+j)},D.uniqueSort=function(j){var X,ae=[],be=0,ce=0;if(u=!t.detectDuplicates,h=!t.sortStable&&j.slice(0),j.sort(T),u){for(;X=j[ce++];)X===j[ce]&&(be=ae.push(ce));for(;be--;)j.splice(ae[be],1)}return h=null,j},r=D.getText=function(j){var X,ae="",be=0,ce=j.nodeType;if(ce){if(ce===1||ce===9||ce===11){if(typeof j.textContent=="string")return j.textContent;for(j=j.firstChild;j;j=j.nextSibling)ae+=r(j)}else if(ce===3||ce===4)return j.nodeValue}else for(;X=j[be++];)ae+=r(X);return ae},i=D.selectors={cacheLength:50,createPseudo:K,match:R,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(j){return j[1]=j[1].replace(ue,de),j[3]=(j[3]||j[4]||j[5]||"").replace(ue,de),j[2]==="~="&&(j[3]=" "+j[3]+" "),j.slice(0,4)},CHILD:function(j){return j[1]=j[1].toLowerCase(),j[1].slice(0,3)==="nth"?(j[3]||D.error(j[0]),j[4]=+(j[4]?j[5]+(j[6]||1):2*(j[3]==="even"||j[3]==="odd")),j[5]=+(j[7]+j[8]||j[3]==="odd")):j[3]&&D.error(j[0]),j},PSEUDO:function(j){var X,ae=!j[6]&&j[2];return R.CHILD.test(j[0])?null:(j[3]?j[2]=j[4]||j[5]||"":ae&&V.test(ae)&&(X=o(ae,!0))&&(X=ae.indexOf(")",ae.length-X)-ae.length)&&(j[0]=j[0].slice(0,X),j[2]=ae.slice(0,X)),j.slice(0,3))}},filter:{TAG:function(j){var X=j.replace(ue,de).toLowerCase();return j==="*"?function(){return!0}:function(ae){return ae.nodeName&&ae.nodeName.toLowerCase()===X}},CLASS:function(j){var X=_[j+" "];return X||(X=new RegExp("(^|"+$+")"+j+"("+$+"|$)"))&&_(j,function(ae){return X.test(typeof ae.className=="string"&&ae.className||typeof ae.getAttribute<"u"&&ae.getAttribute("class")||"")})},ATTR:function(j,X,ae){return function(be){var ce=D.attr(be,j);return ce==null?X==="!=":X?(ce+="",X==="="?ce===ae:X==="!="?ce!==ae:X==="^="?ae&&ce.indexOf(ae)===0:X==="*="?ae&&ce.indexOf(ae)>-1:X==="$="?ae&&ce.slice(-ae.length)===ae:X==="~="?(" "+ce.replace(G," ")+" ").indexOf(ae)>-1:X==="|="?ce===ae||ce.slice(0,ae.length+1)===ae+"-":!1):!0}},CHILD:function(j,X,ae,be,ce){var _e=j.slice(0,3)!=="nth",xe=j.slice(-4)!=="last",Ie=X==="of-type";return be===1&&ce===0?function(Te){return!!Te.parentNode}:function(Te,Ve,Oe){var Le,Ye,ht,qe,Lt,$t,Nt=_e!==xe?"nextSibling":"previousSibling",wt=Te.parentNode,Qr=Ie&&Te.nodeName.toLowerCase(),$r=!Oe&&!Ie,pn=!1;if(wt){if(_e){for(;Nt;){for(qe=Te;qe=qe[Nt];)if(Ie?qe.nodeName.toLowerCase()===Qr:qe.nodeType===1)return!1;$t=Nt=j==="only"&&!$t&&"nextSibling"}return!0}if($t=[xe?wt.firstChild:wt.lastChild],xe&&$r){for(qe=wt,ht=qe[y]||(qe[y]={}),Ye=ht[qe.uniqueID]||(ht[qe.uniqueID]={}),Le=Ye[j]||[],Lt=Le[0]===x&&Le[1],pn=Lt&&Le[2],qe=Lt&&wt.childNodes[Lt];qe=++Lt&&qe&&qe[Nt]||(pn=Lt=0)||$t.pop();)if(qe.nodeType===1&&++pn&&qe===Te){Ye[j]=[x,Lt,pn];break}}else if($r&&(qe=Te,ht=qe[y]||(qe[y]={}),Ye=ht[qe.uniqueID]||(ht[qe.uniqueID]={}),Le=Ye[j]||[],Lt=Le[0]===x&&Le[1],pn=Lt),pn===!1)for(;(qe=++Lt&&qe&&qe[Nt]||(pn=Lt=0)||$t.pop())&&!((Ie?qe.nodeName.toLowerCase()===Qr:qe.nodeType===1)&&++pn&&($r&&(ht=qe[y]||(qe[y]={}),Ye=ht[qe.uniqueID]||(ht[qe.uniqueID]={}),Ye[j]=[x,pn]),qe===Te)););return pn-=ce,pn===be||pn%be===0&&pn/be>=0}}},PSEUDO:function(j,X){var ae,be=i.pseudos[j]||i.setFilters[j.toLowerCase()]||D.error("unsupported pseudo: "+j);return be[y]?be(X):be.length>1?(ae=[j,j,"",X],i.setFilters.hasOwnProperty(j.toLowerCase())?K(function(ce,_e){for(var xe,Ie=be(ce,X),Te=Ie.length;Te--;)xe=L(ce,Ie[Te]),ce[xe]=!(_e[xe]=Ie[Te])}):function(ce){return be(ce,0,ae)}):be}},pseudos:{not:K(function(j){var X=[],ae=[],be=a(j.replace(ne,"$1"));return be[y]?K(function(ce,_e,xe,Ie){for(var Te,Ve=be(ce,null,Ie,[]),Oe=ce.length;Oe--;)(Te=Ve[Oe])&&(ce[Oe]=!(_e[Oe]=Te))}):function(ce,_e,xe){return X[0]=ce,be(X,null,xe,ae),X[0]=null,!ae.pop()}}),has:K(function(j){return function(X){return D(j,X).length>0}}),contains:K(function(j){return j=j.replace(ue,de),function(X){return(X.textContent||X.innerText||r(X)).indexOf(j)>-1}}),lang:K(function(j){return ee.test(j||"")||D.error("unsupported lang: "+j),j=j.replace(ue,de).toLowerCase(),function(X){var ae;do if(ae=w?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return ae=ae.toLowerCase(),ae===j||ae.indexOf(j+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function(j){var X=n.location&&n.location.hash;return X&&X.slice(1)===j.id},root:function(j){return j===p},focus:function(j){return j===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(j.type||j.href||~j.tabIndex)},enabled:We(!1),disabled:We(!0),checked:function(j){var X=j.nodeName.toLowerCase();return X==="input"&&!!j.checked||X==="option"&&!!j.selected},selected:function(j){return j.parentNode&&j.parentNode.selectedIndex,j.selected===!0},empty:function(j){for(j=j.firstChild;j;j=j.nextSibling)if(j.nodeType<6)return!1;return!0},parent:function(j){return!i.pseudos.empty(j)},header:function(j){return W.test(j.nodeName)},input:function(j){return Y.test(j.nodeName)},button:function(j){var X=j.nodeName.toLowerCase();return X==="input"&&j.type==="button"||X==="button"},text:function(j){var X;return j.nodeName.toLowerCase()==="input"&&j.type==="text"&&((X=j.getAttribute("type"))==null||X.toLowerCase()==="text")},first:rt(function(){return[0]}),last:rt(function(j,X){return[X-1]}),eq:rt(function(j,X,ae){return[ae<0?ae+X:ae]}),even:rt(function(j,X){for(var ae=0;ae<X;ae+=2)j.push(ae);return j}),odd:rt(function(j,X){for(var ae=1;ae<X;ae+=2)j.push(ae);return j}),lt:rt(function(j,X,ae){for(var be=ae<0?ae+X:ae;--be>=0;)j.push(be);return j}),gt:rt(function(j,X,ae){for(var be=ae<0?ae+X:ae;++be<X;)j.push(be);return j})}},i.pseudos.nth=i.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=Fe(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=je(e);function st(){}st.prototype=i.filters=i.pseudos,i.setFilters=new st,o=D.tokenize=function(j,X){var ae,be,ce,_e,xe,Ie,Te,Ve=k[j+" "];if(Ve)return X?0:Ve.slice(0);for(xe=j,Ie=[],Te=i.preFilter;xe;){(!ae||(be=J.exec(xe)))&&(be&&(xe=xe.slice(be[0].length)||xe),Ie.push(ce=[])),ae=!1,(be=Z.exec(xe))&&(ae=be.shift(),ce.push({value:ae,type:be[0].replace(ne," ")}),xe=xe.slice(ae.length));for(_e in i.filter)(be=R[_e].exec(xe))&&(!Te[_e]||(be=Te[_e](be)))&&(ae=be.shift(),ce.push({value:ae,type:_e,matches:be}),xe=xe.slice(ae.length));if(!ae)break}return X?xe.length:xe?D.error(j):k(j,Ie).slice(0)};function Qt(j){for(var X=0,ae=j.length,be="";X<ae;X++)be+=j[X].value;return be}function xi(j,X,ae){var be=X.dir,ce=X.next,_e=ce||be,xe=ae&&_e==="parentNode",Ie=v++;return X.first?function(Te,Ve,Oe){for(;Te=Te[be];)if(Te.nodeType===1||xe)return j(Te,Ve,Oe);return!1}:function(Te,Ve,Oe){var Le,Ye,ht,qe=[x,Ie];if(Oe){for(;Te=Te[be];)if((Te.nodeType===1||xe)&&j(Te,Ve,Oe))return!0}else for(;Te=Te[be];)if(Te.nodeType===1||xe)if(ht=Te[y]||(Te[y]={}),Ye=ht[Te.uniqueID]||(ht[Te.uniqueID]={}),ce&&ce===Te.nodeName.toLowerCase())Te=Te[be]||Te;else{if((Le=Ye[_e])&&Le[0]===x&&Le[1]===Ie)return qe[2]=Le[2];if(Ye[_e]=qe,qe[2]=j(Te,Ve,Oe))return!0}return!1}}function js(j){return j.length>1?function(X,ae,be){for(var ce=j.length;ce--;)if(!j[ce](X,ae,be))return!1;return!0}:j[0]}function Ol(j,X,ae){for(var be=0,ce=X.length;be<ce;be++)D(j,X[be],ae);return ae}function Wo(j,X,ae,be,ce){for(var _e,xe=[],Ie=0,Te=j.length,Ve=X!=null;Ie<Te;Ie++)(_e=j[Ie])&&(!ae||ae(_e,be,ce))&&(xe.push(_e),Ve&&X.push(Ie));return xe}function dr(j,X,ae,be,ce,_e){return be&&!be[y]&&(be=dr(be)),ce&&!ce[y]&&(ce=dr(ce,_e)),K(function(xe,Ie,Te,Ve){var Oe,Le,Ye,ht=[],qe=[],Lt=Ie.length,$t=xe||Ol(X||"*",Te.nodeType?[Te]:Te,[]),Nt=j&&(xe||!X)?Wo($t,ht,j,Te,Ve):$t,wt=ae?ce||(xe?j:Lt||be)?[]:Ie:Nt;if(ae&&ae(Nt,wt,Te,Ve),be)for(Oe=Wo(wt,qe),be(Oe,[],Te,Ve),Le=Oe.length;Le--;)(Ye=Oe[Le])&&(wt[qe[Le]]=!(Nt[qe[Le]]=Ye));if(xe){if(ce||j){if(ce){for(Oe=[],Le=wt.length;Le--;)(Ye=wt[Le])&&Oe.push(Nt[Le]=Ye);ce(null,wt=[],Oe,Ve)}for(Le=wt.length;Le--;)(Ye=wt[Le])&&(Oe=ce?L(xe,Ye):ht[Le])>-1&&(xe[Oe]=!(Ie[Oe]=Ye))}}else wt=Wo(wt===Ie?wt.splice(Lt,wt.length):wt),ce?ce(null,Ie,wt,Ve):I.apply(Ie,wt)})}function Hl(j){for(var X,ae,be,ce=j.length,_e=i.relative[j[0].type],xe=_e||i.relative[" "],Ie=_e?1:0,Te=xi(function(Le){return Le===X},xe,!0),Ve=xi(function(Le){return L(X,Le)>-1},xe,!0),Oe=[function(Le,Ye,ht){var qe=!_e&&(ht||Ye!==c)||((X=Ye).nodeType?Te(Le,Ye,ht):Ve(Le,Ye,ht));return X=null,qe}];Ie<ce;Ie++)if(ae=i.relative[j[Ie].type])Oe=[xi(js(Oe),ae)];else{if(ae=i.filter[j[Ie].type].apply(null,j[Ie].matches),ae[y]){for(be=++Ie;be<ce&&!i.relative[j[be].type];be++);return dr(Ie>1&&js(Oe),Ie>1&&Qt(j.slice(0,Ie-1).concat({value:j[Ie-2].type===" "?"*":""})).replace(ne,"$1"),ae,Ie<be&&Hl(j.slice(Ie,be)),be<ce&&Hl(j=j.slice(be)),be<ce&&Qt(j))}Oe.push(ae)}return js(Oe)}function Lp(j,X){var ae=X.length>0,be=j.length>0,ce=function(_e,xe,Ie,Te,Ve){var Oe,Le,Ye,ht=0,qe="0",Lt=_e&&[],$t=[],Nt=c,wt=_e||be&&i.find.TAG("*",Ve),Qr=x+=Nt==null?1:Math.random()||.1,$r=wt.length;for(Ve&&(c=xe===d||xe||Ve);qe!==$r&&(Oe=wt[qe])!=null;qe++){if(be&&Oe){for(Le=0,!xe&&Oe.ownerDocument!==d&&(f(Oe),Ie=!w);Ye=j[Le++];)if(Ye(Oe,xe||d,Ie)){Te.push(Oe);break}Ve&&(x=Qr)}ae&&((Oe=!Ye&&Oe)&&ht--,_e&&Lt.push(Oe))}if(ht+=qe,ae&&qe!==ht){for(Le=0;Ye=X[Le++];)Ye(Lt,$t,xe,Ie);if(_e){if(ht>0)for(;qe--;)Lt[qe]||$t[qe]||($t[qe]=C.call(Te));$t=Wo($t)}I.apply(Te,$t),Ve&&!_e&&$t.length>0&&ht+X.length>1&&D.uniqueSort(Te)}return Ve&&(x=Qr,c=Nt),Lt};return ae?K(ce):ce}return a=D.compile=function(j,X){var ae,be=[],ce=[],_e=E[j+" "];if(!_e){for(X||(X=o(j)),ae=X.length;ae--;)_e=Hl(X[ae]),_e[y]?be.push(_e):ce.push(_e);_e=E(j,Lp(ce,be)),_e.selector=j}return _e},l=D.select=function(j,X,ae,be){var ce,_e,xe,Ie,Te,Ve=typeof j=="function"&&j,Oe=!be&&o(j=Ve.selector||j);if(ae=ae||[],Oe.length===1){if(_e=Oe[0]=Oe[0].slice(0),_e.length>2&&(xe=_e[0]).type==="ID"&&X.nodeType===9&&w&&i.relative[_e[1].type]){if(X=(i.find.ID(xe.matches[0].replace(ue,de),X)||[])[0],X)Ve&&(X=X.parentNode);else return ae;j=j.slice(_e.shift().value.length)}for(ce=R.needsContext.test(j)?0:_e.length;ce--&&(xe=_e[ce],!i.relative[Ie=xe.type]);)if((Te=i.find[Ie])&&(be=Te(xe.matches[0].replace(ue,de),le.test(_e[0].type)&&Ke(X.parentNode)||X))){if(_e.splice(ce,1),j=be.length&&Qt(_e),!j)return I.apply(ae,be),ae;break}}return(Ve||a(j,Oe))(be,X,!w,ae,!X||le.test(j)&&Ke(X.parentNode)||X),ae},t.sortStable=y.split("").sort(T).join("")===y,t.detectDuplicates=!!u,f(),D}(window);P.find=jo;P.expr=jo.selectors;P.expr[":"]=P.expr.pseudos;P.uniqueSort=P.unique=jo.uniqueSort;P.text=jo.getText;P.isXMLDoc=jo.isXML;P.contains=jo.contains;P.escapeSelector=jo.escape;var Yo=function(n,e,t){for(var i=[],r=t!==void 0;(n=n[e])&&n.nodeType!==9;)if(n.nodeType===1){if(r&&P(n).is(t))break;i.push(n)}return i},FF=function(n,e){for(var t=[];n;n=n.nextSibling)n.nodeType===1&&n!==e&&t.push(n);return t},z_=P.expr.match.needsContext;function lr(n,e){return n.nodeName&&n.nodeName.toLowerCase()===e.toLowerCase()}var P_=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ug(n,e,t){return ut(e)?P.grep(n,function(i,r){return!!e.call(i,r,i)!==t}):e.nodeType?P.grep(n,function(i){return i===e!==t}):typeof e!="string"?P.grep(n,function(i){return od.call(e,i)>-1!==t}):P.filter(e,n,t)}P.filter=function(n,e,t){var i=e[0];return t&&(n=":not("+n+")"),e.length===1&&i.nodeType===1?P.find.matchesSelector(i,n)?[i]:[]:P.find.matches(n,P.grep(e,function(r){return r.nodeType===1}))};P.fn.extend({find:function(n){var e,t,i=this.length,r=this;if(typeof n!="string")return this.pushStack(P(n).filter(function(){for(e=0;e<i;e++)if(P.contains(r[e],this))return!0}));for(t=this.pushStack([]),e=0;e<i;e++)P.find(n,r[e],t);return i>1?P.uniqueSort(t):t},filter:function(n){return this.pushStack(ug(this,n||[],!1))},not:function(n){return this.pushStack(ug(this,n||[],!0))},is:function(n){return!!ug(this,typeof n=="string"&&z_.test(n)?P(n):n||[],!1).length}});var O_,gS=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,mS=P.fn.init=function(n,e,t){var i,r;if(!n)return this;if(t=t||O_,typeof n=="string")if(n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?i=[null,n,null]:i=gS.exec(n),i&&(i[1]||!e))if(i[1]){if(e=e instanceof P?e[0]:e,P.merge(this,P.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ft,!0)),P_.test(i[1])&&P.isPlainObject(e))for(i in e)ut(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}else return r=ft.getElementById(i[2]),r&&(this[0]=r,this.length=1),this;else return!e||e.jquery?(e||t).find(n):this.constructor(e).find(n);else{if(n.nodeType)return this[0]=n,this.length=1,this;if(ut(n))return t.ready!==void 0?t.ready(n):n(P)}return P.makeArray(n,this)};mS.prototype=P.fn;O_=P(ft);var wS=/^(?:parents|prev(?:Until|All))/,bS={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(n){var e=P(n,this),t=e.length;return this.filter(function(){for(var i=0;i<t;i++)if(P.contains(this,e[i]))return!0})},closest:function(n,e){var t,i=0,r=this.length,s=[],o=typeof n!="string"&&P(n);if(!z_.test(n)){for(;i<r;i++)for(t=this[i];t&&t!==e;t=t.parentNode)if(t.nodeType<11&&(o?o.index(t)>-1:t.nodeType===1&&P.find.matchesSelector(t,n))){s.push(t);break}}return this.pushStack(s.length>1?P.uniqueSort(s):s)},index:function(n){return n?typeof n=="string"?od.call(P(n),this[0]):od.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,e){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(n,e))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});function yF(n,e){for(;(n=n[e])&&n.nodeType!==1;);return n}P.each({parent:function(n){var e=n.parentNode;return e&&e.nodeType!==11?e:null},parents:function(n){return Yo(n,"parentNode")},parentsUntil:function(n,e,t){return Yo(n,"parentNode",t)},next:function(n){return yF(n,"nextSibling")},prev:function(n){return yF(n,"previousSibling")},nextAll:function(n){return Yo(n,"nextSibling")},prevAll:function(n){return Yo(n,"previousSibling")},nextUntil:function(n,e,t){return Yo(n,"nextSibling",t)},prevUntil:function(n,e,t){return Yo(n,"previousSibling",t)},siblings:function(n){return FF((n.parentNode||{}).firstChild,n)},children:function(n){return FF(n.firstChild)},contents:function(n){return lr(n,"iframe")?n.contentDocument:(lr(n,"template")&&(n=n.content||n),P.merge([],n.childNodes))}},function(n,e){P.fn[n]=function(t,i){var r=P.map(this,e,t);return n.slice(-5)!=="Until"&&(i=t),i&&typeof i=="string"&&(r=P.filter(i,r)),this.length>1&&(bS[n]||P.uniqueSort(r),wS.test(n)&&r.reverse()),this.pushStack(r)}});var Eo=/[^\x20\t\r\n\f]+/g;function FS(n){var e={};return P.each(n.match(Eo)||[],function(t,i){e[i]=!0}),e}P.Callbacks=function(n){n=typeof n=="string"?FS(n):P.extend({},n);var e,t,i,r,s=[],o=[],a=-1,l=function(){for(r=r||n.once,i=e=!0;o.length;a=-1)for(t=o.shift();++a<s.length;)s[a].apply(t[0],t[1])===!1&&n.stopOnFalse&&(a=s.length,t=!1);n.memory||(t=!1),e=!1,r&&(t?s=[]:s="")},c={add:function(){return s&&(t&&!e&&(a=s.length-1,o.push(t)),function h(u){P.each(u,function(f,d){ut(d)?(!n.unique||!c.has(d))&&s.push(d):d&&d.length&&Cl(d)!=="string"&&h(d)})}(arguments),t&&!e&&l()),this},remove:function(){return P.each(arguments,function(h,u){for(var f;(f=P.inArray(u,s,f))>-1;)s.splice(f,1),f<=a&&a--}),this},has:function(h){return h?P.inArray(h,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=t="",this},disabled:function(){return!s},lock:function(){return r=o=[],!t&&!e&&(s=t=""),this},locked:function(){return!!r},fireWith:function(h,u){return r||(u=u||[],u=[h,u.slice?u.slice():u],o.push(u),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c};function Xo(n){return n}function _u(n){throw n}function vF(n,e,t,i){var r;try{n&&ut(r=n.promise)?r.call(n).done(e).fail(t):n&&ut(r=n.then)?r.call(n,e,t):e.apply(void 0,[n].slice(i))}catch(s){t.apply(void 0,[s])}}P.extend({Deferred:function(n){var e=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],t="pending",i={state:function(){return t},always:function(){return r.done(arguments).fail(arguments),this},catch:function(s){return i.then(null,s)},pipe:function(){var s=arguments;return P.Deferred(function(o){P.each(e,function(a,l){var c=ut(s[l[4]])&&s[l[4]];r[l[1]](function(){var h=c&&c.apply(this,arguments);h&&ut(h.promise)?h.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[l[0]+"With"](this,c?[h]:arguments)})}),s=null}).promise()},then:function(s,o,a){var l=0;function c(h,u,f,d){return function(){var p=this,w=arguments,F=function(){var m,b;if(!(h<l)){if(m=f.apply(p,w),m===u.promise())throw new TypeError("Thenable self-resolution");b=m&&(typeof m=="object"||typeof m=="function")&&m.then,ut(b)?d?b.call(m,c(l,u,Xo,d),c(l,u,_u,d)):(l++,b.call(m,c(l,u,Xo,d),c(l,u,_u,d),c(l,u,Xo,u.notifyWith))):(f!==Xo&&(p=void 0,w=[m]),(d||u.resolveWith)(p,w))}},g=d?F:function(){try{F()}catch(m){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(m,g.stackTrace),h+1>=l&&(f!==_u&&(p=void 0,w=[m]),u.rejectWith(p,w))}};h?g():(P.Deferred.getStackHook&&(g.stackTrace=P.Deferred.getStackHook()),window.setTimeout(g))}}return P.Deferred(function(h){e[0][3].add(c(0,h,ut(a)?a:Xo,h.notifyWith)),e[1][3].add(c(0,h,ut(s)?s:Xo)),e[2][3].add(c(0,h,ut(o)?o:_u))}).promise()},promise:function(s){return s!=null?P.extend(s,i):i}},r={};return P.each(e,function(s,o){var a=o[2],l=o[5];i[o[1]]=a.add,l&&a.add(function(){t=l},e[3-s][2].disable,e[3-s][3].disable,e[0][2].lock,e[0][3].lock),a.add(o[3].fire),r[o[0]]=function(){return r[o[0]+"With"](this===r?void 0:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),n&&n.call(r,r),r},when:function(n){var e=arguments.length,t=e,i=Array(t),r=Fo.call(arguments),s=P.Deferred(),o=function(a){return function(l){i[a]=this,r[a]=arguments.length>1?Fo.call(arguments):l,--e||s.resolveWith(i,r)}};if(e<=1&&(vF(n,s.done(o(t)).resolve,s.reject,!e),s.state()==="pending"||ut(r[t]&&r[t].then)))return s.then();for(;t--;)vF(r[t],o(t),s.reject);return s.promise()}});var yS=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(n,e){window.console&&window.console.warn&&n&&yS.test(n.name)&&window.console.warn("jQuery.Deferred exception: "+n.message,n.stack,e)};P.readyException=function(n){window.setTimeout(function(){throw n})};var U1=P.Deferred();P.fn.ready=function(n){return U1.then(n).catch(function(e){P.readyException(e)}),this};P.extend({isReady:!1,readyWait:1,ready:function(n){(n===!0?--P.readyWait:P.isReady)||(P.isReady=!0,!(n!==!0&&--P.readyWait>0)&&U1.resolveWith(ft,[P]))}});P.ready.then=U1.then;function ld(){ft.removeEventListener("DOMContentLoaded",ld),window.removeEventListener("load",ld),P.ready()}ft.readyState==="complete"||ft.readyState!=="loading"&&!ft.documentElement.doScroll?window.setTimeout(P.ready):(ft.addEventListener("DOMContentLoaded",ld),window.addEventListener("load",ld));var Pr=function(n,e,t,i,r,s,o){var a=0,l=n.length,c=t==null;if(Cl(t)==="object"){r=!0;for(a in t)Pr(n,e,a,t[a],!0,s,o)}else if(i!==void 0&&(r=!0,ut(i)||(o=!0),c&&(o?(e.call(n,i),e=null):(c=e,e=function(h,u,f){return c.call(P(h),f)})),e))for(;a<l;a++)e(n[a],t,o?i:i.call(n[a],a,e(n[a],t)));return r?n:c?e.call(n):l?e(n[0],t):s},vS=/^-ms-/,AS=/-([a-z])/g;function _S(n,e){return e.toUpperCase()}function kr(n){return n.replace(vS,"ms-").replace(AS,_S)}var cd=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};function qh(){this.expando=P.expando+qh.uid++}qh.uid=1;qh.prototype={cache:function(n){var e=n[this.expando];return e||(e={},cd(n)&&(n.nodeType?n[this.expando]=e:Object.defineProperty(n,this.expando,{value:e,configurable:!0}))),e},set:function(n,e,t){var i,r=this.cache(n);if(typeof e=="string")r[kr(e)]=t;else for(i in e)r[kr(i)]=e[i];return r},get:function(n,e){return e===void 0?this.cache(n):n[this.expando]&&n[this.expando][kr(e)]},access:function(n,e,t){return e===void 0||e&&typeof e=="string"&&t===void 0?this.get(n,e):(this.set(n,e,t),t!==void 0?t:e)},remove:function(n,e){var t,i=n[this.expando];if(i!==void 0){if(e!==void 0)for(Array.isArray(e)?e=e.map(kr):(e=kr(e),e=e in i?[e]:e.match(Eo)||[]),t=e.length;t--;)delete i[e[t]];(e===void 0||P.isEmptyObject(i))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var e=n[this.expando];return e!==void 0&&!P.isEmptyObject(e)}};var it=new qh,Pn=new qh,CS=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xS=/[A-Z]/g;function kS(n){return n==="true"?!0:n==="false"?!1:n==="null"?null:n===+n+""?+n:CS.test(n)?JSON.parse(n):n}function AF(n,e,t){var i;if(t===void 0&&n.nodeType===1)if(i="data-"+e.replace(xS,"-$&").toLowerCase(),t=n.getAttribute(i),typeof t=="string"){try{t=kS(t)}catch{}Pn.set(n,e,t)}else t=void 0;return t}P.extend({hasData:function(n){return Pn.hasData(n)||it.hasData(n)},data:function(n,e,t){return Pn.access(n,e,t)},removeData:function(n,e){Pn.remove(n,e)},_data:function(n,e,t){return it.access(n,e,t)},_removeData:function(n,e){it.remove(n,e)}});P.fn.extend({data:function(n,e){var t,i,r,s=this[0],o=s&&s.attributes;if(n===void 0){if(this.length&&(r=Pn.get(s),s.nodeType===1&&!it.get(s,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&(i=o[t].name,i.indexOf("data-")===0&&(i=kr(i.slice(5)),AF(s,i,r[i])));it.set(s,"hasDataAttrs",!0)}return r}return typeof n=="object"?this.each(function(){Pn.set(this,n)}):Pr(this,function(a){var l;if(s&&a===void 0)return l=Pn.get(s,n),l!==void 0||(l=AF(s,n),l!==void 0)?l:void 0;this.each(function(){Pn.set(this,n,a)})},null,e,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){Pn.remove(this,n)})}});P.extend({queue:function(n,e,t){var i;if(n)return e=(e||"fx")+"queue",i=it.get(n,e),t&&(!i||Array.isArray(t)?i=it.access(n,e,P.makeArray(t)):i.push(t)),i||[]},dequeue:function(n,e){e=e||"fx";var t=P.queue(n,e),i=t.length,r=t.shift(),s=P._queueHooks(n,e),o=function(){P.dequeue(n,e)};r==="inprogress"&&(r=t.shift(),i--),r&&(e==="fx"&&t.unshift("inprogress"),delete s.stop,r.call(n,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(n,e){var t=e+"queueHooks";return it.get(n,t)||it.access(n,t,{empty:P.Callbacks("once memory").add(function(){it.remove(n,[e+"queue",t])})})}});P.fn.extend({queue:function(n,e){var t=2;return typeof n!="string"&&(e=n,n="fx",t--),arguments.length<t?P.queue(this[0],n):e===void 0?this:this.each(function(){var i=P.queue(this,n,e);P._queueHooks(this,n),n==="fx"&&i[0]!=="inprogress"&&P.dequeue(this,n)})},dequeue:function(n){return this.each(function(){P.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,e){var t,i=1,r=P.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for(typeof n!="string"&&(e=n,n=void 0),n=n||"fx";o--;)t=it.get(s[o],n+"queueHooks"),t&&t.empty&&(i++,t.empty.add(a));return a(),r.promise(e)}});var H_=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,hp=new RegExp("^(?:([+-])=|)("+H_+")([a-z%]*)$","i"),is=["Top","Right","Bottom","Left"],U_=function(n,e){return n=n,n.style.display==="none"||n.style.display===""&&P.contains(n.ownerDocument,n)&&P.css(n,"display")==="none"},V_=function(n,e,t,i){var r,s,o={};for(s in e)o[s]=n.style[s],n.style[s]=e[s];r=t.apply(n,[]);for(s in e)n.style[s]=o[s];return r};function ES(n,e,t,i){var r,s,o=20,a=function(){return P.css(n,e,"")},l=a(),c=t&&t[3]||(P.cssNumber[e]?"":"px"),h=(P.cssNumber[e]||c!=="px"&&+l)&&hp.exec(P.css(n,e));if(h&&h[3]!==c){for(l=l/2,c=c||h[3],h=+l||1;o--;)P.style(n,e,h+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),h=h/s;h=h*2,P.style(n,e,h+c),t=t||[]}return t&&(h=+h||+l||0,r=t[1]?h+(t[1]+1)*t[2]:+t[2]),r}var _F={};function SS(n){var e,t=n.ownerDocument,i=n.nodeName,r=_F[i];return r||(e=t.body.appendChild(t.createElement(i)),r=P.css(e,"display"),e.parentNode.removeChild(e),r==="none"&&(r="block"),_F[i]=r,r)}function CF(n,e){for(var t,i,r=[],s=0,o=n.length;s<o;s++)i=n[s],i.style&&(t=i.style.display,e?(t==="none"&&(r[s]=it.get(i,"display")||null,r[s]||(i.style.display="")),i.style.display===""&&U_(i)&&(r[s]=SS(i))):t!=="none"&&(r[s]="none",it.set(i,"display",t)));for(s=0;s<o;s++)r[s]!=null&&(n[s].style.display=r[s]);return n}P.fn.extend({show:function(){return CF(this,!0)},hide:function(){return CF(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){U_(this)?P(this).show():P(this).hide()})}});var q_=/^(?:checkbox|radio)$/i,j_=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Q_=/^$|^module$|\/(?:java|ecma)script/i,mi={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};mi.optgroup=mi.option;mi.tbody=mi.tfoot=mi.colgroup=mi.caption=mi.thead;mi.th=mi.td;function zn(n,e){var t;return typeof n.getElementsByTagName<"u"?t=n.getElementsByTagName(e||"*"):typeof n.querySelectorAll<"u"?t=n.querySelectorAll(e||"*"):t=[],e===void 0||e&&lr(n,e)?P.merge([n],t):t}function V1(n,e){for(var t=0,i=n.length;t<i;t++)it.set(n[t],"globalEval",!e||it.get(e[t],"globalEval"))}var IS=/<|&#?\w+;/;function $_(n,e,t,i,r){for(var s,o,a,l,c,h,u=e.createDocumentFragment(),f=[],d=0,p=n.length;d<p;d++)if(s=n[d],s||s===0)if(Cl(s)==="object")P.merge(f,s.nodeType?[s]:s);else if(!IS.test(s))f.push(e.createTextNode(s));else{for(o=o||u.appendChild(e.createElement("div")),a=(j_.exec(s)||["",""])[1].toLowerCase(),l=mi[a]||mi._default,o.innerHTML=l[1]+P.htmlPrefilter(s)+l[2],h=l[0];h--;)o=o.lastChild;P.merge(f,o.childNodes),o=u.firstChild,o.textContent=""}for(u.textContent="",d=0;s=f[d++];){if(i&&P.inArray(s,i)>-1){r&&r.push(s);continue}if(c=P.contains(s.ownerDocument,s),o=zn(u.appendChild(s),"script"),c&&V1(o),t)for(h=0;s=o[h++];)Q_.test(s.type||"")&&t.push(s)}return u}(function(){var n=ft.createDocumentFragment(),e=n.appendChild(ft.createElement("div")),t=ft.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),Mt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Mt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue})();var hd=ft.documentElement,NS=/^key/,TS=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xF=/^([^.]*)(?:\.(.+)|)/;function mf(){return!0}function Ba(){return!1}function kF(){try{return ft.activeElement}catch{}}function km(n,e,t,i,r,s){var o,a;if(typeof e=="object"){typeof t!="string"&&(i=i||t,t=void 0);for(a in e)km(n,a,t,i,e[a],s);return n}if(i==null&&r==null?(r=t,i=t=void 0):r==null&&(typeof t=="string"?(r=i,i=void 0):(r=i,i=t,t=void 0)),r===!1)r=Ba;else if(!r)return n;return s===1&&(o=r,r=function(l){return P().off(l),o.apply(this,arguments)},r.guid=o.guid||(o.guid=P.guid++)),n.each(function(){P.event.add(this,e,r,i,t)})}P.event={global:{},add:function(n,e,t,i,r){var s,o,a,l,c,h,u,f,d,p,w,F=it.get(n);if(F)for(t.handler&&(s=t,t=s.handler,r=s.selector),r&&P.find.matchesSelector(hd,r),t.guid||(t.guid=P.guid++),(l=F.events)||(l=F.events={}),(o=F.handle)||(o=F.handle=function(g){return typeof P<"u"&&P.event.triggered!==g.type?P.event.dispatch.apply(n,arguments):void 0}),e=(e||"").match(Eo)||[""],c=e.length;c--;)a=xF.exec(e[c])||[],d=w=a[1],p=(a[2]||"").split(".").sort(),d&&(u=P.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=P.event.special[d]||{},h=P.extend({type:d,origType:w,data:i,handler:t,guid:t.guid,selector:r,needsContext:r&&P.expr.match.needsContext.test(r),namespace:p.join(".")},s),(f=l[d])||(f=l[d]=[],f.delegateCount=0,(!u.setup||u.setup.call(n,i,p,o)===!1)&&n.addEventListener&&n.addEventListener(d,o)),u.add&&(u.add.call(n,h),h.handler.guid||(h.handler.guid=t.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),P.event.global[d]=!0)},remove:function(n,e,t,i,r){var s,o,a,l,c,h,u,f,d,p,w,F=it.hasData(n)&&it.get(n);if(!(!F||!(l=F.events))){for(e=(e||"").match(Eo)||[""],c=e.length;c--;){if(a=xF.exec(e[c])||[],d=w=a[1],p=(a[2]||"").split(".").sort(),!d){for(d in l)P.event.remove(n,d+e[c],t,i,!0);continue}for(u=P.event.special[d]||{},d=(i?u.delegateType:u.bindType)||d,f=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=f.length;s--;)h=f[s],(r||w===h.origType)&&(!t||t.guid===h.guid)&&(!a||a.test(h.namespace))&&(!i||i===h.selector||i==="**"&&h.selector)&&(f.splice(s,1),h.selector&&f.delegateCount--,u.remove&&u.remove.call(n,h));o&&!f.length&&((!u.teardown||u.teardown.call(n,p,F.handle)===!1)&&P.removeEvent(n,d,F.handle),delete l[d])}P.isEmptyObject(l)&&it.remove(n,"handle events")}},dispatch:function(n){var e=P.event.fix(n),t,i,r,s,o,a,l=new Array(arguments.length),c=(it.get(this,"events")||{})[e.type]||[],h=P.event.special[e.type]||{};for(l[0]=e,t=1;t<arguments.length;t++)l[t]=arguments[t];if(e.delegateTarget=this,!(h.preDispatch&&h.preDispatch.call(this,e)===!1)){for(a=P.event.handlers.call(this,e,c),t=0;(s=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((P.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l),r!==void 0&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(n,e){var t,i,r,s,o,a=[],l=e.delegateCount,c=n.target;if(l&&c.nodeType&&!(n.type==="click"&&n.button>=1)){for(;c!==this;c=c.parentNode||this)if(c.nodeType===1&&!(n.type==="click"&&c.disabled===!0)){for(s=[],o={},t=0;t<l;t++)i=e[t],r=i.selector+" ",o[r]===void 0&&(o[r]=i.needsContext?P(r,this).index(c)>-1:P.find(r,this,null,[c]).length),o[r]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(n,e){Object.defineProperty(P.Event.prototype,n,{enumerable:!0,configurable:!0,get:ut(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[P.expando]?n:new P.Event(n)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==kF()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===kF()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&lr(this,"input"))return this.click(),!1},_default:function(n){return lr(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==void 0&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};P.removeEvent=function(n,e,t){n.removeEventListener&&n.removeEventListener(e,t)};P.Event=function(n,e){if(!(this instanceof P.Event))return new P.Event(n,e);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===void 0&&n.returnValue===!1?mf:Ba,this.target=n.target&&n.target.nodeType===3?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n,e&&P.extend(this,e),this.timeStamp=n&&n.timeStamp||Date.now(),this[P.expando]=!0};P.Event.prototype={constructor:P.Event,isDefaultPrevented:Ba,isPropagationStopped:Ba,isImmediatePropagationStopped:Ba,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=mf,n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=mf,n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=mf,n&&!this.isSimulated&&n.stopImmediatePropagation(),this.stopPropagation()}};P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var e=n.button;return n.which==null&&NS.test(n.type)?n.charCode!=null?n.charCode:n.keyCode:!n.which&&e!==void 0&&TS.test(n.type)?e&1?1:e&2?3:e&4?2:0:n.which}},P.event.addProp);P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,e){P.event.special[n]={delegateType:e,bindType:e,handle:function(t){var i,r=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==r&&!P.contains(r,s))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}});P.fn.extend({on:function(n,e,t,i){return km(this,n,e,t,i)},one:function(n,e,t,i){return km(this,n,e,t,i,1)},off:function(n,e,t){var i,r;if(n&&n.preventDefault&&n.handleObj)return i=n.handleObj,P(n.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof n=="object"){for(r in n)this.off(r,e,n[r]);return this}return(e===!1||typeof e=="function")&&(t=e,e=void 0),t===!1&&(t=Ba),this.each(function(){P.event.remove(this,n,t,e)})}});var RS=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,MS=/<script|<style|<link/i,BS=/checked\s*(?:[^=]|=\s*.checked.)/i,DS=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function EF(n,e){return lr(n,"table")&&lr(e.nodeType!==11?e:e.firstChild,"tr")&&P(n).children("tbody")[0]||n}function LS(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function zS(n){return(n.type||"").slice(0,5)==="true/"?n.type=n.type.slice(5):n.removeAttribute("type"),n}function SF(n,e){var t,i,r,s,o,a,l,c;if(e.nodeType===1){if(it.hasData(n)&&(s=it.access(n),o=it.set(e,s),c=s.events,c)){delete o.handle,o.events={};for(r in c)for(t=0,i=c[r].length;t<i;t++)P.event.add(e,r,c[r][t])}Pn.hasData(n)&&(a=Pn.access(n),l=P.extend({},a),Pn.set(e,l))}}function PS(n,e){var t=e.nodeName.toLowerCase();t==="input"&&q_.test(n.type)?e.checked=n.checked:(t==="input"||t==="textarea")&&(e.defaultValue=n.defaultValue)}function la(n,e,t,i){e=R_.apply([],e);var r,s,o,a,l,c,h=0,u=n.length,f=u-1,d=e[0],p=ut(d);if(p||u>1&&typeof d=="string"&&!Mt.checkClone&&BS.test(d))return n.each(function(w){var F=n.eq(w);p&&(e[0]=d.call(this,w,F.html())),la(F,e,t,i)});if(u&&(r=$_(e,n[0].ownerDocument,!1,n,i),s=r.firstChild,r.childNodes.length===1&&(r=s),s||i)){for(o=P.map(zn(r,"script"),LS),a=o.length;h<u;h++)l=r,h!==f&&(l=P.clone(l,!0,!0),a&&P.merge(o,zn(l,"script"))),t.call(n[h],l,h);if(a)for(c=o[o.length-1].ownerDocument,P.map(o,zS),h=0;h<a;h++)l=o[h],Q_.test(l.type||"")&&!it.access(l,"globalEval")&&P.contains(c,l)&&(l.src&&(l.type||"").toLowerCase()!=="module"?P._evalUrl&&P._evalUrl(l.src):D_(l.textContent.replace(DS,""),c,l))}return n}function IF(n,e,t){for(var i,r=e?P.filter(e,n):n,s=0;(i=r[s])!=null;s++)!t&&i.nodeType===1&&P.cleanData(zn(i)),i.parentNode&&(t&&P.contains(i.ownerDocument,i)&&V1(zn(i,"script")),i.parentNode.removeChild(i));return n}P.extend({htmlPrefilter:function(n){return n.replace(RS,"<$1></$2>")},clone:function(n,e,t){var i,r,s,o,a=n.cloneNode(!0),l=P.contains(n.ownerDocument,n);if(!Mt.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!P.isXMLDoc(n))for(o=zn(a),s=zn(n),i=0,r=s.length;i<r;i++)PS(s[i],o[i]);if(e)if(t)for(s=s||zn(n),o=o||zn(a),i=0,r=s.length;i<r;i++)SF(s[i],o[i]);else SF(n,a);return o=zn(a,"script"),o.length>0&&V1(o,!l&&zn(n,"script")),a},cleanData:function(n){for(var e,t,i,r=P.event.special,s=0;(t=n[s])!==void 0;s++)if(cd(t)){if(e=t[it.expando]){if(e.events)for(i in e.events)r[i]?P.event.remove(t,i):P.removeEvent(t,i,e.handle);t[it.expando]=void 0}t[Pn.expando]&&(t[Pn.expando]=void 0)}}});P.fn.extend({detach:function(n){return IF(this,n,!0)},remove:function(n){return IF(this,n)},text:function(n){return Pr(this,function(e){return e===void 0?P.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=e)})},null,n,arguments.length)},append:function(){return la(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=EF(this,n);e.appendChild(n)}})},prepend:function(){return la(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=EF(this,n);e.insertBefore(n,e.firstChild)}})},before:function(){return la(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return la(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,e=0;(n=this[e])!=null;e++)n.nodeType===1&&(P.cleanData(zn(n,!1)),n.textContent="");return this},clone:function(n,e){return n=n??!1,e=e??n,this.map(function(){return P.clone(this,n,e)})},html:function(n){return Pr(this,function(e){var t=this[0]||{},i=0,r=this.length;if(e===void 0&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!MS.test(e)&&!mi[(j_.exec(e)||["",""])[1].toLowerCase()]){e=P.htmlPrefilter(e);try{for(;i<r;i++)t=this[i]||{},t.nodeType===1&&(P.cleanData(zn(t,!1)),t.innerHTML=e);t=0}catch{}}t&&this.empty().append(e)},null,n,arguments.length)},replaceWith:function(){var n=[];return la(this,arguments,function(e){var t=this.parentNode;P.inArray(this,n)<0&&(P.cleanData(zn(this)),t&&t.replaceChild(e,this))},n)}});P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,e){P.fn[n]=function(t){for(var i,r=[],s=P(t),o=s.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),P(s[a])[e](i),H1.apply(r,i.get());return this.pushStack(r)}});var q1=new RegExp("^("+H_+")(?!px)[a-z%]+$","i"),up=function(n){var e=n.ownerDocument.defaultView;return(!e||!e.opener)&&(e=window),e.getComputedStyle(n)},OS=new RegExp(is.join("|"),"i");(function(){function n(){if(l){a.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",hd.appendChild(a).appendChild(l);var c=window.getComputedStyle(l);t=c.top!=="1%",o=e(c.marginLeft)===12,l.style.right="60%",s=e(c.right)===36,i=e(c.width)===36,l.style.position="absolute",r=l.offsetWidth===36||"absolute",hd.removeChild(a),l=null}}function e(c){return Math.round(parseFloat(c))}var t,i,r,s,o,a=ft.createElement("div"),l=ft.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",Mt.clearCloneStyle=l.style.backgroundClip==="content-box",P.extend(Mt,{boxSizingReliable:function(){return n(),i},pixelBoxStyles:function(){return n(),s},pixelPosition:function(){return n(),t},reliableMarginLeft:function(){return n(),o},scrollboxSize:function(){return n(),r}}))})();function lh(n,e,t){var i,r,s,o,a=n.style;return t=t||up(n),t&&(o=t.getPropertyValue(e)||t[e],o===""&&!P.contains(n.ownerDocument,n)&&(o=P.style(n,e)),!Mt.pixelBoxStyles()&&q1.test(o)&&OS.test(e)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=t.width,a.width=i,a.minWidth=r,a.maxWidth=s)),o!==void 0?o+"":o}function G_(n,e){return{get:function(){if(n()){delete this.get;return}return(this.get=e).apply(this,arguments)}}}var HS=/^(none|table(?!-c[ea]).+)/,NF=/^--/,US={position:"absolute",visibility:"hidden",display:"block"},TF={letterSpacing:"0",fontWeight:"400"},RF=["Webkit","Moz","ms"],MF=ft.createElement("div").style;function VS(n){if(n in MF)return n;for(var e=n[0].toUpperCase()+n.slice(1),t=RF.length;t--;)if(n=RF[t]+e,n in MF)return n}function BF(n){var e=P.cssProps[n];return e||(e=P.cssProps[n]=VS(n)||n),e}function W_(n,e,t){var i=hp.exec(e);return i?Math.max(0,i[2]-(t||0))+(i[3]||"px"):e}function Em(n,e,t,i,r,s){var o=e==="width"?1:0,a=0,l=0;if(t===(i?"border":"content"))return 0;for(;o<4;o+=2)t==="margin"&&(l+=P.css(n,t+is[o],!0,r)),i?(t==="content"&&(l-=P.css(n,"padding"+is[o],!0,r)),t!=="margin"&&(l-=P.css(n,"border"+is[o]+"Width",!0,r))):(l+=P.css(n,"padding"+is[o],!0,r),t!=="padding"?l+=P.css(n,"border"+is[o]+"Width",!0,r):a+=P.css(n,"border"+is[o]+"Width",!0,r));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(n["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))),l}function DF(n,e,t){var i=up(n),r=lh(n,e,i),s=P.css(n,"boxSizing",!1,i)==="border-box",o=s;if(q1.test(r)){if(!t)return r;r="auto"}return o=o&&(Mt.boxSizingReliable()||r===n.style[e]),(r==="auto"||!parseFloat(r)&&P.css(n,"display",!1,i)==="inline")&&(r=n["offset"+e[0].toUpperCase()+e.slice(1)],o=!0),r=parseFloat(r)||0,r+Em(n,e,t||(s?"border":"content"),o,i,r)+"px"}P.extend({cssHooks:{opacity:{get:function(n,e){if(e){var t=lh(n,"opacity");return t===""?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,e,t,i){if(!(!n||n.nodeType===3||n.nodeType===8||!n.style)){var r,s,o,a=kr(e),l=NF.test(e),c=n.style;if(l||(e=BF(a)),o=P.cssHooks[e]||P.cssHooks[a],t!==void 0){if(s=typeof t,s==="string"&&(r=hp.exec(t))&&r[1]&&(t=ES(n,e,r),s="number"),t==null||t!==t)return;s==="number"&&(t+=r&&r[3]||(P.cssNumber[a]?"":"px")),!Mt.clearCloneStyle&&t===""&&e.indexOf("background")===0&&(c[e]="inherit"),(!o||!("set"in o)||(t=o.set(n,t,i))!==void 0)&&(l?c.setProperty(e,t):c[e]=t)}else return o&&"get"in o&&(r=o.get(n,!1,i))!==void 0?r:c[e]}},css:function(n,e,t,i){var r,s,o,a=kr(e),l=NF.test(e);return l||(e=BF(a)),o=P.cssHooks[e]||P.cssHooks[a],o&&"get"in o&&(r=o.get(n,!0,t)),r===void 0&&(r=lh(n,e,i)),r==="normal"&&e in TF&&(r=TF[e]),t===""||t?(s=parseFloat(r),t===!0||isFinite(s)?s||0:r):r}});P.each(["height","width"],function(n,e){P.cssHooks[e]={get:function(t,i,r){if(i)return HS.test(P.css(t,"display"))&&(!t.getClientRects().length||!t.getBoundingClientRect().width)?V_(t,US,function(){return DF(t,e,r)}):DF(t,e,r)},set:function(t,i,r){var s,o=up(t),a=P.css(t,"boxSizing",!1,o)==="border-box",l=r&&Em(t,e,r,a,o);return a&&Mt.scrollboxSize()===o.position&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Em(t,e,"border",!1,o)-.5)),l&&(s=hp.exec(i))&&(s[3]||"px")!=="px"&&(t.style[e]=i,i=P.css(t,e)),W_(t,i,l)}}});P.cssHooks.marginLeft=G_(Mt.reliableMarginLeft,function(n,e){if(e)return(parseFloat(lh(n,"marginLeft"))||n.getBoundingClientRect().left-V_(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});P.each({margin:"",padding:"",border:"Width"},function(n,e){P.cssHooks[n+e]={expand:function(t){for(var i=0,r={},s=typeof t=="string"?t.split(" "):[t];i<4;i++)r[n+is[i]+e]=s[i]||s[i-2]||s[0];return r}},n!=="margin"&&(P.cssHooks[n+e].set=W_)});P.fn.extend({css:function(n,e){return Pr(this,function(t,i,r){var s,o,a={},l=0;if(Array.isArray(i)){for(s=up(t),o=i.length;l<o;l++)a[i[l]]=P.css(t,i[l],!1,s);return a}return r!==void 0?P.style(t,i,r):P.css(t,i)},n,e,arguments.length>1)}});P.fn.delay=function(n,e){return n=P.fx&&P.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(t,i){var r=window.setTimeout(t,n);i.stop=function(){window.clearTimeout(r)}})};(function(){var n=ft.createElement("input"),e=ft.createElement("select"),t=e.appendChild(ft.createElement("option"));n.type="checkbox",Mt.checkOn=n.value!=="",Mt.optSelected=t.selected,n=ft.createElement("input"),n.value="t",n.type="radio",Mt.radioValue=n.value==="t"})();var K_,Yl=P.expr.attrHandle;P.fn.extend({attr:function(n,e){return Pr(this,P.attr,n,e,arguments.length>1)},removeAttr:function(n){return this.each(function(){P.removeAttr(this,n)})}});P.extend({attr:function(n,e,t){var i,r,s=n.nodeType;if(!(s===3||s===8||s===2)){if(typeof n.getAttribute>"u")return P.prop(n,e,t);if((s!==1||!P.isXMLDoc(n))&&(r=P.attrHooks[e.toLowerCase()]||(P.expr.match.bool.test(e)?K_:void 0)),t!==void 0){if(t===null){P.removeAttr(n,e);return}return r&&"set"in r&&(i=r.set(n,t,e))!==void 0?i:(n.setAttribute(e,t+""),t)}return r&&"get"in r&&(i=r.get(n,e))!==null?i:(i=P.find.attr(n,e),i??void 0)}},attrHooks:{type:{set:function(n,e){if(!Mt.radioValue&&e==="radio"&&lr(n,"input")){var t=n.value;return n.setAttribute("type",e),t&&(n.value=t),e}}}},removeAttr:function(n,e){var t,i=0,r=e&&e.match(Eo);if(r&&n.nodeType===1)for(;t=r[i++];)n.removeAttribute(t)}});K_={set:function(n,e,t){return e===!1?P.removeAttr(n,t):n.setAttribute(t,t),t}};P.each(P.expr.match.bool.source.match(/\w+/g),function(n,e){var t=Yl[e]||P.find.attr;Yl[e]=function(i,r,s){var o,a,l=r.toLowerCase();return s||(a=Yl[l],Yl[l]=o,o=t(i,r,s)!=null?l:null,Yl[l]=a),o}});var qS=/^(?:input|select|textarea|button)$/i,jS=/^(?:a|area)$/i;P.fn.extend({prop:function(n,e){return Pr(this,P.prop,n,e,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[P.propFix[n]||n]})}});P.extend({prop:function(n,e,t){var i,r,s=n.nodeType;if(!(s===3||s===8||s===2))return(s!==1||!P.isXMLDoc(n))&&(e=P.propFix[e]||e,r=P.propHooks[e]),t!==void 0?r&&"set"in r&&(i=r.set(n,t,e))!==void 0?i:n[e]=t:r&&"get"in r&&(i=r.get(n,e))!==null?i:n[e]},propHooks:{tabIndex:{get:function(n){var e=P.find.attr(n,"tabindex");return e?parseInt(e,10):qS.test(n.nodeName)||jS.test(n.nodeName)&&n.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}});Mt.optSelected||(P.propHooks.selected={get:function(n){var e=n.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(n){var e=n.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}});P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this});function ca(n){var e=n.match(Eo)||[];return e.join(" ")}function Qs(n){return n.getAttribute&&n.getAttribute("class")||""}function fg(n){return Array.isArray(n)?n:typeof n=="string"?n.match(Eo)||[]:[]}P.fn.extend({addClass:function(n){var e,t,i,r,s,o,a,l=0;if(ut(n))return this.each(function(c){P(this).addClass(n.call(this,c,Qs(this)))});if(e=fg(n),e.length){for(;t=this[l++];)if(r=Qs(t),i=t.nodeType===1&&" "+ca(r)+" ",i){for(o=0;s=e[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");a=ca(i),r!==a&&t.setAttribute("class",a)}}return this},removeClass:function(n){var e,t,i,r,s,o,a,l=0;if(ut(n))return this.each(function(c){P(this).removeClass(n.call(this,c,Qs(this)))});if(!arguments.length)return this.attr("class","");if(e=fg(n),e.length){for(;t=this[l++];)if(r=Qs(t),i=t.nodeType===1&&" "+ca(r)+" ",i){for(o=0;s=e[o++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");a=ca(i),r!==a&&t.setAttribute("class",a)}}return this},toggleClass:function(n,e){var t=typeof n,i=t==="string"||Array.isArray(n);return typeof e=="boolean"&&i?e?this.addClass(n):this.removeClass(n):ut(n)?this.each(function(r){P(this).toggleClass(n.call(this,r,Qs(this),e),e)}):this.each(function(){var r,s,o,a;if(i)for(s=0,o=P(this),a=fg(n);r=a[s++];)o.hasClass(r)?o.removeClass(r):o.addClass(r);else(n===void 0||t==="boolean")&&(r=Qs(this),r&&it.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||n===!1?"":it.get(this,"__className__")||""))})},hasClass:function(n){var e,t,i=0;for(e=" "+n+" ";t=this[i++];)if(t.nodeType===1&&(" "+ca(Qs(t))+" ").indexOf(e)>-1)return!0;return!1}});var QS=/\r/g;P.fn.extend({val:function(n){var e,t,i,r=this[0];return arguments.length?(i=ut(n),this.each(function(s){var o;this.nodeType===1&&(i?o=n.call(this,s,P(this).val()):o=n,o==null?o="":typeof o=="number"?o+="":Array.isArray(o)&&(o=P.map(o,function(a){return a==null?"":a+""})),e=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],(!e||!("set"in e)||e.set(this,o,"value")===void 0)&&(this.value=o))})):r?(e=P.valHooks[r.type]||P.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&(t=e.get(r,"value"))!==void 0?t:(t=r.value,typeof t=="string"?t.replace(QS,""):t??"")):void 0}});P.extend({valHooks:{option:{get:function(n){var e=P.find.attr(n,"value");return e??ca(P.text(n))}},select:{get:function(n){var e,t,i,r=n.options,s=n.selectedIndex,o=n.type==="select-one",a=o?null:[],l=o?s+1:r.length;for(s<0?i=l:i=o?s:0;i<l;i++)if(t=r[i],(t.selected||i===s)&&!t.disabled&&(!t.parentNode.disabled||!lr(t.parentNode,"optgroup"))){if(e=P(t).val(),o)return e;a.push(e)}return a},set:function(n,e){for(var t,i,r=n.options,s=P.makeArray(e),o=r.length;o--;)i=r[o],(i.selected=P.inArray(P.valHooks.option.get(i),s)>-1)&&(t=!0);return t||(n.selectedIndex=-1),s}}}});P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(n,e){if(Array.isArray(e))return n.checked=P.inArray(P(n).val(),e)>-1}},Mt.checkOn||(P.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});Mt.focusin="onfocusin"in window;var LF=/^(?:focusinfocus|focusoutblur)$/,zF=function(n){n.stopPropagation()};P.extend(P.event,{trigger:function(n,e,t,i){var r,s,o,a,l,c,h,u,f=[t||ft],d=ad.call(n,"type")?n.type:n,p=ad.call(n,"namespace")?n.namespace.split("."):[];if(s=u=o=t=t||ft,!(t.nodeType===3||t.nodeType===8)&&!LF.test(d+P.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,n=n[P.expando]?n:new P.Event(d,typeof n=="object"&&n),n.isTrigger=i?2:3,n.namespace=p.join("."),n.rnamespace=n.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=void 0,n.target||(n.target=t),e=e==null?[n]:P.makeArray(e,[n]),h=P.event.special[d]||{},!(!i&&h.trigger&&h.trigger.apply(t,e)===!1))){if(!i&&!h.noBubble&&!cl(t)){for(a=h.delegateType||d,LF.test(a+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),o=s;o===(t.ownerDocument||ft)&&f.push(o.defaultView||o.parentWindow||window)}for(r=0;(s=f[r++])&&!n.isPropagationStopped();)u=s,n.type=r>1?a:h.bindType||d,c=(it.get(s,"events")||{})[n.type]&&it.get(s,"handle"),c&&c.apply(s,e),c=l&&s[l],c&&c.apply&&cd(s)&&(n.result=c.apply(s,e),n.result===!1&&n.preventDefault());return n.type=d,!i&&!n.isDefaultPrevented()&&(!h._default||h._default.apply(f.pop(),e)===!1)&&cd(t)&&l&&ut(t[d])&&!cl(t)&&(o=t[l],o&&(t[l]=null),P.event.triggered=d,n.isPropagationStopped()&&u.addEventListener(d,zF),t[d](),n.isPropagationStopped()&&u.removeEventListener(d,zF),P.event.triggered=void 0,o&&(t[l]=o)),n.result}},simulate:function(n,e,t){var i=P.extend(new P.Event,t,{type:n,isSimulated:!0});P.event.trigger(i,null,e)}});P.fn.extend({trigger:function(n,e){return this.each(function(){P.event.trigger(n,e,this)})},triggerHandler:function(n,e){var t=this[0];if(t)return P.event.trigger(n,e,t,!0)}});Mt.focusin||P.each({focus:"focusin",blur:"focusout"},function(n,e){var t=function(i){P.event.simulate(e,i.target,P.event.fix(i))};P.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=it.access(i,e);r||i.addEventListener(n,t,!0),it.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=it.access(i,e)-1;r?it.access(i,e,r):(i.removeEventListener(n,t,!0),it.remove(i,e))}}});var $S=/\[\]$/,PF=/\r?\n/g,GS=/^(?:submit|button|image|reset|file)$/i,WS=/^(?:input|select|textarea|keygen)/i;function Sm(n,e,t,i){var r;if(Array.isArray(e))P.each(e,function(s,o){t||$S.test(n)?i(n,o):Sm(n+"["+(typeof o=="object"&&o!=null?s:"")+"]",o,t,i)});else if(!t&&Cl(e)==="object")for(r in e)Sm(n+"["+r+"]",e[r],t,i);else i(n,e)}P.param=function(n,e){var t,i=[],r=function(s,o){var a=ut(o)?o():o;i[i.length]=encodeURIComponent(s)+"="+encodeURIComponent(a??"")};if(Array.isArray(n)||n.jquery&&!P.isPlainObject(n))P.each(n,function(){r(this.name,this.value)});else for(t in n)Sm(t,n[t],e,r);return i.join("&")};P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=P.prop(this,"elements");return n?P.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!P(this).is(":disabled")&&WS.test(this.nodeName)&&!GS.test(n)&&(this.checked||!q_.test(n))}).map(function(n,e){var t=P(this).val();return t==null?null:Array.isArray(t)?P.map(t,function(i){return{name:e.name,value:i.replace(PF,`\r
`)}}):{name:e.name,value:t.replace(PF,`\r
`)}}).get()}});P.fn.extend({wrapAll:function(n){var e;return this[0]&&(ut(n)&&(n=n.call(this[0])),e=P(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return ut(n)?this.each(function(e){P(this).wrapInner(n.call(this,e))}):this.each(function(){var e=P(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(n){var e=ut(n);return this.each(function(t){P(this).wrapAll(e?n.call(this,t):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}});P.expr.pseudos.hidden=function(n){return!P.expr.pseudos.visible(n)};P.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)};Mt.createHTMLDocument=function(){var n=ft.implementation.createHTMLDocument("").body;return n.innerHTML="<form></form><form></form>",n.childNodes.length===2}();P.parseHTML=function(n,e,t){if(typeof n!="string")return[];typeof e=="boolean"&&(t=e,e=!1);var i,r,s;return e||(Mt.createHTMLDocument?(e=ft.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=ft.location.href,e.head.appendChild(i)):e=ft),r=P_.exec(n),s=!t&&[],r?[e.createElement(r[1])]:(r=$_([n],e,s),s&&s.length&&P(s).remove(),P.merge([],r.childNodes))};P.offset={setOffset:function(n,e,t){var i,r,s,o,a,l,c,h=P.css(n,"position"),u=P(n),f={};h==="static"&&(n.style.position="relative"),a=u.offset(),s=P.css(n,"top"),l=P.css(n,"left"),c=(h==="absolute"||h==="fixed")&&(s+l).indexOf("auto")>-1,c?(i=u.position(),o=i.top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),ut(e)&&(e=e.call(n,t,P.extend({},a))),e.top!=null&&(f.top=e.top-a.top+o),e.left!=null&&(f.left=e.left-a.left+r),"using"in e?e.using.call(n,f):u.css(f)}};P.fn.extend({offset:function(n){if(arguments.length)return n===void 0?this:this.each(function(r){P.offset.setOffset(this,n,r)});var e,t,i=this[0];if(i)return i.getClientRects().length?(e=i.getBoundingClientRect(),t=i.ownerDocument.defaultView,{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,e,t,i=this[0],r={top:0,left:0};if(P.css(i,"position")==="fixed")e=i.getBoundingClientRect();else{for(e=this.offset(),t=i.ownerDocument,n=i.offsetParent||t.documentElement;n&&(n===t.body||n===t.documentElement)&&P.css(n,"position")==="static";)n=n.parentNode;n&&n!==i&&n.nodeType===1&&(r=P(n).offset(),r.top+=P.css(n,"borderTopWidth",!0),r.left+=P.css(n,"borderLeftWidth",!0))}return{top:e.top-r.top-P.css(i,"marginTop",!0),left:e.left-r.left-P.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&P.css(n,"position")==="static";)n=n.offsetParent;return n||hd})}});P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,e){var t=e==="pageYOffset";P.fn[n]=function(i){return Pr(this,function(r,s,o){var a;if(cl(r)?a=r:r.nodeType===9&&(a=r.defaultView),o===void 0)return a?a[e]:r[s];a?a.scrollTo(t?a.pageXOffset:o,t?o:a.pageYOffset):r[s]=o},n,i,arguments.length)}});P.each(["top","left"],function(n,e){P.cssHooks[e]=G_(Mt.pixelPosition,function(t,i){if(i)return i=lh(t,e),q1.test(i)?P(t).position()[e]+"px":i})});P.each({Height:"height",Width:"width"},function(n,e){P.each({padding:"inner"+n,content:e,"":"outer"+n},function(t,i){P.fn[i]=function(r,s){var o=arguments.length&&(t||typeof r!="boolean"),a=t||(r===!0||s===!0?"margin":"border");return Pr(this,function(l,c,h){var u;return cl(l)?i.indexOf("outer")===0?l["inner"+n]:l.document.documentElement["client"+n]:l.nodeType===9?(u=l.documentElement,Math.max(l.body["scroll"+n],u["scroll"+n],l.body["offset"+n],u["offset"+n],u["client"+n])):h===void 0?P.css(l,c,a):P.style(l,c,h,a)},e,o?r:void 0,o)}})});P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,e){P.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}});P.fn.extend({hover:function(n,e){return this.mouseenter(n).mouseleave(e||n)}});P.fn.extend({bind:function(n,e,t){return this.on(n,null,e,t)},unbind:function(n,e){return this.off(n,null,e)},delegate:function(n,e,t,i){return this.on(e,n,t,i)},undelegate:function(n,e,t){return arguments.length===1?this.off(n,"**"):this.off(e,n||"**",t)}});P.proxy=function(n,e){var t,i,r;if(typeof e=="string"&&(t=n[e],e=n,n=t),!!ut(n))return i=Fo.call(arguments,2),r=function(){return n.apply(e||this,i.concat(Fo.call(arguments)))},r.guid=n.guid=n.guid||P.guid++,r};P.holdReady=function(n){n?P.readyWait++:P.ready(!0)};P.isArray=Array.isArray;P.parseJSON=JSON.parse;P.nodeName=lr;P.isFunction=ut;P.isWindow=cl;P.camelCase=kr;P.type=Cl;P.now=Date.now;P.isNumeric=function(n){var e=P.type(n);return(e==="number"||e==="string")&&!isNaN(n-parseFloat(n))};const ke=P;function St(n){return typeof n=="string"||n instanceof String}function Ge(n){var e=String(n).split(/[.,]/),t=",",i=".";return e[0].split("").reverse().reduce(function(r,s,o){return o%3===0?r+t+s:r+s}).split("").reverse().join("")+(e[1]?i+e[1]:"")}const Qo=function(n){return n.split(/\n|\r\n|\r/g)};function KS(n,e){var t=[],i=n.length,r,s=0,o=!1,a;if(i>0)for(t[s]=n.charAt(0),r=1;r<i;r++)a=n.charAt(r),a==='"'?o=!o:!o&&a===e?(s++,t[s]=""):t[s]+=a;return t}function YS(n){return n===void 0||((n.startsWith("'")||n.startsWith('"'))&&(n=n.substring(1)),(n.endsWith("'")||n.endsWith('"'))&&(n=n.substring(0,n.length-1))),n}function Im(n){return n.length>0?n.charAt(0).toUpperCase()+n.slice(1):n}function XS(n){const e=n.split(":"),t=e[1].split("-"),i={chr:e[0],start:Number.parseInt(t[0].replace(/,/g,""))-1};return t.length>1?i.end=Number.parseInt(t[1].replace(/,/g,"")):i.end=i.start+1,i}function Y_(n){if(n.name!==void 0)return n.name;if(St(n)){let e=n.lastIndexOf("/"),t=e<0?n:n.substr(e+1);return e=t.indexOf("?"),e>0&&(t=t.substr(0,e)),t}else throw Error(`Expected File or string, got ${typeof n}`)}function Rs(n){return n?typeof n!="function"&&(n instanceof File||n.hasOwnProperty("name")&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function"):!1}function ud(n,e){const t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",n),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}typeof process=="object"&&typeof window>"u"&&(global.atob=function(n){return Buffer.from(n,"base64").toString("binary")});function X_(n){for(var e=ZS,t=e.parser.loose.exec(n),i={},r=14;r--;)i[e.key[r]]=t[r]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(s,o,a){o&&(i[e.q.name][o]=a)}),i}const ZS={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};async function JS(n){return typeof n=="function"?n():n}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const eI=4,OF=0,HF=1,tI=2;function xl(n){let e=n.length;for(;--e>=0;)n[e]=0}const nI=0,Z_=1,iI=2,rI=3,sI=258,j1=29,jh=256,ch=jh+1+j1,Da=30,Q1=19,J_=2*ch+1,to=15,dg=16,oI=7,$1=256,eC=16,tC=17,nC=18,Nm=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),wf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),aI=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),iC=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lI=512,Ar=new Array((ch+2)*2);xl(Ar);const Bc=new Array(Da*2);xl(Bc);const hh=new Array(lI);xl(hh);const uh=new Array(sI-rI+1);xl(uh);const G1=new Array(j1);xl(G1);const fd=new Array(Da);xl(fd);function pg(n,e,t,i,r){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=n&&n.length}let rC,sC,oC;function gg(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const aC=n=>n<256?hh[n]:hh[256+(n>>>7)],fh=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},Hn=(n,e,t)=>{n.bi_valid>dg-t?(n.bi_buf|=e<<n.bi_valid&65535,fh(n,n.bi_buf),n.bi_buf=e>>dg-n.bi_valid,n.bi_valid+=t-dg):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Zi=(n,e,t)=>{Hn(n,t[e*2],t[e*2+1])},lC=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},cI=n=>{n.bi_valid===16?(fh(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},hI=(n,e)=>{const t=e.dyn_tree,i=e.max_code,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,h,u,f,d,p,w=0;for(f=0;f<=to;f++)n.bl_count[f]=0;for(t[n.heap[n.heap_max]*2+1]=0,c=n.heap_max+1;c<J_;c++)h=n.heap[c],f=t[t[h*2+1]*2+1]+1,f>l&&(f=l,w++),t[h*2+1]=f,!(h>i)&&(n.bl_count[f]++,d=0,h>=a&&(d=o[h-a]),p=t[h*2],n.opt_len+=p*(f+d),s&&(n.static_len+=p*(r[h*2+1]+d)));if(w!==0){do{for(f=l-1;n.bl_count[f]===0;)f--;n.bl_count[f]--,n.bl_count[f+1]+=2,n.bl_count[l]--,w-=2}while(w>0);for(f=l;f!==0;f--)for(h=n.bl_count[f];h!==0;)u=n.heap[--c],!(u>i)&&(t[u*2+1]!==f&&(n.opt_len+=(f-t[u*2+1])*t[u*2],t[u*2+1]=f),h--)}},cC=(n,e,t)=>{const i=new Array(to+1);let r=0,s,o;for(s=1;s<=to;s++)r=r+t[s-1]<<1,i[s]=r;for(o=0;o<=e;o++){let a=n[o*2+1];a!==0&&(n[o*2]=lC(i[a]++,a))}},uI=()=>{let n,e,t,i,r;const s=new Array(to+1);for(t=0,i=0;i<j1-1;i++)for(G1[i]=t,n=0;n<1<<Nm[i];n++)uh[t++]=i;for(uh[t-1]=i,r=0,i=0;i<16;i++)for(fd[i]=r,n=0;n<1<<wf[i];n++)hh[r++]=i;for(r>>=7;i<Da;i++)for(fd[i]=r<<7,n=0;n<1<<wf[i]-7;n++)hh[256+r++]=i;for(e=0;e<=to;e++)s[e]=0;for(n=0;n<=143;)Ar[n*2+1]=8,n++,s[8]++;for(;n<=255;)Ar[n*2+1]=9,n++,s[9]++;for(;n<=279;)Ar[n*2+1]=7,n++,s[7]++;for(;n<=287;)Ar[n*2+1]=8,n++,s[8]++;for(cC(Ar,ch+1,s),n=0;n<Da;n++)Bc[n*2+1]=5,Bc[n*2]=lC(n,5);rC=new pg(Ar,Nm,jh+1,ch,to),sC=new pg(Bc,wf,0,Da,to),oC=new pg(new Array(0),aI,0,Q1,oI)},hC=n=>{let e;for(e=0;e<ch;e++)n.dyn_ltree[e*2]=0;for(e=0;e<Da;e++)n.dyn_dtree[e*2]=0;for(e=0;e<Q1;e++)n.bl_tree[e*2]=0;n.dyn_ltree[$1*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},uC=n=>{n.bi_valid>8?fh(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},UF=(n,e,t,i)=>{const r=e*2,s=t*2;return n[r]<n[s]||n[r]===n[s]&&i[e]<=i[t]},mg=(n,e,t)=>{const i=n.heap[t];let r=t<<1;for(;r<=n.heap_len&&(r<n.heap_len&&UF(e,n.heap[r+1],n.heap[r],n.depth)&&r++,!UF(e,i,n.heap[r],n.depth));)n.heap[t]=n.heap[r],t=r,r<<=1;n.heap[t]=i},VF=(n,e,t)=>{let i,r,s=0,o,a;if(n.sym_next!==0)do i=n.pending_buf[n.sym_buf+s++]&255,i+=(n.pending_buf[n.sym_buf+s++]&255)<<8,r=n.pending_buf[n.sym_buf+s++],i===0?Zi(n,r,e):(o=uh[r],Zi(n,o+jh+1,e),a=Nm[o],a!==0&&(r-=G1[o],Hn(n,r,a)),i--,o=aC(i),Zi(n,o,t),a=wf[o],a!==0&&(i-=fd[o],Hn(n,i,a)));while(s<n.sym_next);Zi(n,$1,e)},Tm=(n,e)=>{const t=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,c;for(n.heap_len=0,n.heap_max=J_,o=0;o<s;o++)t[o*2]!==0?(n.heap[++n.heap_len]=l=o,n.depth[o]=0):t[o*2+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,t[c*2]=1,n.depth[c]=0,n.opt_len--,r&&(n.static_len-=i[c*2+1]);for(e.max_code=l,o=n.heap_len>>1;o>=1;o--)mg(n,t,o);c=s;do o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],mg(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=a,t[c*2]=t[o*2]+t[a*2],n.depth[c]=(n.depth[o]>=n.depth[a]?n.depth[o]:n.depth[a])+1,t[o*2+1]=t[a*2+1]=c,n.heap[1]=c++,mg(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],hI(n,e),cC(t,l,n.bl_count)},qF=(n,e,t)=>{let i,r=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(t+1)*2+1]=65535,i=0;i<=t;i++)s=o,o=e[(i+1)*2+1],!(++a<l&&s===o)&&(a<c?n.bl_tree[s*2]+=a:s!==0?(s!==r&&n.bl_tree[s*2]++,n.bl_tree[eC*2]++):a<=10?n.bl_tree[tC*2]++:n.bl_tree[nC*2]++,a=0,r=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},jF=(n,e,t)=>{let i,r=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),i=0;i<=t;i++)if(s=o,o=e[(i+1)*2+1],!(++a<l&&s===o)){if(a<c)do Zi(n,s,n.bl_tree);while(--a!==0);else s!==0?(s!==r&&(Zi(n,s,n.bl_tree),a--),Zi(n,eC,n.bl_tree),Hn(n,a-3,2)):a<=10?(Zi(n,tC,n.bl_tree),Hn(n,a-3,3)):(Zi(n,nC,n.bl_tree),Hn(n,a-11,7));a=0,r=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},fI=n=>{let e;for(qF(n,n.dyn_ltree,n.l_desc.max_code),qF(n,n.dyn_dtree,n.d_desc.max_code),Tm(n,n.bl_desc),e=Q1-1;e>=3&&n.bl_tree[iC[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},dI=(n,e,t,i)=>{let r;for(Hn(n,e-257,5),Hn(n,t-1,5),Hn(n,i-4,4),r=0;r<i;r++)Hn(n,n.bl_tree[iC[r]*2+1],3);jF(n,n.dyn_ltree,e-1),jF(n,n.dyn_dtree,t-1)},pI=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return OF;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return HF;for(t=32;t<jh;t++)if(n.dyn_ltree[t*2]!==0)return HF;return OF};let QF=!1;const gI=n=>{QF||(uI(),QF=!0),n.l_desc=new gg(n.dyn_ltree,rC),n.d_desc=new gg(n.dyn_dtree,sC),n.bl_desc=new gg(n.bl_tree,oC),n.bi_buf=0,n.bi_valid=0,hC(n)},fC=(n,e,t,i)=>{Hn(n,(nI<<1)+(i?1:0),3),uC(n),fh(n,t),fh(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},mI=n=>{Hn(n,Z_<<1,3),Zi(n,$1,Ar),cI(n)},wI=(n,e,t,i)=>{let r,s,o=0;n.level>0?(n.strm.data_type===tI&&(n.strm.data_type=pI(n)),Tm(n,n.l_desc),Tm(n,n.d_desc),o=fI(n),r=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=r&&(r=s)):r=s=t+5,t+4<=r&&e!==-1?fC(n,e,t,i):n.strategy===eI||s===r?(Hn(n,(Z_<<1)+(i?1:0),3),VF(n,Ar,Bc)):(Hn(n,(iI<<1)+(i?1:0),3),dI(n,n.l_desc.max_code+1,n.d_desc.max_code+1,o+1),VF(n,n.dyn_ltree,n.dyn_dtree)),hC(n),i&&uC(n)},bI=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(uh[t]+jh+1)*2]++,n.dyn_dtree[aC(e)*2]++),n.sym_next===n.sym_end);var FI=gI,yI=fC,vI=wI,AI=bI,_I=mI,CI={_tr_init:FI,_tr_stored_block:yI,_tr_flush_block:vI,_tr_tally:AI,_tr_align:_I};const xI=(n,e,t,i)=>{let r=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do r=r+e[i++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0};var dh=xI;const kI=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},EI=new Uint32Array(kI()),SI=(n,e,t,i)=>{const r=EI,s=i+t;n^=-1;for(let o=i;o<s;o++)n=n>>>8^r[(n^e[o])&255];return n^-1};var en=SI,So={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:II,_tr_stored_block:Rm,_tr_flush_block:NI,_tr_tally:Es,_tr_align:TI}=CI,{Z_NO_FLUSH:Ss,Z_PARTIAL_FLUSH:RI,Z_FULL_FLUSH:MI,Z_FINISH:wi,Z_BLOCK:$F,Z_OK:cn,Z_STREAM_END:GF,Z_STREAM_ERROR:or,Z_DATA_ERROR:BI,Z_BUF_ERROR:wg,Z_DEFAULT_COMPRESSION:DI,Z_FILTERED:LI,Z_HUFFMAN_ONLY:Cu,Z_RLE:zI,Z_FIXED:PI,Z_DEFAULT_STRATEGY:OI,Z_UNKNOWN:HI,Z_DEFLATED:fp}=kl,UI=9,VI=15,qI=8,jI=29,QI=256,Mm=QI+1+jI,$I=30,GI=19,WI=2*Mm+1,KI=15,nt=3,bs=258,ar=bs+nt+1,YI=32,hl=42,W1=57,Bm=69,Dm=73,Lm=91,zm=103,no=113,vc=666,Sn=1,El=2,Io=3,Sl=4,XI=3,io=(n,e)=>(n.msg=So[e],e),WF=n=>n*2-(n>4?9:0),as=n=>{let e=n.length;for(;--e>=0;)n[e]=0},ZI=n=>{let e,t,i,r=n.w_size;e=n.hash_size,i=e;do t=n.head[--i],n.head[i]=t>=r?t-r:0;while(--e);e=r,i=e;do t=n.prev[--i],n.prev[i]=t>=r?t-r:0;while(--e)};let JI=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,Is=JI;const Yn=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},ti=(n,e)=>{NI(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Yn(n.strm)},at=(n,e)=>{n.pending_buf[n.pending++]=e},Xl=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},Pm=(n,e,t,i)=>{let r=n.avail_in;return r>i&&(r=i),r===0?0:(n.avail_in-=r,e.set(n.input.subarray(n.next_in,n.next_in+r),t),n.state.wrap===1?n.adler=dh(n.adler,e,r,t):n.state.wrap===2&&(n.adler=en(n.adler,e,r,t)),n.next_in+=r,n.total_in+=r,r)},dC=(n,e)=>{let t=n.max_chain_length,i=n.strstart,r,s,o=n.prev_length,a=n.nice_match;const l=n.strstart>n.w_size-ar?n.strstart-(n.w_size-ar):0,c=n.window,h=n.w_mask,u=n.prev,f=n.strstart+bs;let d=c[i+o-1],p=c[i+o];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(r=e,!(c[r+o]!==p||c[r+o-1]!==d||c[r]!==c[i]||c[++r]!==c[i+1])){i+=2,r++;do;while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<f);if(s=bs-(f-i),i=f-bs,s>o){if(n.match_start=e,o=s,s>=a)break;d=c[i+o-1],p=c[i+o]}}while((e=u[e&h])>l&&--t!==0);return o<=n.lookahead?o:n.lookahead},ul=n=>{const e=n.w_size;let t,i,r;do{if(i=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-ar)&&(n.window.set(n.window.subarray(e,e+e-i),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),ZI(n),i+=e),n.strm.avail_in===0)break;if(t=Pm(n.strm,n.window,n.strstart+n.lookahead,i),n.lookahead+=t,n.lookahead+n.insert>=nt)for(r=n.strstart-n.insert,n.ins_h=n.window[r],n.ins_h=Is(n,n.ins_h,n.window[r+1]);n.insert&&(n.ins_h=Is(n,n.ins_h,n.window[r+nt-1]),n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,n.insert--,!(n.lookahead+n.insert<nt)););}while(n.lookahead<ar&&n.strm.avail_in!==0)},pC=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,i,r,s,o=0,a=n.strm.avail_in;do{if(i=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,r=n.strstart-n.block_start,i>r+n.strm.avail_in&&(i=r+n.strm.avail_in),i>s&&(i=s),i<t&&(i===0&&e!==wi||e===Ss||i!==r+n.strm.avail_in)))break;o=e===wi&&i===r+n.strm.avail_in?1:0,Rm(n,0,0,o),n.pending_buf[n.pending-4]=i,n.pending_buf[n.pending-3]=i>>8,n.pending_buf[n.pending-2]=~i,n.pending_buf[n.pending-1]=~i>>8,Yn(n.strm),r&&(r>i&&(r=i),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+r),n.strm.next_out),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r,n.block_start+=r,i-=r),i&&(Pm(n.strm,n.strm.output,n.strm.next_out,i),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i)}while(o===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),o?Sl:e!==Ss&&e!==wi&&n.strm.avail_in===0&&n.strstart===n.block_start?El:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(Pm(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,t=s>n.w_size?n.w_size:s,r=n.strstart-n.block_start,(r>=t||(r||e===wi)&&e!==Ss&&n.strm.avail_in===0&&r<=s)&&(i=r>s?s:r,o=e===wi&&n.strm.avail_in===0&&i===r?1:0,Rm(n,n.block_start,i,o),n.block_start+=i,Yn(n.strm)),o?Io:Sn)},bg=(n,e)=>{let t,i;for(;;){if(n.lookahead<ar){if(ul(n),n.lookahead<ar&&e===Ss)return Sn;if(n.lookahead===0)break}if(t=0,n.lookahead>=nt&&(n.ins_h=Is(n,n.ins_h,n.window[n.strstart+nt-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-ar&&(n.match_length=dC(n,t)),n.match_length>=nt)if(i=Es(n,n.strstart-n.match_start,n.match_length-nt),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=nt){n.match_length--;do n.strstart++,n.ins_h=Is(n,n.ins_h,n.window[n.strstart+nt-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Is(n,n.ins_h,n.window[n.strstart+1]);else i=Es(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(ti(n,!1),n.strm.avail_out===0))return Sn}return n.insert=n.strstart<nt-1?n.strstart:nt-1,e===wi?(ti(n,!0),n.strm.avail_out===0?Io:Sl):n.sym_next&&(ti(n,!1),n.strm.avail_out===0)?Sn:El},Zo=(n,e)=>{let t,i,r;for(;;){if(n.lookahead<ar){if(ul(n),n.lookahead<ar&&e===Ss)return Sn;if(n.lookahead===0)break}if(t=0,n.lookahead>=nt&&(n.ins_h=Is(n,n.ins_h,n.window[n.strstart+nt-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=nt-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-ar&&(n.match_length=dC(n,t),n.match_length<=5&&(n.strategy===LI||n.match_length===nt&&n.strstart-n.match_start>4096)&&(n.match_length=nt-1)),n.prev_length>=nt&&n.match_length<=n.prev_length){r=n.strstart+n.lookahead-nt,i=Es(n,n.strstart-1-n.prev_match,n.prev_length-nt),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=r&&(n.ins_h=Is(n,n.ins_h,n.window[n.strstart+nt-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=nt-1,n.strstart++,i&&(ti(n,!1),n.strm.avail_out===0))return Sn}else if(n.match_available){if(i=Es(n,0,n.window[n.strstart-1]),i&&ti(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return Sn}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=Es(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<nt-1?n.strstart:nt-1,e===wi?(ti(n,!0),n.strm.avail_out===0?Io:Sl):n.sym_next&&(ti(n,!1),n.strm.avail_out===0)?Sn:El},eN=(n,e)=>{let t,i,r,s;const o=n.window;for(;;){if(n.lookahead<=bs){if(ul(n),n.lookahead<=bs&&e===Ss)return Sn;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=nt&&n.strstart>0&&(r=n.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){s=n.strstart+bs;do;while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<s);n.match_length=bs-(s-r),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=nt?(t=Es(n,1,n.match_length-nt),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=Es(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(ti(n,!1),n.strm.avail_out===0))return Sn}return n.insert=0,e===wi?(ti(n,!0),n.strm.avail_out===0?Io:Sl):n.sym_next&&(ti(n,!1),n.strm.avail_out===0)?Sn:El},tN=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(ul(n),n.lookahead===0)){if(e===Ss)return Sn;break}if(n.match_length=0,t=Es(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(ti(n,!1),n.strm.avail_out===0))return Sn}return n.insert=0,e===wi?(ti(n,!0),n.strm.avail_out===0?Io:Sl):n.sym_next&&(ti(n,!1),n.strm.avail_out===0)?Sn:El};function qi(n,e,t,i,r){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=i,this.func=r}const Ac=[new qi(0,0,0,0,pC),new qi(4,4,8,4,bg),new qi(4,5,16,8,bg),new qi(4,6,32,32,bg),new qi(4,4,16,16,Zo),new qi(8,16,32,32,Zo),new qi(8,16,128,128,Zo),new qi(8,32,128,256,Zo),new qi(32,128,258,1024,Zo),new qi(32,258,258,4096,Zo)],nN=n=>{n.window_size=2*n.w_size,as(n.head),n.max_lazy_match=Ac[n.level].max_lazy,n.good_match=Ac[n.level].good_length,n.nice_match=Ac[n.level].nice_length,n.max_chain_length=Ac[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=nt-1,n.match_available=0,n.ins_h=0};function iN(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(WI*2),this.dyn_dtree=new Uint16Array((2*$I+1)*2),this.bl_tree=new Uint16Array((2*GI+1)*2),as(this.dyn_ltree),as(this.dyn_dtree),as(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(KI+1),this.heap=new Uint16Array(2*Mm+1),as(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Mm+1),as(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Qh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==hl&&e.status!==W1&&e.status!==Bm&&e.status!==Dm&&e.status!==Lm&&e.status!==zm&&e.status!==no&&e.status!==vc?1:0},gC=n=>{if(Qh(n))return io(n,or);n.total_in=n.total_out=0,n.data_type=HI;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?W1:e.wrap?hl:no,n.adler=e.wrap===2?0:1,e.last_flush=-2,II(e),cn},mC=n=>{const e=gC(n);return e===cn&&nN(n.state),e},rN=(n,e)=>Qh(n)||n.state.wrap!==2?or:(n.state.gzhead=e,cn),wC=(n,e,t,i,r,s)=>{if(!n)return or;let o=1;if(e===DI&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>UI||t!==fp||i<8||i>15||e<0||e>9||s<0||s>PI||i===8&&o!==1)return io(n,or);i===8&&(i=9);const a=new iN;return n.state=a,a.strm=n,a.status=hl,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+nt-1)/nt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,mC(n)},sN=(n,e)=>wC(n,e,fp,VI,qI,OI),oN=(n,e)=>{if(Qh(n)||e>$F||e<0)return n?io(n,or):or;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===vc&&e!==wi)return io(n,n.avail_out===0?wg:or);const i=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Yn(n),n.avail_out===0)return t.last_flush=-1,cn}else if(n.avail_in===0&&WF(e)<=WF(i)&&e!==wi)return io(n,wg);if(t.status===vc&&n.avail_in!==0)return io(n,wg);if(t.status===hl&&t.wrap===0&&(t.status=no),t.status===hl){let r=fp+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=Cu||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,r|=s<<6,t.strstart!==0&&(r|=YI),r+=31-r%31,Xl(t,r),t.strstart!==0&&(Xl(t,n.adler>>>16),Xl(t,n.adler&65535)),n.adler=1,t.status=no,Yn(n),t.pending!==0)return t.last_flush=-1,cn}if(t.status===W1){if(n.adler=0,at(t,31),at(t,139),at(t,8),t.gzhead)at(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),at(t,t.gzhead.time&255),at(t,t.gzhead.time>>8&255),at(t,t.gzhead.time>>16&255),at(t,t.gzhead.time>>24&255),at(t,t.level===9?2:t.strategy>=Cu||t.level<2?4:0),at(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(at(t,t.gzhead.extra.length&255),at(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=en(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Bm;else if(at(t,0),at(t,0),at(t,0),at(t,0),at(t,0),at(t,t.level===9?2:t.strategy>=Cu||t.level<2?4:0),at(t,XI),t.status=no,Yn(n),t.pending!==0)return t.last_flush=-1,cn}if(t.status===Bm){if(t.gzhead.extra){let r=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(n.adler=en(n.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=a,Yn(n),t.pending!==0)return t.last_flush=-1,cn;r=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>r&&(n.adler=en(n.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Dm}if(t.status===Dm){if(t.gzhead.name){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(n.adler=en(n.adler,t.pending_buf,t.pending-r,r)),Yn(n),t.pending!==0)return t.last_flush=-1,cn;r=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,at(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(n.adler=en(n.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Lm}if(t.status===Lm){if(t.gzhead.comment){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(n.adler=en(n.adler,t.pending_buf,t.pending-r,r)),Yn(n),t.pending!==0)return t.last_flush=-1,cn;r=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,at(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(n.adler=en(n.adler,t.pending_buf,t.pending-r,r))}t.status=zm}if(t.status===zm){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Yn(n),t.pending!==0))return t.last_flush=-1,cn;at(t,n.adler&255),at(t,n.adler>>8&255),n.adler=0}if(t.status=no,Yn(n),t.pending!==0)return t.last_flush=-1,cn}if(n.avail_in!==0||t.lookahead!==0||e!==Ss&&t.status!==vc){let r=t.level===0?pC(t,e):t.strategy===Cu?tN(t,e):t.strategy===zI?eN(t,e):Ac[t.level].func(t,e);if((r===Io||r===Sl)&&(t.status=vc),r===Sn||r===Io)return n.avail_out===0&&(t.last_flush=-1),cn;if(r===El&&(e===RI?TI(t):e!==$F&&(Rm(t,0,0,!1),e===MI&&(as(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Yn(n),n.avail_out===0))return t.last_flush=-1,cn}return e!==wi?cn:t.wrap<=0?GF:(t.wrap===2?(at(t,n.adler&255),at(t,n.adler>>8&255),at(t,n.adler>>16&255),at(t,n.adler>>24&255),at(t,n.total_in&255),at(t,n.total_in>>8&255),at(t,n.total_in>>16&255),at(t,n.total_in>>24&255)):(Xl(t,n.adler>>>16),Xl(t,n.adler&65535)),Yn(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?cn:GF)},aN=n=>{if(Qh(n))return or;const e=n.state.status;return n.state=null,e===no?io(n,BI):cn},lN=(n,e)=>{let t=e.length;if(Qh(n))return or;const i=n.state,r=i.wrap;if(r===2||r===1&&i.status!==hl||i.lookahead)return or;if(r===1&&(n.adler=dh(n.adler,e,t,0)),i.wrap=0,t>=i.w_size){r===0&&(as(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(e.subarray(t-i.w_size,t),0),e=l,t=i.w_size}const s=n.avail_in,o=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,ul(i);i.lookahead>=nt;){let l=i.strstart,c=i.lookahead-(nt-1);do i.ins_h=Is(i,i.ins_h,i.window[l+nt-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--c);i.strstart=l,i.lookahead=nt-1,ul(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=nt-1,i.match_available=0,n.next_in=o,n.input=a,n.avail_in=s,i.wrap=r,cn};var cN=sN,hN=wC,uN=mC,fN=gC,dN=rN,pN=oN,gN=aN,mN=lN,wN="pako deflate (from Nodeca project)",Dc={deflateInit:cN,deflateInit2:hN,deflateReset:uN,deflateResetKeep:fN,deflateSetHeader:dN,deflate:pN,deflateEnd:gN,deflateSetDictionary:mN,deflateInfo:wN};const bN=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var FN=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)bN(t,i)&&(n[i]=t[i])}}return n},yN=n=>{let e=0;for(let i=0,r=n.length;i<r;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,r=0,s=n.length;i<s;i++){let o=n[i];t.set(o,r),r+=o.length}return t},dp={assign:FN,flattenChunks:yN};let bC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bC=!1}const ph=new Uint8Array(256);for(let n=0;n<256;n++)ph[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ph[254]=ph[254]=1;var vN=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,r,s,o=n.length,a=0;for(r=0;r<o;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,r=0;s<a;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const AN=(n,e)=>{if(e<65534&&n.subarray&&bC)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var _N=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,r;const s=new Array(t*2);for(r=0,i=0;i<t;){let o=n[i++];if(o<128){s[r++]=o;continue}let a=ph[o];if(a>4){s[r++]=65533,i+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&i<t;)o=o<<6|n[i++]&63,a--;if(a>1){s[r++]=65533;continue}o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|o&1023)}return AN(s,r)},CN=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+ph[n[t]]>e?t:e},gh={string2buf:vN,buf2string:_N,utf8border:CN};function xN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var FC=xN;const yC=Object.prototype.toString,{Z_NO_FLUSH:kN,Z_SYNC_FLUSH:EN,Z_FULL_FLUSH:SN,Z_FINISH:IN,Z_OK:dd,Z_STREAM_END:NN,Z_DEFAULT_COMPRESSION:TN,Z_DEFAULT_STRATEGY:RN,Z_DEFLATED:MN}=kl;function $h(n){this.options=dp.assign({level:TN,method:MN,chunkSize:16384,windowBits:15,memLevel:8,strategy:RN},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FC,this.strm.avail_out=0;let t=Dc.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==dd)throw new Error(So[t]);if(e.header&&Dc.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(typeof e.dictionary=="string"?i=gh.string2buf(e.dictionary):yC.call(e.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(e.dictionary):i=e.dictionary,t=Dc.deflateSetDictionary(this.strm,i),t!==dd)throw new Error(So[t]);this._dict_set=!0}}$h.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize;let r,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?IN:kN,typeof n=="string"?t.input=gh.string2buf(n):yC.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(s===EN||s===SN)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=Dc.deflate(t,s),r===NN)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=Dc.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===dd;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};$h.prototype.onData=function(n){this.chunks.push(n)};$h.prototype.onEnd=function(n){n===dd&&(this.result=dp.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function K1(n,e){const t=new $h(e);if(t.push(n,!0),t.err)throw t.msg||So[t.err];return t.result}function BN(n,e){return e=e||{},e.raw=!0,K1(n,e)}function DN(n,e){return e=e||{},e.gzip=!0,K1(n,e)}var LN=$h,zN=K1,PN=BN,ON=DN,HN=kl,UN={Deflate:LN,deflate:zN,deflateRaw:PN,gzip:ON,constants:HN};const xu=16209,VN=16191;var qN=function(e,t){let i,r,s,o,a,l,c,h,u,f,d,p,w,F,g,m,b,y,A,x,v,_,k,E;const T=e.state;i=e.next_in,k=e.input,r=i+(e.avail_in-5),s=e.next_out,E=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=T.dmax,c=T.wsize,h=T.whave,u=T.wnext,f=T.window,d=T.hold,p=T.bits,w=T.lencode,F=T.distcode,g=(1<<T.lenbits)-1,m=(1<<T.distbits)-1;e:do{p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),b=w[d&g];t:for(;;){if(y=b>>>24,d>>>=y,p-=y,y=b>>>16&255,y===0)E[s++]=b&65535;else if(y&16){A=b&65535,y&=15,y&&(p<y&&(d+=k[i++]<<p,p+=8),A+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),b=F[d&m];n:for(;;){if(y=b>>>24,d>>>=y,p-=y,y=b>>>16&255,y&16){if(x=b&65535,y&=15,p<y&&(d+=k[i++]<<p,p+=8,p<y&&(d+=k[i++]<<p,p+=8)),x+=d&(1<<y)-1,x>l){e.msg="invalid distance too far back",T.mode=xu;break e}if(d>>>=y,p-=y,y=s-o,x>y){if(y=x-y,y>h&&T.sane){e.msg="invalid distance too far back",T.mode=xu;break e}if(v=0,_=f,u===0){if(v+=c-y,y<A){A-=y;do E[s++]=f[v++];while(--y);v=s-x,_=E}}else if(u<y){if(v+=c+u-y,y-=u,y<A){A-=y;do E[s++]=f[v++];while(--y);if(v=0,u<A){y=u,A-=y;do E[s++]=f[v++];while(--y);v=s-x,_=E}}}else if(v+=u-y,y<A){A-=y;do E[s++]=f[v++];while(--y);v=s-x,_=E}for(;A>2;)E[s++]=_[v++],E[s++]=_[v++],E[s++]=_[v++],A-=3;A&&(E[s++]=_[v++],A>1&&(E[s++]=_[v++]))}else{v=s-x;do E[s++]=E[v++],E[s++]=E[v++],E[s++]=E[v++],A-=3;while(A>2);A&&(E[s++]=E[v++],A>1&&(E[s++]=E[v++]))}}else if(y&64){e.msg="invalid distance code",T.mode=xu;break e}else{b=F[(b&65535)+(d&(1<<y)-1)];continue n}break}}else if(y&64)if(y&32){T.mode=VN;break e}else{e.msg="invalid literal/length code",T.mode=xu;break e}else{b=w[(b&65535)+(d&(1<<y)-1)];continue t}break}}while(i<r&&s<a);A=p>>3,i-=A,p-=A<<3,d&=(1<<p)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<a?257+(a-s):257-(s-a),T.hold=d,T.bits=p};const Jo=15,KF=852,YF=592,XF=0,Fg=1,ZF=2,jN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),QN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),$N=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),WN=(n,e,t,i,r,s,o,a)=>{const l=a.bits;let c=0,h=0,u=0,f=0,d=0,p=0,w=0,F=0,g=0,m=0,b,y,A,x,v,_=null,k;const E=new Uint16Array(Jo+1),T=new Uint16Array(Jo+1);let M=null,N,C,B;for(c=0;c<=Jo;c++)E[c]=0;for(h=0;h<i;h++)E[e[t+h]]++;for(d=l,f=Jo;f>=1&&E[f]===0;f--);if(d>f&&(d=f),f===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(u=1;u<f&&E[u]===0;u++);for(d<u&&(d=u),F=1,c=1;c<=Jo;c++)if(F<<=1,F-=E[c],F<0)return-1;if(F>0&&(n===XF||f!==1))return-1;for(T[1]=0,c=1;c<Jo;c++)T[c+1]=T[c]+E[c];for(h=0;h<i;h++)e[t+h]!==0&&(o[T[e[t+h]]++]=h);if(n===XF?(_=M=o,k=20):n===Fg?(_=jN,M=QN,k=257):(_=$N,M=GN,k=0),m=0,h=0,c=u,v=s,p=d,w=0,A=-1,g=1<<d,x=g-1,n===Fg&&g>KF||n===ZF&&g>YF)return 1;for(;;){N=c-w,o[h]+1<k?(C=0,B=o[h]):o[h]>=k?(C=M[o[h]-k],B=_[o[h]-k]):(C=96,B=0),b=1<<c-w,y=1<<p,u=y;do y-=b,r[v+(m>>w)+y]=N<<24|C<<16|B|0;while(y!==0);for(b=1<<c-1;m&b;)b>>=1;if(b!==0?(m&=b-1,m+=b):m=0,h++,--E[c]===0){if(c===f)break;c=e[t+o[h]]}if(c>d&&(m&x)!==A){for(w===0&&(w=d),v+=u,p=c-w,F=1<<p;p+w<f&&(F-=E[p+w],!(F<=0));)p++,F<<=1;if(g+=1<<p,n===Fg&&g>KF||n===ZF&&g>YF)return 1;A=m&x,r[A]=d<<24|p<<16|v-s|0}}return m!==0&&(r[v+m]=c-w<<24|64<<16|0),a.bits=d,0};var Lc=WN;const KN=0,vC=1,AC=2,{Z_FINISH:JF,Z_BLOCK:YN,Z_TREES:ku,Z_OK:No,Z_STREAM_END:XN,Z_NEED_DICT:ZN,Z_STREAM_ERROR:Ai,Z_DATA_ERROR:_C,Z_MEM_ERROR:CC,Z_BUF_ERROR:JN,Z_DEFLATED:ey}=kl,pp=16180,ty=16181,ny=16182,iy=16183,ry=16184,sy=16185,oy=16186,ay=16187,ly=16188,cy=16189,pd=16190,pr=16191,yg=16192,hy=16193,vg=16194,uy=16195,fy=16196,dy=16197,py=16198,Eu=16199,Su=16200,gy=16201,my=16202,wy=16203,by=16204,Fy=16205,Ag=16206,yy=16207,vy=16208,kt=16209,xC=16210,kC=16211,eT=852,tT=592,nT=15,iT=nT,Ay=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function rT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $o=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<pp||e.mode>kC?1:0},EC=n=>{if($o(n))return Ai;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=pp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(eT),e.distcode=e.distdyn=new Int32Array(tT),e.sane=1,e.back=-1,No},SC=n=>{if($o(n))return Ai;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,EC(n)},IC=(n,e)=>{let t;if($o(n))return Ai;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ai:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,SC(n))},NC=(n,e)=>{if(!n)return Ai;const t=new rT;n.state=t,t.strm=n,t.window=null,t.mode=pp;const i=IC(n,e);return i!==No&&(n.state=null),i},sT=n=>NC(n,iT);let _y=!0,_g,Cg;const oT=n=>{if(_y){_g=new Int32Array(512),Cg=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Lc(vC,n.lens,0,288,_g,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Lc(AC,n.lens,0,32,Cg,0,n.work,{bits:5}),_y=!1}n.lencode=_g,n.lenbits=9,n.distcode=Cg,n.distbits=5},TC=(n,e,t,i)=>{let r;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(t-i,t-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(t-i,t),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},aT=(n,e)=>{let t,i,r,s,o,a,l,c,h,u,f,d,p,w,F=0,g,m,b,y,A,x,v,_;const k=new Uint8Array(4);let E,T;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($o(n)||!n.output||!n.input&&n.avail_in!==0)return Ai;t=n.state,t.mode===pr&&(t.mode=yg),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=t.hold,h=t.bits,u=a,f=l,_=No;e:for(;;)switch(t.mode){case pp:if(t.wrap===0){t.mode=yg;break}for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=c&255,k[1]=c>>>8&255,t.check=en(t.check,k,2,0),c=0,h=0,t.mode=ty;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=kt;break}if((c&15)!==ey){n.msg="unknown compression method",t.mode=kt;break}if(c>>>=4,h-=4,v=(c&15)+8,t.wbits===0&&(t.wbits=v),v>15||v>t.wbits){n.msg="invalid window size",t.mode=kt;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?cy:pr,c=0,h=0;break;case ty:for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.flags=c,(t.flags&255)!==ey){n.msg="unknown compression method",t.mode=kt;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=kt;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=en(t.check,k,2,0)),c=0,h=0,t.mode=ny;case ny:for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,t.check=en(t.check,k,4,0)),c=0,h=0,t.mode=iy;case iy:for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=en(t.check,k,2,0)),c=0,h=0,t.mode=ry;case ry:if(t.flags&1024){for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=en(t.check,k,2,0)),c=0,h=0}else t.head&&(t.head.extra=null);t.mode=sy;case sy:if(t.flags&1024&&(d=t.length,d>a&&(d=a),d&&(t.head&&(v=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(s,s+d),v)),t.flags&512&&t.wrap&4&&(t.check=en(t.check,i,d,s)),a-=d,s+=d,t.length-=d),t.length))break e;t.length=0,t.mode=oy;case oy:if(t.flags&2048){if(a===0)break e;d=0;do v=i[s+d++],t.head&&v&&t.length<65536&&(t.head.name+=String.fromCharCode(v));while(v&&d<a);if(t.flags&512&&t.wrap&4&&(t.check=en(t.check,i,d,s)),a-=d,s+=d,v)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ay;case ay:if(t.flags&4096){if(a===0)break e;d=0;do v=i[s+d++],t.head&&v&&t.length<65536&&(t.head.comment+=String.fromCharCode(v));while(v&&d<a);if(t.flags&512&&t.wrap&4&&(t.check=en(t.check,i,d,s)),a-=d,s+=d,v)break e}else t.head&&(t.head.comment=null);t.mode=ly;case ly:if(t.flags&512){for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=kt;break}c=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=pr;break;case cy:for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}n.adler=t.check=Ay(c),c=0,h=0,t.mode=pd;case pd:if(t.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=h,ZN;n.adler=t.check=1,t.mode=pr;case pr:if(e===YN||e===ku)break e;case yg:if(t.last){c>>>=h&7,h-=h&7,t.mode=Ag;break}for(;h<3;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}switch(t.last=c&1,c>>>=1,h-=1,c&3){case 0:t.mode=hy;break;case 1:if(oT(t),t.mode=Eu,e===ku){c>>>=2,h-=2;break e}break;case 2:t.mode=fy;break;case 3:n.msg="invalid block type",t.mode=kt}c>>>=2,h-=2;break;case hy:for(c>>>=h&7,h-=h&7;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=kt;break}if(t.length=c&65535,c=0,h=0,t.mode=vg,e===ku)break e;case vg:t.mode=uy;case uy:if(d=t.length,d){if(d>a&&(d=a),d>l&&(d=l),d===0)break e;r.set(i.subarray(s,s+d),o),a-=d,s+=d,l-=d,o+=d,t.length-=d;break}t.mode=pr;break;case fy:for(;h<14;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.nlen=(c&31)+257,c>>>=5,h-=5,t.ndist=(c&31)+1,c>>>=5,h-=5,t.ncode=(c&15)+4,c>>>=4,h-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=kt;break}t.have=0,t.mode=dy;case dy:for(;t.have<t.ncode;){for(;h<3;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.lens[M[t.have++]]=c&7,c>>>=3,h-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,E={bits:t.lenbits},_=Lc(KN,t.lens,0,19,t.lencode,0,t.work,E),t.lenbits=E.bits,_){n.msg="invalid code lengths set",t.mode=kt;break}t.have=0,t.mode=py;case py:for(;t.have<t.nlen+t.ndist;){for(;F=t.lencode[c&(1<<t.lenbits)-1],g=F>>>24,m=F>>>16&255,b=F&65535,!(g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(b<16)c>>>=g,h-=g,t.lens[t.have++]=b;else{if(b===16){for(T=g+2;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(c>>>=g,h-=g,t.have===0){n.msg="invalid bit length repeat",t.mode=kt;break}v=t.lens[t.have-1],d=3+(c&3),c>>>=2,h-=2}else if(b===17){for(T=g+3;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=g,h-=g,v=0,d=3+(c&7),c>>>=3,h-=3}else{for(T=g+7;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=g,h-=g,v=0,d=11+(c&127),c>>>=7,h-=7}if(t.have+d>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=kt;break}for(;d--;)t.lens[t.have++]=v}}if(t.mode===kt)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=kt;break}if(t.lenbits=9,E={bits:t.lenbits},_=Lc(vC,t.lens,0,t.nlen,t.lencode,0,t.work,E),t.lenbits=E.bits,_){n.msg="invalid literal/lengths set",t.mode=kt;break}if(t.distbits=6,t.distcode=t.distdyn,E={bits:t.distbits},_=Lc(AC,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,E),t.distbits=E.bits,_){n.msg="invalid distances set",t.mode=kt;break}if(t.mode=Eu,e===ku)break e;case Eu:t.mode=Su;case Su:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=h,qN(n,f),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=t.hold,h=t.bits,t.mode===pr&&(t.back=-1);break}for(t.back=0;F=t.lencode[c&(1<<t.lenbits)-1],g=F>>>24,m=F>>>16&255,b=F&65535,!(g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(m&&!(m&240)){for(y=g,A=m,x=b;F=t.lencode[x+((c&(1<<y+A)-1)>>y)],g=F>>>24,m=F>>>16&255,b=F&65535,!(y+g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=y,h-=y,t.back+=y}if(c>>>=g,h-=g,t.back+=g,t.length=b,m===0){t.mode=Fy;break}if(m&32){t.back=-1,t.mode=pr;break}if(m&64){n.msg="invalid literal/length code",t.mode=kt;break}t.extra=m&15,t.mode=gy;case gy:if(t.extra){for(T=t.extra;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=my;case my:for(;F=t.distcode[c&(1<<t.distbits)-1],g=F>>>24,m=F>>>16&255,b=F&65535,!(g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(!(m&240)){for(y=g,A=m,x=b;F=t.distcode[x+((c&(1<<y+A)-1)>>y)],g=F>>>24,m=F>>>16&255,b=F&65535,!(y+g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=y,h-=y,t.back+=y}if(c>>>=g,h-=g,t.back+=g,m&64){n.msg="invalid distance code",t.mode=kt;break}t.offset=b,t.extra=m&15,t.mode=wy;case wy:if(t.extra){for(T=t.extra;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=kt;break}t.mode=by;case by:if(l===0)break e;if(d=f-l,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=kt;break}d>t.wnext?(d-=t.wnext,p=t.wsize-d):p=t.wnext-d,d>t.length&&(d=t.length),w=t.window}else w=r,p=o-t.offset,d=t.length;d>l&&(d=l),l-=d,t.length-=d;do r[o++]=w[p++];while(--d);t.length===0&&(t.mode=Su);break;case Fy:if(l===0)break e;r[o++]=t.length,l--,t.mode=Su;break;case Ag:if(t.wrap){for(;h<32;){if(a===0)break e;a--,c|=i[s++]<<h,h+=8}if(f-=l,n.total_out+=f,t.total+=f,t.wrap&4&&f&&(n.adler=t.check=t.flags?en(t.check,r,f,o-f):dh(t.check,r,f,o-f)),f=l,t.wrap&4&&(t.flags?c:Ay(c))!==t.check){n.msg="incorrect data check",t.mode=kt;break}c=0,h=0}t.mode=yy;case yy:if(t.wrap&&t.flags){for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=kt;break}c=0,h=0}t.mode=vy;case vy:_=XN;break e;case kt:_=_C;break e;case xC:return CC;case kC:default:return Ai}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=h,(t.wsize||f!==n.avail_out&&t.mode<kt&&(t.mode<Ag||e!==JF))&&TC(n,n.output,n.next_out,f-n.avail_out),u-=n.avail_in,f-=n.avail_out,n.total_in+=u,n.total_out+=f,t.total+=f,t.wrap&4&&f&&(n.adler=t.check=t.flags?en(t.check,r,f,n.next_out-f):dh(t.check,r,f,n.next_out-f)),n.data_type=t.bits+(t.last?64:0)+(t.mode===pr?128:0)+(t.mode===Eu||t.mode===vg?256:0),(u===0&&f===0||e===JF)&&_===No&&(_=JN),_},lT=n=>{if($o(n))return Ai;let e=n.state;return e.window&&(e.window=null),n.state=null,No},cT=(n,e)=>{if($o(n))return Ai;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,No):Ai},hT=(n,e)=>{const t=e.length;let i,r,s;return $o(n)||(i=n.state,i.wrap!==0&&i.mode!==pd)?Ai:i.mode===pd&&(r=1,r=dh(r,e,t,0),r!==i.check)?_C:(s=TC(n,e,t,t),s?(i.mode=xC,CC):(i.havedict=1,No))};var uT=SC,fT=IC,dT=EC,pT=sT,gT=NC,mT=aT,wT=lT,bT=cT,FT=hT,yT="pako inflate (from Nodeca project)",_r={inflateReset:uT,inflateReset2:fT,inflateResetKeep:dT,inflateInit:pT,inflateInit2:gT,inflate:mT,inflateEnd:wT,inflateGetHeader:bT,inflateSetDictionary:FT,inflateInfo:yT};function vT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var AT=vT;const RC=Object.prototype.toString,{Z_NO_FLUSH:_T,Z_FINISH:CT,Z_OK:mh,Z_STREAM_END:xg,Z_NEED_DICT:kg,Z_STREAM_ERROR:xT,Z_DATA_ERROR:Cy,Z_MEM_ERROR:kT}=kl;function Gh(n){this.options=dp.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FC,this.strm.avail_out=0;let t=_r.inflateInit2(this.strm,e.windowBits);if(t!==mh)throw new Error(So[t]);if(this.header=new AT,_r.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=gh.string2buf(e.dictionary):RC.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=_r.inflateSetDictionary(this.strm,e.dictionary),t!==mh)))throw new Error(So[t])}Gh.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?CT:_T,RC.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),s=_r.inflate(t,o),s===kg&&r&&(s=_r.inflateSetDictionary(t,r),s===mh?s=_r.inflate(t,o):s===Cy&&(s=kg));t.avail_in>0&&s===xg&&t.state.wrap>0&&n[t.next_in]!==0;)_r.inflateReset(t),s=_r.inflate(t,o);switch(s){case xT:case Cy:case kg:case kT:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===xg))if(this.options.to==="string"){let l=gh.utf8border(t.output,t.next_out),c=t.next_out-l,h=gh.buf2string(t.output,l);t.next_out=c,t.avail_out=i-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===mh&&a===0)){if(s===xg)return s=_r.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Gh.prototype.onData=function(n){this.chunks.push(n)};Gh.prototype.onEnd=function(n){n===mh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dp.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Y1(n,e){const t=new Gh(e);if(t.push(n),t.err)throw t.msg||So[t.err];return t.result}function ET(n,e){return e=e||{},e.raw=!0,Y1(n,e)}var ST=Gh,IT=Y1,NT=ET,TT=Y1,RT=kl,MT={Inflate:ST,inflate:IT,inflateRaw:NT,ungzip:TT,constants:RT};const{Deflate:bY,deflate:FY,deflateRaw:BT,gzip:yY}=UN,{Inflate:vY,inflate:DT,inflateRaw:LT,ungzip:zT}=MT;var PT=BT,wh=DT,X1=LT,MC=zT;const BC=4;function gd(n){const e=ArrayBuffer.isView(n)?n:new Uint8Array(n);return e[0]===31&&e[1]===139}function bh(n){const e=ArrayBuffer.isView(n)?n:new Uint8Array(n);return(e[3]&BC)!==0&&e[12]===66&&e[13]===67?cr(e.buffer):MC(e)}function cr(n,e){const t=[];let i=0,r=0;for(e=e||n.byteLength-18;i<e;)try{const o=ArrayBuffer.isView(n)?n:new Uint8Array(n,i,18),a=o[11]<<8|o[10],c=o[3]&BC,h=o[12],u=o[13],f=o[15]<<8|o[14],d=(o[17]<<8|o[16])+1,p=12+a+i,w=n.byteLength-p,F=d-a-19;if(w<F||F<=0)break;const g=new Uint8Array(n,p,F),m=X1(g);i+=F-1+26,r+=m.byteLength,t.push(m)}catch(o){console.error(o);break}if(t.length===1)return t[0];{const o=new Uint8Array(r);let a=0;for(let l=0;l<t.length;++l){var s=new Uint8Array(t[l]);UT(s,0,o,a,s.length),a+=s.length}return o}}function Z1(n){const e=ArrayBuffer.isView(n)?n:new Uint8Array(n);return(e[17]<<8|e[16])+1}const OT=new Uint8Array(1),HT=typeof OT.subarray=="function";function UT(n,e,t,i,r){if(r!==0){if(n){if(!t)throw"Undef dest"}else throw"Undef src";r===n.length?Eg(n,t,i):HT?Eg(n.subarray(e,e+r),t,i):n.BYTES_PER_ELEMENT===1&&r>100?Eg(new Uint8Array(n.buffer,n.byteOffset+e,r),t,i):VT(n,e,t,i,r)}}function VT(n,e,t,i,r){for(let s=0;s<r;++s)t[i+s]=n[e+s]}function Eg(n,e,t){e.set(n,t)}function qT(n){const e=new Uint8Array(n.length);for(var t=0;t<n.length;t++)e[t]=n.charCodeAt(t);const i=new PT(e),r=String.fromCharCode.apply(null,i);return btoa(r).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}function jT(n){n=n.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");const e=atob(n),t=[];for(let s=0;s<e.length;s++)t.push(e.charCodeAt(s));const i=X1(t);let r="";for(let s of i)r+=String.fromCharCode(s);return r}function Hs(n,e){const t=n.split(","),i=t[0].split(":")[1];let r=t[1];if(i.indexOf("base64")>=0){r=atob(r);const s=new Uint8Array(r.length);for(let a=0;a<r.length;a++)s[a]=r.charCodeAt(a);let o;return i.indexOf("gzip")>0?o=MC(s):o=s,o}else return decodeURIComponent(r)}const lt={lerp:(n,e,t)=>(1-t)*n+t*e,mean:function(n){var e=0,t=0,i;for(i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return t>0?e/t:0},meanAndStdev:function(n){var e,t=0,i=0,r=0,s;for(s=0;s<n.length;s++)e=n[s],isNaN(e)||(t+=e,i+=e*e,r++);return r>0?{mean:t/r,stdev:Math.sqrt(i-t*t/r)}:{mean:0,stdev:0}},median:function(n){var e=0,t=n.length;return n.sort(),t%2===0?e=(n[t/2-1]+n[t/2])/2:e=n[(t-1)/2],e},percentile:function(n,e){if(n.length!==0){var t=Math.floor(n.length*((100-e)/100));return t===0?(n.sort(function(i,r){return r-i}),n[t]):QT(n,t)}},clamp:function(n,e,t){return Math.min(Math.max(n,e),t)},log2:function(n){return Math.log(n)/Math.LN2}};function QT(n,e){var t=new DC,i;for(i=0;i<n.length;i++){var r=n[i];(t.content.length<e||r>t.content[0])&&(t.content.length===e&&t.pop(),t.push(r))}return t.content[0]}function DC(){this.content=[]}DC.prototype={push:function(n){this.content.push(n),this.bubbleUp(this.content.length-1)},pop:function(){var n=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),n},remove:function(n){for(var e=this.content.length,t=0;t<e;t++)if(this.content[t]===n){var i=this.content.pop();if(t===e-1)break;this.content[t]=i,this.bubbleUp(t),this.sinkDown(t);break}},size:function(){return this.content.length},bubbleUp:function(n){for(var e=this.content[n],t=e;n>0;){var i=Math.floor((n+1)/2)-1,r=this.content[i];if(t>=r)break;this.content[i]=e,this.content[n]=r,n=i}},sinkDown:function(n){for(var e=this.content.length,t=this.content[n],i=t;;){var r=(n+1)*2,s=r-1,o=null;if(s<e){var a=this.content[s],l=a;l<i&&(o=s)}if(r<e){var c=this.content[r],h=c;h<(o==null?i:l)&&(o=r)}if(o==null)break;this.content[n]=this.content[o],this.content[o]=t,n=o}}};function $s(n,e){return Math.random()*(e-n)+n}const Xe={rgbListFromHSV:()=>{let n=1,e=[];for(let t=1;t>=.5;t-=.1)for(let i=0;i<1;i+=1/28){const r="rgb("+Xe.hsvToRgb(i,n,t).join(",")+")";e.push(r)}return e.pop(),e.push(Xe.rgbColor(16,16,16)),e},rgbToHex:function(n){return n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),n&&n.length===4?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""},hexToRgb:function(n){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);if(e!==null)return"rgb("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+")"},hsvToRgb:function(n,e,t){var i,r,s,o=Math.floor(n*6),a=n*6-o,l=t*(1-e),c=t*(1-a*e),h=t*(1-(1-a)*e);switch(o%6){case 0:i=t,r=h,s=l;break;case 1:i=c,r=t,s=l;break;case 2:i=l,r=t,s=h;break;case 3:i=l,r=c,s=t;break;case 4:i=h,r=l,s=t;break;case 5:i=t,r=l,s=c;break}return[Math.floor(i*255),Math.floor(r*255),Math.floor(s*255)]},hslToRgb:function(n,e,t){var i,r,s;if(e===0)i=r=s=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;i=Xe.hue2rgb(a,o,n+1/3),r=Xe.hue2rgb(a,o,n),s=Xe.hue2rgb(a,o,n-1/3)}return[i*255,r*255,s*255]},hue2rgb:(n,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n),rgbaColor:function(n,e,t,i){return n=lt.clamp(n,0,255),e=lt.clamp(e,0,255),t=lt.clamp(t,0,255),i=lt.clamp(i,0,1),"rgba("+n+","+e+","+t+","+i+")"},rgbColor:function(n,e,t){return n=lt.clamp(n,0,255),e=lt.clamp(e,0,255),t=lt.clamp(t,0,255),"rgb("+n+","+e+","+t+")"},greyScale:function(n){var e=lt.clamp(n,0,255);return"rgb("+e+","+e+","+e+")"},randomGrey:function(n,e){n=lt.clamp(n,0,255),e=lt.clamp(e,0,255);var t=Math.round($s(n,e)).toString(10);return"rgb("+t+","+t+","+t+")"},randomRGB:function(n,e){n=lt.clamp(n,0,255),e=lt.clamp(e,0,255);var t=Math.round($s(n,e)).toString(10),i=Math.round($s(n,e)).toString(10),r=Math.round($s(n,e)).toString(10);return"rgb("+t+","+i+","+r+")"},randomRGBConstantAlpha:function(n,e,t){n=lt.clamp(n,0,255),e=lt.clamp(e,0,255);var i=Math.round($s(n,e)).toString(10),r=Math.round($s(n,e)).toString(10),s=Math.round($s(n,e)).toString(10);return"rgba("+i+","+r+","+s+","+t+")"},addAlpha:function(n,e){if(n==="0"||n===".")n="rgb(0,0,0)";else{const i=this.colorNameToHex(n);i&&(n=i)}var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n);if(n.startsWith("rgba")){const i=n.lastIndexOf(",");return n.substring(0,i+1)+e.toString()+")"}return t&&(n=Xe.hexToRgb(n)),n.startsWith("rgb")?n.replace("rgb","rgba").replace(")",", "+e+")"):(console.log(n+" is not an rgb style string"),n)},rgbComponents:function(n){if(n==="0"||n===".")return[0,0,0];if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n))n=Xe.hexToRgb(n);else if(!n.startsWith("rgb")){const t=this.colorNameToHex(n);n=this.hexToRgb(t)}if(n.startsWith("rgb("))return n.substring(4,n.length-1).split(",").map(t=>Number.parseInt(t.trim()));if(n.startsWith("rgba("))return n.substring(5,n.length-1).split(",").map((t,i)=>(t=t.trim(),i===3?Number.parseFloat(t):Number.parseInt(t)));throw Error("Unrecognized color string: color")},getCompositeColor:function(n,e,t){var i=Math.floor(t*e[0]+(1-t)*n[0]),r=Math.floor(t*e[1]+(1-t)*n[1]),s=Math.floor(t*e[2]+(1-t)*n[2]);return"rgb("+i+","+r+","+s+")"},createColorString:function(n){const e=this.createColorStringSafe(n);return e||n},createColorStringSafe:function(n){if(n=YS(n),n.startsWith("rgb(")&&n.endsWith(")")||n.startsWith("#")&&n.length<8)return n;const e=this.colorNameToHex(n);if(e)return e;const t=n.split(",");if(t.length===3&&Sg(t[0])&&Sg(t[1])&&Sg(t[2]))return`rgb(${n})`},darkenLighten:function(n,e){let t,i=this.colorNameToHex(n);i?t=Xe.hexToRgb(i):t=n.startsWith("rgb(")?n:Xe.hexToRgb(n);const r=t.replace(")","").substring(4).split(","),s=Math.max(0,Math.min(255,Number.parseInt(r[0].trim())+e)),o=Math.max(0,Math.min(255,Number.parseInt(r[1].trim())+e)),a=Math.max(0,Math.min(255,Number.parseInt(r[2].trim())+e));return"rgb("+s.toString()+","+o.toString()+","+a.toString()+")"},colorNameToHex:function(n){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[n]}};function Sg(n){const e=Number.parseInt(n);return!Number.isNaN(e)&&e>=0&&e<=255}const Ig="googleapis";class $T{constructor(){this.oauthTokens={}}setToken(e,t){t=t||Ig,this.oauthTokens[t]=e}getToken(e){e=e||Ig;let t;for(let i of Object.keys(this.oauthTokens))if(xy(i).test(e)){t=this.oauthTokens[i];break}return t}removeToken(e){e=e||Ig;for(let t of Object.keys(this.oauthTokens))xy(t).test(e)&&(this.oauthTokens[t]=void 0)}}function xy(n){return new RegExp("^"+n.split(/\*+/).map(GT).join(".*")+"$")}function GT(n){return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function Zl(n){return n.includes("googleapis")&&!n.includes("urlshortener")||J1(n)||md(n)}function J1(n){return n.startsWith("gs://")||n.startsWith("https://www.googleapis.com/storage")||n.startsWith("https://storage.cloud.google.com")||n.startsWith("https://storage.googleapis.com")}function md(n){return n.indexOf("drive.google.com")>=0||n.indexOf("www.googleapis.com/drive")>0}function WT(n){let{bucket:e,object:t}=KT(n);t=YT(t);const i=n.indexOf("?"),r=i>0?n.substring(i)+"&alt=media":"?alt=media";return`https://storage.googleapis.com/storage/v1/b/${e}/o/${t}${r}`}function KT(n){let e,t;if(n.startsWith("gs://")){const i=n.indexOf("/",5);if(i>=0){e=n.substring(5,i);const r=n.indexOf("?");t=r<0?n.substring(i+1):n.substring(i+1,r)}}else if(n.startsWith("https://storage.googleapis.com")||n.startsWith("https://storage.cloud.google.com")){const i=n.indexOf("/v1/b/",8);if(i>0){const r=n.indexOf("/o/",i);if(r>0){const s=n.indexOf("?",r);e=n.substring(i+6,r),t=s>0?n.substring(r+3,s):n.substring(r+3)}}else{const r=n.indexOf("/",8),s=n.indexOf("/",r+1),o=n.indexOf("?",s);s>0&&(e=n.substring(r+1,s),t=o<0?n.substring(s+1):n.substring(s+1,o))}}else if(n.startsWith("https://www.googleapis.com/storage/v1/b")){const i=n.indexOf("/v1/b/",8),r=n.indexOf("/o/",i);if(r>0){const s=n.indexOf("?",r);e=n.substring(i+6,r),t=s>0?n.substring(r+3,s):n.substring(r+3)}}if(e&&t)return{bucket:e,object:t};throw Error(`Unrecognized Google Storage URI: ${n}`)}function YT(n){let e="";return n.split("").forEach(function(t){Ot.has(t)?e+=Ot.get(t):e+=t}),e}const Ot=new Map;Ot.set("!","%21");Ot.set("#","%23");Ot.set("$","%24");Ot.set("%","%25");Ot.set("&","%26");Ot.set("'","%27");Ot.set("(","%28");Ot.set(")","%29");Ot.set("*","%2A");Ot.set("+","%2B");Ot.set(",","%2C");Ot.set("/","%2F");Ot.set(":","%3A");Ot.set(";","%3B");Ot.set("=","%3D");Ot.set("?","%3F");Ot.set("@","%40");Ot.set("[","%5B");Ot.set("]","%5D");Ot.set(" ","%20");async function XT(n){if(!google.accounts.oauth2.initTokenClient)throw new Error("Google accounts token client not loaded (https://accounts.google.com/gsi/client)");if(Go())throw new Error("Google client is already initialized");const e={client_id:n.client_id||n.clientId,scope:n.scope||"https://www.googleapis.com/auth/userinfo.profile",state:n.state||"igv",error:i=>{throw new Error(i.type)},hint:n.hint,hosted_domain:n.hosted_domain},t=google.accounts.oauth2.initTokenClient(e);google.igv={tokenClient:t,apiKey:n.apiKey}}function Go(){return window.google&&window.google.igv}function ZT(){return Go()&&google.igv.tokenResponse&&Date.now()<google.igv.tokenExpiresAt?google.igv.tokenResponse.access_token:void 0}async function LC(n){if(!Go())throw Error("Google oAuth has not been initialized");if(google.igv.tokenResponse&&Date.now()<google.igv.tokenExpiresAt&&google.accounts.oauth2.hasGrantedAllScopes(google.igv.tokenResponse,n))return google.igv.tokenResponse.access_token;{const e=google.igv.tokenClient;return new Promise((t,i)=>{try{e.callback=r=>{r.error!==void 0&&i(r),google.igv.tokenResponse=r,google.igv.tokenExpiresAt=Date.now()+r.expires_in*1e3,t(r.access_token)},e.requestAccessToken({scope:n})}catch(r){console.log(r)}})}}function JT(n){return md(n)?"https://www.googleapis.com/auth/drive.file":J1(n)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}function zC(){return google.igv.apiKey}async function eR(n){let t="https://www.googleapis.com/drive/v3/files/"+OC(n)+"?supportsTeamDrives=true";const i=zC();i&&(t+="&key="+i);let s=await(await fetch(t)).json();if(s.error&&s.error.code===404){const a=await LC("https://www.googleapis.com/auth/drive.readonly");if(a){if(s=await(await fetch(t,{headers:{Authorization:`Bearer ${a}`}})).json(),s.error)throw Error(s.error)}else throw Error(s.error)}return s}function PC(n){var e=OC(n);return e?"https://www.googleapis.com/drive/v3/files/"+e+"?alt=media&supportsTeamDrives=true":n}function OC(n){if(n.includes("/open?id=")){const e=n.indexOf("/open?id=")+9,t=n.indexOf("&");if(e>0&&t>e)return n.substring(e,t);if(e>0)return n.substring(e)}else if(n.includes("/file/d/")){const e=n.indexOf("/file/d/")+8,t=n.lastIndexOf("/");return n.substring(e,t)}else if(n.startsWith("https://www.googleapis.com/drive")){let e=n.indexOf("/files/");const t=n.indexOf("?");if(e>0)return e+=7,t>0?n.substring(e,t):n.substring(e)}throw Error("Unknown Google Drive url format: "+n)}class tR{constructor(e){this.requestsPerSecond=e.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}add(e,t){var i=this;return new Promise(function(r,s){i.queued.push({resolve:r,reject:s,asyncFunction:e}),i.dequeue()})}addAll(e,t){var i=e.map((function(r){return this.add(r,t)}).bind(this));return Promise.all(i)}dequeue(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,i=e-this.lastStartTime;i>=t?this._execute():setTimeout((function(){this.dequeue()}).bind(this),t-i)}}async _execute(){this.lastStartTime=new Date;var e=this.queued.shift();const t=e.asyncFunction;try{const i=await t();e.resolve(i)}catch(i){e.reject(i)}}}class nR{constructor(){this.apiKey=void 0,this.googleThrottle=new tR({requestsPerSecond:8}),this.RANGE_WARNING_GIVEN=!1,this.oauth=new $T}setApiKey(e){this.apiKey=e}async loadArrayBuffer(e,t){return t=t||{},t.responseType||(t.responseType="arraybuffer"),Rs(e)?this._loadFileSlice(e,t):this.load(e,t)}async loadByteArray(e,t){const i=await this.loadArrayBuffer(e,t);let r;return gd(i)?r=bh(i):r=new Uint8Array(i),r}async loadJson(e,t){t=t||{},(t.method||(t.sendData?"POST":"GET"))==="POST"&&(t.contentType="application/json");const r=await this.loadString(e,t);return r&&JSON.parse(r)}async loadString(e,t){return t=t||{},e instanceof File?this._loadStringFromFile(e,t):this._loadStringFromUrl(e,t)}async load(e,t){t=t||{};const i=typeof e;if(e=await(typeof e=="function"?e():e),Rs(e))return this._loadFileSlice(e,t);if(typeof e.startsWith=="function")if(e.startsWith("data:")){const r=Hs(e).buffer;if(t.range){const s=t.range.size?t.range.start+t.range.size:r.byteLength;return r.slice(t.range.start,s)}else return r}else return e.startsWith("https://drive.google.com")&&(e=PC(e)),md(e)||e.startsWith("https://www.dropbox.com")?this.googleThrottle.add(async()=>this._loadURL(e,t)):this._loadURL(e,t);else throw Error(`url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ${i}`)}async _loadURL(e,t){const i=this,r=e;e=lR(e),t=t||{};let s=t.oauthToken||this.getOauthToken(e);return s&&(s=await(typeof s=="function"?s():s)),new Promise(function(o,a){Zl(e)&&!iR(e)&&(J1(e)&&(e=WT(e)),e=oR(e),md(e)&&aR(e),s||(s=ky()));const l=t.headers||{};s&&sR(l,s);const c=t.range,h=new XMLHttpRequest,u=t.sendData||t.body,f=t.method||(u?"POST":"GET"),d=t.responseType,p=t.contentType,w=t.mimeType;if(h.open(f,e),t.timeout&&(h.timeout=t.timeout),c){let m="";c.size&&(m=c.start+c.size-1),h.setRequestHeader("Range","bytes="+c.start+"-"+m)}if(p&&h.setRequestHeader("Content-Type",p),w&&h.overrideMimeType(w),d&&(h.responseType=d),l)for(let m of Object.keys(l)){const b=l[m];h.setRequestHeader(m,b)}t.withCredentials===!0&&(h.withCredentials=!0),h.onload=async function(m){if(h.status===0||h.status>=200&&h.status<=300)if(t.method==="HEAD"){const b=t.requestedHeaders||["content-length"],y={};for(let A of b)y[A]=h.getResponseHeader(A);o(y)}else c&&h.status!==206&&c.start!==0?(h.response.length>1e5&&!i.RANGE_WARNING_GIVEN&&alert(`Warning: Range header ignored for URL: ${e}.  This can have severe performance impacts.`),o(h.response.slice(c.start,c.start+c.size))):o(h.response);else h.status===416?F(Error("416 Unsatisfiable Range")):Go()&&(h.status===404||h.status===401||h.status===403)&&Zl(e)&&!t.retries?g():h.status===403?F("Access forbidden: "+e):F(h.status)},h.onerror=function(m){Zl(e)&&!t.retries?g():F("Error accessing resource: "+e+" Status: "+h.status)},h.ontimeout=function(m){F("Timed out")},h.onabort=function(m){console.log("Aborted"),a(m)};try{h.send(u)}catch(m){Zl(e)&&!t.retries?g():F(m)}function F(m){if(a)a(m);else throw m}async function g(){try{const m=await rR(r);t.retries=1,t.oauthToken=m;const b=await i.load(r,t);o(b)}catch(m){if(m.error){const b=m.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":m.error;alert(b)}else F(m)}}})}async _loadFileSlice(e,t){const r=await(t&&t.range?e.slice(t.range.start,t.range.start+t.range.size):e).arrayBuffer();return t.responseType==="arraybuffer"?r:Ng(r)}async _loadStringFromFile(e,t){const r=await(t.range?e.slice(t.range.start,t.range.start+t.range.size):e).arrayBuffer();return Ng(r)}async _loadStringFromUrl(e,t){t=t||{},t.responseType="arraybuffer";const i=await this.load(e,t);return Ng(i)}setOauthToken(e,t){this.oauth.setToken(e,t)}getOauthToken(e){const t=Zl(e)?void 0:X_(e).host;let i=this.oauth.getToken(t);if(i)return i;if(t===void 0){const r=ky();if(r&&r.expires_at>Date.now())return r.access_token}}async getContentLength(e,t){t=t||{},t.method="HEAD",t.requestedHeaders=["content-length"];const r=(await this._loadURL(e,t))["content-length"];return r?Number.parseInt(r):0}}function iR(n){return n.indexOf("X-Goog-Signature")>-1}async function rR(n){if(Go()){const e=JT(n);return await LC(e)}else throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.")}function ky(){if(Go())return ZT()}function sR(n,e){return e&&(n["Cache-Control"]="no-cache",n.Authorization="Bearer "+e),n}function oR(n){let e=Be.apiKey;if(!e&&typeof gapi<"u"&&(e=gapi.apiKey),e!==void 0&&!n.includes("key=")){const t=n.includes("?")?"&":"?";n=n+t+"key="+e}return n}function aR(n){if(n.includes("supportsTeamDrive"))return n;{const e=n.includes("?")?"&":"?";n=n+e+"supportsTeamDrive=true"}}function lR(n){return n.startsWith("https://www.dropbox.com")?n.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):n.startsWith("https://drive.google.com")?PC(n):n.includes("//www.broadinstitute.org/igvdata")?n.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):n.includes("//igvdata.broadinstitute.org")?n.replace("//igvdata.broadinstitute.org","//s3.amazonaws.com/igv.broadinstitute.org"):n.includes("//igv.genepattern.org")?n.replace("//igv.genepattern.org","//igv-genepattern-org.s3.amazonaws.com"):n.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?n.replace("ftp://","https://"):n}function Ng(n){let e;return gd(n)?e=bh(n):e=new Uint8Array(n),"TextDecoder"in hR()?new TextDecoder().decode(e):cR(e)}function cR(n){for(var e="",t=0;t<n.length;){var i=n[t],r=0,s=0;if(i<=127?(r=0,s=i&255):i<=223?(r=1,s=i&31):i<=239?(r=2,s=i&15):i<=244&&(r=3,s=i&7),n.length-t-r>0)for(var o=0;o<r;)i=n[t+o+1],s=s<<6|i&63,o+=1;else s=65533,r=n.length-t;e+=String.fromCodePoint(s),t+=r+1}return e}function hR(){return typeof self<"u"?self:typeof global<"u"?global:window}const Be=new nR;var Jr=1,br=2,bt={};bt.color=Jr;bt.parent=bt;bt.left=bt;bt.right=bt;class HC{constructor(){this.root=bt}insert(e,t,i){var r=new Iy(e,t,i),s=new uR(r);for(this.treeInsert(s),s.color=br;s!==this.root&&s.parent.color===br;)if(s.parent===s.parent.parent.left){let o=s.parent.parent.right;o.color===br?(s.parent.color=Jr,o.color=Jr,s.parent.parent.color=br,s=s.parent.parent):(s===s.parent.right&&(s=s.parent,Ey.call(this,s)),s.parent.color=Jr,s.parent.parent.color=br,Sy.call(this,s.parent.parent))}else{let o=s.parent.parent.left;o.color===br?(s.parent.color=Jr,o.color=Jr,s.parent.parent.color=br,s=s.parent.parent):(s===s.parent.left&&(s=s.parent,Sy.call(this,s)),s.parent.color=Jr,s.parent.parent.color=br,Ey.call(this,s.parent.parent))}this.root.color=Jr}findOverlapping(e,t){var i=new Iy(e,t,0);if(this.root===bt)return[];var r=Om.call(this,i,this.root,[]);return r.length>1&&r.sort(function(s,o){return s.low-o.low}),r}logIntervals(){e(this.root,0);function e(t,i){for(var r="",s=0;s<i;s++)r+=" ";console.log(r+t.interval.low+" "+t.interval.high),i+=5,t.left!==bt&&e(t.left,i),t.right!==bt&&e(t.right,i)}}mapIntervals(e){t(this.root);function t(i){e(i.interval),i.left!==bt&&t(i.left),i.right!==bt&&t(i.right)}}treeInsert(e){for(var t=this.root,i=bt;t!==bt;)i=t,e.interval.low<=t.interval.low?t=t.left:t=t.right;e.parent=i,i===bt?(this.root=e,e.left=e.right=bt):e.interval.low<=i.interval.low?i.left=e:i.right=e,ew.call(this,e)}}function Om(n,e,t){return e.interval.overlaps(n)&&t.push(e.interval),e.left!==bt&&e.left.max>=n.low&&Om.call(this,n,e.left,t),e.right!==bt&&e.right.min<=n.high&&Om.call(this,n,e.right,t),t}function Ey(n){var e=n.right;n.right=e.left,e.left!==bt&&(e.left.parent=n),e.parent=n.parent,n.parent===bt?this.root=e:n.parent.left===n?n.parent.left=e:n.parent.right=e,e.left=n,n.parent=e,ew.call(this,n)}function Sy(n){var e=n.left;n.left=e.right,e.right!==bt&&(e.right.parent=n),e.parent=n.parent,n.parent===bt?this.root=e:n.parent.right===n?n.parent.right=e:n.parent.left=e,e.right=n,n.parent=e,ew.call(this,n)}function ew(n){for(;n!==bt;){var e=n.left.max>n.right.max?n.left.max:n.right.max,t=n.interval.high;n.max=e>t?e:t;var i=n.left.min<n.right.min?n.left.min:n.right.min,r=n.interval.low;n.min=i<r?i:r,n=n.parent}}class Iy{constructor(e,t,i){this.low=e,this.high=t,this.value=i}equals(e){return e?this===e?!0:this.low===e.low&&this.high===e.high:!1}compareTo(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0}overlaps(e){return this.low<=e.high&&e.low<=this.high}}function uR(n){this.parent=bt,this.left=bt,this.right=bt,this.interval=n,this.color=br}class Fh{constructor(e,t,i){e=e||[],this.treeMap=this.buildTreeMap(e,t),this.range=i,this.count=e.length}containsRange(e){return this.range===void 0||this.range.contains(e.chr,e.start,e.end)}findFeatures(e){const t=[];for(let i of Object.values(this.allFeatures))for(let r of i)e(r)&&t.push(r);return t}queryFeatures(e,t,i){const r=this.treeMap[e];if(!r)return[];const s=r.findOverlapping(t,i);if(s.length===0)return[];{const o=[],a=this.allFeatures[e];if(a){for(let l of s){const c=l.value;for(let h=c.start;h<c.end;h++){let u=a[h];if(u.start>i)break;u.end>=t&&o.push(u)}}o.sort(function(l,c){return l.start-c.start})}return o}}getAllFeatures(){return this.allFeatures}buildTreeMap(e,t){const i={},r=[];if(this.allFeatures={},e){for(let s of e){let o=s.chr;t&&(o=t.getChromosomeName(o));let a=this.allFeatures[o];a||(r.push(o),a=[],this.allFeatures[o]=a),a.push(s)}for(let s of r){const o=this.allFeatures[s];o.sort(function(a,l){return a.start===l.start?0:a.start>l.start?1:-1}),i[s]=fR(o)}}return i}}function fR(n){const e=new HC,t=n.length,i=Math.max(10,Math.round(t/10));for(let r=0;r<t;r+=i){const s=Math.min(t,r+i),o=new dR(r,s),a=n[r].start;let l=a;for(let c=r;c<s;c++)l=Math.max(l,n[c].end);e.insert(a,l,o)}return e}class dR{constructor(e,t){this.start=e,this.end=t}}const wd={packFeatures:function(n,e,t){var i,r;if(n){if(e=e||1e4,t||n.sort(function(w,F){return w.start-F.start}),n.length===0)return[];var s=[],o=0,a=0,l,c,h,u,f,d=2,p;for(i=n[0].start,r=n[n.length-1].start,p=Math.max(i,n[0].start),l=p,n.forEach(function(w){var F=Math.max(0,w.start-p);s[F]===void 0&&(s[F]=[]),s[F].push(w)}),c=0;o<n.length&&c<=e;){for(;l<=r;){for(u=void 0;!u&&l<=r;)h=l-p,s[h]===void 0?++l:u=s[h];if(!u)break;f=u.pop(),u.length===0&&(s[h]=void 0),f.row=c,l=f.end+d,++o}if(c++,l=p,o===a)break;a=o}}},findOverlapping:function(n,e,t){if(!n||n.length===0)return[];{const r=pR(n).findOverlapping(e,t);return r.length===0?[]:(n=[],r.forEach(function(s){const o=s.value,a=o.length;for(let l=0;l<a;l++){const c=o[l];if(c.start>t)break;c.end>e&&n.push(c)}}),n.sort(function(s,o){return s.start-o.start}),n)}}};function pR(n){const e=new HC,t=n.length,i=Math.max(10,Math.round(t/100));n.sort(function(r,s){return r.start===s.start?0:r.start>s.start?1:-1});for(let r=0;r<t;r+=i){const s=Math.min(t,r+i),o=n.slice(r,s),a=o[0].start;let l=a;o.forEach(function(c){l=Math.max(l,c.end)}),e.insert(a,l,o)}return e}function Ny(n){if(n=n.replace(/^#/,""),n.length===3&&(n=n.split("").map(s=>s+s).join("")),n.length!==6)throw new Error("Invalid HEX color.");let e=parseInt(n,16),t=e>>16&255,i=e>>8&255,r=e&255;return`rgb(${t}, ${i}, ${r})`}const UC={cantaloupe:{r:255,g:206,b:110},honeydew:{r:206,g:250,b:110},spindrift:{r:104,g:251,b:208},sky:{r:106,g:207,b:255},lavender:{r:210,g:120,b:255},carnation:{r:255,g:127,b:211},licorice:{r:0,g:0,b:0},snow:{r:255,g:255,b:255},salmon:{r:255,g:114,b:110},banana:{r:255,g:251,b:109},flora:{r:104,g:249,b:110},ice:{r:104,g:253,b:255},orchid:{r:110,g:118,b:255},bubblegum:{r:255,g:122,b:255},lead:{r:30,g:30,b:30},mercury:{r:232,g:232,b:232},tangerine:{r:255,g:136,b:2},lime:{r:131,g:249,b:2},sea_foam:{r:3,g:249,b:135},aqua:{r:0,g:140,b:255},grape:{r:137,g:49,b:255},strawberry:{r:255,g:41,b:135},tungsten:{r:58,g:58,b:58},silver:{r:208,g:208,b:208},maraschino:{r:255,g:33,b:1},lemon:{r:255,g:250,b:3},spring:{r:5,g:248,b:2},turquoise:{r:0,g:253,b:255},blueberry:{r:0,g:46,b:255},magenta:{r:255,g:57,b:255},iron:{r:84,g:84,b:83},magnesium:{r:184,g:184,b:184},mocha:{r:137,g:72,b:0},fern:{r:69,g:132,b:1},moss:{r:1,g:132,b:72},ocean:{r:0,g:74,b:136},eggplant:{r:73,g:26,b:136},maroon:{r:137,g:22,b:72},steel:{r:110,g:110,b:110},aluminum:{r:160,g:159,b:160},cayenne:{r:137,g:17,b:0},aspargus:{r:136,g:133,b:1},clover:{r:2,g:132,b:1},teal:{r:0,g:134,b:136},midnight:{r:0,g:24,b:136},plum:{r:137,g:30,b:136},tin:{r:135,g:134,b:135},nickel:{r:136,g:135,b:135}};function yn(n){const{r:e,g:t,b:i}=UC[n];return`rgb(${e},${t},${i})`}function gR(n,e){const{r:t,g:i,b:r}=UC[n];return`rgba(${t},${i},${r},${e})`}const bd={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]};class yh{constructor(e){this.colors=bd[e],Array.isArray(this.colors)||(this.colors=[]),this.colorTable=new Map,this.nextIdx=0,this.colorGenerator=new Wh}getColor(e){return this.colorTable.has(e)||(this.nextIdx<this.colors.length?this.colorTable.set(e,this.colors[this.nextIdx]):this.colorTable.set(e,this.colorGenerator.get()),this.nextIdx++),this.colorTable.get(e)}}class To{constructor(e){this.colorTable=e||{},this.nextIdx=0,this.colorGenerator=new Wh}getColor(e){if(!this.colorTable.hasOwnProperty(e)){if(this.colorTable.hasOwnProperty("*"))return this.colorTable["*"];this.colorTable[e]=this.colorGenerator.get()}return this.colorTable[e]}}function Wh(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}Wh.prototype.hsvToRgb=function(n,e,t){var i=Math.floor(n*6),r=n*6-i,s=t*(1-e),o=t*(1-r*e),a=t*(1-(1-r)*e),l=255,c=255,h=255;switch(i){case 0:l=t,c=a,h=s;break;case 1:l=o,c=t,h=s;break;case 2:l=s,c=t,h=a;break;case 3:l=s,c=o,h=t;break;case 4:l=a,c=s,h=t;break;case 5:l=t,c=s,h=o;break}return[Math.floor(l*256),Math.floor(c*256),Math.floor(h*256)]};Wh.prototype.padHex=function(n){return n.length>this.hexwidth?n:new Array(this.hexwidth-n.length+1).join("0")+n};Wh.prototype.get=function(n,e){this.hue+=this.goldenRatio,this.hue%=1,typeof n!="number"&&(n=.5),typeof e!="number"&&(e=.95);var t=this.hsvToRgb(this.hue,n,e);return"#"+this.padHex(t[0].toString(16))+this.padHex(t[1].toString(16))+this.padHex(t[2].toString(16))};function Ty(n,e,t,i){return n=lt.clamp(n,0,255),e=lt.clamp(e,0,255),t=lt.clamp(t,0,255),i=lt.clamp(i,0,1),`rgba(${n}, ${e}, ${t}, ${i})`}function mR(n,e,t){return n=lt.clamp(n,0,255),e=lt.clamp(e,0,255),t=lt.clamp(t,0,255),`rgb(${n}, ${e}, ${t})`}function wR(n,e){n=lt.clamp(n,0,255),e=lt.clamp(e,0,255);const t=Math.round(Math.random()*(e-n)+n).toString(10),i=Math.round(Math.random()*(e-n)+n).toString(10),r=Math.round(Math.random()*(e-n)+n).toString(10);return`rgb(${t},${i},${r})`}function _a(n){if(n.startsWith("rgb(")){const[e,t]=n.split("("),[i]=t.split(")");return i.split(",").map(r=>parseInt(r))}else return}const Ry=.005;function bR(n,e,t){if(t<Ry)return n;if(t>1-Ry)return e;{let i,r,s,o,a,l;t<.5?(t/=.5,[i,r,s]=_a(n),[o,a,l]=_a(yn("snow"))):(t=(t-.5)/.5,[i,r,s]=_a(yn("snow")),[o,a,l]=_a(e));const[c,h,u]=[Math.floor(lt.lerp(i,o,t)),Math.floor(lt.lerp(r,a,t)),Math.floor(lt.lerp(s,l,t))];return mR(c,h,u)}}const FR=new Set(["bedtype","alignment","annotation","variant","wig","interact"]),yR=new Set(["alignment","annotation","variant","eqtl","qtl","snp","shoebox"]),bf=new Set(["sequence","ruler","ideogram"]),Ff={};class VC{constructor(e){this.browser=e,this.initialize()}initialize(){const e=new oS;e.add("...");const t={parent:this.browser.root,content:e};this.dialog=new hS(t),this.browser.root.appendChild(this.dialog.elem),Xt(this.dialog.elem)}trackMenuItemList(e){const t=[];return e.track.config.type!=="sequence"&&t.push(ER()),vR(e)===!0?t.push(...this.multiSelectMenuItems(e)):(e.track.config.type!=="sequence"&&t.push(kR()),t.push(...this.defaultMenuItems(e))),e.track.removable!==!1&&(t.push("<hr/>"),t.push(xR(e))),t}defaultMenuItems(e){const t=[];return Dy(e.track)&&(t.push("<hr/>"),t.push(Iu({trackView:e,label:"Set track color",option:"color"})),t.push(My({trackView:e,label:"Unset track color"})),(e.track.config.type==="wig"||e.track.config.type==="annotation")&&(t.push(Iu({trackView:e,label:"Set alt color",option:"altColor"})),t.push(By({trackView:e,label:"Unset alt color"})))),e.track.menuItemList&&t.push(...e.track.menuItemList()),AR(e)&&(t.push("<hr/>"),t.push(CR())),t}multiSelectMenuItems(e){const t=[],i=e.browser.getSelectedTrackViews();return IR(i.map(({track:s})=>s.type))===!0?(t.push(...this.defaultMenuItems(e)),e.track.type==="wig"&&(t.push("<hr/>"),t.push(_R()))):Dy(e.track)&&(t.push("<hr/>"),t.push(Iu({trackView:e,label:"Set track color",option:"color"})),t.push(My({trackView:e,label:"Unset track color"})),(e.track.config.type==="wig"||e.track.config.type==="annotation")&&(t.push(Iu({trackView:e,label:"Set alt color",option:"altColor"})),t.push(By({trackView:e,label:"Unset alt color"})))),t}}function vR(n){const e=n.browser.getSelectedTrackViews();return e&&e.length>1&&new Set(e).has(n)}function AR(n){const e=n.track;return e&&e.config&&e.config.visibilityWindow!==void 0||e&&yR.has(e.type)}function _R(){const n=ke("<div>");n.text("Group autoscale");function e(t){const i=bd.Dark2,r=Math.floor(Math.random()*i.length),s=`auto-scale-group-${nn()}`;Ff[s]=i[r];const o=this.browser.getSelectedTrackViews();for(const{track:a}of o)a.autoscaleGroup=s;this.browser.updateViews()}return{object:n,doAllMultiSelectedTracks:!0,click:e}}function CR(){const n=ke("<div>");n.text("Set visibility window");function e(t){const i=()=>{let s=this.browser.inputDialog.value;s=s===""||s===void 0?-1:s.trim(),this.visibilityWindow=Number.parseInt(s),this.config.visibilityWindow=Number.parseInt(s),this.trackView.updateViews()},r={label:"Visibility Window",value:this.visibilityWindow,callback:i};this.browser.inputDialog.present(r,t)}return{object:n,click:e}}function xR(n){const e=n.track.selected?"Remove tracks":"Remove track",t=ke("<div>");t.text(e);function i(r){this.trackView.browser._removeTrack(this)}return{object:t,click:i,menuItemType:"removeTrack"}}function Iu({trackView:n,label:e,option:t}){const i=ke("<div>");return i.text(e),{object:i,click:()=>n.presentColorPicker(t)}}function My({trackView:n,label:e}){const t=ke("<div>");return t.text(e),{object:t,click:()=>{n.track.color=void 0,n.repaintViews()}}}function By({trackView:n,label:e}){const t=ke("<div>");return t.text(e),{object:t,click:()=>{n.track.altColor=void 0,n.repaintViews()}}}function kR(){const n=ke("<div>");n.text("Set track name");function e(t){const i=()=>{let s=this.browser.inputDialog.value;s=s===""||s===void 0?"untitled":s.trim(),this.name=s},r={label:"Track Name",value:SR(this)||"unnamed",callback:i};this.browser.inputDialog.present(r,t)}return{object:n,click:e}}function ER(){const n=ke("<div>");n.text("Set track height");function e(t){const i=()=>{const s=parseInt(this.browser.inputDialog.value,10);if(s!==void 0){const o=[];this.trackView.track.selected?o.push(...this.trackView.browser.getSelectedTrackViews().map(({track:a})=>a)):o.push(this);for(const a of o)a.minHeight!==void 0&&a.minHeight>s&&(a.minHeight=s),a.maxHeight!==void 0&&a.maxHeight<s&&(a.minHeight=s),a.trackView.setTrackHeight(s,!0),a.trackView.checkContentHeight(),a.trackView.repaintViews(),a.trackView.autoHeight=!1}},r={label:"Track Height",value:this.height,callback:i};this.browser.inputDialog.present(r,t)}return{object:n,dialog:e}}function SR(n){return n.name}function Dy(n){return n.type===void 0||FR.has(n.type)}function IR(n){return[...new Set(n)].length===1}class qC{constructor(e,t){this.browser=e,this.$container=ke("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0});const i=ke("<div>",{class:"igv-generic-dialog-header"});this.$container.append(i),qo(i[0],()=>{this.$minimum_input.val(""),this.$maximum_input.val(""),this.$container.offset({left:0,top:0}),this.$container.hide()}),this.$minimum=ke("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum);const r=ke("<div>");r.text("Minimum"),this.$minimum.append(r),this.$minimum_input=ke("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=ke("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum);const s=ke("<div>");s.text("Maximum"),this.$maximum.append(s),this.$maximum_input=ke("<input>"),this.$maximum.append(this.$maximum_input);const o=ke("<div>",{class:"igv-generic-dialog-ok-cancel"});this.$container.append(o),this.$ok=ke("<div>"),o.append(this.$ok),this.$ok.text("OK"),this.$cancel=ke("<div>"),o.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",()=>{this.$minimum_input.val(""),this.$maximum_input.val(""),this.$container.offset({left:0,top:0}),this.$container.hide()}),Vr(this.$container.get(0),i.get(0)),this.$container.hide()}configure(e){let t;if(Array.isArray(e)){t={min:Number.MAX_SAFE_INTEGER,max:-Number.MAX_SAFE_INTEGER};for(const i of e)i.track.dataRange&&(t.min=Math.min(i.track.dataRange.min,t.min),t.max=Math.max(i.track.dataRange.max,t.max))}else t=e.track.dataRange;t&&(this.$minimum_input.val(t.min),this.$maximum_input.val(t.max)),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",i=>{i.keyCode===13&&this.processResults(e),i.stopImmediatePropagation()}),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",i=>{i.keyCode===13&&(i.stopImmediatePropagation(),this.processResults(e))}),this.$ok.unbind(),this.$ok.on("click",i=>{this.processResults(e)})}processResults(e){if(this.$minimum_input.val()!==""&&this.$maximum_input.val()!==""){const t=Number(this.$minimum_input.val()),i=Number(this.$maximum_input.val());if(isNaN(t)||isNaN(i))this.browser.alert.present(new Error("Must input numeric values"),void 0);else{const r=Array.isArray(e)?e:[e];for(const s of r)s.track.setDataRange({min:t,max:i})}this.$minimum_input.val(""),this.$maximum_input.val("")}this.$container.offset({left:0,top:0}),this.$container.hide()}present(e){const t=e.offset().top,i=ke("body").scrollTop();this.$container.offset({left:e.width()-this.$container.width(),top:t+i}),this.$container.show()}}const pe={configureHighDPICanvas:function(n,e,t){const i=window.devicePixelRatio;n.canvas.style.width=`${e}px`,n.canvas.width=Math.floor(i*e),n.canvas.style.height=`${t}px`,n.canvas.height=Math.floor(i*t),n.scale(i,i)},setProperties:function(n,e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];n[t]=i}},strokeLine:function(n,e,t,i,r,s){e=Math.floor(e)+.5,t=Math.floor(t)+.5,i=Math.floor(i)+.5,r=Math.floor(r)+.5,s&&(n.save(),pe.setProperties(n,s)),n.beginPath(),n.moveTo(e,t),n.lineTo(i,r),n.stroke(),s&&n.restore()},fillRect:function(n,e,t,i,r,s){s&&(n.save(),pe.setProperties(n,s)),n.fillRect(e,t,i,r),s&&n.restore()},fillPolygon:function(n,e,t,i){i&&(n.save(),pe.setProperties(n,i)),Ly(n,e,t),n.fill(),i&&n.restore()},strokePolygon:function(n,e,t,i){i&&(n.save(),pe.setProperties(n,i)),Ly(n,e,t),n.stroke(),i&&n.restore()},fillText:function(n,e,t,i,r,s){if((r||s)&&n.save(),r&&pe.setProperties(n,r),s){n.translate(t,i);for(var o in s){var a=s[o];o==="translate"&&n.translate(a.x,a.y),o==="rotate"&&n.rotate(a.angle*Math.PI/180)}n.fillText(e,0,0)}else n.fillText(e,t,i);(r||s)&&n.restore()},strokeText:function(n,e,t,i,r,s){if((r||s)&&n.save(),r&&pe.setProperties(n,r),s){n.translate(t,i);for(var o in s){var a=s[o];o==="translate"&&n.translate(a.x,a.y),o==="rotate"&&n.rotate(a.angle*Math.PI/180)}n.strokeText(e,0,0)}else n.strokeText(e,t,i);(r||s)&&n.restore()},strokeCircle:function(n,e,t,i,r){r&&(n.save(),pe.setProperties(n,r)),n.beginPath(),n.arc(e,t,i,0,2*Math.PI),n.stroke(),r&&n.restore()},fillCircle:function(n,e,t,i,r){r&&(n.save(),pe.setProperties(n,r)),n.beginPath(),n.arc(e,t,i,0,2*Math.PI),n.fill(),r&&n.restore()},drawArrowhead:function(n,e,t,i,r){n.save(),i||(i=5),r&&(n.lineWidth=r),n.beginPath(),n.moveTo(e,t-i/2),n.lineTo(e,t+i/2),n.lineTo(e+i,t),n.lineTo(e,t-i/2),n.closePath(),n.fill(),n.restore()},dashedLine:function(n,e,t,i,r,s,o={}){s===void 0&&(s=2),n.setLineDash([s,s]),pe.strokeLine(n,e,t,i,r,o),n.setLineDash([])},roundRect:function(n,e,t,i,r,s,o,a){typeof a>"u"&&(a=!0),typeof s>"u"&&(s=5),n.beginPath(),n.moveTo(e+s,t),n.lineTo(e+i-s,t),n.quadraticCurveTo(e+i,t,e+i,t+s),n.lineTo(e+i,t+r-s),n.quadraticCurveTo(e+i,t+r,e+i-s,t+r),n.lineTo(e+s,t+r),n.quadraticCurveTo(e,t+r,e,t+r-s),n.lineTo(e,t+s),n.quadraticCurveTo(e,t,e+s,t),n.closePath(),a&&n.stroke(),o&&n.fill()},polygon:function(n,e,t,i,r){typeof r>"u"&&(r=!0),n.beginPath();var s=e.length;n.moveTo(e[0],t[0]);for(var o=1;o<s;o++)n.lineTo(e[o],t[o]);n.closePath(),r&&n.stroke(),i&&n.fill()},drawRandomColorVerticalLines:n=>{for(let e=0;e<n.canvas.width;e++)pe.fillRect(n,e,0,1,n.canvas.height,{fillStyle:wR(100,250)})},labelTransformWithContext:(n,e)=>{n.translate(e,0),n.scale(-1,1),n.translate(-e,0)}};function Ly(n,e,t){var i,r=e.length;for(n.beginPath(),n.moveTo(e[0],t[0]),i=1;i<r;i++)n.lineTo(e[i],t[i]);n.closePath()}/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:jC,setPrototypeOf:zy,isFrozen:NR,getPrototypeOf:TR,getOwnPropertyDescriptor:RR}=Object;let{freeze:Nn,seal:_i,create:QC}=Object,{apply:Hm,construct:Um}=typeof Reflect<"u"&&Reflect;Nn||(Nn=function(e){return e});_i||(_i=function(e){return e});Hm||(Hm=function(e,t,i){return e.apply(t,i)});Um||(Um=function(e,t){return new e(...t)});const Nu=oi(Array.prototype.forEach),Py=oi(Array.prototype.pop),Jl=oi(Array.prototype.push),yf=oi(String.prototype.toLowerCase),Tg=oi(String.prototype.toString),Oy=oi(String.prototype.match),ec=oi(String.prototype.replace),MR=oi(String.prototype.indexOf),BR=oi(String.prototype.trim),Ei=oi(Object.prototype.hasOwnProperty),Cn=oi(RegExp.prototype.test),tc=DR(TypeError);function oi(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return Hm(n,e,i)}}function DR(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Um(n,t)}}function et(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yf;zy&&zy(n,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const s=t(r);s!==r&&(NR(e)||(e[i]=s),r=s)}n[r]=!0}return n}function LR(n){for(let e=0;e<n.length;e++)Ei(n,e)||(n[e]=null);return n}function Ks(n){const e=QC(null);for(const[t,i]of jC(n))Ei(n,t)&&(Array.isArray(i)?e[t]=LR(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=Ks(i):e[t]=i);return e}function nc(n,e){for(;n!==null;){const i=RR(n,e);if(i){if(i.get)return oi(i.get);if(typeof i.value=="function")return oi(i.value)}n=TR(n)}function t(){return null}return t}const Hy=Nn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Rg=Nn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Mg=Nn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zR=Nn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bg=Nn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),PR=Nn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Uy=Nn(["#text"]),Vy=Nn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Dg=Nn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qy=Nn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tu=Nn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OR=_i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),HR=_i(/<%[\w\W]*|[\w\W]*%>/gm),UR=_i(/\${[\w\W]*}/gm),VR=_i(/^data-[\-\w.\u00B7-\uFFFF]/),qR=_i(/^aria-[\-\w]+$/),$C=_i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jR=_i(/^(?:\w+script|data):/i),QR=_i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),GC=_i(/^html$/i),$R=_i(/^[a-z][.\w]*(-[.\w]+)+$/i);var jy=Object.freeze({__proto__:null,MUSTACHE_EXPR:OR,ERB_EXPR:HR,TMPLIT_EXPR:UR,DATA_ATTR:VR,ARIA_ATTR:qR,IS_ALLOWED_URI:$C,IS_SCRIPT_OR_DATA:jR,ATTR_WHITESPACE:QR,DOCTYPE_NAME:GC,CUSTOM_ELEMENT:$R});const ic={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},GR=function(){return typeof window>"u"?null:window},WR=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function WC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GR();const e=He=>WC(He);if(e.version="3.1.6",e.removed=[],!n||!n.document||n.document.nodeType!==ic.document)return e.isSupported=!1,e;let{document:t}=n;const i=t,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:h=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:u,DOMParser:f,trustedTypes:d}=n,p=l.prototype,w=nc(p,"cloneNode"),F=nc(p,"remove"),g=nc(p,"nextSibling"),m=nc(p,"childNodes"),b=nc(p,"parentNode");if(typeof o=="function"){const He=t.createElement("template");He.content&&He.content.ownerDocument&&(t=He.content.ownerDocument)}let y,A="";const{implementation:x,createNodeIterator:v,createDocumentFragment:_,getElementsByTagName:k}=t,{importNode:E}=i;let T={};e.isSupported=typeof jC=="function"&&typeof b=="function"&&x&&x.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:N,TMPLIT_EXPR:C,DATA_ATTR:B,ARIA_ATTR:I,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:O}=jy;let{IS_ALLOWED_URI:$}=jy,Q=null;const te=et({},[...Hy,...Rg,...Mg,...Bg,...Uy]);let U=null;const G=et({},[...Vy,...Dg,...qy,...Tu]);let ne=Object.seal(QC(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),J=null,Z=null,ye=!0,V=!0,ee=!1,R=!0,Y=!1,W=!0,q=!1,ge=!1,le=!1,ue=!1,de=!1,fe=!1,Ae=!0,Ne=!1;const S="user-content-";let D=!0,z=!1,K={},re=null;const oe=et({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Fe=null;const je=et({},["audio","video","img","source","image","track"]);let We=null;const rt=et({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",st="http://www.w3.org/2000/svg",Qt="http://www.w3.org/1999/xhtml";let xi=Qt,js=!1,Ol=null;const Wo=et({},[Ke,st,Qt],Tg);let dr=null;const Hl=["application/xhtml+xml","text/html"],Lp="text/html";let j=null,X=null;const ae=t.createElement("form"),be=function(se){return se instanceof RegExp||se instanceof Function},ce=function(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(X&&X===se)){if((!se||typeof se!="object")&&(se={}),se=Ks(se),dr=Hl.indexOf(se.PARSER_MEDIA_TYPE)===-1?Lp:se.PARSER_MEDIA_TYPE,j=dr==="application/xhtml+xml"?Tg:yf,Q=Ei(se,"ALLOWED_TAGS")?et({},se.ALLOWED_TAGS,j):te,U=Ei(se,"ALLOWED_ATTR")?et({},se.ALLOWED_ATTR,j):G,Ol=Ei(se,"ALLOWED_NAMESPACES")?et({},se.ALLOWED_NAMESPACES,Tg):Wo,We=Ei(se,"ADD_URI_SAFE_ATTR")?et(Ks(rt),se.ADD_URI_SAFE_ATTR,j):rt,Fe=Ei(se,"ADD_DATA_URI_TAGS")?et(Ks(je),se.ADD_DATA_URI_TAGS,j):je,re=Ei(se,"FORBID_CONTENTS")?et({},se.FORBID_CONTENTS,j):oe,J=Ei(se,"FORBID_TAGS")?et({},se.FORBID_TAGS,j):{},Z=Ei(se,"FORBID_ATTR")?et({},se.FORBID_ATTR,j):{},K=Ei(se,"USE_PROFILES")?se.USE_PROFILES:!1,ye=se.ALLOW_ARIA_ATTR!==!1,V=se.ALLOW_DATA_ATTR!==!1,ee=se.ALLOW_UNKNOWN_PROTOCOLS||!1,R=se.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Y=se.SAFE_FOR_TEMPLATES||!1,W=se.SAFE_FOR_XML!==!1,q=se.WHOLE_DOCUMENT||!1,ue=se.RETURN_DOM||!1,de=se.RETURN_DOM_FRAGMENT||!1,fe=se.RETURN_TRUSTED_TYPE||!1,le=se.FORCE_BODY||!1,Ae=se.SANITIZE_DOM!==!1,Ne=se.SANITIZE_NAMED_PROPS||!1,D=se.KEEP_CONTENT!==!1,z=se.IN_PLACE||!1,$=se.ALLOWED_URI_REGEXP||$C,xi=se.NAMESPACE||Qt,ne=se.CUSTOM_ELEMENT_HANDLING||{},se.CUSTOM_ELEMENT_HANDLING&&be(se.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=se.CUSTOM_ELEMENT_HANDLING.tagNameCheck),se.CUSTOM_ELEMENT_HANDLING&&be(se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),se.CUSTOM_ELEMENT_HANDLING&&typeof se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(V=!1),de&&(ue=!0),K&&(Q=et({},Uy),U=[],K.html===!0&&(et(Q,Hy),et(U,Vy)),K.svg===!0&&(et(Q,Rg),et(U,Dg),et(U,Tu)),K.svgFilters===!0&&(et(Q,Mg),et(U,Dg),et(U,Tu)),K.mathMl===!0&&(et(Q,Bg),et(U,qy),et(U,Tu))),se.ADD_TAGS&&(Q===te&&(Q=Ks(Q)),et(Q,se.ADD_TAGS,j)),se.ADD_ATTR&&(U===G&&(U=Ks(U)),et(U,se.ADD_ATTR,j)),se.ADD_URI_SAFE_ATTR&&et(We,se.ADD_URI_SAFE_ATTR,j),se.FORBID_CONTENTS&&(re===oe&&(re=Ks(re)),et(re,se.FORBID_CONTENTS,j)),D&&(Q["#text"]=!0),q&&et(Q,["html","head","body"]),Q.table&&(et(Q,["tbody"]),delete J.tbody),se.TRUSTED_TYPES_POLICY){if(typeof se.TRUSTED_TYPES_POLICY.createHTML!="function")throw tc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof se.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw tc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=se.TRUSTED_TYPES_POLICY,A=y.createHTML("")}else y===void 0&&(y=WR(d,r)),y!==null&&typeof A=="string"&&(A=y.createHTML(""));Nn&&Nn(se),X=se}},_e=et({},["mi","mo","mn","ms","mtext"]),xe=et({},["foreignobject","annotation-xml"]),Ie=et({},["title","style","font","a","script"]),Te=et({},[...Rg,...Mg,...zR]),Ve=et({},[...Bg,...PR]),Oe=function(se){let Se=b(se);(!Se||!Se.tagName)&&(Se={namespaceURI:xi,tagName:"template"});const ze=yf(se.tagName),Ft=yf(Se.tagName);return Ol[se.namespaceURI]?se.namespaceURI===st?Se.namespaceURI===Qt?ze==="svg":Se.namespaceURI===Ke?ze==="svg"&&(Ft==="annotation-xml"||_e[Ft]):!!Te[ze]:se.namespaceURI===Ke?Se.namespaceURI===Qt?ze==="math":Se.namespaceURI===st?ze==="math"&&xe[Ft]:!!Ve[ze]:se.namespaceURI===Qt?Se.namespaceURI===st&&!xe[Ft]||Se.namespaceURI===Ke&&!_e[Ft]?!1:!Ve[ze]&&(Ie[ze]||!Te[ze]):!!(dr==="application/xhtml+xml"&&Ol[se.namespaceURI]):!1},Le=function(se){Jl(e.removed,{element:se});try{b(se).removeChild(se)}catch{F(se)}},Ye=function(se,Se){try{Jl(e.removed,{attribute:Se.getAttributeNode(se),from:Se})}catch{Jl(e.removed,{attribute:null,from:Se})}if(Se.removeAttribute(se),se==="is"&&!U[se])if(ue||de)try{Le(Se)}catch{}else try{Se.setAttribute(se,"")}catch{}},ht=function(se){let Se=null,ze=null;if(le)se="<remove></remove>"+se;else{const an=Oy(se,/^[\r\n\t ]+/);ze=an&&an[0]}dr==="application/xhtml+xml"&&xi===Qt&&(se='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+se+"</body></html>");const Ft=y?y.createHTML(se):se;if(xi===Qt)try{Se=new f().parseFromString(Ft,dr)}catch{}if(!Se||!Se.documentElement){Se=x.createDocument(xi,"template",null);try{Se.documentElement.innerHTML=js?A:Ft}catch{}}const gn=Se.body||Se.documentElement;return se&&ze&&gn.insertBefore(t.createTextNode(ze),gn.childNodes[0]||null),xi===Qt?k.call(Se,q?"html":"body")[0]:q?Se.documentElement:gn},qe=function(se){return v.call(se.ownerDocument||se,se,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Lt=function(se){return se instanceof u&&(typeof se.nodeName!="string"||typeof se.textContent!="string"||typeof se.removeChild!="function"||!(se.attributes instanceof h)||typeof se.removeAttribute!="function"||typeof se.setAttribute!="function"||typeof se.namespaceURI!="string"||typeof se.insertBefore!="function"||typeof se.hasChildNodes!="function")},$t=function(se){return typeof a=="function"&&se instanceof a},Nt=function(se,Se,ze){T[se]&&Nu(T[se],Ft=>{Ft.call(e,Se,ze,X)})},wt=function(se){let Se=null;if(Nt("beforeSanitizeElements",se,null),Lt(se))return Le(se),!0;const ze=j(se.nodeName);if(Nt("uponSanitizeElement",se,{tagName:ze,allowedTags:Q}),se.hasChildNodes()&&!$t(se.firstElementChild)&&Cn(/<[/\w]/g,se.innerHTML)&&Cn(/<[/\w]/g,se.textContent)||se.nodeType===ic.progressingInstruction||W&&se.nodeType===ic.comment&&Cn(/<[/\w]/g,se.data))return Le(se),!0;if(!Q[ze]||J[ze]){if(!J[ze]&&$r(ze)&&(ne.tagNameCheck instanceof RegExp&&Cn(ne.tagNameCheck,ze)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(ze)))return!1;if(D&&!re[ze]){const Ft=b(se)||se.parentNode,gn=m(se)||se.childNodes;if(gn&&Ft){const an=gn.length;for(let Mn=an-1;Mn>=0;--Mn){const Ui=w(gn[Mn],!0);Ui.__removalCount=(se.__removalCount||0)+1,Ft.insertBefore(Ui,g(se))}}}return Le(se),!0}return se instanceof l&&!Oe(se)||(ze==="noscript"||ze==="noembed"||ze==="noframes")&&Cn(/<\/no(script|embed|frames)/i,se.innerHTML)?(Le(se),!0):(Y&&se.nodeType===ic.text&&(Se=se.textContent,Nu([M,N,C],Ft=>{Se=ec(Se,Ft," ")}),se.textContent!==Se&&(Jl(e.removed,{element:se.cloneNode()}),se.textContent=Se)),Nt("afterSanitizeElements",se,null),!1)},Qr=function(se,Se,ze){if(Ae&&(Se==="id"||Se==="name")&&(ze in t||ze in ae))return!1;if(!(V&&!Z[Se]&&Cn(B,Se))){if(!(ye&&Cn(I,Se))){if(!U[Se]||Z[Se]){if(!($r(se)&&(ne.tagNameCheck instanceof RegExp&&Cn(ne.tagNameCheck,se)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(se))&&(ne.attributeNameCheck instanceof RegExp&&Cn(ne.attributeNameCheck,Se)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(Se))||Se==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&Cn(ne.tagNameCheck,ze)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(ze))))return!1}else if(!We[Se]){if(!Cn($,ec(ze,L,""))){if(!((Se==="src"||Se==="xlink:href"||Se==="href")&&se!=="script"&&MR(ze,"data:")===0&&Fe[se])){if(!(ee&&!Cn(H,ec(ze,L,"")))){if(ze)return!1}}}}}}return!0},$r=function(se){return se!=="annotation-xml"&&Oy(se,O)},pn=function(se){Nt("beforeSanitizeAttributes",se,null);const{attributes:Se}=se;if(!Se)return;const ze={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};let Ft=Se.length;for(;Ft--;){const gn=Se[Ft],{name:an,namespaceURI:Mn,value:Ui}=gn,Ul=j(an);let _n=an==="value"?Ui:BR(Ui);if(ze.attrName=Ul,ze.attrValue=_n,ze.keepAttr=!0,ze.forceKeepAttr=void 0,Nt("uponSanitizeAttribute",se,ze),_n=ze.attrValue,W&&Cn(/((--!?|])>)|<\/(style|title)/i,_n)){Ye(an,se);continue}if(ze.forceKeepAttr||(Ye(an,se),!ze.keepAttr))continue;if(!R&&Cn(/\/>/i,_n)){Ye(an,se);continue}Y&&Nu([M,N,C],ab=>{_n=ec(_n,ab," ")});const ob=j(se.nodeName);if(Qr(ob,Ul,_n)){if(Ne&&(Ul==="id"||Ul==="name")&&(Ye(an,se),_n=S+_n),y&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Mn)switch(d.getAttributeType(ob,Ul)){case"TrustedHTML":{_n=y.createHTML(_n);break}case"TrustedScriptURL":{_n=y.createScriptURL(_n);break}}try{Mn?se.setAttributeNS(Mn,an,_n):se.setAttribute(an,_n),Lt(se)?Le(se):Py(e.removed)}catch{}}}Nt("afterSanitizeAttributes",se,null)},x9=function He(se){let Se=null;const ze=qe(se);for(Nt("beforeSanitizeShadowDOM",se,null);Se=ze.nextNode();)Nt("uponSanitizeShadowNode",Se,null),!wt(Se)&&(Se.content instanceof s&&He(Se.content),pn(Se));Nt("afterSanitizeShadowDOM",se,null)};return e.sanitize=function(He){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=null,ze=null,Ft=null,gn=null;if(js=!He,js&&(He="<!-->"),typeof He!="string"&&!$t(He))if(typeof He.toString=="function"){if(He=He.toString(),typeof He!="string")throw tc("dirty is not a string, aborting")}else throw tc("toString is not a function");if(!e.isSupported)return He;if(ge||ce(se),e.removed=[],typeof He=="string"&&(z=!1),z){if(He.nodeName){const Ui=j(He.nodeName);if(!Q[Ui]||J[Ui])throw tc("root node is forbidden and cannot be sanitized in-place")}}else if(He instanceof a)Se=ht("<!---->"),ze=Se.ownerDocument.importNode(He,!0),ze.nodeType===ic.element&&ze.nodeName==="BODY"||ze.nodeName==="HTML"?Se=ze:Se.appendChild(ze);else{if(!ue&&!Y&&!q&&He.indexOf("<")===-1)return y&&fe?y.createHTML(He):He;if(Se=ht(He),!Se)return ue?null:fe?A:""}Se&&le&&Le(Se.firstChild);const an=qe(z?He:Se);for(;Ft=an.nextNode();)wt(Ft)||(Ft.content instanceof s&&x9(Ft.content),pn(Ft));if(z)return He;if(ue){if(de)for(gn=_.call(Se.ownerDocument);Se.firstChild;)gn.appendChild(Se.firstChild);else gn=Se;return(U.shadowroot||U.shadowrootmode)&&(gn=E.call(i,gn,!0)),gn}let Mn=q?Se.outerHTML:Se.innerHTML;return q&&Q["!doctype"]&&Se.ownerDocument&&Se.ownerDocument.doctype&&Se.ownerDocument.doctype.name&&Cn(GC,Se.ownerDocument.doctype.name)&&(Mn="<!DOCTYPE "+Se.ownerDocument.doctype.name+`>
`+Mn),Y&&Nu([M,N,C],Ui=>{Mn=ec(Mn,Ui," ")}),y&&fe?y.createHTML(Mn):Mn},e.setConfig=function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ce(He),ge=!0},e.clearConfig=function(){X=null,ge=!1},e.isValidAttribute=function(He,se,Se){X||ce({});const ze=j(He),Ft=j(se);return Qr(ze,Ft,Se)},e.addHook=function(He,se){typeof se=="function"&&(T[He]=T[He]||[],Jl(T[He],se))},e.removeHook=function(He){if(T[He])return Py(T[He])},e.removeHooks=function(He){T[He]&&(T[He]=[])},e.removeAllHooks=function(){T={}},e}var tw=WC();class KR{constructor(e){this.parent=e,this.container=Ce({class:"igv-ui-generic-dialog-container"}),e.appendChild(this.container);const t=Ce({class:"igv-ui-generic-dialog-header"});this.container.appendChild(t),this.label=Ce({class:"igv-ui-generic-dialog-one-liner"}),this.container.appendChild(this.label),this.label.text="Unlabeled",this.input_container=Ce({class:"igv-ui-generic-dialog-input"}),this.container.appendChild(this.input_container);let i='<input type="range" id="igv-slider-dialog-input" name="igv-slider-dialog-input" />';this._input=document.createRange().createContextualFragment(i).firstChild,this.input_container.appendChild(this._input),i='<output id="igv-slider-dialog-output" name="igv-slider-dialog-output" for="igv-slider-dialog-input"></output>',this._output=document.createRange().createContextualFragment(i).firstChild,this.input_container.appendChild(this._output);const r=Ce({class:"igv-ui-generic-dialog-ok-cancel"});this.container.appendChild(r),this.ok=Ce(),r.appendChild(this.ok),this.ok.textContent="OK",this.cancel=Ce(),r.appendChild(this.cancel),this.cancel.textContent="Cancel",Xt(this.container),this._input.addEventListener("input",()=>{const o=parseFloat(this._input.value)/this._scaleFactor;this.callback(o),this._output.value=`${o.toFixed(2)}`},!1),this.ok.addEventListener("click",()=>{if(typeof this.callback=="function"){const o=parseFloat(this._input.value)/this._scaleFactor;this.callback(o),this.callback=void 0}this._input.value=void 0,Xt(this.container)});const s=()=>{this._input.value=void 0,Xt(this.container)};this.cancel.addEventListener("click",s),qo(t,s),Vr(this.container,t)}get value(){return tw.sanitize(this._input.value)}present(e,t){this.label.textContent=e.label,this._scaleFactor=e.scaleFactor;const[i,r,s]=[e.min,e.max,e.value].map(c=>Math.floor(this._scaleFactor*c).toString());this._input.min=i,this._input.max=r,this._input.value=s;const o=parseFloat(s),a=this._scaleFactor,l=o/a;this._output.value=`${l.toFixed(2)}`,this.callback=e.callback||e.click,Vh(this.container),this.clampLocation(t.clientX,t.clientY)}clampLocation(e,t){const{width:i,height:r}=this.container.getBoundingClientRect(),s=window.innerHeight,o=window.innerWidth,a=Math.min(s-r,t),l=Math.min(o-i,e);this.container.style.left=`${l}px`,this.container.style.top=`${a}px`}}class YR{constructor(e){this.parent=e,this.container=Ce({class:"igv-ui-generic-dialog-container"}),e.appendChild(this.container);const t=Ce({class:"igv-ui-generic-dialog-header"});this.container.appendChild(t),this.label=Ce({class:"igv-ui-generic-dialog-one-liner"}),this.container.appendChild(this.label),this.label.text="Unlabeled",this.input_container=Ce({class:"igv-ui-generic-dialog-input"}),this.container.appendChild(this.input_container),this._input=document.createElement("input"),this.input_container.appendChild(this._input);const i=Ce({class:"igv-ui-generic-dialog-ok-cancel"});this.container.appendChild(i),this.ok=Ce(),i.appendChild(this.ok),this.ok.textContent="OK",this.cancel=Ce(),i.appendChild(this.cancel),this.cancel.textContent="Cancel",Xt(this.container),this._input.addEventListener("keyup",s=>{s.code==="Enter"&&(typeof this.callback=="function"&&(this.callback(this._input.value),this.callback=void 0),this._input.value=void 0,Xt(this.container)),s.stopImmediatePropagation()}),this.ok.addEventListener("click",()=>{typeof this.callback=="function"&&(this.callback(this._input.value),this.callback=void 0),this._input.value=void 0,Xt(this.container)});const r=()=>{this._input.value="",Xt(this.container)};this.cancel.addEventListener("click",r),qo(t,r),Vr(this.container,t)}get value(){return tw.sanitize(this._input.value)}present(e,t){this.label.textContent=e.label,this._input.value=e.value,this.callback=e.callback||e.click,Vh(this.container),this.clampLocation(t.clientX,t.clientY)}clampLocation(e,t){const{width:i,height:r}=this.container.getBoundingClientRect(),s=window.innerHeight,o=window.innerWidth,a=Math.min(s-r,t),l=Math.min(o-i,e);this.container.style.left=`${l}px`,this.container.style.top=`${a}px`}}const KC={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"};class YC{constructor({parent:e,top:t,left:i,width:r,height:s,border:o,closeHandler:a}){let l=Ce({class:"igv-ui-generic-container"});e.appendChild(l),Xt(l),this.container=l,t!==void 0&&(this.container.style.top=`${t}px`),i!==void 0&&(this.container.style.left=`${i}px`),r!==void 0&&(this.container.style.width=`${r}px`),s!==void 0&&(this.container.style.height=`${s}px`),o&&(this.container.style.border=o);const c=Ce();this.container.appendChild(c),qo(c,h=>{Xt(this.container),typeof a=="function"&&a(h)}),Vr(this.container,c)}show(){Vh(this.container)}hide(){Xt(this.container)}dispose(){this.container.parent&&this.container.parent.removeChild(this.container)}}class XC extends YC{constructor({parent:e,width:t}){super({parent:e,width:t,border:"1px solid gray"})}configure(e,t){this.colorHandlers=t,this.setActiveColorHandler("color"),this.createSwatches(e)}setActiveColorHandler(e){this.activeColorHandler=this.colorHandlers[e]}createSwatches(e){this.container.querySelectorAll(".igv-ui-color-swatch").forEach(i=>i.remove());const t=Object.values(KC);for(let i of t){const r=Ce({class:"igv-ui-color-swatch"});this.container.appendChild(r),this.decorateSwatch(r,i)}if(e)for(let i of e){const r=Ce({class:"igv-ui-color-swatch"});this.container.appendChild(r),this.decorateSwatch(r,i)}}decorateSwatch(e,t){e.style.backgroundColor=t,e.addEventListener("mouseenter",()=>e.style.borderColor=t),e.addEventListener("mouseleave",()=>e.style.borderColor="white"),e.addEventListener("click",i=>{i.stopPropagation(),this.activeColorHandler(t)}),e.addEventListener("touchend",i=>{i.stopPropagation(),this.activeColorHandler(t)})}}const Qy={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};class ZC{constructor(e,t){this.alertProps=Object.assign({shouldFocus:!0,preventScroll:!1},t),this.container=Ce({class:"igv-ui-alert-dialog-container"}),e.appendChild(this.container),this.container.setAttribute("tabIndex","-1");const i=Ce();this.container.appendChild(i),this.errorHeadline=Ce(),i.appendChild(this.errorHeadline),this.errorHeadline.textContent="";let r=Ce({class:"igv-ui-alert-dialog-body"});this.container.appendChild(r),this.body=Ce({class:"igv-ui-alert-dialog-body-copy"}),r.appendChild(this.body);let s=Ce();this.container.appendChild(s),this.ok=Ce(),s.appendChild(this.ok),this.ok.textContent="OK";const o=()=>{typeof this.callback=="function"&&(this.callback("OK"),this.callback=void 0),this.body.innerHTML="",Xt(this.container)};this.ok.addEventListener("click",a=>{a.stopPropagation(),o()}),this.container.addEventListener("keypress",a=>{a.stopPropagation(),a.key==="Enter"&&o()}),Vr(this.container,i),Xt(this.container)}present(e,t){this.errorHeadline.textContent=e.message?"ERROR":"";let i=e.message||e;Qy.hasOwnProperty(i)&&(i=Qy[i]);const r=tw.sanitize(i);this.body.innerHTML=r,this.callback=t,Vh(this.container),this.alertProps.shouldFocus&&this.container.focus({preventScroll:this.alertProps.preventScroll})}}class XR{constructor(e){this.dialog=new ZC(e)}present(e,t){this.dialog.present(e,t)}}function JC(n){if(n)switch(n.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":return"wig";case"vcf":return"variant";case"seg":return"seg";case"mut":case"maf":return"mut";case"bam":case"cram":return"alignment";case"hiccups":case"bedpe":case"bedpe-loop":case"biginteract":return"interact";case"bp":return"arc";case"gwas":return"gwas";case"bed":case"bigbed":case"bb":case"biggenepred":case"bignarrowpeak":return"bedtype";case"fasta":return"sequence";case"pytor":return"cnvpytor";case"qtl":return"qtl";default:return"annotation"}}function e6(n){n.featureType&&(n.type=n.type||n.featureType,n.featureType=void 0),n.type==="junctions"?n.type="junction":n.type==="bed"?(n.type="annotation",n.format=n.format||"bed"):n.type==="annotations"?n.type="annotation":n.type==="alignments"?n.type="alignment":n.type==="bam"?(n.type="alignment",n.format="bam"):n.type==="vcf"?(n.type="variant",n.format="vcf"):n.type==="t2d"?n.type="gwas":n.type==="FusionJuncSpan"&&!n.format?n.format="fusionjuncspan":n.type==="aed"&&(n.type="annotation",n.format=n.format||"aed")}var ZR=Object.freeze({__proto__:null,inferTrackType:JC,translateDeprecatedTypes:e6});function vf(n){const e=new Set(["boolean","number","string","symbol"]),t=typeof n;return n!==void 0&&(e.has(t)||n.substring||n.toFixed)}function Qe(n,e){var t={oauthToken:n.oauthToken,headers:n.headers,withCredentials:n.withCredentials,filename:n.filename};return Object.assign(t,e)}const vh=function(n){var e,t;if(n&&n.length>0){e=Number.MAX_VALUE,t=-Number.MAX_VALUE;for(let i of n)Number.isNaN(i.value)||(e=Math.min(e,i.value),t=Math.max(t,i.value));t>0&&(e=Math.min(0,e)),t<0&&(t=0)}else e=0,t=100;return{min:e,max:t}},t6=function(n,e,t){let i=e.start,r=e.end;if(r===void 0)i-=t/2,r=i+t,r>n?(r=n,i=r-t):i<0&&(i=0,r=t);else if(r-i<t){const s=(r+i)/2;s-t/2<0?(i=0,r=i+t):s+t/2>n?(r=n,i=r-t):(i=s-t/2,r=i+t)}e.start=Math.ceil(i),e.end=Math.floor(r)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */const Vm=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite(+n):!1};async function gp(n){if(St(n)&&n.startsWith("https://drive.google.com")){if(zC()===void 0)throw Error("Google drive is referenced, but API key is not defined.  An API key is required for Google Drive access");const e=await eR(n);return e.originalFileName||e.name}else return Y_(n)}function qm(n){var e,t,i,r;if(n>1e7)e=1e6,t=" mb";else return n>1e4?(e=1e3,t=" kb",i=n/e,r=Math.floor(i),Ge(r)+t):Ge(n)+" bp";return i=n/e,r=Math.floor(i),r.toString()+t}function qr(n){return St(n)&&n.startsWith("data:")}function rs(n,e){const t=Ce({class:e});n.appendChild(t)}function $y(n,e){e.parentNode.insertBefore(n,e)}function Gy(n,e){e.parentNode.insertBefore(n,e.nextSibling)}function mp(){return window.location.protocol==="https:"||window.location.hostname==="localhost"}function JR(n){const e=window.getComputedStyle(n),t=parseInt(e.marginTop),i=parseInt(e.marginBottom),{top:r,bottom:s,height:o}=n.getBoundingClientRect();return{top:Math.floor(r)-t,bottom:Math.floor(s)+i,height:Math.floor(o)+t+i}}class eM extends YC{constructor({parent:e,top:t,left:i,width:r,height:s,defaultColors:o,colorHandler:a}){super({parent:e,top:t,left:i,width:r,height:s,border:"1px solid gray"}),tM(this.container,a,o)}}const tM=(n,e,t)=>{const i=Object.values(KC);for(let r of i){const s=Ce({class:"igv-ui-color-swatch"});n.appendChild(s),Wy(s,r,e)}if(t)for(let r of t){const s=Ce({class:"igv-ui-color-swatch"});n.appendChild(s),Wy(s,r,e)}},Wy=(n,e,t)=>{n.style.backgroundColor=e,n.addEventListener("mouseenter",i=>n.style.borderColor=e),n.addEventListener("mouseleave",i=>n.style.borderColor="white"),n.addEventListener("click",i=>{i.stopPropagation(),t(e)}),n.addEventListener("touchend",i=>{i.stopPropagation(),t(e)})};class Lg{constructor(e,t,i,r){this.parent=e,this.popover=Ce({class:"igv-ui-popover"}),e.appendChild(this.popover),this.popoverHeader=Ce(),this.popover.appendChild(this.popoverHeader);const s=Ce();this.popoverHeader.appendChild(s),i&&(s.textContent=i);const o=Ce();this.popoverHeader.appendChild(o),o.appendChild(zr("times")),o.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault(),r?r():this.dismiss()}),t===!0&&Vr(this.popover,this.popoverHeader,{minX:0,minY:0}),this.popoverContent=Ce(),this.popover.appendChild(this.popoverContent),this.popover.style.display="none"}configure(e){if(e.length===0)return;const t=jm(e,this.popover);for(const{object:i}of t)this.popoverContent.appendChild(i)}present(e){this.popover.style.display="block";const t=this.popover.parentNode,{x:i,y:r,width:s}=Zt(e,t);this.popover.style.top=`${r}px`;const{width:o}=this.popover.getBoundingClientRect(),a=i+o,l=a-s;this.popover.style.left=`${a>s?i-l:i}px`,this.popoverContent.style.maxWidth=`${Math.min(o,s)}px`}presentContentWithEvent(e,t){this.popover.style.display="block",this.popoverContent.innerHTML=t,Ky(e,this.popover,this.popoverContent)}presentMenu(e,t){if(t.length===0)return;this.popover.style.display="block";const i=jm(t,this.popover);for(let r of i)this.popoverContent.appendChild(r.object);Ky(e,this.popover,this.popoverContent)}dismiss(){this.popover.style.display="none"}hide(){this.popover.style.display="none",this.dispose()}dispose(){this.popover&&this.popover.parentNode.removeChild(this.popover);const e=Object.keys(this);for(let t of e)this[t]=void 0}}function Ky(n,e,t){const{x:i,y:r,width:s}=Zt(n,e.parentNode);e.style.top=`${r}px`;const{width:o}=e.getBoundingClientRect(),a=i+o,l=a-s;e.style.left=`${a>s?i-l:i}px`,t.style.maxWidth=`${Math.min(o,s)}px`}function jm(n,e){return n.map(function(i,r){let s;if(typeof i=="string")s=Ce(),s.innerHTML=i;else if(typeof i=="Node")s=i;else{if(typeof i.init=="function"&&i.init(),i.type==="checkbox")s=aS("Show all bases",i.value);else if(i.type==="color"){const a=new eM({parent:e.parentElement,width:364,colorHandler:c=>i.click(c)});s=Ce(),typeof i.label=="string"&&(s.innerHTML=i.label);const l=c=>{a.show(),Xt(e),c.preventDefault(),c.stopPropagation()};s.addEventListener("click",l),s.addEventListener("touchend",l),s.addEventListener("mouseup",function(c){c.preventDefault(),c.stopPropagation()})}else s=Ce(),typeof i.label=="string"&&(s.innerHTML=i.label);if(i.click&&i.type!=="color"){let a=function(l){i.click(),Xt(e),l.preventDefault(),l.stopPropagation()};var o=a;s.addEventListener("click",a),s.addEventListener("touchend",a),s.addEventListener("mouseup",function(l){l.preventDefault(),l.stopPropagation()})}}return{object:s,init:i.init}})}const nM=[["A","T"],["G","C"],["Y","R"],["W","S"],["K","M"],["D","H"],["B","V"]],er=new Map;for(let n of nM){const e=n[0],t=n[1];er.set(e,t),er.set(t,e),er.set(e.toLowerCase(),t.toLowerCase()),er.set(t.toLowerCase(),e.toLowerCase())}function nw(n){return er.has(n)?er.get(n):n}function Qm(n){let e="";for(let t of n)e+=er.has(t)?er.get(t):t;return e}function Tr(n){let e="",t=n.length;for(;t-- >0;){const i=n[t];e+=er.has(i)?er.get(i):i}return e}class Ro{constructor(e,t,i,r){this.name=e,this.order=t,this.bpLength=i,this.altNames=r}getAltName(e){return this.altNames&&this.altNames.has(e)?this.altNames.get(e):this.name}}class Fd{constructor(e,t,i,r){this.chr=e,this.start=t,this.end=i,this.features=r}contains(e,t,i){return this.chr===e&&this.start<=t&&this.end>=i}containsRange(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end}get locusString(){return`${this.chr}:${this.start+1}-${this.end}`}}class iw extends Fd{constructor(e,t,i,r){super(e,t,i,r)}getSequence(e,t){if(e<this.start||t>this.end)return null;const i=e-this.start,r=t-e;return this.features?this.features.substring(i,i+r):null}hasSequence(e,t){return e>=this.start&&t<=this.end}}const iM=Qo,rM=new Set(["fastaURL","indexURL","cytobandURL","indexed"]);var Va;class sM{constructor(e){Pe(this,Va);Re(this,"chromosomes",new Map);Re(this,"sequences",new Map);this.fastaURL=e.fastaURL,this.withCredentials=e.withCredentials;const t={};for(let i in e)e.hasOwnProperty(i)&&!rM.has(i)&&(t[i]=e[i]);this.config=t}async init(){return this.loadAll()}getSequenceRecord(e){return this.chromosomes.get(e)}get chromosomeNames(){return he(this,Va)||Ue(this,Va,Array.from(this.chromosomes.keys())),he(this,Va)}getFirstChromosomeName(){return this.chromosomeNames[0]}async getSequence(e,t,i){if(this.sequences.size===0&&await this.loadAll(),!this.sequences.has(e))return;let r=this.sequences.get(e).find(l=>l.contains(t,i));if(!r&&(r=this.sequences.get(e).find(l=>l.overlaps(t,i)),!r))return;t-=r.offset,i-=r.offset;let s="";if(t<0)for(let l=t;l<Math.min(i,0);l++)s+="*";if(i<=0)return s;const o=r.sequence,a=Math.min(i,o.length);return s+o.substring(t,a)}async loadAll(){let e;if(qr(this.fastaURL)){let h=Hs(this.fastaURL);e="";for(let u of h)e+=String.fromCharCode(u)}else e=await Be.load(this.fastaURL,Qe(this.config));const t=new Set,i=iM(e),r=i.length;let s=0,o=0,a,l={};for(;s<r;){if(a=i[s++].trim(),!(a.startsWith("#")||a.length===0))if(a.startsWith(">")){l&&l.seq&&c.call(this,l,o++);const h=a.substr(1).split(/\s+/),u=h[0].split(":");if(l.chr=u[0],l.seq="",l.offset=0,u.length>1&&u[1].indexOf("-")>0){const f=u[1].split("-");f.length===2&&/^[0-9]+$/.test(f[0])&&/^[0-9]+$/.test(f[1]);const d=Number.parseInt(f[0]);if(Number.parseInt(f[1])>d&&(l.offset=d-1),h.length>1&&h[1].startsWith("@len="))try{l.length=parseInt(h[1].trim().substring(5))}catch{l.length=void 0,console.error(`Error parsing sequence length for ${a}`)}else l.length=void 0}}else l.seq+=a;l&&l.seq&&c.call(this,l,o)}function c(h,u){const f=h.length||h.offset+h.seq.length;if(!t.has(h.chr))this.sequences.set(h.chr,[]),this.chromosomes.set(h.chr,new Ro(h.chr,u,f)),t.add(h.chr);else{const d=this.chromosomes.get(h.chr);d.bpLength=Math.max(d.bpLength,f)}this.sequences.get(h.chr).push(new oM(h.offset,h.seq))}}getSequenceInterval(e,t,i){const r=this.sequences.get(e);if(r)for(let s of r){const o=s.sequence,a=s.offset,l=a+o.length;if(a<=t&&l>=i)return new iw(e,a,l,o)}}}Va=new WeakMap;class oM{constructor(e,t){this.offset=e,this.sequence=t}contains(e,t){return this.offset<=e&&this.end>=t}overlaps(e,t){return this.offset<t&&this.end>e}get end(){return this.offset+this.sequence.length}}const aM=Qo,lM=new Set(["fastaURL","indexURL","compressedIndexURL","cytobandURL","indexed"]);var qa;class cM{constructor(e){Pe(this,qa);Re(this,"chromosomes",new Map);this.file=e.fastaURL,this.indexFile=e.indexURL,this.compressedIndexFile=e.compressedIndexURL,this.withCredentials=e.withCredentials;const t={};for(let i in e)e.hasOwnProperty(i)&&!lM.has(i)&&(t[i]=e[i]);this.config=t}getSequenceRecord(e){return this.chromosomes.get(e)}async init(){return this.getIndex()}get chromosomeNames(){return he(this,qa)||Ue(this,qa,Array.from(this.chromosomes.keys())),he(this,qa)}getFirstChromosomeName(){return this.chromosomeNames[0]}async getIndex(){if(this.index)return this.index;{const e=await Be.load(this.indexFile,Qe(this.config)),t=aM(e),i=t.length;let r=0,s=0;for(this.index={};r<i;){const o=t[r++].split("	");if(o.length===5){const l=o[0],c=parseInt(o[1]),h=parseInt(o[2]),u=parseInt(o[3]),f=parseInt(o[4]),d={size:c,position:h,basesPerLine:u,bytesPerLine:f};this.index[l]=d,this.chromosomes.set(l,new Ro(l,s++,c))}}return this.index}}async getCompressedIndex(){if(this.compressedIndex)return this.compressedIndex;if(!this.compressedIndexFile)return this.compressedIndex=[],this.compressedIndex;this.compressedIndex=[];const i=await Be.loadArrayBuffer(this.compressedIndexFile,Qe(this.config)),r=i.byteLength;if(r<8)return console.log("Cannot parse GZI index file: length ("+r+" bytes) is insufficient to determine content of index."),this.compressedIndex;const s=i.slice(0,8),o=Number(new DataView(s).getBigUint64(0,!0)),a=8+o*2*8;if(r!=a)return console.log("Incorrect file size of reference genome index. Expected : "+a+". Received : "+r),this.compressedIndex;this.compressedIndex.push([0,0]);for(let l=0;l<o;l++){const c=8+l*2*8,h=8+l*2*8+2*8,u=i.slice(c,h),f=new DataView(u),d=Number(f.getBigUint64(0,!0)),p=Number(f.getBigUint64(8,!0));this.compressedIndex.push([d,p])}return this.compressedIndex}async getRelevantCompressedBlockNumbers(e,t){if(e<0||t<0||t<e)return console.log("Incompatible query positions for reference-genome. Start:"+e+" | End:"+t),[];await this.getCompressedIndex();let r=[];const s=0,o=this.compressedIndex.length-1;if(this.compressedIndex.length==0)return console.log("Compressed index does not contain any content"),[];if(e>this.compressedIndex[o][1])return[o];let a=s,l=o,c=Math.floor(this.compressedIndex.length/2),h=this.compressedIndex.length+1,u=!1;for(let p=0;p<h;p++){const w=this.compressedIndex[c][1],F=c<this.compressedIndex.length-1?this.compressedIndex[c+1][1]:1/0;if(w<=e&&F>e){u=!0;break}else w<e?a=c+1:l=c-1;c=Math.ceil((l-a)/2)+a}if(!u)return console.log("No blocks within compressed index found that correspond with query positions "+e+","+t),console.log(this.compressedIndex),[];r.push(c);for(let p=c+1;p<this.compressedIndex.length&&(r.push(p),!(this.compressedIndex[p][1]>=t));p++);const f=r[r.length-1],d=this.compressedIndex.length-1;return f===d&&this.compressedIndex[f][1]<t&&r.push(-1),r}async loadAndUncompressBlocks(e,t){if(await this.getCompressedIndex(),e.length==0)return"";let s=Array(e.length-1);for(let c=0;c<e.length-1;c++){const h=e[c],f=this.compressedIndex[h][0],d=e[c+1];let p=[];if(d!=-1){const m=this.compressedIndex[d][0]-f;p=await Be.loadArrayBuffer(this.file,Qe(this.config,{range:{start:f,size:m}}))}else p=await Be.loadArrayBuffer(this.file,Qe(this.config,{range:{start:f}}));const w=await cr(p);s[c]=w}let o="";for(let c=0;c<s.length;c++)for(let h=0;h<s[c].length;h++){const u=String.fromCharCode(s[c][h]);o=o+u}const a=this.compressedIndex[e[0]],l=t-a[1];return o=o.substring(l),o}async readSequence(e,t,i){await this.getIndex(),await this.getCompressedIndex();const r=this.index[e];if(!r)return console.log("No index entry for chr: "+e),this.index[e]=null,null;const s=Math.max(0,t),o=Math.min(r.size,i),a=r.bytesPerLine,l=r.basesPerLine,c=r.position,h=a-l,u=Math.floor(s/l),f=Math.floor(o/l),d=u*l,p=s-d,w=c+u*a+p,F=f*l,g=o-F,m=c+f*a+g-1,b=m-w+1;if(b<=0)return console.error("No sequence for "+e+":"+t+"-"+i),null;let y;if(!this.compressedIndexFile)y=await Be.load(this.file,Qe(this.config,{range:{start:w,size:b}}));else{let k=await this.getRelevantCompressedBlockNumbers(w,m);if(k.length===0)return console.log("No blocks in the compressed index that correspond with the requested byte positions ("+w+","+m+")"),null;y=await this.loadAndUncompressBlocks(k,w)}if(!y)return null;let A,x="",v=0,_=y.length;for(p>0&&(A=Math.min(o-s,l-p),x+=y.substr(v,A),v+=A+h);v<_;)A=Math.min(l,_-v),x+=y.substr(v,A),v+=A+h;return x}}qa=new WeakMap;const n6=Qo;var Th;class hM{constructor(e){Pe(this,Th);Re(this,"chromosomes",new Map);this.url=e}async init(){return this.loadAll()}getSequenceRecord(e){return this.chromosomes.get(e)}get chromosomeNames(){he(this,Th)||Ue(this,Th,Array.from(this.chromosomes.keys()))}async getSequence(e,t,i){return null}async loadAll(){let e;if(qr(this.url)){let r=Hs(this.fastaURL);e="";for(let s of r)e+=String.fromCharCode(s)}else e=await Be.load(this.url,{});const t=n6(e);let i=0;for(let r of t){const s=r.split("	");if(s.length>1){const o=Number.parseInt(s[1]),a=new Ro(s[0],i++,o);this.chromosomes.set(s[0],a)}}}}Th=new WeakMap;async function uM(n){const e=new Map;let t;if(qr(n)){let s=Hs(n);t="";for(let o of s)t+=String.fromCharCode(o)}else t=await Be.load(n,{});const i=n6(t);let r=0;for(let s of i){const o=s.split("	");if(o.length>1){const a=Number.parseInt(o[1]);e.set(o[0],new Ro(o[0],r++,a))}}return e}class Vt{constructor(e,t=!0){this.littleEndian=t,this.position=0,this.view=e,this.length=e.byteLength}setPosition(e){this.position=e}available(){return this.length-this.position}remLength(){return this.length-this.position}hasNext(){return this.position<this.length-1}getByte(){const e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e}getShort(){const e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e}getUShort(){const e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e}getInt(){const e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e}getUInt(){const e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e}getLong(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);let t=0;if(this.littleEndian)for(let i=e.length-1;i>=0;i--)t=t*256+e[i];else for(let i=0;i<e.length;i++)t=t*256+e[i];return this.position+=8,t}getString(e){let t="",i;for(;(i=this.view.getUint8(this.position++))!==0&&(t+=String.fromCharCode(i),!(e&&t.length===e)););return t}getFixedLengthString(e){let t="";for(let i=0;i<e;i++){const r=this.view.getUint8(this.position++);r>0&&(t+=String.fromCharCode(r))}return t}getFloat(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e}getDouble(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e}skip(e){return this.position+=e,this.position}getVPointer(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),i=(this.view.getUint8(e+6)&255)*4294967296,r=(this.view.getUint8(e+5)&255)*16777216,s=(this.view.getUint8(e+4)&255)*65536,o=(this.view.getUint8(e+3)&255)*256,a=this.view.getUint8(e+2)&255,l=i+r+s+o+a;return this.position+=8,new fM(l,t)}}class fM{constructor(e,t){this.block=e,this.offset=t}isLessThan(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset}isGreaterThan(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset}isEqualTo(e){return this.block===e.block&&this.offset===e.offset}print(){return""+this.block+":"+this.offset}}var ho,_c;const xa=class xa{constructor(e,t,i){Pe(this,ho);Re(this,"littleEndian",!0);Re(this,"nodeCache",new Map);this.path=e,this.config=t,this.startOffset=i}static async loadBpTree(e,t,i){return new xa(e,t,i).init()}async init(){const e=await $e(this,ho,_c).call(this,this.startOffset,32);let t=e.getInt();if(t!==xa.magic&&(e.setPosition(0),this.littleEndian=!this.littleEndian,e.littleEndian=this.littleEndian,t=e.getInt(),t!==xa.magic))throw Error(`Bad magic number ${t}`);const i=e.getInt(),r=e.getInt(),s=e.getInt(),o=e.getLong(),a=e.getLong(),l=this.startOffset+32;return this.header={magic:t,blockSize:i,keySize:r,valSize:s,itemCount:o,reserved:a,nodeOffset:l},this}async search(e){this.header||await this.init();const{keySize:t,valSize:i}=this.header;if(!(i===16||i===8))throw Error(`Unexpected valSize ${i}`);const r=async o=>{if(this.nodeCache.has(o))return this.nodeCache.get(o);{let a=await $e(this,ho,_c).call(this,o,4);const l=a.getByte();a.getByte();const c=a.getUShort(),h=[];if(l===1){const f=c*(t+i);a=await $e(this,ho,_c).call(this,o+4,f);for(let d=0;d<c;d++){const p=a.getFixedLengthString(t),w=a.getLong();let F;if(i===16){const g=a.getInt();a.getInt(),F={offset:w,length:g}}else F={offset:w};h.push({key:p,value:F})}}else{const f=c*(t+8);a=await $e(this,ho,_c).call(this,o+4,f);for(let d=0;d<c;d++){const p=a.getFixedLengthString(t),w=a.getLong();h.push({key:p,offset:w})}}const u={type:l,count:c,items:h};return this.nodeCache.set(o,u),u}},s=async o=>{const a=await r(o);if(a.type===1){for(let l of a.items)if(e===l.key)return l.value}else{let l=a.items[0].offset;for(let c=1;c<a.items.length;c++){const h=a.items[c].key;if(e.localeCompare(h)<0)break;l=a.items[c].offset}return s(l)}};return s(this.header.nodeOffset)}};ho=new WeakSet,_c=async function(e,t){const i=await Be.loadArrayBuffer(this.path,Qe(this.config,{range:{start:e,size:t}}));return new Vt(new DataView(i),this.littleEndian)},Re(xa,"magic",2026540177);let yd=xa;const Ru=["T","C","A","G"],rw=[];for(let n=0;n<256;n++)rw.push(Ru[n>>6&3]+Ru[n>>4&3]+Ru[n>>2&3]+Ru[n&3]);const dM=rw.map(n=>n.toLowerCase());class pM{constructor(e){Re(this,"littleEndian");Re(this,"metaIndex",new Map);this.url=e.twoBitURL||e.fastaURL,this.config=e,e.twoBitBptURL&&(this.bptURL=e.twoBitBptURL)}async init(){if(this.bptURL)this.index=await yd.loadBpTree(this.bptURL,this.config,0);else{const e=await this._readIndex();this.index={search:async t=>e.has(t)?{offset:e.get(t)}:void 0}}}async readSequence(e,t,i){this.index||await this.init();const r=await this.getSequenceRecord(e);if(!r)return null;if(t<0)throw new TypeError("regionStart cannot be less than 0");(i===void 0||i>r.dnaSize)&&(i=r.dnaSize);const s=this._getOverlappingBlocks(t,i,r.nBlocks),o=this._getOverlappingBlocks(t,i,r.maskBlocks),a=Math.floor(t/4),l=r.packedPos+a,c=Math.floor(i/4)-a+1,h=await Be.loadArrayBuffer(this.url,{range:{start:l,size:c}}),u=new Uint8Array(h);let f="";for(let d=t;d<i;d+=1){for(;o.length&&o[0].end<=d;)o.shift();const p=o[0]&&o[0].start<=d&&o[0].end>d;if(s[0]&&d>=s[0].start&&d<s[0].end){const w=s.shift();for(;d<w.end&&d<i;)f+="N",d++;d--}else{const w=Math.floor(d/4)-a,F=d%4,g=u[w];f+=p?dM[g][F]:rw[g][F]}}return f}async _readIndex(){const e=new Map,t={start:0,size:64};let i=await Be.loadArrayBuffer(this.url,{range:t}),r=new DataView(i),s=0;const o=r.getUint32(s,!0),a=r.getUint32(s,!1);s+=4;const l=440477507;if(o===l)this.littleEndian=!0;else if(a===l)this.littleEndian=!1;else throw Error(`Bad magic number ${l}`);this.version=r.getUint32(s,this.littleEndian),s+=4,this.sequenceCount=r.getUint32(s,this.littleEndian),s+=4,this.reserved=r.getUint32(s,this.littleEndian),s+=4;let c,h,u=20;for(let f=0;f<this.sequenceCount;f++){(!h||h.available()<1)&&(c=(this.sequenceCount-f)*u,h=await this._loadBinaryBuffer(s,c));const d=h.getByte();s+=1,h.available()<d+5&&(c=(this.sequenceCount-f)*u+100,h=await this._loadBinaryBuffer(s,c));const p=h.getString(d),w=h.getUInt();s+=d+4,e.set(p,w),u=Math.floor(u*(f/(f+1))+p.length/(f+1))}return e}async getSequenceRecord(e){if(!this.metaIndex.has(e)){if(!this.index)throw Error("TwobitSequence object must be initialized before accessing sequence");let t=await this.index.search(e);if(!t)return;let i=t.offset,r=8,s=await this._loadBinaryBuffer(i,r);const o=s.getUInt(),a=s.getUInt();i+=r,r=a*8+4,s=await this._loadBinaryBuffer(i,r);const l=[];for(let m=0;m<a;m++)l.push(s.getUInt());const c=[];for(let m=0;m<a;m++)c.push(s.getUInt());const h=s.getUInt();i+=r,r=h*8+4,s=await this._loadBinaryBuffer(i,r);const u=[];for(let m=0;m<h;m++)u.push(s.getUInt());const f=[];for(let m=0;m<h;m++)f.push(s.getUInt());const d=[];for(let m=0;m<a;m++)d.push(new Yy(l[m],c[m]));const p=[];for(let m=0;m<h;m++)p.push(new Yy(u[m],f[m]));if(s.getUInt()!=0)throw Error("Bad 2-bit file");i+=r;const g={dnaSize:o,nBlocks:d,maskBlocks:p,packedPos:i,bpLength:o};this.metaIndex.set(e,g)}return this.metaIndex.get(e)}_getOverlappingBlocks(e,t,i){const r=[];for(let s of i){if(s.start>t)break;if(s.end<e)continue;r.push(s)}return r}async _loadBinaryBuffer(e,t){const i=await Be.loadArrayBuffer(this.url,{range:{start:e,size:t}});return new Vt(new DataView(i),this.littleEndian)}}class Yy{constructor(e,t){this.start=e,this.size=t}get end(){return this.start+this.size}}var ja,uo,ui,Ud,Po,i6,r6,gM;const ka=class ka{constructor(e,t){Pe(this,Po);Pe(this,uo);Pe(this,ui,[]);Pe(this,Ud,10);this.sequenceReader=e,this.browser=t}get chromosomes(){return this.sequenceReader.chromosomes}async getSequenceRecord(e){return this.sequenceReader.getSequenceRecord(e)}async getSequence(e,t,i){let r=he(this,ui).find(s=>s.contains(e,t,i));if(r||(r=await $e(this,Po,r6).call(this,e,t,i),$e(this,Po,i6).call(this,r),he(this,ui).push(r)),r){const s=t-r.start,o=i-t;return r.features?r.features.substring(s,s+o):null}else return}getSequenceInterval(e,t,i){return he(this,ui).find(r=>r.contains(e,t,i))}async init(){return this.sequenceReader.init()}get chromosomeNames(){return this.sequenceReader.chromosomeNames}getFirstChromosomeName(){return typeof this.sequenceReader.getFirstChromosomeName=="function"?this.sequenceReader.getFirstChromosomeName():void 0}};ja=new WeakMap,uo=new WeakMap,ui=new WeakMap,Ud=new WeakMap,Po=new WeakSet,i6=function(e){Ue(this,ui,he(this,ui).filter(t=>!e.contains(t))),he(this,ui).length===he(this,Ud)&&he(this,ui).shift(),this.browser&&this.browser.referenceFrameList.length<100&&Ue(this,ui,he(this,ui).filter(t=>this.browser.referenceFrameList.find(r=>r.overlaps(t))!==void 0))},r6=async function(e,t,i){let r=t,s=i;if(i-t<he(ka,ja)){const a=i-t,l=Math.round(t+a/2);r=Math.max(0,l-he(ka,ja)/2),s=r+he(ka,ja)}const o=new iw(e,r,s);if(he(this,uo)&&he(this,uo)[0].contains(e,t,i))return he(this,uo)[1];{const a=new Promise(async(l,c)=>{o.features=await this.sequenceReader.readSequence(e,r,s),l(o)});return Ue(this,uo,[o,a]),a}},gM=function(e){this.browser.referenceFrameList},Pe(ka,ja,1e5);let vd=ka;async function s6(n,e){let t;return n.format==="chromsizes"?t=new hM(n.fastaURL||n.url):n.format==="2bit"||n.twoBitURL?t=new vd(new pM(n),e):qr(n.fastaURL)||!n.indexURL?t=new sM(n):n.format==="gbk"||n.gbkURL||(t=new vd(new cM(n),e)),await t.init(),t}const mM={A:"rgb(  0, 200,   0)",C:"rgb(  0,0,200)",T:"rgb(255,0,0)",G:"rgb(209,113,  5)",N:"rgb(80,80,80)"};function zg(n,e){if(n.length<6){console.log("Skipping line: "+n.join(" "));return}var t={chr1:n[0],start1:Number.parseInt(n[1]),end1:Number.parseInt(n[2]),chr2:n[3],start2:Number.parseInt(n[4]),end2:Number.parseInt(n[5])};if(isNaN(t.start1)||isNaN(t.end1)||isNaN(t.start2)||isNaN(t.end2))return;e&&e.hiccups===void 0&&(e.hiccups=e.columnNames?o6(e.columnNames):!1);const i=e&&e.hiccups,r=i?6:10;if(i||(n.length>6&&n[6]!=="."&&(t.name=n[6]),n.length>7&&n[7]!=="."&&(t.score=Number(n[7])),n.length>8&&n[8]!=="."&&(t.strand1=n[8]),n.length>9&&n[9]!=="."&&(t.strand2=n[9])),e){const s=e.colorColumn;s&&s<n.length&&(t.color=Xe.createColorString(n[s]));const o=e.thicknessColumn;o&&o<n.length&&(t.thickness=n[o]),n.length>r&&e.columnNames&&e.columnNames.length===n.length&&(t.extras=n.slice(r))}return t.chr1===t.chr2&&(t.chr=t.chr1,t.start=Math.min(t.start1,t.start2),t.end=Math.max(t.end1,t.end2)),t}function wM(n){if(n.length==0)return;const e=n[0];if(e.score===void 0&&e.name!==void 0){for(let i of n)if(!(Vm(i.name)||i.name==="."))return;for(let i of n)i.score=Number(i.name),delete i.name}const t=n.filter(i=>i.chr1!==i.chr2);for(let i of t){const r=Object.assign({},i);r.dup=!0,n.push(r),i.chr=i.chr1,i.start=i.start1,i.end=i.end1,r.chr=r.chr2,r.start=r.start2,r.end=r.end2}}function bM(n,e){if(!(n.length<8))return{chr:n[0],start:Number.parseInt(n[1]),end:Number.parseInt(n[2]),color:Xe.createColorString(n[6]),value:Number(n[7])}}function o6(n){return n&&(n.includes("fdrDonut")||n.includes("fdr_donut"))}function FM(n,e){if(n.length<6){console.log("Skipping line: "+n.join(" "));return}var t={chr:n[0],start:Number.parseInt(n[1]),end:Number.parseInt(n[2]),chr1:n[8],start1:Number.parseInt(n[9]),end1:Number.parseInt(n[10]),chr2:n[13],start2:Number.parseInt(n[14]),end2:Number.parseInt(n[15]),name:n[3],score:Number(n[4]),value:Number(n[5]),color:n[7]==="."?void 0:n[7]==="0"?"rgb(0,0,0)":n[7]};return t}class a6{constructor(e){this.message=e}}const Xy=new Map([["%09","	"],["%0A",`
`],["%0D","\r"],["%25","%"],["%3B",";"],["%3D","="],["%26","&"],["%2C",","]]);function $m(n){if(!n.includes("%"))return n;let e="";for(let t=0;t<n.length;t++)if(n.charCodeAt(t)===37&&t<n.length-2){const i=n.substring(t,t+3);Xy.has(i)?e+=Xy.get(i):e+=i,t+=2}else e+=n.charAt(t);return e}function Ah(n,e="="){const t=e==="=";var i=[];for(let r of n.split(";")){r=r.trim();const s=r.indexOf(e);if(s>0&&s<r.length-1){let o=$m(r.substring(0,s).trim()),a=$m(r.substring(s+1).trim());t||(o=Zy(o),a=Zy(a)),i.push([o,a])}}return i}function Zy(n){return n.startsWith('"')&&n.endsWith('"')&&(n=n.substr(1,n.length-2)),n}function Ad(n,e,t=Number.MAX_SAFE_INTEGER){if(n.length<3)return;e&&e.gffTags;const i=n[0],r=parseInt(n[1]),s=n.length>2?parseInt(n[2]):r+1;if(isNaN(r)||isNaN(s))return new a6("Unparsable bed record.");const o=new SM({chr:i,start:r,end:s,score:1e3});let a=3;try{if(n.length>3&&a++<t){if(n[3].indexOf(";")>0&&n[3].indexOf("=")>0){const l=Ah(n[3],"=");o.attributes={};for(let c of l)o.attributes[c[0]]=c[1],e.nameField!=null&&c[0]===e.nameField&&(o.name=c[1])}o.name||(o.name=n[3]==="."?"":n[3])}if(n.length>4&&a++<t&&(o.score=n[4]==="."?0:Number(n[4]),isNaN(o.score))||n.length>5&&a++<t&&(o.strand=n[5],!(o.strand==="."||o.strand==="+"||o.strand==="-"))||n.length>6&&a++<t&&(o.cdStart=parseInt(n[6]),isNaN(o.cdStart))||n.length>7&&a++<t&&(o.cdEnd=parseInt(n[7]),isNaN(o.cdEnd)))return o;if(n.length>8&&a++<t&&n[8]!=="."&&n[8]!=="0"&&(o.color=Xe.createColorString(n[8])),n.length>11&&a++<t){const l=parseInt(n[9]);if(l>1e3)return o;const c=n[10].replace(/,$/,"").split(","),h=n[11].replace(/,$/,"").split(",");if(!(c.length===h.length&&l===c.length))return o;const u=[];for(let f=0;f<l;f++){const d=r+parseInt(h[f]),p=d+parseInt(c[f]);u.push({start:d,end:p})}u.length>0&&(wp(u,o.cdStart,o.cdEnd),o.exons=u)}if(e){let l=e.thicknessColumn,c=e.colorColumn;c&&c<n.length&&(o.color=Xe.createColorString(n[c])),l&&l<n.length&&(o.thickness=n[l])}}catch{}return o}function yM(n,e){const t=Ad(n,e);return t&&n.length>14&&(t.signal=Number(n[12]),t.pValue=Number(n[13]),t.qValue=Number(n[14])),t}function vM(n,e){const t=Ad(n,e,9);if(t){const i=["Coverage","% Showing Methylation","N-mod","N-canonical","N-other mod","N-delete","N-fail","N-dff","N-nocall"];for(let r=9;r<n.length;r++){const s=i[r-9];t[s]=n[r]}}return t}function AM(n,e){return n.length<=15?void 0:{swScore:Number.parseInt(n[1]),milliDiv:Number.parseInt(n[2]),milliDel:Number.parseInt(n[3]),milliIns:Number.parseInt(n[4]),chr:n[5],start:Number.parseInt(n[6]),end:Number.parseInt(n[7]),strand:n[9],repName:n[10],repClass:n[11],repFamily:n[12],repStart:Number.parseInt(n[13]),repEnd:Number.parseInt(n[14]),repLeft:Number.parseInt(n[15])}}function Jy(n,e){var t=e.shift===void 0?0:1;if(n.length<=9+t)return;const i=parseInt(n[5+t]),r=parseInt(n[6+t]);var s={name:n[0+t],chr:n[1+t],strand:n[2+t],start:parseInt(n[3+t]),end:parseInt(n[4+t]),cdStart:i,cdEnd:r,id:n[0+t]};const o=sw(parseInt(n[7+t]),n[8+t],n[9+t]);return wp(o,i,r),s.exons=o,s}function ev(n,e){var t=e.shift===void 0?0:1;if(n.length<=11+t)return;const i=parseInt(n[5+t]),r=parseInt(n[6+t]),s={name:n[11+t],chr:n[1+t],strand:n[2+t],start:parseInt(n[3+t]),end:parseInt(n[4+t]),cdStart:i,cdEnd:r,id:n[0+t]},o=sw(parseInt(n[7+t]),n[8+t],n[9+t],n[14+t]);return wp(o,i,r),s.exons=o,s}function _M(n,e){var t=e.shift===void 0?0:1;if(n.length<=10+t)return;const i=parseInt(n[6+t]),r=parseInt(n[7+t]);var s={name:n[0+t],id:n[1+t],chr:n[2+t],strand:n[3+t],start:parseInt(n[4+t]),end:parseInt(n[5+t]),cdStart:i,cdEnd:r};const o=sw(parseInt(n[8+t]),n[9+t],n[10+t]);return wp(o,i,r),s.exons=o,s}function CM(n,e){if(n.length<21)return;const t=n[13],i=parseInt(n[15]),r=parseInt(n[16]),s=n[8].charAt(0),o=parseInt(n[17]),a=[],l=n[20].replace(/,$/,"").split(","),c=n[18].replace(/,$/,"").split(",");for(let h=0;h<o;h++){const u=parseInt(l[h]),f=u+parseInt(c[h]);a.push({start:u,end:f})}return new IM({chr:t,start:i,end:r,strand:s,exons:a,tokens:n})}function sw(n,e,t,i){const r=e.replace(/,$/,"").split(","),s=t.replace(/,$/,"").split(","),o=i?i.replace(/,$/,"").split(","):void 0,a=[];for(let l=0;l<n;l++){const c=parseInt(r[l]),h=parseInt(s[l]),u={start:c,end:h};if(o){const f=parseInt(o[l]);f!=-1&&(u.readingFrame=f)}a.push(u)}return a}function wp(n,e,t){for(let i of n){const r=i.end,s=i.start;r<e||s>t?i.utr=!0:(e>=s&&e<=r&&(i.cdStart=e),t>=s&&t<=r&&(i.cdEnd=t))}}function l6(n,e){var t,i,r,s,o,a,l,c,h,u;if(t=n.length,!(t<9))return i=n[0],r=parseInt(n[1]),s=parseInt(n[2]),a=n[3],l=Number(n[4]),o=n[5].trim(),h=Number(n[6]),u=Number(n[7]),c=Number(n[8]),l===0&&(l=h),{chr:i,start:r,end:s,name:a,score:l,strand:o,signal:h,pValue:u,qValue:c}}function xM(n,e){const t=l6(n);return n.length>9&&(t.peak=Number(n[9])),t}function c6(n,e){var t,i,r,s;if(n.length<=3)return;t=n[0],i=parseInt(n[1]),r=parseInt(n[2]),s=Number(n[3]);const o={chr:t,start:i,end:r,value:s};if(e){let a=e.colorColumn;a&&a<n.length&&(o.color=Xe.createColorString(n[a]))}return o}function kM(n,e){const t=e.wig;if(t&&t.format==="fixedStep"){const i=t.index*t.step+t.start,r=i+t.span,s=Number(n[0]);return++t.index,isNaN(s)?null:{chr:t.chrom,start:i,end:r,value:s}}else if(t&&t.format==="variableStep"){if(n.length<2)return null;const i=parseInt(n[0],10)-1,r=i+t.span,s=Number(n[1]);return isNaN(s)?null:{chr:t.chrom,start:i,end:r,value:s}}else return c6(n)}function EM(n,e){if(n.length<6)return;const t=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],i={chr:n[1],start:Number.parseInt(n[2]),end:Number.parseInt(n[3]),name:n[4],score:Number.parseInt(n[5])},r=Math.min(n.length,t.length);for(let s=6;s<r;s++)i[t[s]]=n[s];return i}class SM{constructor(e){Object.assign(this,e)}getAttributeValue(e){if(this.hasOwnProperty(e))return this[e];if(this.attributes)return this.attributes[e]}}class IM{constructor(e){Object.assign(this,e)}get score(){const e=this.tokens,t=parseInt(e[0]),i=parseInt(e[2]),r=parseInt(e[1]),s=parseInt(e[4]),o=parseInt(e[6]),a=parseInt(e[10]);return Math.floor(1e3*(t+i-r-s-o)/a)}get matches(){return this.tokens[0]}get misMatches(){return this.tokens[1]}get repMatches(){return this.tokens[2]}get nCount(){return this.tokens[3]}get qNumInsert(){return this.tokens[4]}get qBaseInsert(){return this.tokens[5]}get tNumInsert(){return this.tokens[6]}get tBaseInsert(){return this.tokens[7]}popupData(){return[{name:"chr",value:this.chr},{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"strand",value:this.strand},{name:"score",value:this.score},{name:"match",value:this.matches},{name:"mis-match",value:this.misMatches},{name:"rep. match",value:this.repMatches},{name:"N's",value:this.nCount},{name:"Q gap count",value:this.qNumInsert},{name:"Q gap bases",value:this.qBaseInsert},{name:"T gap count",value:this.tNumInsert},{name:"T gap bases",value:this.tBaseInsert}]}}const NM=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna","lnc_RNA","miRNA","ncRNA","rRNA","scRNA","snRNA","snoRNA","tRNA"]),h6=new Set(["CDS","cds"]),u6=new Set(["start_codon","stop_codon"]),f6=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),d6=new Set(["exon","coding-exon"]),p6=new Set;for(let n of[h6,u6,f6,d6])for(let e of n)p6.add(e);function TM(n){return d6.has(n)}function g6(n){return n.includes("intron")}function RM(n){return h6.has(n)||u6.has(n)}function MM(n){return f6.has(n)}function tv(n){return NM.has(n)||n.endsWith("RNA")||n.endsWith("transcript")}function nv(n){return p6.has(n)||n.endsWith("RNA")||g6(n)}const BM=new Set(["id","parent","name"]);class ow{constructor(e){Object.assign(this,e),e.phase!==void 0&&e.phase!=="."&&(this.readingFrame=(3-parseInt(e.phase))%3)}popupData(e){const t=this.geneObject?this.geneObject.popupData():[];if(this.geneObject&&t.push("<hr/>"),this.name&&t.push({name:"Name",value:this.name}),t.push({name:"Type",value:this.type}),t.push({name:"Source",value:this.source}),this.score!==void 0&&t.push({name:"Score",value:this.score}),t.push({name:"Phase",value:this.phase}),this.attributeString){const i=Ah(this.attributeString,this.delim);for(let[r,s]of i)s!==void 0&&s.length>0&&!BM.has(r.toLowerCase())&&t.push({name:r+":",value:s})}return t.push({name:"Location",value:`${this.chr}:${Ge(this.start+1)}-${Ge(this.end)}`}),t}getAttributeValue(e){if(this.hasOwnProperty(e))return this[e];if(this._attributeCache||(this._attributeCache=new Map),this._attributeCache.has(e))return this._attributeCache.get(e);{const t=Ah(this.attributeString,this.delim);let i;for(let[r,s]of t)if(r===e){i=s;break}return this._attributeCache.set(e,i),i}}}class iv extends ow{constructor(e){super(e),this.exons=[],this.parts=[]}addExon(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)}addPart(e){this.parts.push(e)}assembleParts(){if(this.parts.length===0)return;this.parts.sort(function(r,s){return r.start-s.start});let e=this.parts[0].start,t=this.parts[0].end;for(let r=1;r<this.parts.length;r++){const s=this.parts[r];g6(s.type)||(s.start<=t?t=Math.max(t,s.end):(this.findExonContaining({start:e,end:t})||this.exons.push({start:e,end:t,psuedo:!0}),e=s.start,t=s.end))}this.findExonContaining({start:e,end:t})||(this.exons.push({start:e,end:t,psuedo:!0}),this.start=Math.min(this.start,e),this.end=Math.max(this.end,t));for(let r of this.parts){const s=r.type;RM(s)?this.addCDS(r):MM(s)&&this.addUTR(r)}}findExonContaining({start:e,end:t}){for(let i of this.exons)if(i.end>=t&&i.start<=e)return i}addCDS(e){let t;const i=this.exons;for(let r of i)if(r.start<=e.start&&r.end>=e.end){t=r;break}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end,t.readingFrame=e.readingFrame):console.error("No exon found spanning "+e.start+"-"+e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end}addUTR(e){let t;const i=this.exons;for(let r=0;r<i.length;r++)if(i[r].start<=e.start&&i[r].end>=e.end){t=i[r];break}t?e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)):console.error("No exon found spanning "+cds.start+"-"+cds.end)}finish(){this.assembleParts();var e=this.cdStart,t=this.cdEnd;this.exons.sort(function(i,r){return i.start-r.start}),e&&this.exons.forEach(function(i){(i.end<e||i.start>t)&&(i.utr=!0)})}popupData(e){const t=super.popupData(e);for(let i of this.exons)if(!i.pseudo&&e>=i.start&&e<i.end&&typeof i.popupData=="function"){t.push("<hr/>");const r=i.popupData(e);for(let s of r)t.push(s)}for(let i of this.parts)if(e>=i.start&&e<i.end&&typeof i.popupData=="function"){t.push("<hr/>");const r=i.popupData(e);for(let s of r)t.push(s)}return t}}function m6(n,e){const t=e.format;if(n.length<9)return;const i=t==="gff3"?"=":" ";return new ow({source:$m(n[1]),type:n[2],chr:n[0],start:parseInt(n[3])-1,end:parseInt(n[4]),score:n[5]==="."?void 0:Number(n[5]),strand:n[6],phase:n[7]==="."?".":parseInt(n[7]),attributeString:n[8],delim:i})}function DM(n,e){const t=m6(n,e);if(!t)return;const i=Ah(t.attributeString,t.delim);for(let[r,s]of i){const o=r.toLowerCase();o==="color"||o==="colour"?t.color=Xe.createColorString(s):r==="ID"?t.id=s:r==="Parent"&&(t.parent=s)}return t}function LM(n,e){const t=m6(n,e);if(!t)return;const i=Ah(t.attributeString,t.delim);let r,s;switch(t.type){case"gene":r="gene_id";break;case"transcript":r="transcript_id",s="gene_id";break;default:s="transcript_id"}for(let[o,a]of i){const l=o.toLowerCase();l==="color"||l==="colour"?t.color=Xe.createColorString(a):o===r?t.id=a:o===s&&(t.parent=a)}return t}function zM(n,e){if(!(n.length<7)){var t=n[0],i=n[1],r=parseInt(n[2]),s=parseInt(n[3]),o=parseInt(n[4]),a=parseInt(n[5]),l=n[6],c={chr:t,name:i,junction_left:r,junction_right:s,num_junction_reads:o,num_spanning_frags:a,spanning_frag_coords:[],start:-1,end:-1},h=r,u=s;if(a>0)for(var f=l.split(","),d=0;d<f.length;d++){var p=f[d].split("-"),w=p[0],F=p[1];w<h&&(h=w),F>u&&(u=F),c.spanning_frag_coords.push({left:w,right:F})}return c.start=h,c.end=u,c}}function PM(n,e){if(n.length<7)return null;const i={chr:n[0],start:parseInt(n[1])-1,end:parseInt(n[2]),"Strongest SNP-risk allele":n[3],"Disease/Phenotype":n[4],"P-value":n[5],"Odds ratio or beta":n[6]};return n.length>6&&(i.PUBMEDID=`<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/${n[7]}">${n[7]}</a>`),i}function OM(n,e){const t=e.customFormat;if(n.length<t.fields.length)return;const i=t.coords||0,r=n[t.chr],s=parseInt(n[t.start])-i,o=t.end!==void 0?parseInt(n[t.end]):s+1,a={chr:r,start:s,end:o};return t.fields&&t.fields.forEach(function(l,c){c!==t.chr&&c!==t.start&&c!==t.end&&(a[l]=n[c])}),a}function HM(n,e){const t=e.columnNames;if(!t)throw Error("Sample names are not defined.   Missing column headers?");const i=t.length-3,r=n[0],s=parseInt(n[1]),o=parseInt(n[2]),a=n.slice(3).map(Number);if(a.length==i)return{chr:r,start:s,end:o,values:a};console.warn(`${r}:${s}-${o} row contains ${a.length} sample columns instead of the expected ${i} columns. Skipping...`)}const UM=["Name","transcript_id","gene_name","gene","gene_id","alias","locus","name"];class VM{constructor(e){this.format=e.format,this.nameField=e.nameField,this.filterTypes=e.filterTypes===void 0?new Set(["chromosome"]):new Set(e.filterTypes)}combineFeatures(e,t){let i;const r=this.filterTypes;if(e=e.filter(s=>r===void 0||!r.has(s.type)),this.format==="gff3"){const s=this.combineFeaturesById(e);i=this.combineFeaturesByType(s)}else i=this.combineFeaturesByType(e);return this.numberExons(i,t),this.nameFeatures(i),i}combineFeaturesById(e){const t=new Map,i=[];for(let r of e)if(nv(r.type)||tv(r.type)||!r.id)i.push(r);else{let s=t.get(r.chr);s||(s=new Map,t.set(r.chr,s));let o=s.get(r.id);o?o.push(r):s.set(r.id,[r])}for(let r of t.values())for(let s of r.values())if(s.length>1){const o=s[0];o.exons=[];for(let a of s)o.start=Math.min(o.start,a.start),o.end=Math.max(o.end,a.end),o.exons.push({start:a.start,end:a.end});i.push(o)}else i.push(s[0]);return i}combineFeaturesByType(e){const t=e.filter(h=>h.type==="gene"||h.type.endsWith("_gene")),i=Object.create(null);for(let h of t)i[h.id]=h;const r=Object.create(null),s=[],o=new Set,a=this.filterTypes;e=e.filter(h=>a===void 0||!a.has(h.type));for(let h of e)if(tv(h.type)){const u=h.id;if(u!==void 0){const f=new iv(h);r[u]=f,s.push(f),o.add(h);const d=i[h.parent];d&&(f.geneObject=d,o.add(d))}}for(let h of e)if(nv(h.type)){const u=c(h);if(u)for(let f of u){let d=r[f];if(!d&&this.format==="gtf"){const p=Object.assign({},h);p.type="transcript",d=new iv(p),r[f]=d,s.push(d)}if(d!==void 0){if(TM(h.type))if(u.length>1){const p=new ow(h);d.addExon(p)}else d.addExon(h);else d.addPart(h);o.add(h)}}}s.forEach(function(h){typeof h.finish=="function"&&h.finish()});const l=e.filter(h=>!o.has(h));for(let h of l)s.push(h);return s;function c(h){return h.parent&&h.parent.trim()!==""?h.parent.trim().split(","):null}}numberExons(e,t){for(let i of e)if(i.exons&&(!t||i.end<=t.end&&i.start>t.start))for(let r=0;r<i.exons.length;r++){const s=i.exons[r];s.number=i.strand==="-"?i.exons.length-r:r+1}}nameFeatures(e){for(let t of e)if(typeof t.getAttributeValue=="function")if(this.nameField)t.name=t.getAttributeValue(this.nameField);else for(let i of UM){const r=t.getAttributeValue(i);if(r){t.name=r;break}}}}function qM(n,e){Af[n]={fields:e}}function jM(n){if(Af&&Af[n])return e(Af[n]);return;function e(t){const i=t.fields,r=["chr","start","end"];for(let s=0;s<i.length;s++)for(let o of r)o===i[s]&&(t[o]=s);return t}}const Af={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}};class QM{constructor(e){this.config=e,this.header={},e.nameField&&(this.header.nameField=e.nameField),this.skipRows=0,e.decode?(this.decode=e.decode,this.delimiter=e.delimiter||"	"):e.format&&(this.header.format=e.format.toLowerCase(),this.setDecoder(this.header.format)),this.delimiter||(this.delimiter="	")}async parseHeader(e){let t=this.header,i,r;for(;(r=await e.nextLine())!==void 0;)if(r.startsWith("track")||r.startsWith("#track")){let s=$M(r);Object.assign(t,s)}else if(!r.startsWith("browser"))if(r.startsWith("#columns")){let s=GM(r);Object.assign(t,s)}else if(r.startsWith("##gff-version 3"))t.format="gff3";else if(r.startsWith("#gffTags"))t.gffTags=!0;else{if(r.startsWith("fixedStep")||r.startsWith("variableStep"))break;if(r.startsWith("#")){const s=r.split(this.delimiter||"	");s.length>1&&(i=s)}else{this.setDecoder(t.format);const s=r.split(this.delimiter||"	");try{const o=Object.assign({columnNames:i},t);if(this.decode(s,o))break;s.length>1&&(i=s)}catch{s.length>1&&(i=s)}}}if(i){t.columnNames=i;for(let s=0;s<i.length;s++)i[s]==="color"||i[s]==="colour"?t.colorColumn=s:i[s]==="thickness"&&(t.thicknessColumn=s)}return this.header=t,t}async parseFeatures(e){const t=[],i=this.decode,r=this.header.format,s=this.delimiter||"	";let o=0,a=0,l;for(;(l=await e.nextLine())!==void 0;){if(o++,o<=this.skipRows||!l||l.startsWith("track")||l.startsWith("#")||l.startsWith("browser"))continue;if(r==="wig"&&l.startsWith("fixedStep")){this.header.wig=WM(l);continue}else if(r==="wig"&&l.startsWith("variableStep")){this.header.wig=KM(l);continue}const c=l.split(s);if(c.length<1)continue;const h=i(c,this.header);if(h instanceof a6){a++,a>0&&console.error(`Error parsing line '${l}': ${h.message}`);continue}h&&t.push(h)}return i===zg&&wM(t),(this.config.format==="gtf"||this.config.format==="gff3"||this.config.format==="gff")&&this.config.assembleGFF!==!1?new VM(this.config).combineFeatures(t):t}setDecoder(e){switch(e){case"broadpeak":case"regionpeak":case"peaks":this.decode=l6,this.delimiter=this.config.delimiter||/\s+/;break;case"narrowpeak":this.decode=xM,this.delimiter=this.config.delimiter||/\s+/;break;case"bedgraph":this.decode=c6,this.delimiter=/\s+/;break;case"wig":this.decode=kM,this.delimiter=this.config.delimiter||/\s+/;break;case"gff3":case"gff":this.decode=DM,this.delimiter="	";break;case"gtf":this.decode=LM,this.delimiter="	";break;case"fusionjuncspan":this.decode=zM,this.delimiter=this.config.delimiter||/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=PM,this.delimiter="	";break;case"refflat":this.decode=_M,this.delimiter=this.config.delimiter||/\s+/;break;case"genepred":this.decode=Jy,this.delimiter=this.config.delimiter||/\s+/;break;case"genepredext":this.decode=ev,this.delimiter=this.config.delimiter||/\s+/;break;case"ensgene":this.decode=Jy,this.header.shift=1,this.delimiter=this.config.delimiter||/\s+/;break;case"refgene":this.decode=ev,this.delimiter=this.config.delimiter||/\s+/,this.header.shift=1;break;case"bed":this.decode=Ad,this.delimiter=this.config.delimiter||/\s+/;break;case"gappedpeak":this.decode=yM,this.delimiter=this.config.delimiter||/\s+/;break;case"bedmethyl":this.decode=vM,this.delimiter=this.config.delimiter||/\s+/;break;case"bedpe":case"hiccups":this.decode=zg,this.delimiter=this.config.delimiter||"	";break;case"bedpe-domain":this.decode=bM,this.headerLine=!0,this.delimiter=this.config.delimiter||"	";break;case"bedpe-loop":this.decode=zg,this.delimiter=this.config.delimiter||"	",this.header={colorColumn:7};break;case"interact":this.decode=FM,this.delimiter=this.config.delimiter||/\s+/;break;case"snp":this.decode=EM,this.delimiter="	";break;case"rmsk":this.decode=AM,this.delimiter="	";break;case"gcnv":this.decode=HM,this.delimiter="	";break;default:const t=jM(e);t!==void 0?(this.decode=OM,this.header.customFormat=t,this.delimiter=t.delimiter||"	"):(this.decode=Ad,this.delimiter=this.config.delimiter||/\s+/)}}}function $M(n){const e={},t=n.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g);let i;const r=[];for(let o of t)!o||o.trim().length===0||(o.endsWith("=")?i=o:i?(r.push(i+o),i=void 0):r.push(o));for(let o of r){if(!o)return;var s=o.split("=",2);if(s.length===2){const a=s[0].trim(),l=s[1].trim();if(e.hasOwnProperty(a)){let c=e[a];Array.isArray(c)?c.push(l):e[a]=[c,l]}else e[a]=l}}return e.type=="interact"?e.format="interact":e.type==="gcnv"&&(e.format="gcnv"),e}function GM(n){let e={},t=n.split(/\s+/);return t.length===2&&t[1].split(";").forEach(function(r){let s=r.split("=");s[0]==="color"?e.colorColumn=Number.parseInt(s[1])-1:s[0]==="thickness"&&(e.thicknessColumn=Number.parseInt(s[1])-1)}),e}function WM(n){const e=n.split(/\s+/),t=e[1].split("=")[1],i=parseInt(e[2].split("=")[1],10)-1,r=parseInt(e[3].split("=")[1],10),s=e.length>4?parseInt(e[4].split("=")[1],10):1;return{format:"fixedStep",chrom:t,start:i,step:r,span:s,index:0}}function KM(n){const e=n.split(/\s+/),t=e[1].split("=")[1],i=e.length>2?parseInt(e[2].split("=")[1],10):1;return{format:"variableStep",chrom:t,span:i}}function Ct(n,e){const t=Ce({class:"igv-menu-popup-check-container"}),i=Ce();t.appendChild(i);const r=zr("check",e===!0?"#444":"transparent");i.appendChild(r);const s=Ce();return s.innerText=n,t.appendChild(s),t}function w6(n,e){e=e||Number.MAX_SAFE_INTEGER;const t=[];n.sort(function(i,r){return i.start-r.start}),t.push(-1e3);for(let i of n){let r=0;const s=Math.min(t.length,e);for(r=0;r<s;r++)if(i.start>=t[r]){i.row=r,t[r]=i.end;break}i.row=r,t[r]=i.end}}const YM=1e4;async function _d(n,e,t){const i=a=>{const l=Object.assign({},a);return l.chr="all",l.start=e.getGenomeCoordinate(a.chr,a.start),l.end=e.getGenomeCoordinate(a.chr,a.end),l._f=a,l.exons&&delete l.exons,l},r=new Set(e.wgChromosomeNames),s=[];let o=0;for(let a of e.wgChromosomeNames){if(Array.isArray(n)){const c={};for(let h of n){const u=e.getChromosomeName(h.chr);c.hasOwnProperty(u)||(c[u]=[]),c[u].push(h)}n=c}const l=n[a];if(l){const c=t||YM;for(let h of l){let u=e.getChromosomeName(h.chr);if(r.has(u))if(s.length<c)s.push(i(h));else{const f=c/(o+1);if(Math.random()<f){const d=Math.floor(Math.random()*(c-1));s[d]=i(h)}}o++}}}return s.sort(function(a,l){return a.start-l.start}),s}function b6(n,e){if(e=e||1e3,n==null||n.length===0)return;const t={},i=[];for(let r of n){const s=r.chr;let o=t[s];o||(o=[],t[s]=o,i.push(s)),o.push(r)}for(let r of i)w6(t[r],e)}function XM(n,e,t=!0){const i=l=>(l.start+l.end)/2,r=t?(l,c)=>l.start-c.start+l.end-c.end:(l,c)=>c.start-l.start+c.end-l.end,s=Array.from(n);s.sort(r);let o=0,a=s.length;for(;o<a;){let l=Math.floor((o+a)/2);t?i(s[l])<=e?o=l+1:a=l:i(s[l])>=e?o=l+1:a=l}return s[o]}const ZM=n=>St(n)&&n.indexOf(",")>0&&!(n.startsWith("rgb(")||n.startsWith("rgba("))?`rgb(${n})`:n,Ea=class Ea{constructor(e,t){this.browser=t,this.init(e)}init(e){this.config=e,e.displayMode&&(e.displayMode=e.displayMode.toUpperCase());const t=Object.assign({},Ea.defaults);if(this.constructor.defaults)for(let i of Object.keys(this.constructor.defaults))t[i]=this.constructor.defaults[i];for(let i of Object.keys(t))this[i]=e.hasOwnProperty(i)?e[i]:t[i],(i==="color"||i==="altColor")&&this[i]&&(this[i]=ZM(this[i]));e.name||e.label?this.name=e.name||e.label:Rs(e.url)?this.name=e.url.name:St(e.url)&&!e.url.startsWith("data:")&&(this.name=Y_(e.url)),this.url=e.url,this.config.type&&(this.type=this.config.type),this.id=this.config.id===void 0?this.name:this.config.id,this.order=e.order,this.autoscaleGroup=e.autoscaleGroup,this.removable=e.removable===void 0?!0:e.removable,this.minHeight=e.minHeight||Math.min(25,this.height),this.maxHeight=e.maxHeight||Math.max(1e3,this.height),e.onclick&&(this.onclick=e.onclick,e.onclick=void 0),e.description&&(typeof e.description=="function"?this.description=e.description:this.description=()=>e.description),e.hoverTextFields?this.hoverText=JM.bind(this):typeof this.config.hoverText=="function"&&(this.hoverText=this.config.hoverText)}get name(){return this._name}set name(e){this._name=e,this.trackView&&this.trackView.setTrackLabelName(e)}clearCachedFeatures(){this.trackView&&this.trackView.clearCachedFeatures()}updateViews(){this.trackView&&this.trackView.updateViews()}repaintViews(){this.trackView&&this.trackView.repaintViews()}getState(){const e=s=>!(s===void 0||typeof s=="function"||s instanceof Promise),t={},i=Object.keys(this.config).filter(s=>e(this.config[s]));for(const s of i)s.startsWith("_")||(t[s]=this.config[s]);for(let s of Object.keys(t)){if(s.startsWith("_"))continue;const o=this[s];o!==void 0&&(vf(o)||typeof o=="boolean"||s==="metadata")&&(t[s]=o)}const r=Object.assign({},Ea.defaults);if(this.constructor.defaults)for(let s of Object.keys(this.constructor.defaults))r[s]=this.constructor.defaults[s];for(let s of Object.keys(r))this[s]!==void 0&&r[s]!==this[s]&&(t[s]=this[s]);return!this.autoscale&&this.dataRange&&(t.min=this.dataRange.min,t.max=this.dataRange.max),this.autoscaleGroup&&(t.autoscaleGroup=this.autoscaleGroup),t}get supportsWholeGenome(){return this.config.supportsWholeGenome===!0}hasSamples(){return!1}getGenomeId(){return this.browser.genome?this.browser.genome.id:void 0}setTrackProperties(e){if(this.disposed)return;const t={};let i;for(let r of Object.keys(e))switch(r.toLowerCase()){case"usescore":t.useScore=e[r]===1||e[r]==="1"||e[r]==="on"||e[r]===!0;break;case"visibility":switch(e[r]){case"2":case"3":case"pack":case"full":t.displayMode="EXPANDED";break;case"4":case"squish":t.displayMode="SQUISHED";break;case"1":case"dense":t.displayMode="COLLAPSED"}break;case"color":case"altcolor":t[r]=e[r].startsWith("rgb(")?e[r]:"rgb("+e[r]+")";break;case"featurevisiblitywindow":case"visibilitywindow":t.visibilityWindow=Number.parseInt(e[r]);break;case"maxheightpixels":i=e[r].split(":"),i.length===3&&(t.minHeight=Number.parseInt(i[2]),t.height=Number.parseInt(i[1]),t.maxHeight=Number.parseInt(i[0]));break;case"viewlimits":if(!this.config.autoscale){i=e[r].split(":");let o=0,a;i.length==1?a=Number(i[0]):i.length==2&&(o=Number(i[0]),a=Number(i[1])),Number.isNaN(a)||Number.isNaN(o)?console.warn(`Unexpected viewLimits value in track line: ${e.viewLimits}`):(t.autoscale=!1,t.dataRange={min:o,max:a},this.viewLimitMin=o,this.viewLimitMax=a)}case"name":t[r]=e[r];break;case"url":t.infoURL=e[r];break;case"type":const s=e[r];rv.has(s)?t[r]=rv.get(s):t[r]=s;break;case"graphtype":t.graphType=e[r];break;default:t[r]=e[r]}for(let r of Object.keys(t))if(!this.config.hasOwnProperty(r)||r==="name"&&this.config._derivedName){let s=t[r];if(s==="true"&&(s=!0),s==="false"&&(s=!1),this[r]=s,r==="height"&&this.trackView)try{const o=Number.parseInt(s);this.trackView.setTrackHeight(o)}catch(o){console.error(o)}}}clickedFeatures(e){const t=e.viewport.cachedFeatures;if(!t||!Array.isArray(t)||t.length===0)return[];const i=e.genomicLocation,r=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:.2,s=i-r,o=i+r;return wd.findOverlapping(t,s,o)}extractPopupData(e,t){const i=new Set(["row","color","chr","start","end","cdStart","cdEnd","strand","alpha"]),r=[];let s,o;for(let l in e)if(e.hasOwnProperty(l)&&!i.has(l)&&vf(e[l])){let c=e[l];r.push({name:Im(l),value:c}),l==="alleles"?s=e[l]:l==="alleleFreqs"&&(o=e[l])}if(s&&o){s.endsWith(",")&&(s=s.substr(0,s.length-1)),o.endsWith(",")&&(o=o.substr(0,o.length-1));let l=s.split(","),c=o.split(",");if(c.length>1){let h=[];for(let f=0;f<c.length;f++)h.push({a:l[f],af:Number(c[f])});h.sort(function(f,d){return f.af-d.af});let u=h[h.length-1].a;if(u.length===1)for(let f=h.length-2;f>=0;f--){let d=h[f].a;if(d.length===1){t||(t=this.getGenomeId());const p=Ea.getCravatLink(e.chr,e.start+1,u,d,t);console.log(p),p&&(r.push("<hr/>"),r.push({html:p}),r.push("<hr/>"))}}}}if(e.attributes)for(let l of Object.keys(e.attributes))r.push({name:l,value:e.attributes[l]});let a=`${e.chr}:${Ge(e.start+1)}-${Ge(e.end)}`;return e.strand&&(a+=` (${e.strand})`),r.push({name:"Location",value:a}),r}description(){const e=(i,r)=>`<div class="igv-track-label-popup-shim"><b>${i}: </b>${r}</div>`;let t='<div class="igv-track-label-popup">';if(this.url?Rs(this.url)?t+=e("Filename",this.url.name):t+=e("URL",this.url):t=this.name,this.config){if(this.config.metadata)for(let i of Object.keys(this.config.metadata)){const r=this.config.metadata[i];t+=e(i,r)}for(let i of Object.keys(this.config)){if(i.startsWith("_"))continue;let r=i.substr(0,1);if(r!==r.toLowerCase()){const s=this.config[i];s&&vf(s)&&(t+=e(i,s))}}}return t+="</div>",t}getColorForFeature(e){return typeof this.color=="function"?this.color(feature):this.color}numericDataMenuItems(){const e=[];e.push("<hr/>");let t=ke("<div>");t.text("Set data range");function i(){this.trackView.track.selected?this.browser.dataRangeDialog.configure(this.trackView.browser.getSelectedTrackViews()):this.browser.dataRangeDialog.configure(this.trackView),this.browser.dataRangeDialog.present(ke(this.browser.columnContainer))}if(e.push({object:t,dialog:i}),this.logScale!==void 0){let o=function(){this.logScale=!this.logScale,this.trackView.repaintViews()};var s=o;t=ke(Ct("Log scale",this.logScale)),e.push({object:t,click:o})}t=ke(Ct("Autoscale",this.autoscale));function r(){this.autoscaleGroup=void 0,this.autoscale=!this.autoscale,this.browser.updateViews()}return e.push({object:t,click:r}),e}setDataRange({min:e,max:t}){this.dataRange={min:e,max:t},this.autoscale=!1,this.autoscaleGroup=void 0,this.trackView.repaintViews()}async nextFeatureAfter(e,t,i){let s=this.trackView.viewports[0].cachedFeatures;if(s&&Array.isArray(s)&&s.length>0&&this.browser.genome.getChromosomeName(s[0].chr)===e){const a=XM(s,t,i);if(a)return a}if(typeof this.featureSource.nextFeature=="function")return this.featureSource.nextFeature(e,t,i,this.visibilityWindow)}dispose(){this.disposed=!0;for(let e of Object.keys(this))this[e]=void 0}static getCravatLink(e,t,i,r,s){if(s==="hg38"||s==="GRCh38")return`<a target="_blank" href="https://run.opencravat.org/result/nocache/variant.html?chrom=${e.startsWith("chr")?e:"chr"+e}&pos=${t}&ref_base=${i}&alt_base=${r}"><b>Cravat ${i}->${r}</b></a>`}static localFileInspection(e){const t=Object.assign({},e),i={url:"file",indexURL:"indexFile"};for(const r of["url","indexURL"])t[r]&&t[r]instanceof File&&(t[i[r]]=t[r].name,delete t[r]);return t}};Re(Ea,"defaults",{height:50,autoHeight:!1,visibilityWindow:void 0,color:void 0,altColor:void 0,supportHiDPI:!0,selected:!1});let Bt=Ea;function JM(n){if(!this.hoverTextFields)return;const e=this.clickedFeatures(n);if(e&&e.length>0){let t="";for(let i=0;i<e.length;i++){if(i===10){t+="; ...";break}if(!e[i])continue;const r=e[i]._f||e[i];t.length>0&&(t+=`
`),t="";for(let s of this.hoverTextFields)t.length>0&&(t+=`
`),r.hasOwnProperty(s)?t+=r[s]:typeof r.getAttribute=="function"&&(t+=r.getAttribute(s))}return t}}const rv=new Map([["wiggle_0","wig"],["bed","bed"],["bigBed","bigBed"],["bigWig","bigWig"]]);class Pg{constructor(e){switch(this.type=e||"seg",this.type){case"mut":this.sampleColumn=3,this.chrColumn=0,this.startColumn=1,this.endColumn=2,this.dataColumn=4;break;case"maf":this.sampleColumn=15,this.chrColumn=4,this.startColumn=5,this.endColumn=6,this.dataColumn=8;break;default:this.sampleColumn=0,this.chrColumn=1,this.startColumn=2,this.endColumn=3}}async parseHeader(e){let t;for(;(t=await e.nextLine())!==void 0;)if(!t.startsWith("#")){const i=t.split("	");this.header={headings:i};break}return this.header}async parseFeatures(e){const t=[];let i;this.header||(this.header=await this.parseHeader(e)),this.type==="seg"&&(this.dataColumn=this.header.headings.length-1),this.header.headings.length>5&&(i=this.extractExtraColumns(this.header.headings));const r=this.header.headings[this.dataColumn];let s;for(;(s=await e.nextLine())!==void 0;){const o=s.split("	"),a=this.type==="seg"?Number(o[this.dataColumn]):o[this.dataColumn];if(o.length>this.dataColumn){const l=new eB({sample:o[this.sampleColumn],chr:o[this.chrColumn],start:parseInt(o[this.startColumn])-1,end:parseInt(o[this.endColumn]),value:a,valueColumnName:r});if(i){const c=this.extractExtraColumns(o);l.setAttributes({names:i,values:c})}t.push(l)}}return t}extractExtraColumns(e){const t=[];for(let i=0;i<e.length;i++)i!==this.chrColumn&&i!==this.startColumn&&i!==this.endColumn&&i!==this.sampleColumn&&t.push(e[i]);return t}}class eB{constructor({sample:e,chr:t,start:i,end:r,value:s,valueColumnName:o}){this.sample=e,this.chr=t,this.start=i,this.end=r,this.value=s,this.valueColumnName=o}setAttributes({names:e,values:t}){this.attributeNames=e,this.attributeValues=t}getAttribute(e){if(this.attributeNames){const t=this.attributeNames.indexOf(e);if(t>=0)return this.attributeValues[t]}}popupData(e,t){const i=new Set(["chr","start","end","sample","value","row","color","sampleKey","uniqueSampleKey","sampleId","chromosome","uniquePatientKey"]),r=this.chr+":"+Ge(this.start+1)+"-"+Ge(this.end),s=[{name:"Sample",value:this.sample},{name:"Location",value:r},{name:this.valueColumnName?Im(this.valueColumnName):"Value",value:this.value}];if(e==="mut"&&t==="hg38"){const o=this.extractCravatLink(t);o&&(s.push("<hr/>"),s.push({html:o}),s.push("<hr/>"))}if(this.attributeNames&&this.attributeNames.length>0)for(let o=0;o<this.attributeNames.length;o++)!i.has(this.attributeNames[o])&this.valueColumnName!==this.attributeNames[o]&&s.push({name:Im(this.attributeNames[o]),value:this.attributeValues[o]});return s}extractCravatLink(e){let t,i;if(this.attributeNames&&this.attributeNames.length>0){for(let r=0;r<this.attributeNames.length;r++)if(!t&&this.attributeNames[r]==="Reference_Allele"&&(t=this.attributeValues[r]),!i&&this.attributeNames[r].startsWith("Tumor_Seq_Allele")&&this.attributeValues[r]!==t&&(i=this.attributeValues[r]),t&&i)return Bt.getCravatLink(this.chr,this.start+1,t,i,e)}}}const sv=new Map([["REF","referenceBases"],["ALT","alternateBases"],["QUAL","quality"],["FILTER","filter"]]);class tB{constructor(e){this.chr=e[0],this.pos=parseInt(e[1]),this.names=e[2],this.referenceBases=e[3],this.alternateBases=e[4],this.quality=e[5],this.filter=e[6],this.info={};const t=e[7];if(t&&t!==".")for(let r of t.split(";")){var i=r.split("=");this.info[i[0]]=i[1]}this.init()}getAttributeValue(e){return sv.has(e)&&(e=sv.get(e)),this.hasOwnProperty(e)?this[e]:this.info[e]}init(){const e=this.referenceBases,t=this.alternateBases;if(this.info&&(this.info.VT?this.type=this.info.VT:this.info.SVTYPE?this.type="SV":this.info.PERIOD&&(this.type="STR")),this.type===void 0&&(this.type=sB(e,t)),this.info.END)this.start=this.pos-1,this.info.CHR2&&this.info.CHR2!==this.chr?this.end=this.start+1:this.end=Number.parseInt(this.info.END);else if(this.type==="NONVARIANT")this.start=this.pos-1,this.end=this.start+e.length;else{const i=t.split(",").filter(r=>r.length>0);this.alleles=[],this.start=void 0,this.end=void 0;for(let r of i)if(this.alleles.push(r),this.type!=="SV"&&Gm(r)){let s=r.length,o=e.length;const a=Math.min(s,o);let l=0;for(;l<a&&e.charCodeAt(l)===r.charCodeAt(l);)l++,s--,o--;for(;s>0&&o>0;){const u=l+s-1,f=l+o-1;if(r.charCodeAt(u)===e.charCodeAt(f))s--,o--;else break}for(;s>0&&o>0;){const u=l,f=l;if(r.charCodeAt(u)===e.charCodeAt(f))l++,s--,o--;else break}const c=this.pos+l-1,h=c+o;this.start=this.start===void 0?c:Math.min(this.start,c),this.end=this.end===void 0?h:Math.max(this.end,h)}this.start===void 0&&(this.start=this.pos-1,this.end=this.pos),this.start===this.end&&(this.start-=.5,this.end+=.5)}}popupData(e,t){const i=`${Ge(this.pos)}`,r=this.start===this.end?`${Ge(this.start)} | ${Ge(this.start+1)}`:`${Ge(this.start+1)}-${Ge(this.end)}`,s=[{name:"Chr",value:this.chr},{name:"Pos",value:i},{name:"Loc",value:r},{name:"ID",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}];if(this.type&&s.push({name:"Type",value:this.type}),this.type==="SNP"){let a=this.referenceBases;if(a.length===1){let l=this.alternateBases.split(",");for(let c of l)if(c.length===1){let h=Bt.getCravatLink(this.chr,this.pos,a,c,t);h&&(s.push("<hr/>"),s.push({html:h}))}}}const o=Object.keys(this.info);if(this.info&&o.length>0){s.push({html:'<hr style="border-top: dotted 1px;border-color: #c9c3ba" />'});for(let a of o)s.push({name:a,value:oB(decodeURIComponent(this.info[a]))})}return s}getInfo(e){return this.info?this.info[e]:void 0}isRefBlock(){return this.type==="NONVARIANT"}isFiltered(){return!(this.filter==="."||this.filter==="PASS")}alleleFreq(){return this.info?this.info.AF:void 0}}class nB{constructor(e){this.mate=e,this.chr=e.info.CHR2,this.pos=Number.parseInt(e.info.END),this.start=this.pos-1,this.end=this.pos}get info(){return this.mate.info}get names(){return this.mate.names}get referenceBases(){return this.mate.referenceBases}get alternateBases(){return this.mate.alternateBases}get quality(){return this.mate.quality}get filter(){return this.mate.filter}get calls(){return this.mate.calls}getAttributeValue(e){return this.mate.getAttributeValue(e)}getInfo(e){this.mate.getInfo(e)}isFiltered(){return this.mate.isFiltered()}alleleFreq(){return this.mate.alleleFreq()}popupData(e,t){const i=[];return i.push("SV Breakpoint"),i.push({name:"Chr",value:this.chr}),i.push({name:"Pos",value:`${Ge(this.pos)}`}),i.push({html:'<hr style="border-top: dotted 1px;border-color: #c9c3ba" />'}),i.push("SV"),i.push(...this.mate.popupData(e,t)),i}}var Vd,F6;class iB{constructor({formatFields:e,sample:t,token:i}){Pe(this,Vd);this.info={},this.sample=t;const r=i.split(":");for(let s=0;s<r.length;s++){const o=r[s];if(s==e.genotypeIndex){this.genotype=[];for(let a of o.split(/[\|\/]/))this.genotype.push(a==="."?a:parseInt(a))}else this.info[e.fields[s]]=o}}get zygosity(){if(!this._zygosity)if(!this.genotype)this._zygosity="unknown";else{let e=!0,t=!0,i=!1;for(let r of this.genotype)if(r==="."){i=!0;break}else r!==0&&(t=!1),r===0&&(e=!1);i?this._zygosity="nocall":t?this._zygosity="homref":e?this._zygosity="homvar":this._zygosity="hetvar"}return this._zygosity}zygosityScore(){switch(this.zygosity){case"homvar":return 4;case"hetvar":return 3;case"homref":return 2;case"nocall":return 1;default:return 0}}popupData(e,t){const i=[];this.sample!==void 0&&i.push({name:"Sample",value:this.sample}),this.genotypeString&&i.push({name:"Genotype",value:this.genotypeString});const r=$e(this,Vd,F6).call(this);r&&i.push({name:"Zygosity",value:r});var s=Object.keys(this.info);s.length&&i.push("<hr/>");for(let o of s)i.push({name:o,value:decodeURIComponent(this.info[o])});return i}}Vd=new WeakSet,F6=function(){switch(this.zygosity){case"homref":return"Homozygous reference";case"homvar":return"Homozygous variant";case"hetvar":return"Heterozygous";default:return""}};const rB=new Set(["A","C","T","G"].map(n=>n.charCodeAt(0)));function Gm(n){for(let e=0;e<n.length;e++)if(!rB.has(n.charCodeAt(e)))return!1;return!0}function sB(n,e){const t=n.length;if(e===void 0)return"UNKNOWN";if(e.trim().length===0||e==="<NON_REF>"||e==="<*>"||e===".")return"NONVARIANT";{const r=e.split(",").map(function(o){return t===1&&o.length===1?"SNP":o==="<NON_REF>"?"NONVARIANT":o.length>t&&Gm(o)?"INSERTION":o.length<t&&Gm(o)?"DELETION":"OTHER"});let s=r[0];for(let o of r)if(o!==s)return"MIXED";return s}}function oB(n,e){return e===void 0&&(e=","),Array.isArray(n)?n.join(e):n}class y6{construtor(){}async parseHeader(e,t){const i={};i.chrAliasTable=new Map;let r=await e.nextLine();if(r.startsWith("##fileformat"))i.version=r.substr(13);else throw new Error("Invalid VCF file: missing fileformat line");for(;(r=await e.nextLine())!==void 0&&r.startsWith("#");){let o;const a={};if(r.startsWith("##")){if(r.startsWith("##INFO")||r.startsWith("##FILTER")||r.startsWith("##FORMAT")){const l=r.indexOf("<"),c=r.lastIndexOf(">");if(!(l>2&&c>0)){console.log("Malformed VCF header line: "+r);continue}const h=r.substring(2,l-1);i[h]||(i[h]={});const u=KS(r.substring(l+1,c-1),",");for(let f of u){var s=f.split("=");s.length>1&&(s[0]==="ID"?o=s[1]:a[s[0]]=s[1])}o&&(i[h][o]=a)}else if(r.startsWith("##contig")&&t){const l=r.indexOf("<ID=");let c=r.indexOf(",",l);c==-1&&(c=r.indexOf(">",l));const h=r.substring(l+4,c),u=t.getChromosomeName(h);i.chrAliasTable.set(u,h)}}else if(r.startsWith("#CHROM")){const l=r.split("	");if(l.length>8){i.sampleNameMap=new Map;for(let c=9;c<l.length;c++)i.sampleNameMap.set(l[c],c-9)}}}return this.header=i,i}async parseFeatures(e){const t=[],i=this.header.sampleNameMap?Array.from(this.header.sampleNameMap.keys()):void 0,r=8+(i?i.length+1:0);let s;for(;(s=await e.nextLine())!==void 0;)if(s&&!s.startsWith("#")){const o=s.split("	");if(o.length===r){const a=new tB(o);if(a.header=this.header,t.push(a),o.length>9){const l=aB(o[8].split(":"));a.calls=[];for(let c=9;c<o.length;c++){const h=i[c-9],u=o[c],f=new iB({formatFields:l,sample:h,token:u});a.calls.push(f)}a.info&&a.info.CHR2&&a.info.END&&t.push(lB(a))}}}return t}}function aB(n){const e={genotypeIndex:-1,fields:n};for(let t=0;t<n.length;t++)n[t]==="GT"&&(e.genotypeIndex=t);return e}function lB(n){return new nB(n)}const cB=Math.log10(Number.MIN_VALUE);class v6{constructor(e){if(this.config=e,e.columns){if(e.columns.chromosome===void 0||e.columns.position===void 0||e.columns.value===void 0)throw Error("columns property must define chrCol, posCol, and valueCol");this.posCol=e.columns.position-1,this.chrCol=e.columns.chromosome-1,this.valueCol=e.columns.value-1}else this.posCol=2,this.chrCol=1,this.valueCol=3}async parseHeader(e){const t=await e.nextLine();return this.parseHeaderLine(t)}parseHeaderLine(e){if(this.columns=e.split(/\t/),!this.config.columns)for(let t=0;t<this.columns.length;t++)switch(this.columns[t].toLowerCase()){case"chr":case"chromosome":case"chr_id":this.chrCol=t;break;case"bp":case"pos":case"position":case"chr_pos":this.posCol=t;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.valueCol=t;break}return this.columns}async parseFeatures(e){const t=[],i=e.nextLine();this.columns||this.parseHeaderLine(i);let r;const s=o=>{const a=o.indexOf("E");return a>0&&Number.parseInt(o.substring(a+1))<cB?Number.MIN_VALUE:Number(o)};for(;(r=e.nextLine())!==void 0;){const o=r.split(/\t/);if(o.length===this.columns.length){const a=o[this.posCol];if(a.indexOf(";")>0||a.length==0||a.indexOf("x")>0)continue;const l=o[this.chrCol],c=s(o[this.valueCol]),h=parseInt(a)-1,u=h+1;t.push(new hB({chr:l,start:h,end:u,value:c,line:r,columns:this.columns}))}}return t}static isGWAS(e){const t=e.split("	");if(t.length<5)return!1;const i=[["chr","chromosome","chr_id","chrom"],["bp","pos","position","chr_pos","chromEnd"],["p","pval","p-value","p.value"]];for(let r of i)if(!t.some(s=>r.includes(s.toLowerCase())))return!1;return!0}}class hB{constructor({chr:e,start:t,end:i,value:r,line:s,columns:o}){this.chr=e,this.start=t,this.end=i,this.value=r,this.line=s,this.columns=o}popupData(){const e=this.line.split(/\t/);return this.columns.map(function(t,i){return{name:t,value:e[i]}})}getAttribute(e){const t=this.line.split(/\t/);for(let i=0;i<this.columns.length;i++)if(this.columns[i]===e)return t[i]}}var uB=new RegExp("([^:]*)\\(([^)]*)\\)"),fB=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)");class dB{constructor(e){const t=e?e.decode:void 0;this.nameField=e?e.nameField:void 0,this.skipRows=0,t?this.decode=t:this.decode=wB,this.delimiter="	"}async parseHeader(e){let t,i;for(;(t=await e.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){let r=gB(t);i?Object.assign(i,r):i=r}else if(t.startsWith("#columns")){let r=mB(t);i?Object.assign(i,r):i=r}else t.startsWith("##gff-version 3")&&(this.format="gff3",i||(i={}),i.format="gff3");return this.header=i,i}async parseFeatures(e){const t=[],i=this.decode,r=this.delimiter||"	";let s=0,o,a;for(;(o=e.nextLine())!==void 0;){if(s++,s<=this.skipRows||o.startsWith("track")||o.startsWith("#")||o.startsWith("browser"))continue;let c=l();if(c.length<1)continue;if(!this.aed){this.aed=pB(c);continue}const h=i.call(this,c,a);h&&t.push(h)}return t;function l(){for(var c=[],h="",u=!1,f,d;o||o==="";){for(f=0;f<o.length;f++)d=o.charAt(f),d===r?u?h+=d:(c.push(h),h=""):d==='"'?f+1<o.length&&o.charAt(f+1)==='"'?(u&&(h+='"'),f++):u=!u:h+=d;if(u)h+=`
`,o=nextLine();else break}return c.push(h),c}}}function A6(n){var e=fB.exec(n);if(e)return{namespace:e[1],name:e[2],type:e[3]};if(e=uB.exec(n),e)return{namespace:"?",name:e[1],type:e[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function pB(n){var e,t,i,r;for(e={columns:[],metadata:{}},t=0;t<n.length;t++)i=n[t],r=A6(i),e.columns.push(r);return e}function gB(n){const e={},t=n.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g);let i;const r=[];for(let o of t)!o||o.trim().length===0||(o.endsWith("=")>0?i=o:i?(r.push(i+o),i=void 0):r.push(o));for(let o of r){if(!o)return;var s=o.split("=",2);if(s.length===2){const a=s[0].trim(),l=s[1].trim();e[a]=l}}return e}function mB(n){let e={},t=n.split(/\s+/);return t.length===2&&t[1].split(";").forEach(function(r){let s=r.split("=");s[0]==="color"?e.colorColumn=Number.parseInt(s[1])-1:s[0]==="thickness"&&(e.thicknessColumn=Number.parseInt(s[1])-1)}),e}function _6(n,e){var t,i,r=n.columns;this.aed=n,this.allColumns=e,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(let o=0;o<e.length;o++)if(t=e[o],!!t){i=r[o],i.type==="aed:Integer"&&(t=parseInt(t));var s=[];if(i.namespace.length>0)for(let a=0;a<i.namespace.length;a++)s.push(i.namespace.charCodeAt(a));i.namespace.trim()==="bio"?i.name==="sequence"?this.chr=t:i.name==="start"?this.start=t:i.name==="end"?this.end=t:i.name==="cdsMin"?this.cdStart=t:i.name==="cdsMax"?this.cdEnd=t:i.name==="strand"&&(this.strand=t):i.namespace==="aed"?i.name==="name"&&(this.name=t):i.namespace==="style"&&i.name==="color"&&(this.color=Xe.createColorString(t))}}_6.prototype.popupData=function(){for(var n=[],e=this.aed,t=0;t<this.allColumns.length;t++){var i=this.allColumns[t],r=e.columns[t].name;r!=="sequence"&&r!=="color"&&i&&n.push({name:r,value:i})}return n};function wB(n,e){var t,i,r,s=0,o=this.aed.columns,a,l,c;if(n.length!==o.length){console.log("Corrupted AED file row: "+n.join(","));return}for(c=0;c<n.length;c++)a=o[c],r=n[c],r!==""&&s++,a.name==="name"&&a.namespace==="aed"?t=r:a.name==="value"&&a.namespace==="aed"&&(i=r);if(s===2&&t&&i){l=A6(t),this.aed.metadata[l.namespace]||(this.aed.metadata[l.namespace]={}),this.aed.metadata[l.namespace][l.name]||(this.aed.metadata[l.namespace][l.name]={type:l.type,value:i});return}var h=new _6(this.aed,n);if(!h.chr||!h.start&&h.start!==0||!h.end){console.log("Cannot parse feature: "+n.join(","));return}return h}function C6(n,e){if(n.length===0||(n.sort(function(r,s){const o=r.minv.block-s.minv.block;return o!==0?o:r.minv.offset-s.minv.offset}),n.length<=1))return n;e&&(n=n.filter(r=>r.maxv.isGreaterThan(e)));const t=[];let i;for(let r of n)i&&bB(i,r)?r.maxv.isGreaterThan(i.maxv)&&(i.maxv=r.maxv):(t.push(r),i=r);return t}function bB(n,e){const t=e.minv.block-n.maxv.block;return e.maxv.block-n.minv.block<5e6&&t<65e3}const FB=21582659,yB=38359875;async function vB(n){const e=new AB;return e.parse(n),e}class AB{constructor(){this.tabix=!0}parse(e){const t=new Vt(new DataView(e)),i=t.getInt();if(i!==FB)throw Error(i===yB?"CSI version 2 is not supported.  Please enter an issue at https://github.com/igvteam/igv.js":"Not a CSI index");this.indices=[],this.blockMin=Number.MAX_SAFE_INTEGER,this.lastBlockPosition=[],this.sequenceIndexMap={},this.minShift=t.getInt(),this.depth=t.getInt();const r=t.getInt(),s=[];let o=0;if(r>=28){t.getInt(),t.getInt(),t.getInt(),t.getInt(),t.getInt(),t.getInt();const c=t.getInt(),h=t.position+c;let u=0;for(;t.position<h;){let f=t.getString();this.sequenceIndexMap[f]=u,s[u]=f,u++}}const a=this.bin_limit()+1,l=t.getInt();for(let c=0;c<l;c++){const h=[],u=[],f=t.getInt();for(let d=0;d<f;d++){const p=t.getInt();if(u[p]=t.getVPointer(),p>a)t.getInt(),t.getVPointer(),t.getVPointer(),t.getLong(),t.getLong();else{h[p]=[];const w=t.getInt();for(let F=0;F<w;F++){const g=t.getVPointer(),m=t.getVPointer();g&&m&&(g.block<this.blockMin&&(this.blockMin=g.block),m.block>o&&(o=m.block),h[p].push([g,m]))}}}f>0&&(this.indices[c]={binIndex:h,loffset:u})}this.lastBlockPosition=o}get sequenceNames(){return Object.keys(this.sequenceIndexMap)}chunksForRange(e,t,i){const r=this.indices[e];if(r){const s=this.reg2bins(t,i);if(s.length==0)return[];const o=[];for(let c of s)for(let h=c[0];h<=c[1];h++)if(r.binIndex[h]){const u=r.binIndex[h];for(let f of u){const d=f[0],p=f[1];o.push({minv:d,maxv:p,bin:h})}}let a=s[this.depth][0];do{if(r.binIndex[a])break;const h=(this.getParentBin(a)<<3)+1;a>h?a--:a=this.getParentBin(a)}while(a!=0);const l=r.loffset[a];return C6(o,l)}else return[]}getParentBin(e){return e==0?0:e-1>>3}reg2bins(e,t){e-=1,e<1&&(e=1),t>2**34&&(t=2**34),t-=1;let i=0,r=0,s=this.minShift+this.depth*3;const o=[];for(;i<=this.depth;s-=3,r+=1<<i*3,i+=1){const a=r+(e>>s),l=r+(t>>s);o.push([a,l])}return o}bin_limit(){return((1<<(this.depth+1)*3)-1)/7}}const _B=21578050,CB=21578324;async function xB(n){const e=new x6;return await e.parse(n,!1),e}async function kB(n){const e=new x6;return await e.parse(n,!0),e}class x6{constructor(){}async parse(e,t){const i=[];let r=Number.MAX_SAFE_INTEGER,s=0;const o=new Vt(new DataView(e)),a=o.getInt(),l={};if(a===_B||t&&a===CB){const c=o.getInt();if(t){o.getInt(),o.getInt(),o.getInt(),o.getInt(),o.getInt(),o.getInt(),o.getInt();for(let h=0;h<c;h++){let u=o.getString();l[u]=h}}for(let h=0;h<c;h++){const u={},f=[],d=o.getInt();for(let w=0;w<d;w++){const F=o.getInt();if(F===37450)o.getInt(),o.getVPointer(),o.getVPointer(),o.getLong(),o.getLong();else{u[F]=[];const g=o.getInt();for(let m=0;m<g;m++){const b=o.getVPointer(),y=o.getVPointer();b&&y&&(b.block<r&&(r=b.block),y.block>s&&(s=y.block),u[F].push([b,y]))}}}const p=o.getInt();for(let w=0;w<p;w++){const F=o.getVPointer();f.push(F)}d>0&&(i[h]={binIndex:u,linearIndex:f})}this.firstBlockPosition=r,this.lastBlockPosition=s,this.indices=i,this.sequenceIndexMap=l,this.tabix=t}else throw new Error(indexURL+" is not a "+(t?"tabix":"bai")+" file")}get sequenceNames(){return Object.keys(this.sequenceIndexMap)}chunksForRange(e,t,i){const s=this.indices[e];if(s){const o=EB(t,i),a=[];for(let f of o)for(let d=f[0];d<=f[1];d++)if(s.binIndex[d]){const p=s.binIndex[d];for(let w of p){const F=w[0],g=w[1];a.push({minv:F,maxv:g})}}const l=s.linearIndex.length;let c;const h=Math.min(t>>14,l-1),u=Math.min(i>>14,l-1);for(let f=h;f<=u;f++){const d=s.linearIndex[f];if(d){c=d;break}}return C6(a,c)}else return[]}}function EB(n,e){const t=[];return e>=1<<29&&(e=1<<29),--e,t.push([0,0]),t.push([1+(n>>26),1+(e>>26)]),t.push([9+(n>>23),9+(e>>23)]),t.push([73+(n>>20),73+(e>>20)]),t.push([585+(n>>17),585+(e>>17)]),t.push([4681+(n>>14),4681+(e>>14)]),t}async function SB(n){const e=new IB;return e.parse(n),e}class IB{constructor(){this.tribble=!0}async parse(e){let t=0;this.chrIndex={},this.lastBlockPosition=[];const i=new Vt(new DataView(e));s(i);let r=i.getInt();for(;r-- >0;){let o=i.getString();const a=i.getInt(),l=i.getInt(),c=i.getInt();i.getInt()>0,i.getInt();let h=i.getLong();const u=[];for(let f=0;f<l;f++){const d=i.getLong();u.push({min:h,max:d}),h=d,d>t&&(t=d)}this.chrIndex[o]={chr:o,blocks:u,longestFeature:c,binWidth:a}}this.lastBlockPosition=t;function s(o){o.getInt(),o.getInt();const a=o.getInt();if(o.getString(),o.getLong(),o.getLong(),o.getString(),o.getInt(),a>=3){let l=o.getInt();for(;l-- >0;)o.getString(),o.getString()}}}get sequenceNames(){return Object.keys(this.chrIndex)}chunksForRange(e,t,i){const r=this.chrIndex[e];if(r){const s=r.blocks,o=r.longestFeature,a=r.binWidth,l=Math.max(t-o,0),c=Math.floor(l/a);if(c>=s.length)return[];{const h=Math.min(Math.floor((i-1)/a),s.length-1),u=s[c].min,f=s[h].max;return f-u===0?[]:[{minv:{block:u,offset:0},maxv:{block:f,offset:0}}]}}else return}}const NB=21582659,TB=38359875,RB=21578050,MB=21578324,BB=1480870228;async function k6(n,e){let t=await Be.loadArrayBuffer(n,Qe(e)),i=new DataView(t);switch(i.getUint8(0)===31&&i.getUint8(1)===139&&(t=cr(t).buffer,i=new DataView(t)),i.getInt32(0,!0)){case RB:return xB(t);case MB:return kB(t);case NB:return vB(t);case BB:return SB(t);case TB:throw Error("CSI version 2 is not supported.");default:throw Error(`Unrecognized index type: ${n}`)}}function Dn(n){return typeof n=="string"||n instanceof String?new DB(n):new LB(n)}class DB{constructor(e){this.data=e,this.ptr=0}nextLine(){var e=this.ptr,t=this.data.indexOf(`
`,e),i=this.data;if(t>0)return this.ptr=t+1,t>e&&i.charAt(t-1)==="\r"?i.substring(e,t-1):i.substring(e,t);var r=i.length;return this.ptr=r,e>=r?void 0:i.substring(e)}}class LB{constructor(e){this.data=e,this.length=this.data.length,this.ptr=0}nextLine(){if(this.ptr>=this.data.length)return;let e=this.ptr;const t=this.data;let i="",r=!1;for(;e<t.length;){var s=t[e],o=0,a=0;if(s<=127?(o=0,a=s&255):s<=223?(o=1,a=s&31):s<=239?(o=2,a=s&15):s<=244&&(o=3,a=s&7),t.length-e-o>0)for(var l=0;l<o;)s=t[e+l+1],a=a<<6|s&63,l+=1;else a=65533,o=t.length-e;e+=o+1;const c=String.fromCodePoint(a);if(c==="\r")r=!0;else{if(c===`
`)break;r&&(i+="\r",r=!1),i+=c}}return this.ptr=e,i}}class zB{constructor(e){this.config=e,this.filePtr=0,this.bufferPtr=0,this.buffer}async nextLine(){let e;try{for(;;){const t=this.buffer?this.buffer.length:0;for(;this.bufferPtr<t;){const i=String.fromCharCode(this.buffer[this.bufferPtr++]);if(i!=="\r"){if(i===`
`)return e;e=e?e+i:i}}if(this.eof)return e;await this.readNextBlock()}}catch(t){return console.warn(t),this.eof=!0,e}}async readNextBlock(){const e=Qe(this.config,{range:{start:this.filePtr,size:26}}),t=await Be.loadArrayBuffer(this.config.url,e),i=Z1(t);if(i===0)this.eof=!0,this.buffer=void 0;else{const r=Qe(this.config,{range:{start:this.filePtr,size:i}}),s=await Be.loadArrayBuffer(this.config.url,r);s.byteLength<i&&(this.eof=!0),this.buffer=cr(s),this.buffer.byteLength==0&&(this.eof=!0),this.bufferPtr=0,this.filePtr+=s.byteLength}}}function PB(n){if(n.length===1)return n[0];let e=0;for(const r of n)e+=r.byteLength;const t=new Uint8Array(e);let i=0;for(const r of n)t.set(new Uint8Array(r),i),i+=r.byteLength;return t.buffer}const ov=n=>{const e=ArrayBuffer.isView(n)?n:new Uint8Array(n);return(e[17]<<8|e[16])+1};class E6{constructor(e){this.config=e,this.cacheBlocks=e.cacheBlocks!=!1,this.cache=void 0}async getData(e,t){const i=e.block,r=t.block,s=t.offset===0,o=await this.getInflatedBlocks(i,r,s);if(o.length===1)return o[0];let a=0;for(const h of o)a+=h.byteLength;const l=new Uint8Array(a);let c=0;for(const h of o)l.set(h,c),c+=h.byteLength;return l}async getInflatedBlocks(e,t,i){if(this.cacheBlocks){const r=this.cache;if(r&&r.startBlock<=e&&(r.endBlock>=t||i&&r.nextEndBlock===t)){const s=e-r.startBlock,o=t-r.startBlock;return Og(r.buffer,s,o)}else{let s;if(!r||r.startBlock>t||r.endBlock<e)s=await this.loadBLockData(e,t,{skipEnd:i});else{const a=[];if(e<r.startBlock){const c=await this.loadBLockData(e,r.startBlock,{skipEnd:!0});a.push(c)}let l;if(e<=r.startBlock&&t>=r.endBlock)l=r.buffer;else{const c=Math.max(0,e-r.startBlock);let h;if(t>=r.endBlock)h=r.buffer.byteLength;else{const u=av(r.buffer);for(let f=0;f<u.length-1;f++)if(r.startBlock+u[f]===t){h=u[f+1];break}}l=r.buffer.slice(c,h)}if(a.push(l),t>r.endBlock){const c=await this.loadBLockData(r.endBlock,t,{skipStart:!0,skipEnd:i});a.push(c)}s=PB(a)}let o=t;if(i){const a=av(s);t=a[a.length-1]}return this.cache={startBlock:e,endBlock:t,nextEndBlock:o,buffer:s},Og(s)}}else{const r=await this.loadBLockData(e,t,{skipEnd:i});return Og(r)}}async loadBLockData(e,t,i){const r=this.config,s=i&&i.skipStart,o=i&&i.skipEnd;let a=0;if(!o){const c=Qe(r,{range:{start:t,size:26}}),h=await Be.loadArrayBuffer(r.url,c);a=ov(h)}if(s){const c=Qe(r,{range:{start:e,size:26}}),h=await Be.loadArrayBuffer(r.url,c);e+=ov(h)}const l=Qe(r,{range:{start:e,size:t+a-e}});return Be.loadArrayBuffer(r.url,l)}}function av(n){const e=n.byteLength;let t=0;const i=[0];for(;t<e;){const r=new Uint8Array(n,t),s=(r[17]<<8|r[16])+1;t+=s,t<e&&i.push(t)}return i}function Og(n,e,t){e=e||0;const i=[];let r=e;const s=n.byteLength-18;for(;r<s;)try{const o=new Uint8Array(n,r,18),a=o[11]<<8|o[10],l=o[17]<<8|o[16],c=12+a+r,h=n.byteLength-c,u=l-a-18;if(h<u||u<=0)break;const f=new Uint8Array(n,c,u),d=X1(f);if(i.push(d),t===r)break;r+=l+1}catch(o){console.error(o);break}return i}const OB=Math.log10(Number.MIN_VALUE);class S6{constructor(e){Re(this,"chrCol",-1);Re(this,"snpCol",-1);Re(this,"posCol",-1);Re(this,"pValueCol",-1);Re(this,"phenotypeColumn",-1);Re(this,"delimiter","	");this.config=e}async parseHeader(e){const t=this.config;t.delimiter&&(this.delimiter=t.delimiter);const i=await e.nextLine(),r=this.parseHeaderLine(i);return t.chrColumn&&(this.chrColumn=t.chrColumn-1),t.snpColumn&&(this.snpColumn=t.snpColumn-1),t.posColumn&&(this.posColumn=t.posColumn-1),t.pValueColumn&&(this.pValueColumn=t.pValueColumn-1),t.phenotypeColumn&&(this.phenotypeColumn=t.phenotypeColumn-1),r}parseHeaderLine(e){this.columns=e.split(this.delimiter);for(let t=0;t<this.columns.length;t++)switch(this.columns[t].toLowerCase()){case"chr":case"chromosome":case"chr_id":case"chrom":this.chrColumn=t;break;case"bp":case"pos":case"position":case"chr_pos":case"chromEnd":this.posColumn=t;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.pValueColumn=t;break;case"rsid":case"variant":case"snp":this.snpColumn=t;break;case"phenotype":case"gene":case"gene_id":case"molecular_trait_id":this.phenotypeColumn=t;break}return this.columns}async parseFeatures(e){const t=[],i=e.nextLine();this.columns||this.parseHeaderLine(i);let r;const s=o=>{const a=o.indexOf("E");return a>0&&Number.parseInt(o.substring(a+1))<OB?Number.MIN_VALUE:Number(o)};for(;(r=e.nextLine())!==void 0;){const o=r.split(this.delimiter);if(o.length===this.columns.length){const a=o[this.posColumn];if(a.indexOf(";")>0||a.length==0||a.indexOf("x")>0)continue;const l=o[this.chrColumn],c=s(o[this.pValueColumn]),h=parseInt(a)-1,u=h+1,f=o[this.snpColumn],d=o[this.phenotypeColumn],p=new HB({chr:l,start:h,end:u,pValue:c,snp:f,phenotype:d},this.columns,o);t.push(p)}}return t}static isQTL(e){const t=e.split("	");if(t.length<5)return!1;const i=[["chr","chromosome","chr_id","chrom"],["bp","pos","position","chr_pos","chromEnd"],["p","pval","p-value","p.value"],["rsid","variant","snp"],["phenotype","gene","gene_id","molecular_trait_id"]];for(let r of i)if(!t.some(s=>r.includes(s.toLowerCase())))return!1;return!0}}class HB{constructor({chr:e,start:t,end:i,pValue:r,snp:s,phenotype:o},a,l){this.chr=e,this.start=t,this.end=i,this.pValue=r,this.snp=s,this.phenotype=o,this.headers=a,this.tokens=l}popupData(){const e=[];for(let t=0;t<this.headers.length;t++)e.push({name:this.headers[t],value:this.tokens[t]});return e}}const UB=5e8;class lv{constructor(e,t){Re(this,"sequenceNames");if(this.config=e||{},this.genome=t,this.indexURL=e.indexURL,this.indexed=e.indexed||this.indexURL!==void 0,this.queryable=this.indexed,Rs(this.config.url))this.filename=this.config.url.name;else if(qr(this.config.url))this.indexed=!1,this.dataURI=e.url;else{const i=X_(this.config.url);this.filename=e.filename||i.file}this.parser=this.getParser(this.config),this.config.format==="vcf"&&!this.config.indexURL&&console.warn("Warning: index file not specified.  The entire vcf file will be loaded.")}async defaultVisibilityWindow(){if(this.config.indexURL){const e=await this.getIndex();if(e&&e.lastBlockPosition){let t=0;const i=1e4;for(let r of e.sequenceNames){const s=this.genome.getChromosome(r);s&&(t+=s.bpLength)}return Math.round(t/e.lastBlockPosition*i)}}}async readFeatures(e,t,i){!this.dataURI&&!this.header&&await this.readHeader();let r;return await this.getIndex()?(this.indexed=!0,r=await this.loadFeaturesWithIndex(e,t,i)):this.dataURI?(this.indexed=!1,r=await this.loadFeaturesFromDataURI()):this.config.sourceType==="service"?r=await this.loadFeaturesFromService(e,t,i):(this.indexed=!1,r=await this.loadFeaturesNoIndex()),r.sort(function(o,a){return o.chr===a.chr?o.start-a.start:o.chr.localeCompare(a.chr)}),r}async readHeader(){if(this.dataURI)return await this.loadFeaturesFromDataURI(this.dataURI),this.header;if(this.config.indexURL){const e=await this.getIndex();if(!e)throw new Error("Unable to load index: "+this.config.indexURL);this.sequenceNames=new Set(e.sequenceNames);let t;if(e.tabix)this._blockLoader=new E6(this.config),t=new zB(this.config);else{const i=Object.values(e.chrIndex).flatMap(o=>o.blocks).map(o=>o.max).reduce((o,a)=>Math.min(o,a),Number.MAX_SAFE_INTEGER),r=Qe(this.config,{bgz:e.tabix,range:{start:0,size:i}}),s=await Be.loadString(this.config.url,r);t=Dn(s)}return this.header=await this.parser.parseHeader(t),this.header}else if(this.config.sourceType==="service"){if(this.config.seqnamesURL){const e=Qe(this.config,{}),t=await Be.loadString(this.config.seqnamesURL,e);t&&(this.sequenceNames=new Set(t.split(",").map(i=>i.trim()).filter(i=>i)))}if(this.config.headerURL){const e=Qe(this.config,{}),t=await Be.loadString(this.config.headerURL,e),i=Dn(t);return this.header=await this.parser.parseHeader(i),this.header}}else{let e;if(this.config._filecontents)e=this.config._filecontents,delete this.config._filecontents;else{const i=Qe(this.config);e=await Be.loadByteArray(this.config.url,i)}e.length<UB&&(e=new TextDecoder().decode(e));let t=Dn(e);this.header=await this.parser.parseHeader(t),t=Dn(e),this.features=await this.parser.parseFeatures(t),this.sequenceNames=new Set;for(let i of this.features)this.sequenceNames.add(i.chr);return this.header}}getParser(e){switch(e.format){case"vcf":return new y6(e);case"seg":return new Pg("seg");case"mut":return new Pg("mut");case"maf":return new Pg("maf");case"gwas":return new v6(e);case"qtl":return new S6(e);case"aed":return new dB(e);default:return new QM(e)}}async loadFeaturesNoIndex(){if(this.features){const e=this.features;return delete this.features,e}else{const e=Qe(this.config),t=await Be.loadByteArray(this.config.url,e);if(!this.header){const s=Dn(t);this.header=await this.parser.parseHeader(s)}const i=Dn(t),r=[];return await this._parse(r,i),r}}async loadFeaturesWithIndex(e,t,i){const r=this.config;this.parser;const s=this.index.tabix,o=s?this.index.sequenceIndexMap[e]:e;if(o===void 0)return[];const a=this.index.chunksForRange(o,t,i);if(!a||a.length===0)return[];{const l=[];for(let c of a){let h;if(s)h=await this._blockLoader.getData(c.minv,c.maxv);else{const d=Qe(r,{range:{start:c.minv.block,size:c.maxv.block-c.minv.block+1}});h=await Be.loadString(r.url,d)}const u=c.minv.offset?h.slice(c.minv.offset):h,f=Dn(u);await this._parse(l,f,e,i,t)}return l}}async loadFeaturesFromService(e,t,i){let r;typeof this.config.url=="function"?r=this.config.url({chr:e,start:t,end:i}):r=this.config.url.replace("$CHR",e).replace("$START",t).replace("$END",i);const s=Qe(this.config),o=await Be.loadString(r,s),a=Dn(o),l=[];return await this._parse(l,a),l}async _parse(e,t,i,r,s){let o=await this.parser.parseFeatures(t);if(o.sort(function(a,l){return a.chr===l.chr?a.start-l.start:a.chr.localeCompare(l.chr)}),i===void 0)for(let a of o)e.push(a);else{let a=!1;for(let l=0;l<o.length;l++){const c=o[l];if(c.chr===i){if(c.start>r){e.push(c);break}c.end>=s&&c.start<=r&&(a||(a=!0,l>0&&e.push(o[l-1])),e.push(c))}}}}async getIndex(){if(this.index)return this.index;if(this.config.indexURL)return this.index=await this.loadIndex(),this.index}async loadIndex(){const e=this.config.indexURL;return k6(e,this.config)}async loadFeaturesFromDataURI(){if(this.features){const e=this.features;return delete this.features,e}else{const e=Hs(this.dataURI);let t=Dn(e);this.header=await this.parser.parseHeader(t),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),t=Dn(e);const i=[];return await this._parse(i,t),i}}}const VB=St;class qB{constructor(e){this.config=e}async readFeatures(e,t,i){let r;typeof this.config.url=="function"?r=this.config.url({chr:e,start:t,end:i}):r=this.config.url.replace("$CHR",e).replace("$START",t).replace("$END",i);let s=Object.assign({},this.config);this.config.body!==void 0&&(typeof this.config.body=="function"?s.body=this.config.body({chr:e,start:t,end:i}):s.body=this.config.body.replace("$CHR",e).replace("$START",t).replace("$END",i));let o;const a=await Be.load(r,s);if(a&&(typeof this.config.parser=="function"?o=this.config.parser(a):VB(a)?o=JSON.parse(a):o=a),this.config.mappings){let l=Object.keys(this.config.mappings);for(let c of o)for(let h of l)c[h]=c[this.config.mappings[h]]}return o}}const I6=function(n,e){this.config=n,this.genome=e,this.expandQueryInterval=!1};I6.prototype.readFeatures=function(n,e,t){const i=Math.max(0,Math.floor(e));let r=Math.ceil(t);if(this.genome){const o=this.genome.getChromosome(n);o&&r>o.bpLength&&(r=o.bpLength)}const s=this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+n+"&start="+i+"&end="+r;return Be.loadJson(s,this.config).then(function(o){return o?(o.forEach(function(a){a.hasOwnProperty("exonStarts")&&a.hasOwnProperty("exonEnds")&&a.hasOwnProperty("exonCount")&&a.hasOwnProperty("cdsStart")&&a.hasOwnProperty("cdsEnd")&&jB(a)}),o):null})};function jB(n){var e,t,i,r,s,o;e=n.exonCount,t=n.exonStarts.split(","),i=n.exonEnds.split(","),r=[];for(var a=0;a<e;a++){s=parseInt(t[a]),o=parseInt(i[a]);var l={start:s,end:o};(n.cdsStart>o||n.cdsEnd<n.cdsStart)&&(l.utr=!0),n.cdsStart>=s&&n.cdsStart<=o&&(l.cdStart=n.cdsStart),n.cdsEnd>=s&&n.cdsEnd<=o&&(l.cdEnd=n.cdsEnd),r.push(l)}n.exons=r}class QB{constructor(e){Re(this,"featureCaches",[]);Re(this,"gtexChrs",new Set(["chr1","chr10","chr11","chr12","chr13","chr14","chr15","chr16","chr17","chr18","chr19","chr2","chr20","chr21","chr22","chr3","chr4","chr5","chr6","chr7","chr8","chr9","chrM","chrX","chrY"]));this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.datasetId=e.datasetId||"gtex_v8"}async readFeatures(e,t,i){const r=e.startsWith("chr")?e:e==="MT"?"chrM":"chr"+e;if(!this.gtexChrs.has(r))return[];const s=Math.floor(t),o=Math.ceil(i),a=this.datasetId,l=this.url+"?chromosome="+r+"&start="+s+"&end="+o+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+a,c=await Be.loadJson(l,{withCredentials:this.config.withCredentials});return c&&c.singleTissueEqtl?c.singleTissueEqtl.map(h=>new $B(h)):[]}}class $B{constructor(e){this.chr=e.chromosome,this.start=e.pos-1,this.end=this.start+1,this.snp=e.snpId,this.phenotype=e.geneSymbol,this.pValue=e.pValue,this.json=e}popupData(){return Object.keys(this.json).map(e=>({name:e,value:this.json[e]}))}}class aw{constructor(e,t){if(this.config=e,this.genome=t,e.format)this.format=e.format.toUpperCase();else throw Error('Format is required, and must be either "bam" or "cram"');if(!(this.format==="BAM"||this.format==="VCF"))throw Error(`htsget format ${e.format} is not supported`)}async readHeaderData(){const e=`${Hg(this.config)}?class=header&format=${this.format}`,t=await Be.loadJson(e,Qe(this.config));return await this.loadUrls(t.htsget.urls)}async readData(e,t,i){const r=`${Hg(this.config)}?format=${this.format}&referenceName=${e}&start=${Math.floor(t)}&end=${Math.ceil(i)}`,s=await Be.loadJson(r,Qe(this.config));return this.loadUrls(s.htsget.urls)}async loadUrls(e){const t=[];for(let r of e)if(r.url.startsWith("data:"))t.push(Promise.resolve(WB(r.url)));else{const s=Qe(this.config||{});r.headers&&(s.headers=Object.assign(s.headers||{},r.headers)),t.push(Be.loadArrayBuffer(r.url,s))}const i=await Promise.all(t);return GB(i)}static async inferFormat(e){try{const t=Hg(e),i=`${t}${t.includes("?")?"&":"?"}class=header`,r=await Be.loadJson(i,Qe(e));if(r.htsget){const s=r.htsget.format;if(!(s==="BAM"||s==="VCF"))throw Error(`htsget format ${s} is not supported`);e.format=s.toLowerCase(),e.sourceType="htsget",e.name||(e.name=await gp(e.url))}}catch{}}}function Hg(n){if(n.url&&n.endpoint&&n.id)return n.url+n.endpoint+n.id;if(n.endpoint&&n.id)return n.endpoint+n.id;if(n.url)return n.url.startsWith("htsget://")?n.url.replace("htsget://","https://"):n.url;throw Error("Must specify either 'url', or 'endpoint' and 'id")}function GB(n){let e=0;for(let r of n)e+=r.byteLength;let t=0;const i=new Uint8Array(e);for(let r of n){const s=new Uint8Array(r);i.set(s,t),t+=s.length}return i}function WB(n){const e=n.split(","),t=e[0].split(":")[1];let i=e[1];t.indexOf("base64")>=0?i=atob(i):i=decodeURI(i);const r=new Uint8Array(i.length);for(var s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return r}class KB extends aw{constructor(e,t){super(e,t),this.parser=new y6}async readHeader(){if(!this.header){let e=await this.readHeaderData();gd(e)&&(e=bh(e));const t=Dn(e);this.header=await this.parser.parseHeader(t,this.genome),this.chrAliasTable=this.header.chrAliasTable}return this.header}async readFeatures(e,t,i){if(this.config.format&&this.config.format.toUpperCase()!=="VCF")throw Error(`htsget format ${this.config.format} is not supported`);this.chrAliasTable||await this.readHeader();let r=this.chrAliasTable.has(e)?this.chrAliasTable.get(e):e,s=await this.readData(r,t,i);gd(s)&&(s=bh(s));const o=Dn(s);return this.parser.parseFeatures(o)}}class YB{constructor(e,t){Re(this,"chrAliasTable",new Map);this.sequenceNames=new Set(e),this.genome=t}async getAliasName(e){if(!this.genome)return e;if(!this.chrAliasTable.has(e)){const t=await this.genome.getAliasRecord(e);if(!t)this.chrAliasTable.set(e,void 0);else{let i;const r=Object.keys(t).filter(s=>s!=="start"&&s!=="end").map(s=>t[s]).filter(s=>this.sequenceNames.has(s));r.length>0&&(i=r[0]),this.chrAliasTable.set(e,i)}}return this.chrAliasTable.get(e)}}class Kh{constructor(e){this.genome=e}async nextFeature(e,t,i,r){let s=this.genome.chromosomeNames||[e],o=s.indexOf(e);if(o<0)return;const a=Math.min(1e4,r||1e4);let l=i?t:Math.max(t-a,0);for(;o<s.length&&o>=0;){e=s[o];const h=this.genome.getChromosome(e).bpLength;for(;l<h&&l>=0;){let u=i?l+a:Math.min(t,l+a);const f=await this.getFeatures({chr:e,start:l,end:u,visibilityWindow:r});if(f){const d=(F,g)=>F.start-g.start+F.end-g.end,p=Array.from(f);p.sort(d);let w=i?0:p.length-1;for(;w>=0&&w<p.length;){const F=p[w],g=(F.start+F.end)/2;if(i){if(g>t)return F;w++}else{if(g<t)return F;w--}}}l=i?u:l-a}if(i)o++,l=0,t=0;else{if(o--,o<0)break;t=this.genome.getChromosome(s[o]).bpLength,l=t-a}}}async previousFeature(e,t,i,r){let s=this.genome.chromosomeNames||[e],o=s.indexOf(e);if(o<0)return;const a=Math.min(1e4,r||1e4);let l=i?t:Math.max(t-a,0);for(;o<s.length&&o>=0;){e=s[o];const h=this.genome.getChromosome(e).bpLength;for(;l<h&&l>=0;){let u=Math.min(t,l+a);const f=await this.getFeatures({chr:e,start:l,end:u,visibilityWindow:r});if(f){const d=(F,g)=>F.start-g.start+F.end-g.end,p=Array.from(f);p.sort(d);let w=i?0:p.length-1;for(;w>=0&&w<p.length;){const F=p[w],g=(F.start+F.end)/2;if(i){if(g>t)return F;w++}else{if(g<t)return F;w--}}}l=i?u:l-a}if(i)o++,l=0,t=0;else{if(o--,o<0)break;t=this.genome.getChromosome(s[o]).bpLength,l=t-a}}}}const XB=1;class ZB{constructor(e,t){this.config=e,this.genome=t,this.path=e.url,this.groupCache={},this.datasetCache={}}async readHeader(){if(this.magic!==void 0)return this;let e=await Be.loadArrayBuffer(this.path,Qe(this.config,{range:{start:0,size:64e3}})),t=new Vt(new DataView(e));if(this.magic=t.getInt(),this.version=t.getInt(),this.indexPos=t.getLong(),this.indexSize=t.getInt(),t.getInt(),this.version>=2){let s=t.getInt();for(this.windowFunctions=[];s-- >0;)this.windowFunctions.push(t.getString())}this.trackType=t.getString(),this.trackLine=t.getString();let i=t.getInt();for(this.trackNames=[];i-- >0;)this.trackNames.push(t.getString());this.genomeID=t.getString(),this.flags=t.getInt(),this.compressed=(this.flags&XB)!==0,e=await Be.loadArrayBuffer(this.path,Qe(this.config,{range:{start:this.indexPos,size:this.indexSize}})),t=new Vt(new DataView(e)),this.datasetIndex={};let r=t.getInt();for(;r-- >0;){const s=t.getString(),o=t.getLong(),a=t.getInt();this.datasetIndex[s]={position:o,size:a}}for(this.groupIndex={},r=t.getInt();r-- >0;){const s=t.getString(),o=t.getLong(),a=t.getInt();this.groupIndex[s]={position:o,size:a}}return this}async readDataset(e,t,i){const r=e+"_"+t+"_"+i;if(this.datasetCache[r])return this.datasetCache[r];{await this.readHeader();const s=this.version<2?"":"/"+t,o=e.toLowerCase()==="all"||i===void 0?"0":i.toString();let a;t==="raw"?a="/"+e+"/raw":a="/"+e+"/z"+o+s;const l=this.datasetIndex[a];if(l===void 0)return;const c=await Be.loadArrayBuffer(this.path,Qe(this.config,{range:{start:l.position,size:l.size}}));if(!c)return;const h=new Vt(new DataView(c));let u=h.getInt();const f={};for(;u-- >0;)f[h.getString()]=h.getString();const d=h.getString(),p=h.getFloat();let w=h.getInt();const F=[];for(;w-- >0;)F.push({position:h.getLong(),size:h.getInt()});const g={name:a,attributes:f,dataType:d,tileWidth:p,tiles:F};return this.datasetCache[r]=g,g}}async readRootGroup(){const e=this.genome,t=this.groupCache["/"];if(t)return t;{const i=await this.readGroup("/"),r=i.chromosomes,s=i.maxZoom;s&&(this.maxZoom=Number(s));const o=i.totalCount;o&&(i.totalCount=Number(o));const a={};return r&&r.split(",").forEach(function(l){const c=e.getChromosomeName(l);a[c]=l}),this.chrAliasTable=a,this.groupCache["/"]=i,i}}async readGroup(e){const t=this.groupCache[e];if(t)return t;{await this.readHeader();const i=this.groupIndex[e];if(i===void 0)return;const r=await Be.loadArrayBuffer(this.path,Qe(this.config,{range:{start:i.position,size:i.size}}));if(!r)return;const s=new Vt(new DataView(r)),o={name:e};let a=s.getInt();for(;a-- >0;){const l=s.getString(),c=s.getString();o[l]=c}return this.groupCache[e]=o,o}}async readTiles(e,t){if(e.sort(function(r,s){return r.position-s.position}),e=e.filter(function(r){return r.size>0}),e.length===0)return[];const i=[];for(let r of e){const s=await Be.loadArrayBuffer(this.path,Qe(this.config,{range:{start:r.position,size:r.size}}));let o;try{o=this.compressed?wh(s).buffer:s}catch(h){console.error(h);continue}const a=new Vt(new DataView(o)),l=a.getString();let c;switch(l){case"fixedStep":c=cv(a,t);break;case"variableStep":c=hv(a,t);break;case"bed":case"bedWithName":c=uv(a,t,l);break;default:throw"Unknown tile type: "+l}i.push(c)}return i}async readTile(e,t){let i=await Be.loadArrayBuffer(this.path,Qe(this.config,{range:{start:e.position,size:e.size}}));this.compressed&&(i=wh(i).buffer);const r=new Vt(new DataView(i)),s=r.getString();switch(s){case"fixedStep":return cv(r,t);case"variableStep":return hv(r,t);case"bed":case"bedWithName":return uv(r,t,s);default:throw"Unknown tile type: "+s}}}function cv(n,e){const t=n.getInt(),i=n.getInt(),r=n.getFloat(),s=[];let o=e;for(;o-- >0;){let a=t;const l=[];for(;a-- >0;)l.push(n.getFloat());s.push(l)}return{type:"fixedStep",start:i,span:r,data:s,nTracks:e,nPositions:t}}function hv(n,e){const t=n.getInt(),i=n.getFloat(),r=n.getInt(),s=[];let o=r;for(;o-- >0;)s.push(n.getInt());n.getInt();const a=[];let l=e;for(;l-- >0;){o=r;const c=[];for(;o-- >0;)c.push(n.getFloat());a.push(c)}return{type:"variableStep",tileStart:t,span:i,start:s,data:a,nTracks:e,nPositions:r}}function uv(n,e,t){const i=n.getInt();let r=i;const s=[];for(;r-- >0;)s.push(n.getInt());r=i;const o=[];for(;r-- >0;)o.push(n.getInt());n.getInt();const a=[];let l=e;for(;l-- >0;){let c=i;const h=[];for(;c-- >0;)h.push(n.getFloat());a.push(h)}if(t==="bedWithName"){r=i;const c=[];for(;r-- >0;)c.push(n.getString())}return{type:t,start:s,end:o,data:a,nTracks:e,nPositions:i}}var Rh;class N6 extends Kh{constructor(t,i){super(i);Pe(this,Rh,{});Re(this,"searchable",!1);this.genome=i,this.reader=new ZB(t,i),this.queryable=!0}async getFeatures({chr:t,start:i,end:r,bpPerPixel:s,windowFunction:o="mean"}){return t.toLowerCase()==="all"?this.getWGValues(o,s):this._getFeatures(t,i,r,s,o)}async _getFeatures(t,i,r,s,o){const a=new Fd(t,i,r),l=this.genome;if(!this.rootGroup&&(this.rootGroup=await this.reader.readRootGroup(),!this.normalizationFactor)){const y=this.rootGroup.totalCount;y&&(this.normalizationFactor=1e6/y)}a.bpPerPixel=s;const c=iD(t,s,l);let h=this.reader.chrAliasTable[t],u=this.reader.maxZoom;h===void 0&&(h=t),u===void 0&&(u=-1);const f=c>u?"raw":o,d=await this.reader.readDataset(h,f,c);if(d==null)return[];const p=d.tileWidth,w=Math.floor(i/p),F=Math.floor(r/p),m=await this.reader.readTiles(d.tiles.slice(w,F+1),1),b=[];for(let y of m)switch(y.type){case"bed":JB(y,t,i,r,s,b);break;case"variableStep":eD(y,t,i,r,s,b);break;case"fixedStep":tD(y,t,i,r,s,b);break;default:throw"Unknown tile type: "+y.type}return b.sort(function(y,A){return y.start-A.start}),b}get supportsWholeGenome(){return!0}get windowFunctions(){return this.reader.windowFunctions}async getWGValues(t,i){const r=he(this,Rh)[t];if(r&&r.bpPerPixel>.8*i&&r.bpPerPixel<1.2*i)return r.values;{const s=[],o=this.genome;if(this.genome.wgChromosomeNames)for(let l of o.wgChromosomeNames){const c=o.getChromosome(l).bpLength;i=c/1e3;const h=await this._getFeatures(l,0,c,i,t);if(h)for(let u of h){const f=Object.assign({},u);f.chr="all",f.start=o.getGenomeCoordinate(u.chr,u.start),f.end=o.getGenomeCoordinate(u.chr,u.end),f._f=u,s.push(f)}}return he(this,Rh)[t]={values:s,bpPerPixel:i},s}}}Rh=new WeakMap;function JB(n,e,t,i,r,s){const o=n.nPositions,a=n.start,l=n.end,c=n.data[0];for(let h=0;h<o;h++){const u=a[h],f=l[h];if(!(f<t)){if(u>i)break;s.push({chr:e,start:u,end:f,value:c[h]})}}}function eD(n,e,t,i,r,s){const o=n.nPositions,a=n.start,l=n.span,c=n.data[0];for(let h=0;h<o;h++){const u=a[h],f=u+l;if(!(f<t)){if(u>i)break;s.push({chr:e,start:u,end:f,value:c[h]})}}}function tD(n,e,t,i,r,s){const o=n.nPositions;let a=n.start;const l=n.span,c=n.data[0];for(let h=0;h<o;h++){const u=a+l;if(a>i)break;u>=t&&(Number.isNaN(c[h])||s.push({chr:e,start:a,end:u,value:c[h]})),a=u}}var nD=Math.log(2);function iD(n,e,t){var i=t.getChromosome(n).bpLength;return Math.ceil(Math.log(Math.max(0,i/(e*700)))/nD)}class lw{constructor(e,t,i,r){this.header=e,this.nameToId=t,this.idToName=i,this.sumLengths=r}static parseTree(e,t,i=!1){{const r=e.getInt(),s=e.getInt(),o=e.getInt(),a=e.getInt(),l=e.getLong(),c=e.getLong(),h={magic:r,blockSize:s,keySize:o,valSize:a,itemCount:l,reserved:c},u=new Map,f=[];let d=0;const p=w=>{w>=0&&(e.position=w);const F=e.getByte();e.getByte();const g=e.getUShort();if(F===1)for(let m=0;m<g;m++){let b=e.getFixedLengthString(o),y;if(a===8){y=e.getInt();const A=e.getInt();d+=A,i&&(b=i.getChromosomeName(b)),u.set(b,y),f[y]=b}else throw Error(`Unexpected "valSize" value in chromosome tree.  Expected 8, actual value is ${a}`)}else for(let m=0;m<g;m++){e.getFixedLengthString(o);const y=e.getLong()-t,A=e.position;p(y),e.position=A}};return p(e),new lw(h,u,f,d)}}}const fv=48,rD=32,sD=24;var Qa,_f;const Vc=class Vc{constructor(e,t,i){Pe(this,Qa);Re(this,"littleEndian",!0);Re(this,"nodeCache",new Map);this.path=e,this.config=t,this.startOffset=i}async init(){const e=await $e(this,Qa,_f).call(this,this.startOffset,fv);let t=e.getInt();if(t!==Vc.magic&&(e.setPosition(0),this.littleEndian=!this.littleEndian,e.littleEndian=this.littleEndian,t=e.getInt(),t!==Vc.magic))throw Error(`Bad magic number ${t}`);const i=e.getUInt(),r=e.getLong(),s=e.getUInt(),o=e.getUInt(),a=e.getUInt(),l=e.getUInt(),c=e.getLong(),h=e.getUInt(),u=e.getUInt(),f=this.startOffset+fv;return this.header={magic:t,blockSize:i,itemCount:r,startChromIx:s,startBase:o,endChromIx:a,endBase:l,endFileOffset:c,itemsPerSlot:h,reserved:u,rootNodeOffset:f},this}async findLeafItemsOverlapping(e,t,i,r){const s=[],o=async a=>{const l=await this.readNode(a);for(let c of l.items)oD(c,e,t,i,r)&&(l.type===1?s.push(c):await o(c.childOffset))};return await o(this.header.rootNodeOffset),s}async readNode(e){const t=e;if(this.nodeCache.has(t))return this.nodeCache.get(t);let i=await $e(this,Qa,_f).call(this,e,4);const r=i.getByte(),s=r===1;i.getByte();const o=i.getUShort();let a=o*(s?rD:sD);i=await $e(this,Qa,_f).call(this,e+4,a);const l=[];for(let h=0;h<o;h++){let u={isLeaf:s,startChrom:i.getInt(),startBase:i.getInt(),endChrom:i.getInt(),endBase:i.getInt(),childOffset:i.getLong()};s&&(u.dataSize=i.getLong(),u.dataOffset=u.childOffset),l.push(u)}const c={type:r,items:l};return this.nodeCache.set(t,c),c}};Qa=new WeakSet,_f=async function(e,t){const i=await Be.loadArrayBuffer(this.path,Qe(this.config,{range:{start:e,size:t}}));return new Vt(new DataView(i),this.littleEndian)},Re(Vc,"magic",610839776);let Wm=Vc;function oD(n,e,t,i,r){return n?(i>n.startChrom||i===n.startChrom&&r>=n.startBase)&&(e<n.endChrom||e===n.endChrom&&t<=n.endBase):(console.log("null item for "+e+" "+t+" "+r),!1)}function aD(n,e,t,i){if(i==="biginteract"||t&&(t.table==="chromatinInteract"||t.table==="interact"))return r;{const s=n-3;return function(o,a){if(s>0&&(o.name=a[0]),s>1&&(o.score=Number(a[1])),s>2&&(o.strand=a[2]),s>3&&(o.cdStart=parseInt(a[3])),s>4&&(o.cdEnd=parseInt(a[4])),s>5&&a[5]!=="."&&a[5]!=="0"&&a[5]!=="-1"){const l=Xe.createColorString(a[5]);o.color=l.startsWith("rgb")?l:void 0}if(s>8){const l=parseInt(a[6]),c=a[7].split(","),h=a[8].split(","),u=[];for(let f=0;f<l;f++){const d=o.start+parseInt(h[f]),p=d+parseInt(c[f]);u.push({start:d,end:p})}lD(u,o.cdStart,o.cdEnd),o.exons=u}if(t){const l=n;for(let c=l;c<e;c++)if(c<t.fields.length){const h=t.fields[c].name,u=a[c-3];o[h]=u}}}}function r(s,o){return s.chr1=o[5],s.start1=Number.parseInt(o[6]),s.end1=Number.parseInt(o[7]),s.chr2=o[10],s.start2=Number.parseInt(o[11]),s.end2=Number.parseInt(o[12]),s.name=o[0],s.score=Number(o[1]),s.value=Number(o[2]),s.color=o[4]==="."?void 0:o[4]==="0"?"rgb(0,0,0)":o[4],s}}function lD(n,e,t){for(let i of n){const r=i.end,s=i.start;r<e||s>t?i.utr=!0:(e>=s&&e<=r&&(i.cdStart=e),t>=s&&t<=r&&(i.cdEnd=t))}}function cD(n,e){return Math.min(1,.11+.89*(n/779)).toString()}function hD(n){let e;const t=[];let i=!1;const r=n.trim().split(/\s*[\r\n]+\s*/g);for(let s of r)if(s.startsWith("table"))e=s.split(/\s+/)[1].trim();else if(s.startsWith("("))i=!0;else if(!s.startsWith(")")){if(i&&s.length>0){const o=s.indexOf(";"),a=s.substr(0,o).split(/\s+/),l=s.substr(o+1).replace(/"/g,"").trim();t.push({type:a[0],name:a[1],description:l})}}return{table:e,fields:t}}const uD=10;class fD{constructor(e,t){Re(this,"ixFile");Re(this,"ixxFile");Re(this,"bufferCache",new Map);this.ixFile=t,this.ixxFile=e}async search(e,t){const r=e.split(" ")[0].toLowerCase(),s=await this._getBuffer(r,t);if(!s)return;const o=s.slice(0,s.lastIndexOf(`
`)).split(`
`).filter(l=>!!l),a=[];for(let l of o){const c=l.split(" ")[0];if(c.startsWith(r)&&a.push(l),c.slice(0,r.length)>r)break}if(a.length!==0){const l=new Map;for(let c of a){const[h,...u]=c.split(" ");l.set(h,u.map(f=>f.split(",")[0]))}return l}}async getIndex(e){return this.index||(this.index=await this._readIndex()),this.index}async _readIndex(e){return(await Be.loadString(this.ixxFile)).split(`
`).filter(i=>!!i).map(i=>{const r=i.length-uD,s=i.slice(0,r),o=i.slice(r),a=Number.parseInt(o,16);return[s,a]})}async _getBuffer(e,t){let i=0,r=65536;const s=await this.getIndex(t);for(let a=0;a<s.length;a++){const[l,c]=s[a],h=Math.min(l.length,e.length);l.slice(0,h)<e&&(i=c,r=c+65536)}const o=r-i;if(!(o<0)){if(this.bufferCache.has(i))return this.bufferCache.get(i);{const a=await Be.loadString(this.ixFile,{range:{start:i,size:o}});return this.bufferCache.set(i,a),a}}}}const dD=2291137574,pD=654085990,gD=2273964779,mD=3958540679,dv=64,wD=64,bD=512e3;var Oo,Km,R6;class T6{constructor(e,t){Pe(this,Oo);Re(this,"chrAliasTable",new Map);Re(this,"rpTreeCache",new Map);this.path=e.url,this.format=e.format||"bigwig",this.genome=t,this.config=e,this.bufferSize=bD,this.loader=qr(this.path)?new xD(this.path):Be,e.searchTrix&&(this._trix=new fD(`${e.searchTrix}x`,e.searchTrix))}async readWGFeatures(e,t){await this.loadHeader();const i=0,r=this.chromTree.idToName.length-1,s=this.chromTree.idToName[i],o=this.chromTree.idToName[r];return this.readFeatures(s,0,o,Number.MAX_VALUE,e,t)}async readFeatures(e,t,i,r,s,o="mean"){t||(t=0),r||(r=Number.MAX_SAFE_INTEGER),await this.loadHeader();let a=await $e(this,Oo,Km).call(this,e),l=await $e(this,Oo,Km).call(this,i);if(a===void 0||l===void 0)return[];let c,h;if(this.type==="bigwig"){const d=await this.getZoomHeaders();let p=s?AD(s,d):void 0;p?(c=p.indexOffset,h=CD):(c=this.header.fullIndexOffset,h=_D)}else c=this.header.fullIndexOffset,h=pv.call(this);const f=await(await this.loadRPTree(c)).findLeafItemsOverlapping(a,t,l,r);if(!f||f.length===0)return[];{let d=Number.MAX_VALUE,p=0;for(let m of f)d=Math.min(d,m.dataOffset),p=Math.max(p,m.dataOffset+m.dataSize);const w=p-d,F=await this.loader.loadArrayBuffer(this.config.url,Qe(this.config,{range:{start:d,size:w}})),g=[];for(let m of f){const b=new Uint8Array(F,m.dataOffset-d,m.dataSize);let y;this.header.uncompressBuffSize>0?y=wh(b):y=b,h.call(this,new DataView(y.buffer),a,t,l,r,g,this.chromTree.idToName,o,this.littleEndian)}return g.sort(function(m,b){return m.start-b.start}),g}}get searchable(){return this.type==="bigbed"}async search(e){if(this.header||await this.loadHeader(),!(this.header&&this.header.extraIndexCount))return;const t=await this._searchForRegions(e);if(t){const i=await this._loadFeaturesForRange(t.offset,t.length);if(i){const r=i.filter(s=>{for(let o of Object.keys(s)){const a=s[o];if(St(a)&&a.toLowerCase()===e.toLowerCase())return!0}return!1});return r.length>0?r.reduce((s,o)=>s.end-s.start>o.end-o.start?s:o,i[0]):void 0}}}async _searchForRegions(e){const t=await $e(this,Oo,R6).call(this);if(t){if(this._trix){const i=e.toLowerCase(),r=await this._trix.search(i);r&&r.has(i)&&(e=r.get(i)[0])}for(let i of t){const r=await i.search(e);if(r)return r}}}async getZoomHeaders(){return this.zoomLevelHeaders?this.zoomLevelHeaders:(await this.loadHeader(),this.zoomLevelHeaders)}async loadHeader(){if(this.header)return this.header;{let e=await this.loader.loadArrayBuffer(this.path,Qe(this.config,{range:{start:0,size:dv}})),t;this.littleEndian=!0;let i=new Vt(new DataView(e),this.littleEndian),r=i.getUInt();if(r===dD)this.type="bigwig";else if(r===gD)this.type="bigbed";else{this.littleEndian=!1,i.littleEndian=!1,i.position=0;let l=i.getUInt();l===pD?this.type="bigwig":l===mD&&(this.type="bigbed")}t={bwVersion:i.getUShort(),nZoomLevels:i.getUShort(),chromTreeOffset:i.getLong(),fullDataOffset:i.getLong(),fullIndexOffset:i.getLong(),fieldCount:i.getUShort(),definedFieldCount:i.getUShort(),autoSqlOffset:i.getLong(),totalSummaryOffset:i.getLong(),uncompressBuffSize:i.getInt(),extensionOffset:i.getLong()};const s=dv;let o={start:s,size:t.fullDataOffset-s+4};e=await this.loader.loadArrayBuffer(this.path,Qe(this.config,{range:o}));const a=t.nZoomLevels;i=new Vt(new DataView(e),this.littleEndian),this.zoomLevelHeaders=[],this.firstZoomDataOffset=Number.MAX_SAFE_INTEGER;for(let l=1;l<=a;l++){const c=a-l,h=new FD(c,i);this.firstZoomDataOffset=Math.min(h.dataOffset,this.firstZoomDataOffset),this.zoomLevelHeaders[c]=h}if(t.autoSqlOffset>0){i.position=t.autoSqlOffset-s;const l=i.getString();l&&(this.autoSql=hD(l))}if(t.totalSummaryOffset>0&&(i.position=t.totalSummaryOffset-s,this.totalSummary=new yD(i)),t.chromTreeOffset>0)i.position=t.chromTreeOffset-s,this.chromTree=await lw.parseTree(i,s,this.genome),this.chrNames=new Set(this.chromTree.idToName);else throw"BigWig chromosome tree offset <= 0";return i.position=t.fullDataOffset-s,t.dataCount=i.getInt(),this.featureDensity=t.dataCount/this.chromTree.sumLengths,this.header=t,t.extensionOffset>0&&await this.loadExtendedHeader(t.extensionOffset),this.header}}async loadExtendedHeader(e){let t=await this.loader.loadArrayBuffer(this.path,Qe(this.config,{range:{start:e,size:wD}})),i=new Vt(new DataView(t),this.littleEndian);i.getUShort();const r=i.getUShort(),s=i.getLong();if(r===0)return;let o=r*(16+10*4);t=await this.loader.loadArrayBuffer(this.path,Qe(this.config,{range:{start:s,size:o}})),i=new Vt(new DataView(t),this.littleEndian);const a=[],l=[],c=[];for(let h=0;h<r;h++){a.push(i.getUShort());const u=i.getUShort();c.push(i.getLong()),l.push(i.getInt());for(let f=0;f<u;f++)i.getUShort(),l.push(i.getUShort())}this.header.extraIndexCount=r,this.header.extraIndexOffsets=c}async loadRPTree(e){let t=this.rpTreeCache.get(e);return t||(t=new Wm(this.path,this.config,e),await t.init(),this.rpTreeCache.set(e,t),t)}async getType(){return await this.loadHeader(),this.type}async getTrackType(){return await this.loadHeader(),this.type==="bigwig"?"wig":this.autoSql&&this.autoSql.table==="chromatinInteract"?"interact":"annotation"}async _loadFeaturesForRange(e,t){const i=await this.loader.loadArrayBuffer(this.config.url,Qe(this.config,{range:{start:e,size:t}})),r=new Uint8Array(i),s=this.header.uncompressBuffSize>0?wh(r):r,o=pv.call(this),a=[];return o.call(this,new DataView(s.buffer),0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,a,this.chromTree.idToName),a}}Oo=new WeakSet,Km=async function(e){if(this.chrAliasTable.has(e)&&(e=this.chrAliasTable.get(e),e===void 0))return;let t=this.chromTree.nameToId.get(e);if(t===void 0&&this.genome){const i=await this.genome.getAliasRecord(e);let r;if(i){const s=Object.keys(i).filter(o=>o!=="start"&&o!=="end").map(o=>i[o]).filter(o=>this.chromTree.nameToId.has(o));s.length>0&&(r=s[0],t=this.chromTree.nameToId.get(s[0]))}this.chrAliasTable.set(e,r)}return t},R6=async function(){if(this._searchTrees===void 0&&this.header.extraIndexOffsets&&this.header.extraIndexOffsets.length>0){this._searchTrees=[];for(let e of this.header.extraIndexOffsets){const t=await yd.loadBpTree(this.path,this.config,e);this._searchTrees.push(t)}}return this._searchTrees};class FD{constructor(e,t){this.index=e,this.reductionLevel=t.getInt(),this.reserved=t.getInt(),this.dataOffset=t.getLong(),this.indexOffset=t.getLong()}}class yD{constructor(e){e?(this.basesCovered=e.getLong(),this.minVal=e.getDouble(),this.maxVal=e.getDouble(),this.sumData=e.getDouble(),this.sumSquares=e.getDouble(),vD.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)}}function vD(){let n=this.basesCovered;if(n>0){this.mean=this.sumData/n,this.stddev=Math.sqrt(this.sumSquares/(n-1));let e=this.minVal<0?this.mean-2*this.stddev:0,t=this.maxVal>0?this.mean+2*this.stddev:0;this.defaultRange={min:e,max:t}}}function AD(n,e){let t;for(let i=0;i<e.length;i++){const r=e[i];if(r.reductionLevel<n){t=r;break}}return t}function _D(n,e,t,i,r,s,o,a,l){const c=new Vt(n,l),h=c.getInt(),u=c.getInt();let f=u,d=c.getInt();const p=c.getInt(),w=c.getInt(),F=c.getByte();c.getByte();let g=c.getUShort();if(h>=e&&h<=i){let m=0;for(;g-- >0;){let b;switch(F){case 1:f=c.getInt(),d=c.getInt(),b=c.getFloat();break;case 2:f=c.getInt(),b=c.getFloat(),d=f+w;break;case 3:b=c.getFloat(),f=u+m*p,d=f+w,m++;break}if(!(h<e||h===e&&d<t)){if(h>i||h===i&&f>=r)break;if(Number.isFinite(b)){const y=o[h];s.push({chr:y,start:f,end:d,value:b})}}}}}function pv(){const e=aD(this.header.definedFieldCount,this.header.fieldCount,this.autoSql,this.format);return function(t,i,r,s,o,a,l,c,h){const u=new Vt(t,h);for(;u.remLength()>=13;){const f=u.getInt(),d=l[f],p=u.getInt(),w=u.getInt(),F=u.getString();if(!(f<i||f===i&&w<r)){if(f>s||f===s&&p>=o)break;if(w>0){const g={chr:d,start:p,end:w};a.push(g);const m=F.split("	");e(g,m)}}}}}function CD(n,e,t,i,r,s,o,a,l){const c=new Vt(n,l),h=8*4;for(;c.remLength()>=h;){const u=c.getInt(),f=c.getInt(),d=c.getInt(),p=c.getInt(),w=c.getFloat(),F=c.getFloat(),g=c.getFloat();c.getFloat();let m;switch(a){case"min":m=w;break;case"max":m=F;break;default:m=p===0?0:g/p}if(!(u<e||u===e&&d<t)){if(u>i||u===i&&f>=r)break;if(Number.isFinite(m)){const b=o[u];s.push({chr:b,start:f,end:d,value:m})}}}}class xD{constructor(e){this.data=Hs(e).buffer}loadArrayBuffer(e,t){const i=t.range;return i?this.data.slice(i.start,i.start+i.size):this.data}async dataViewForRange(e,t){const i=Math.min(this.data.byteLength-e.start,e.size);return t?new Uint8Array(this.data,e.start,i):new DataView(this.data,e.start,i)}}var Mh;class cw extends Kh{constructor(t,i){super(i);Re(this,"queryable",!0);Pe(this,Mh,{});Re(this,"windowFunctions",["mean","min","max"]);this.reader=new T6(t,i),this.genome=i,this.format=t.format||"bigwig"}async getFeatures({chr:t,start:i,end:r,bpPerPixel:s,windowFunction:o}){await this.reader.loadHeader();const a=this.reader.type==="bigwig";let l;return t.toLowerCase()==="all"?l=a?await this.getWGValues(o,s):[]:l=await this.reader.readFeatures(t,i,t,r,s,o),a||w6(l),l}async getHeader(){return this.reader.loadHeader()}async defaultVisibilityWindow(){return this.reader.type==="bigwig"?-1:this.reader.featureDensity?Math.floor(1e4/this.reader.featureDensity):-1}async getWGValues(t,i){const r=this.genome,s=he(this,Mh)[t];if(s&&s.bpPerPixel>.8*i&&s.bpPerPixel<1.2*i)return s.values;{const o=await this.reader.readWGFeatures(i,t);let a=[];for(let l of o){const c=l.chr,h=r.getCumulativeOffset(c);if(h===void 0)continue;const u=Object.assign({},l);u.chr="all",u.start=h+l.start,u.end=h+l.end,u._f=l,a.push(u)}return a.sort((l,c)=>l.start-c.start),he(this,Mh)[t]={values:a,bpPerPixel:i},a}}supportsWholeGenome(){return this.reader.type==="bigwig"}async trackType(){return this.reader.getTrackType()}get searchable(){return this.reader.searchable}async search(t){return this.reader.search(t)}}Mh=new WeakMap;const rc=.01,Ym=4,gv=Ym+1;function Yh(n,e,t,i){if(this.dataRange===void 0||this.dataRange.max===void 0||this.dataRange.min===void 0)return;pe.fillRect(n,0,0,e,t,{fillStyle:"white"}),i&&pe.fillRect(n,e-Ym-2,0,Ym,t,{fillStyle:i});const r=this.flipAxis===void 0?!1:this.flipAxis,s=.95*e-8-gv,o=.95*e-gv,a={font:"normal 10px Arial",textAlign:"right",fillStyle:"black",strokeStyle:"black"};pe.strokeLine(n,s,rc*t,o,rc*t,a),pe.fillText(n,c(r?this.dataRange.min:this.dataRange.max),s+4,rc*t+12,a);const l=(1-rc)*t;pe.strokeLine(n,s,l,o,l,a),pe.fillText(n,c(r?this.dataRange.max:this.dataRange.min),s+4,l-4,a),pe.strokeLine(n,o,rc*t,o,l,a);function c(h){return h===0?"0":Math.abs(h)>=10?h.toFixed():Math.abs(h)>=1?h.toFixed(1):Math.abs(h)>=.1?h.toFixed(2):h.toExponential(1)}}const kD="rgb(150, 150, 150)";class M6 extends Bt{constructor(e,t){super(e,t)}init(e){super.init(e),this.type="wig",this.featureType="numeric",this.resolutionAware=!0,this.paintAxis=Yh;const t=e.format?e.format.toLowerCase():e.format;e.featureSource?(this.featureSource=e.featureSource,delete e.featureSource):t==="bigwig"?this.featureSource=new cw(e,this.browser.genome):t==="tdf"?this.featureSource=new N6(e,this.browser.genome):this.featureSource=$n(e,this.browser.genome),e.max===void 0||e.autoscale===!0?this.autoscale=!0:this.dataRange={min:e.min||0,max:e.max}}async postInit(){const e=await this.getHeader();this.disposed||e&&this.setTrackProperties(e)}async getFeatures(e,t,i,r){const s=this.windowFunction,o=await this.featureSource.getFeatures({chr:e,start:t,end:i,bpPerPixel:r,visibilityWindow:this.visibilityWindow,windowFunction:s});if(this.normalize&&this.featureSource.normalizationFactor){const a=this.featureSource.normalizationFactor;for(let l of o)l.value*=a}if(this.scaleFactor){const a=this.scaleFactor;for(let l of o)l.value*=a}return this.summarize&&(s==="mean"||s==="min"||s==="max")?B6(o,t,r,s):o}menuItemList(){const e=[];if(this.flipAxis!==void 0){let i=function(){this.flipAxis=!this.flipAxis,this.trackView.repaintViews()};var t=i;e.push("<hr>"),e.push({label:"Flip y-axis",click:i})}return this.featureSource.windowFunctions&&e.push(...this.wigSummarizationItems()),e.push(...this.numericDataMenuItems()),e}wigSummarizationItems(){const e=this.featureSource.windowFunctions,t=[];t.push("<hr/>"),t.push("<div>Windowing function</div>");for(const r of e){let o=function(){this.windowFunction=r,this.trackView.updateViews()};var i=o;const s=ke(Ct(r,this.windowFunction===r));t.push({object:s,click:o})}return t}async getHeader(){return typeof this.featureSource.getHeader=="function"&&(this.header=await this.featureSource.getHeader()),this.header}getScaleFactor(e,t,i,r){const s=r===!0?e<0?-Math.log10(Math.abs(e)+1):Math.log10(Math.abs(e)+1):e,o=r===!0?Math.log10(Math.abs(t)+1):t;return i/(o-s)}computeYPixelValue(e,t){return(this.flipAxis?e-this.dataRange.min:this.dataRange.max-e)*t}computeYPixelValueInLogScale(e,t){let i=this.dataRange.max,r=this.dataRange.min;return r=r<0?-Math.log10(Math.abs(r)+1):Math.log10(Math.abs(r)+1),i=i<0?-Math.log10(Math.abs(i)+1):Math.log10(Math.abs(i)+1),e=e<0?-Math.log10(Math.abs(e)+1):Math.log10(e+1),(this.flipAxis?e-r:i-e)*t}draw(e){const t=e.features,i=e.context,r=e.bpPerPixel,s=e.bpStart,o=e.pixelWidth,a=e.pixelHeight-1,l=s+o*r+1,c=this.getScaleFactor(this.dataRange.min,this.dataRange.max,a,this.logScale),h=u=>this.logScale?this.computeYPixelValueInLogScale(u,c):this.computeYPixelValue(u,c);if(t&&t.length>0&&(this.dataRange.min===void 0&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){let u=-1,f;const d=h(0);for(let p of t){if(p.end<s)continue;if(p.start>l)break;const w=(p.start-s)/r;if(isNaN(w))continue;let F=h(p.value);const m=(p.end-s)/r-w,b=e.alpha?Xe.addAlpha(this.getColorForFeature(p),e.alpha):this.getColorForFeature(p);if(this.graphType==="line")f!==void 0&&pe.strokeLine(i,u,f,w,F,{fillStyle:b,strokeStyle:b}),pe.strokeLine(i,w,F,w+m,F,{fillStyle:b,strokeStyle:b});else if(this.graphType==="points"){const y=this.config.pointSize||3,A=w+m/2;pe.fillCircle(i,A,F,y/2,{fillStyle:b,strokeStyle:b}),p.value>this.dataRange.max?pe.fillCircle(i,A,y/2,y/2,3,{fillStyle:this.overflowColor}):p.value<this.dataRange.min&&pe.fillCircle(i,A,a-y/2,y/2,3,{fillStyle:this.overflowColor})}else{const y=Math.min(a,F-d);pe.fillRect(i,w,d,m,y,{fillStyle:b}),p.value>this.dataRange.max?pe.fillRect(i,w,0,m,3,{fillStyle:this.overflowColor}):p.value<this.dataRange.min&&pe.fillRect(i,w,a-2,m,3,{fillStyle:this.overflowColor})}u=w+m,f=F}if(this.dataRange.min<0){let p=this.dataRange.max,w=this.dataRange.min;w=this.logScale===!0?w<0?-Math.log10(Math.abs(w)+1):Math.log10(Math.abs(w)+1):w,p=this.logScale===!0?p<0?-Math.log10(Math.abs(p)+1):Math.log10(Math.abs(p)+1):p;const F=p/(p-w),g=this.flipAxis?(1-F)*a:F*a;pe.strokeLine(i,0,g,e.pixelWidth,g,{strokeStyle:this.baselineColor})}}if(this.config.hasOwnProperty("guideLines")){for(let u of this.config.guideLines)if(u.hasOwnProperty("color")&&u.hasOwnProperty("y")&&u.hasOwnProperty("dotted")){let f=h(u.y),d={strokeStyle:u.color,strokeWidth:2};u.dotted?pe.dashedLine(e.context,0,f,e.pixelWidth,f,5,d):pe.strokeLine(e.context,0,f,e.pixelWidth,f,d)}}}popupData(e,t){if(t===void 0&&(t=this.clickedFeatures(e)),t&&t.length>0){const i=e.genomicLocation,r=[];t.sort(function(o,a){const l=Math.abs((o.start+o.end)/2-i),c=Math.abs((a.start+a.end)/2-i);return l-c});const s=t.length>10?t.slice(0,10):t;s.sort(function(o,a){return o.start-a.start});for(let o of s)if(o){r.length>0&&r.push("<hr/>");let a=o.end-o.start===1?Ge(Math.floor(o.start)+1):Ge(Math.floor(o.start)+1)+"-"+Ge(Math.floor(o.end));r.push({name:"Position:",value:a}),r.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:Ge(o.value.toFixed(4))})}return s.length<t.length&&r.push("<hr/>..."),r}else return[]}get supportsWholeGenome(){return!this.config.indexURL&&this.config.supportsWholeGenome!==!1}getColorForFeature(e){let t=e.value<0&&this.altColor?this.altColor:this.color||kD;return typeof t=="function"?t(e.value):t}dispose(){this.trackView=void 0}}Re(M6,"defaults",{height:50,flipAxis:!1,logScale:!1,windowFunction:"mean",graphType:"bar",normalize:void 0,scaleFactor:void 0,overflowColor:"rgb(255, 32, 255)",baselineColor:"lightGray",summarize:!0});function B6(n,e,t,i="mean"){if(t<=1||!n||n.length===0)return n;const r=n[0].chr,s=t,o=[],a=u=>{const f=e+u.bin*s,d=f+s;let p;switch(i){case"mean":p=u.sumData/u.count;break;case"max":p=u.max;break;case"min":p=u.min;break;default:throw Error(`Unknown window function: ${i}`)}const w=`${i} of ${u.count} values`;o.push({chr:r,start:f,end:d,value:p,description:w})};let l;for(let u of n){let f=Math.floor((u.start-e)/s);const d=Math.floor((u.end-e)/s);if(l&&f===l.bin&&(l.add(u),f++),!l||d>l.bin){if(l&&a(l),d>f){const p=e+d*s;o.push({chr:r,start:u.start,end:p,value:u.value})}l=new ED(d,u)}}l&&a(l);const c=[];let h=o[0];for(let u of o)h.value===u.value&&u.start<=h.end?h.end=u.end:(c.push(h),h=u);return c.push(h),c}class ED{constructor(e,t){this.bin=e,this.sumData=t.value,this.count=1,this.min=t.value,this.max=t.value}add(e){this.sumData+=e.value,this.max=Math.max(e.value,this.max),this.min=Math.min(e.value,this.min),this.count++}get mean(){return this.sumData/this.count}}const SD=1e4;class D6 extends Kh{constructor(e,t){super(t),this.config=e||{},this.genome=t,this.sourceType=e.sourceType===void 0?"file":e.sourceType,this.maxWGCount=e.maxWGCount||SD,this.windowFunctions=["mean","min","max","none"];const i=new Set(["bigwig","bw","bigbed","bb","biginteract","biggenepred","bignarrowpeak","tdf"]);if(this.queryable=e.indexURL||e.queryable===!0,e.reader)this.reader=e.reader,this.queryable=e.queryable!==!1;else{if(e.sourceType==="ga4gh")throw Error("Unsupported source type 'ga4gh'");(e.type==="eqtl"||e.type==="qtl")&&e.sourceType==="gtex-ws"?(this.reader=new QB(e),this.queryable=!0):e.sourceType==="htsget"?(this.reader=new KB(e,t),this.queryable=!0):e.sourceType==="ucscservice"?(this.reader=new I6(e.source),this.queryable=!0):e.sourceType==="custom"?(this.reader=new qB(e.source),this.queryable=e.source.queryable!==!1):e.sourceType==="service"?(this.reader=new lv(e,t),this.queryable=!0):(this.reader=new lv(e,t),e.queryable!==void 0?this.queryable=e.queryable:(i.has(e.format)||this.reader.indexed)&&(this.queryable=!0))}this.searchable=e.searchable!==!1}async defaultVisibilityWindow(){if(this.reader&&typeof this.reader.defaultVisibilityWindow=="function")return this.reader.defaultVisibilityWindow()}async trackType(){const e=await this.getHeader();if(e)return e.type}async getHeader(){if(!this.header)if(this.reader&&typeof this.reader.readHeader=="function"){const e=await this.reader.readHeader();e?(this.header=e,e.format&&(this.config.format=e.format)):this.header={}}else this.header={};return this.header}async getFeatures({chr:e,start:t,end:i,bpPerPixel:r,visibilityWindow:s,windowFunction:o}){const a=e.toLowerCase()==="all";if(t=t||0,i=i||Number.MAX_SAFE_INTEGER,(a&&!this.wgFeatures&&this.supportsWholeGenome()||this.config.disableCache||!this.featureCache||!this.featureCache.containsRange(new Fd(e,t,i)))&&await this.loadFeatures(e,t,i,s),a){if(!this.wgFeatures)if(this.supportsWholeGenome())if(this.config.type==="wig"){const l=await _d(this.featureCache.getAllFeatures(),this.genome,1e6);this.wgFeatures=B6(l,0,r,o)}else this.wgFeatures=await _d(this.featureCache.getAllFeatures(),this.genome,this.maxWGCount);else this.wgFeatures=[];return this.wgFeatures}else return this.featureCache.queryFeatures(e,t,i)}async findFeatures(e){return this.featureCache?this.featureCache.findFeatures(e):[]}supportsWholeGenome(){return!this.queryable}getAllFeatures(){return this.queryable||!this.featureCache?[]:this.featureCache.getAllFeatures()}async loadFeatures(e,t,i,r){await this.getHeader();const s=this.reader;let o=t,a=i,l=e;if(!this.chrAliasManager&&this.reader&&this.reader.sequenceNames&&(this.chrAliasManager=new YB(this.reader.sequenceNames,this.genome)),this.chrAliasManager&&(l=await this.chrAliasManager.getAliasName(e)),(!r||r<=0)&&this.config.expandQuery!==!1){const u=this.genome?this.genome.getChromosome(l):void 0;o=0,a=Math.max(u?u.bpLength:Number.MAX_SAFE_INTEGER,i)}else if(r>i-t&&this.config.expandQuery!==!1){let u=Math.min(4.1*(i-t),r);this.config.minQuerySize&&u<this.config.minQuerySize&&(u=this.config.minQuerySize),o=Math.max(0,(t+i-u)/2),a=o+u}let c=await s.readFeatures(l,o,a);this.queryable===void 0&&(this.queryable=s.indexed);const h=this.queryable?new Fd(e,o,a):void 0;if(c){if(this.config.format!=="wig"&&this.config.type!=="junctions"){const u=this.config.maxRows||Number.MAX_SAFE_INTEGER;b6(c,u)}this.featureCache=new Fh(c,this.genome,h),this.searchable&&this.addFeaturesToDB(c,this.config)}else this.featureCache=new Fh([],h)}addFeaturesToDB(e,t){this.featureMap||(this.featureMap=new Map);const i=t.searchableFields||["name","transcript_id","gene_id","gene_name","id"];for(let r of e)for(let s of i){let o;if(typeof r.getAttributeValue=="function"&&(o=r.getAttributeValue(s)),o){if(o=o.replaceAll(" ","+").toUpperCase(),this.featureMap.has(o)){const a=this.featureMap.get(o);if(r.end-r.start<a.end-a.start)continue}this.featureMap.set(o,r)}}}search(e){if(this.featureMap)return this.featureMap.get(e.toUpperCase())}}class Cd extends Kh{constructor(e,t){super(t),this.config=e,this.genome=t,this.queryable=!1,this.searchable=e.searchable!==!1,this.updateFeatures(e.features)}updateFeatures(e){e=ID(e,this.genome),b6(e),this.config.mappings&&ND(e,this.config.mappings),this.featureCache=new Fh(e,this.genome),(this.searchable||this.config.searchableFields)&&this.addFeaturesToDB(e,this.config)}async getFeatures({chr:e,start:t,end:i,bpPerPixel:r,visibilityWindow:s}){const o=this.genome,a=o?o.getChromosomeName(e):e;return a.toLowerCase()==="all"?_d(this.featureCache.getAllFeatures(),this.genome,this.maxWGCount):this.featureCache.queryFeatures(a,t,i)}getAllFeatures(){return this.featureCache.getAllFeatures()}supportsWholeGenome(){return!0}addFeaturesToDB(e,t){this.featureMap||(this.featureMap=new Map);const i=t.searchableFields||["name"];for(let r of e)for(let s of i){let o;if(typeof r.getAttributeValue=="function"&&(o=r.getAttributeValue(s)),o||(o=r[s]),o){o=o.replaceAll(" ","+");const a=this.featureMap.get(o.toUpperCase());if(a&&a.end-a.start>r.end-r.start)continue;this.featureMap.set(o.toUpperCase(),r)}}}search(e){if(this.featureMap)return this.featureMap.get(e.toUpperCase())}}function ID(n,e){if(e)for(let t of n)t.chr=e.getChromosomeName(t.chr);return n}function ND(n,e){let t=Object.keys(e);n.forEach(function(i){t.forEach(function(r){i[r]=i[e[r]]})})}class TD{constructor({chr:e,locus:t,accession:i,aliases:r,features:s,sequence:o}){this.chr=e,this.locus=t,this.accession=i,this.aliases=r,this.features=s,this.sequence=o,this.bpLength=o.length}toJSON(){return{gbkURL:this.url}}getSequenceRecord(e){return{chr:this.chr,bpLength:this.bpLength}}get chromosomeNames(){return[this.chr]}getFirstChromosomeName(){return this.chr}get id(){return this.accession}get name(){return this.locus}get initialLocus(){return this.chr}get description(){return this.locus}get infoURL(){return this.url}showWholeGenomeView(){return!1}getHomeChromosomeName(){return this.chr}getChromosomeName(e){return e}getChromosomeDisplayName(e){return this.chr}getChromosome(e){if(e===this.chr)return{name:this.chr,bpLength:this.bpLength}}async loadChromosome(e){return this.getChromosome(e)}async getAliasRecord(e){}getCytobands(e){return[]}getChromosomes(){return[this.getChromosome(this.chr)]}get wgChromosomeNames(){}getGenomeCoordinate(e,t){if(e===this.chr)return t}getChromosomeCoordinate(e){return{chr:this.chr,position:e}}getCumulativeOffset(e){return 0}getGenomeLength(){return this.bpLength}async getSequence(e,t,i){if(e===this.chr)return this.sequence.substring(t,i)}getSequenceInterval(e,t,i){if(e===this.chr)return new iw(this.chr,0,this.sequence.length,this.sequence)}}const mv=/\s+/,wv=new Map;async function L6(n){let e=wv.get(n);if(!e){const t=await Be.loadString(n,{});e=RD(t),e.url=n,wv.set(n,e)}return e}function RD(n){if(!n)return null;const e=Dn(n);let t=e.nextLine();const i=t.split(/\s+/);if(i[0].toUpperCase()!=="LOCUS")throw Error("Expected `LOCUS` line.  Found: "+t);const r=i[1].trim();let s,o;do if(t=e.nextLine(),t.startsWith("ACCESSION")){const h=t.split(mv);if(h.length<2)throw Error("Genbank file missing ACCESSION number.");s=h[1].trim()}else if(t.startsWith("ALIASES")){const h=t.split(mv);h.length>1&&(o=h[1].split(","))}while(t&&!t.startsWith("FEATURES"));const a=s||r,l=BD(a,e),c=MD(e);return new TD({chr:a,locus:r,accession:s,aliases:o,features:l,sequence:c})}function MD(n){let e,t="";for(;(e=n.nextLine())&&!e.startsWith("//");){e=e.trim();const i=e.split(/\s+/);for(let r=1;r<i.length;r++)t+=i[r]}return t}function BD(n,e){const t=[];let i,r,s=0,o;do if(r=e.nextLine(),r!==""){if(!r||r.startsWith("ORIGIN"))break;if(r.length<6){s<10&&console("Unexpected line in genbank file (skipping): "+r),s++;continue}if(r.charAt(5)!==" "){let a=r.substring(5,21).trim();o={chr:n,type:a,attributes:{},getAttributeValue:function(l){return this.attributes[l]}},i=r.substring(21),a.toLowerCase()!=="source"&&t.push(o)}else{let a=r.substring(21).trim();if(a.length>0)if(a.charCodeAt(0)===47){if(i.charCodeAt(0)===47){let l=i.split("=",2);if(l.length>1){let c=l[0].length>1?l[0].substring(1):"",h=LD(l[1]);o.attributes[c]=h}}else{const l=i.includes("complement")?"-":"+";o.strand=l;let c=i.replace("join","").replace("order","").replace("complement","").replace("(","").replace(")","");if(c.includes("..")){c=c.replace("<","").replace(">","");const h=DD(c,n,l),u=h[0];o.start=u.start;const f=h[h.length-1];o.end=f.end,h.length>1&&(o.exons=h)}else o.start=parseInt(c)-1,o.end=o.start+1}i=a}else i=i+a}}while(!0);return t}function DD(n,e,t){const i=n.split(","),r=[];n.includes("complement");for(const s of i){const o=s.split("..");let a=0;try{a=parseInt(o[0])-1}catch(c){console.error(c)}let l=a+1;o.length>1&&(l=parseInt(o[1])),r.push({chr:e,start:a,end:l,strand:t})}return r.sort(function(s,o){return s.start-o.start}),r}function LD(n){return n.startsWith('"')&&n.endsWith('"')&&(n=n.substring(1,n.length-2)),n}class zD extends Kh{constructor(e,t){super(t),this.config=e,this.searchable=!0}async getFeatures({chr:e,start:t,end:i,bpPerPixel:r,visibilityWindow:s}){if(!this.featureSource){const o=await L6(this.config.url);this.featureSource=new Cd({genome:this.config.genome,features:o.features,searchableFields:["gene","db_xref","locus_tag","transcript_id"]})}return this.featureSource.getFeatures({chr:e,start:t,end:i})}supportsWholeGenome(){return!1}search(e){return this.featureSource.search(e)}}const PD=new Set(["bigwig","bw","bigbed","bb","biginteract","biggenepred","bignarrowpeak"]);function $n(n,e){const t=n.format?n.format.toLowerCase():void 0;return n.features?new Cd(n,e):PD.has(t)?new cw(n,e):t==="tdf"?new N6(n,e):t==="gbk"?new zD(n,e):new D6(n,e)}function Xm(n){return(3-n.readingFrame)%3}function Cf(n){return n.cdStart||n.start}function xf(n){return n.cdEnd||n.end}const Zm=.25;function z6(n,e,t){let i=(n.start-e)/t,r=(n.end-e)/t,s=r-i;return s<3&&(s=3,i-=1.5),{px:i,px1:r,pw:s}}function OD(n,e,t,i,r,s){try{r.save(),r.fillStyle=this.color,r.strokeStyle=this.color;const o=this.getColorForFeature(n);r.fillStyle=o,r.strokeStyle=o;let a,l;this.displayMode==="SQUISHED"&&n.row!==void 0?(a=this.featureHeight/2,l=this.margin+this.squishedRowHeight*n.row):this.displayMode==="EXPANDED"&&n.row!==void 0?(a=this.featureHeight,l=this.margin+this.expandedRowHeight*n.row):(a=this.featureHeight,l=this.margin);const c=s.pixelWidth,h=l+a/2,u=a/2,f=h-u/2,d=n.exons?n.exons.length:0,p=z6(n,e,t),w=this.arrowSpacing,F=n.strand==="+"?1:n.strand==="-"?-1:0;if(d===0){const g=Math.max(0,p.px),m=Math.min(c,p.px1),b=m-g;if(r.fillRect(g,l,b,a),F!==0){r.fillStyle="white",r.strokeStyle="white";for(let y=g+w/2;y<m;y+=w)pe.strokeLine(r,y-F*2,h-2,y,h),pe.strokeLine(r,y-F*2,h+2,y,h);r.fillStyle=o,r.strokeStyle=o}}else{pe.strokeLine(r,p.px+1,h,p.px1-1,h);const g=Math.max(0,p.px)+w/2,m=Math.min(c,p.px1);for(let b=g;b<m;b+=w)pe.strokeLine(r,b-F*2,h-2,b,h),pe.strokeLine(r,b-F*2,h+2,b,h);for(let b=0;b<n.exons.length;b++){const y=n.exons[b];let A=Math.round((y.start-e)/t),x=Math.round((y.end-e)/t),v=Math.max(1,x-A),_;if(!(A+v<0)){if(A>c)break;if(y.utr)r.fillRect(A,f,v,u);else{if(y.cdStart&&(_=Math.round((y.cdStart-e)/t),r.fillRect(A,f,_-A,u),v-=_-A,A=_),y.cdEnd&&(_=Math.round((y.cdEnd-e)/t),r.fillRect(_,f,x-_,u),v-=x-_,x=_),v=Math.max(v,1),r.fillRect(A,l,v,a),y.readingFrame!==void 0&&s.bpPerPixel<Zm&&s.sequenceInterval){const k=b>0&&n.exons[b-1].readingFrame!==void 0?n.exons[b-1]:void 0,E=b<n.exons.length-1&&n.exons[b+1].readingFrame!==void 0?n.exons[b+1]:void 0;HD.call(this,r,n.strand,k,y,E,e,s.bpPerPixel,l,a,s.sequenceInterval)}if(v>w+5&&F!==0&&s.bpPerPixel>Zm){r.fillStyle="white",r.strokeStyle="white";for(let k=A+w/2;k<x;k+=w)pe.strokeLine(r,k-F*2,h-2,k,h),pe.strokeLine(r,k-F*2,h+2,k,h);r.fillStyle=o,r.strokeStyle=o}}}}}s.drawLabel&&this.displayMode!=="SQUISHED"&&UD.call(this,r,n,p.px,p.px1,l,s.referenceFrame,s)}finally{r.restore()}}function HD(n,e,t,i,r,s,o,a,l,c){const h=["rgb(124,124,204)","rgb(12, 12, 120)"];n.save();const u=(x,v,_,k,E)=>{E==="STOP"&&(E="*");const T=n.measureText(E).width;pe.fillText(n,E,_+(v-T)/2,k-4,{fillStyle:"#ffffff"})},f=(x,v,_,k,E,T)=>{const M=Math.round((v-s)/o),C=Math.round((_-s)/o)-M;let B;if(k===void 0){if(c.hasSequence(v,_)){const H=c.getSequence(v,_);if(H&&H.length===3){const L=x==="+"?H:Qm(H.split("").reverse().join(""));B=Ca[L]}}}else B=k;k==="M"||B==="M"&&T===0?n.fillStyle="#83f902":B==="STOP"?n.fillStyle="#ff2101":n.fillStyle=h[E],n.fillRect(M,a,C,l),B&&(n.save(),u(x,C,M,a+l,B),n.restore());const I=_-v;return I>0&&I<3?{start:v,end:_}:void 0},d=Xm(i);let p=Cf(i),w=xf(i),F,g,m,b=1,y,A;if(e==="+"){for(d>0&&(p+=d),b=1,A=0,F=p;F<w;A++,F+=3)y=b%2,g=Math.min(w,F+3),m=f(e,F,g,void 0,b%2,A),++b;if(d>0||m){const x=d>0?Mu.call(this,e,d,p-d,p,m,t,i,r,c):Mu.call(this,e,void 0,void 0,void 0,m,t,i,r,c);if(x){const{left:v,rite:_}=x;v&&f(e,p-d,p,v.aminoAcidLetter,0,void 0),_&&f(e,m.start,m.end,_.aminoAcidLetter,y,void 0)}}}else{for(d>0&&(w-=d),b=1,A=0,A=0,g=w;g>p;A++,g-=3)y=b%2,F=Math.max(p,g-3),m=f(e,F,g,void 0,b%2,A),++b;if(d>0||m){const x=d>0?Mu.call(this,e,d,w,w+d,m,t,i,r,c):Mu.call(this,e,void 0,void 0,void 0,m,t,i,r,c);if(x){const{left:v,rite:_}=x;_&&f(e,w,w+d,_.aminoAcidLetter,0,void 0),v&&f(e,m.start,m.end,v.aminoAcidLetter,y,void 0)}}}n.restore()}function UD(n,e,t,i,r,s,o){try{n.save();let a=e.name;if(a===void 0&&e.gene&&(a=e.gene.name),a===void 0&&(a=e.id||e.ID),!a||a===".")return;let l=o.pixelXOffset||0;const c=Math.max(t,-l),h=Math.min(i,-l+o.viewportWidth);let u=(c+h)/2,f;this.displayMode==="COLLAPSED"&&this.labelDisplayMode==="SLANT"&&(f={rotate:{angle:45}});const d=VD(r,f);let p=this.getColorForFeature(e),w=this.browser.qtlSelections.hasPhenotype(e.name);const F={textAlign:this.labelDisplayMode==="SLANT"?void 0:"center",fillStyle:p,strokeStyle:p},g=n.measureText(a),m=u-g.width/2,b=u+g.width/2,y=o.rowLastLabelX[e.row]||-Number.MAX_SAFE_INTEGER;(o.labelAllFeatures||m>y||w)&&(o.rowLastLabelX[e.row]=b,o.axis==="y"?(n.save(),pe.labelTransformWithContext(n,u),pe.fillText(n,a,u,d,F,f),n.restore()):(n.clearRect(u-g.width/2-1,d-g.actualBoundingBoxAscent-1,g.width+2,g.actualBoundingBoxAscent+g.actualBoundingBoxDescent+2),pe.fillText(n,a,u,d,F,f)))}finally{n.restore()}}function VD(n,e){return e?n+20:n+25}function Mu(n,e,t,i,r,s,o,a,l){let c,h,u="",f="",d="";const p={left:void 0,rite:void 0};if(n==="+"){if(e){if(f=l.getSequence(t,i),!f||([c,h]=[xf(s)-(3-e),xf(s)],u=l.getSequence(c,h),!u))return;d=u+f,p.left={triplet:d,aminoAcidLetter:Ca[d]}}if(r){if(u=l.getSequence(r.start,r.end),!u)return;const w=Xm(a),F=Cf(a);if(f=l.getSequence(F,F+w),!f)return;d=u+f,p.rite={triplet:d,aminoAcidLetter:Ca[d]}}}else{if(e){if(u=l.getSequence(t,i),u===void 0||([c,h]=[Cf(a),Cf(a)+(3-e)],f=l.getSequence(c,h),f===void 0))return;d=u+f,d=Qm(d.split("").reverse().join("")),p.rite={triplet:d,aminoAcidLetter:Ca[d]}}if(r){if(f=l.getSequence(r.start,r.end),f===void 0)return;const w=Xm(s),F=xf(s);if(u=l.getSequence(F-w,F),u===void 0)return;d=u+f,d=Qm(d.split("").reverse().join("")),p.left={triplet:d,aminoAcidLetter:Ca[d]}}}return p}const qD=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),jD=new Set(["coding-synon"]),QD=new Set(["splice-3","splice-5"]),$D=new Set(["untranslated-5","untranslated-3"]);function Ug(n,e,t,i,r){var s=z6(n,e,t),o=this.margin,a,l=this.snpColors.length,c;switch(a=this.displayMode==="squished"?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":c=h(n.func);break;case"class":c=u(n.class)}r.fillStyle=this.snpColors[c],r.fillRect(s.px,o,s.pw,a);function h(f){var d,p=f.split(",");return d=p.map(function(w){return qD.has(w)||QD.has(w)?l-1:jD.has(w)?l-2:$D.has(w)?l-3:0}),d.reduce(function(w,F){return Math.max(w,F)})}function u(f){return f==="deletion"?l-1:f==="mnp"?l-2:f==="microsatellite"||f==="named"?l-3:0}}function GD(n,e,t,i,r){const s=this.displayMode==="EXPANDED"?this.expandedRowHeight:this.squishedRowHeight;let o=this.margin;this.displayMode!=="COLLAPSED"&&n.row!==void 0&&(o+=n.row*s);const a=o+.5*s,l=a-.5*s,c=a+.5*s,h=Math.round((n.junction_left-e)/t),u=Math.round((n.junction_right-e)/t);r.beginPath(),r.moveTo(h,a),r.bezierCurveTo(h,l,u,l,u,a),r.lineWidth=1+Math.log(n.num_junction_reads)/Math.log(2),r.strokeStyle="blue",r.stroke();const f=n.spanning_frag_coords;for(let d=0;d<f.length;d++){const p=f[d],w=Math.round((p.left-e)/t),F=Math.round((p.right-e)/t);r.beginPath(),r.moveTo(w,a),r.bezierCurveTo(w,c,F,c,F,a),r.lineWidth=1,r.strokeStyle="purple",r.stroke()}}const WD="rgb(0, 0, 150)";class hw extends Bt{constructor(e,t){super(e,t)}init(e){super.init(e),this.labelDisplayMode=e.labelDisplayMode,e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):e.type!=="blat"&&(this.featureSource=e.featureSource?e.featureSource:$n(e,this.browser.genome)),e.type==="FusionJuncSpan"?(this.render=e.render||GD,this.squishedRowHeight=e.squishedRowHeight||50,this.expandedRowHeight=e.expandedRowHeight||50,this.height=e.height||this.margin+2*this.expandedRowHeight):e.type==="snp"?(this.render=e.render||Ug,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function",this.expandedRowHeight=e.expandedRowHeight||10,this.squishedRowHeight=e.squishedRowHeight||5,this.height=e.height||30):(this.render=e.render||OD,this.arrowSpacing=30,KD(this),this.squishedRowHeight=e.squishedRowHeight||15,this.expandedRowHeight=e.expandedRowHeight||30,this.height=e.height||this.margin+2*this.expandedRowHeight,e.colorBy&&(e.colorBy.field&&(e.colorTable=e.colorBy.pallete||e.colorBy.palette,e.colorBy=e.colorBy.field),this.colorBy=e.colorBy,e.colorTable?this.colorTable=new To(e.colorTable):this.colorTable=new yh("Set1")))}async postInit(){if(!(typeof this.featureSource.getHeader=="function"&&(this.header=await this.featureSource.getHeader(),this.disposed)))return this.header&&this.setTrackProperties(this.header),this.visibilityWindow===void 0&&typeof this.featureSource.defaultVisibilityWindow=="function"&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow()),this}get searchable(){return this.featureSource.searchable}async search(e){if(this.featureSource&&this.featureSource.searchable)return this.featureSource.search(e)}get supportsWholeGenome(){if(this.config.supportsWholeGenome!==void 0)return this.config.supportsWholeGenome;if(this.featureSource&&typeof this.featureSource.supportsWholeGenome=="function")return this.featureSource.supportsWholeGenome();if(this.visibilityWindow===void 0&&(this.config.indexed===!1||!this.config.indexURL))return!0}async getFeatures(e,t,i,r){const s=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:i,bpPerPixel:r,visibilityWindow:s})}computePixelHeight(e){if(this.displayMode==="COLLAPSED")return this.margin+this.expandedRowHeight;{let t=0;if(e&&typeof e.forEach=="function")for(let r of e)r.row&&r.row>t&&(t=r.row);return this.margin+(t+1)*(this.displayMode==="SQUISHED"?this.squishedRowHeight:this.expandedRowHeight)}}draw(e){const{features:t,context:i,bpPerPixel:r,bpStart:s,bpEnd:o,pixelWidth:a,pixelHeight:l,referenceFrame:c}=e;if(r<Zm&&(e.sequenceInterval=this.browser.genome.getSequenceInterval(c.chr,s,o)),this.isMergedTrack||pe.fillRect(i,0,e.pixelTop,a,l,{fillStyle:"rgb(255, 255, 255)"}),t){const h=[];e.rowLastX=[],e.rowLastLabelX=[];for(let w of t)if(w.start>s&&w.end<o){const F=this.displayMode==="COLLAPSED"?0:w.row||0;h[F]?h[F]++:h[F]=1,e.rowLastX[F]=-Number.MAX_SAFE_INTEGER,e.rowLastLabelX[F]=-Number.MAX_SAFE_INTEGER}const u=Math.max(1,Math.max(...h.filter(w=>!isNaN(w)))),f=a/u;let d=[];const p=[];for(let w of t){if(w.end<s)continue;if(w.start>o)break;this.displayMode==="COLLAPSED"&&this.browser.qtlSelections.hasPhenotype(w.name)&&p.push(w);const F=this.displayMode==="COLLAPSED"?0:w.row;e.drawLabel=e.labelAllFeatures||f>10;const g=Math.ceil((w.end-s)/r),m=d[F];if(!m||g>m){this.render.call(this,w,s,r,l,i,e);const b=Math.floor((w.start-s)/r);m&&b-m<=0&&(i.globalAlpha=.5,pe.strokeLine(i,b,0,b,l,{strokeStyle:"rgb(255, 255, 255)"}),i.globalAlpha=1),d[F]=g}}for(let w of p)e.drawLabel=!0,this.render.call(this,w,s,r,l,i,e)}else console.log("No feature list")}clickedFeatures(e){const t=e.y-this.margin,i=super.clickedFeatures(e);let r;switch(this.displayMode){case"SQUISHED":r=Math.floor(t/this.squishedRowHeight);break;case"EXPANDED":r=Math.floor(t/this.expandedRowHeight);break;default:r=void 0}return i.filter(function(s){return r===void 0||s.row===void 0||r===s.row})}popupData(e,t){t===void 0&&(t=this.clickedFeatures(e));const i=e.genomicLocation,r=[];for(let s of t){const o=s._f||s,a=typeof o.popupData=="function"?o.popupData(i):this.extractPopupData(o);if(a){r.length>0&&r.push("<hr/><hr/>");const l=this.infoURL||this.config.infoURL;for(let h of a)if(r.push(h),l&&h.name&&h.name.toLowerCase()==="name"&&h.value&&St(h.value)&&!h.value.startsWith("<")){const u=l.replace("$$",s.name);h.value=`<a target=_blank href=${u}>${h.value}</a>`}const c=this.config.format==="gff"||this.config.format==="gff3"||this.config.format==="gtf";if(o.exons&&o.exons.length>1)for(let h=0;h<o.exons.length;h++){const u=o.exons[h];if(i>=u.start&&i<=u.end){const f=c?u.number:o.strand==="-"?o.exons.length-h:h+1;f&&(r.push("<hr/>"),r.push({name:"Exon Number",value:f}));break}}}}return r}menuItemList(){const e=[];if(this.render===Ug){e.push("<hr/>");for(const s of["function","class"]){let a=function(){this.colorBy=s,this.trackView.repaintViews()};var i=a;const o=ke(Ct(`Color by ${s}`,s===this.colorBy));e.push({object:o,click:a})}}e.push("<hr/>");const t={COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"};for(const s of["COLLAPSED","SQUISHED","EXPANDED"]){let a=function(){this.displayMode=s,this.config.displayMode=s,this.trackView.checkContentHeight(),this.trackView.repaintViews()};var r=a;const o=ke(Ct(t[s],s===this.displayMode));e.push({object:o,click:a})}return e}contextMenuItemList(e){const t=this.clickedFeatures(e);if(t===void 0||t.length===0)return;t.length>1&&t.sort((r,s)=>s.end-s.start-(r.end-r.start));const i=t[0];if(i.end-i.start<=1e6){const r=[{label:"View feature sequence",click:async()=>{let s=await this.browser.genome.getSequence(i.chr,i.start,i.end);s?i.strand==="-"&&(s=Tr(s)):s="Unknown sequence",this.browser.alert.present(s)}}];return mp()&&navigator.clipboard!==void 0&&r.push({label:"Copy feature sequence",click:async()=>{let s=await this.browser.genome.getSequence(i.chr,i.start,i.end);s?i.strand==="-"&&(s=Tr(s)):s="Unknown sequence";try{await navigator.clipboard.writeText(s)}catch(o){console.error(o),this.browser.alert.present(`error copying sequence to clipboard ${o}`)}}}),r.push("<hr/>"),r}else return}description(){if(Ug===this.render){let e="<html>"+this.name+"<hr/>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',e+='<span style="color:black">Black</span>: Indel, Insertion, SNP',e+="</html>",e}else return super.description()}getColorForFeature(e){const t=e._f||e;let i;if(e.name&&this.browser.qtlSelections.hasPhenotype(e.name))i=this.browser.qtlSelections.colorForGene(e.name);else if(this.altColor&&t.strand==="-")i=typeof this.altColor=="function"?this.altColor(t):this.altColor;else if(this.color)i=typeof this.color=="function"?this.color(t):this.color;else if(this.colorBy){const s=t.getAttributeValue?t.getAttributeValue(this.colorBy):t[this.colorBy];i=this.colorTable.getColor(s)}else t.color&&(i=t.color);if(i||(i=WD),t.alpha&&t.alpha!==1)i=Xe.addAlpha(i,t.alpha);else if(this.useScore&&t.score&&!Number.isNaN(t.score)){const s=this.config.min?this.config.min:this.viewLimitMin?this.viewLimitMin:0,o=this.config.max?this.config.max:this.viewLimitMax?this.viewLimitMax:1e3,a=r(s,o,t.score);t.alpha=a,i=Xe.addAlpha(i,a)}function r(s,o,a){const l=(o-s)/9,c=Math.floor((a-s)/l);return Math.min(1,.2+c*.8/9)}return i}dispose(){this.trackView=void 0}}Re(hw,"defaults",{type:"annotation",maxRows:1e3,displayMode:"EXPANDED",margin:10,featureHeight:14,useScore:!1});function KD(n){n.browser.on&&(n.browser.on("trackdragend",e),n.browser.on("trackremoved",t));function e(){n.trackView&&n.displayMode!=="SQUISHED"&&n.trackView.repaintViews()}function t(i){n.browser.un&&n===i&&(n.browser.un("trackdragend",e),n.browser.un("trackremoved",t))}}class P6{constructor(e){if(this.config=e,this.browser=e.browser,this.columnFormat=e.columnFormat,this.tableRowSelectionList=[],this.tableDOM=Ce({class:"igv-roi-table"}),e.width){let[t]=e.width.split("px");t=parseInt(t,10),this.tableDOM.style.width=`${Math.min(t,1600)}px`}e.parent.appendChild(this.tableDOM),this.headerDOM=e,this.tableColumnTitles=this.tableDOM,this.tableRowContainer=this.tableDOM,this.footerDOM=e.gotoButtonHandler}set headerDOM({browser:e,parent:t,headerTitle:i,dismissHandler:r}){const s=Ce();this.tableDOM.appendChild(s);const o=Ce();s.appendChild(o),o.innerHTML=i;const a=Ce();s.appendChild(a),a.appendChild(zr("times")),this.boundDismissHandler=l.bind(this),a.addEventListener("click",this.boundDismissHandler);function l(f){f.stopPropagation(),r()}const{y:c}=e.root.getBoundingClientRect(),{y:h}=t.getBoundingClientRect(),u=-(h-c);Vr(this.tableDOM,s,{minX:0,minY:u}),this.tableDOM.style.display="none",this._headerDOM=s}set tableColumnTitles(e){const t=Ce({class:"igv-roi-table-column-titles"});e.appendChild(t);for(const{label:i,width:r}of this.columnFormat){const s=Ce();t.appendChild(s),s.style.width=r,s.innerText=i}this._tableColumnTitlesDOM=t}get tableColumnTitles(){return this._tableColumnTitlesDOM}set tableRowContainer(e){const t=Ce({class:"igv-roi-table-row-container"});e.appendChild(t),this._tableRowContainerDOM=t}get tableRowContainer(){return this._tableRowContainerDOM}set footerDOM(e){const t=Ce();this.tableDOM.appendChild(t);const i=Ce({class:"igv-roi-table-button"});t.appendChild(i),i.id="igv-roi-table-view-button",i.textContent="Go To",i.style.pointerEvents="none",this._footerDOM=t,this.gotoButton=i,this.boundGotoButtonHandler=e.bind(this),this.gotoButton.addEventListener("click",this.boundGotoButtonHandler)}tableRowDOMHelper(e){e.addEventListener("mousedown",t=>{t.stopPropagation(),e.classList.toggle("igv-roi-table-row-selected"),e.classList.contains("igv-roi-table-row-selected")?e.classList.remove("igv-roi-table-row-hover"):e.classList.add("igv-roi-table-row-hover"),this.setTableRowSelectionState(e.classList.contains("igv-roi-table-row-selected"))}),e.addEventListener("mouseover",t=>{e.classList.contains("igv-roi-table-row-selected")?e.classList.remove("igv-roi-table-row-hover"):e.classList.add("igv-roi-table-row-hover")}),e.addEventListener("mouseout",t=>{e.classList.remove("igv-roi-table-row-hover")})}clearTable(){const e=this.tableRowContainer.querySelectorAll(".igv-roi-table-row");for(let t of e)t.remove()}setTableRowSelectionState(e){e?this.tableRowSelectionList.push(1):this.tableRowSelectionList.pop(),this.gotoButton.style.pointerEvents=this.tableRowSelectionList.length>0?"auto":"none"}present(){this.tableDOM.style.left="0px";const{y:e}=this.browser.root.getBoundingClientRect(),{y:t}=this.config.parent.getBoundingClientRect();this.tableDOM.style.top=`${e-t}px`,this.tableDOM.style.display="flex"}dismiss(){this.tableDOM.style.display="none"}isVisible(){return this.tableDOM.style.display!=="none"}dispose(){this.tableDOM.innerHTML="",this.tableDOM.remove();for(const e of Object.keys(this))this[e]=void 0;document.removeEventListener("click",this.boundDismissHandler)}}class Vg extends P6{constructor(e){const t=Object.assign({width:"1024px"},e);super(t),this.descriptionDOM=e}set descriptionDOM(e){if(e.description){let t;t=Ce({class:"igv-roi-table-description"}),this.tableDOM.insertBefore(t,this.tableColumnTitles),t.style.height="auto",t.innerHTML="BLAT result for query sequence:",t=Ce({class:"igv-roi-table-description"}),this.tableDOM.insertBefore(t,this.tableColumnTitles),t.style.height="auto",t.style.maxHeight="128px",t.innerHTML=e.description,t=Ce({class:"igv-roi-table-goto-explainer"}),this.tableDOM.insertBefore(t,this.tableColumnTitles),t.innerHTML="Select one or more rows and click Go To to view the regions"}}tableRowDOM(e){const t=Ce({class:"igv-roi-table-row"}),i=e.map(r=>isFinite(r)?Ge(r):r);for(let r=0;r<i.length;r++){const s=Ce();t.appendChild(s);const o=this.columnFormat[r];s.style.width=o.width||"fit-content",s.innerText=i[r]}return this.tableRowDOMHelper(t),t}renderTable(e){if(Array.from(this.tableRowContainer.querySelectorAll(".igv-roi-table-row")).forEach(t=>t.remove()),e.length>0)for(let t of e){const i=this.tableRowDOM(t);this.tableRowContainer.appendChild(i)}}static getColumnFormatConfiguration(){return[{label:"chr",width:"7%"},{label:"start",width:"12%"},{label:"end",width:"12%"},{label:"strand",width:"5%"},{label:"score",width:"5%"},{label:"match",width:"5%"},{label:"mis-match",width:"7%"},{label:"rep. match",width:"7%"},{label:"N's",width:"3%"},{label:"Q gap count",width:"9%"},{label:"Q gap bases",width:"9%"},{label:"T gap count",width:"9%"},{label:"T gap bases",width:"9%"}]}static gotoButtonHandler(e){e.stopPropagation();const t=this.tableDOM.querySelectorAll(".igv-roi-table-row-selected"),i=[];for(const r of t){const s=[];r.querySelectorAll("div").forEach(c=>s.push(c.innerText));const[o,a,l]=s;i.push(`${o}:${a}-${l}`)}for(const r of this.tableDOM.querySelectorAll(".igv-roi-table-row"))r.classList.remove("igv-roi-table-row-selected");this.setTableRowSelectionState(!1),this.browser.search(i.join(" "))}}const YD="https://igv.org/services/blatUCSC.php";async function O6({url:n,userSeq:e,db:t}){if(n=n||YD,!t)throw Error("Blat database is not defined");const i=await XD(n,e,t);return i.fields,i.blat.map(CM)}async function XD(n="",e,t){const i=new URLSearchParams;return i.append("userSeq",e),i.append("db",t),(await fetch(n,{method:"post",body:i})).json()}const zc=25e3,ZD="https://igv.org/services/blatUCSC.php";class JD extends hw{constructor(e,t){super(e,t),this.name||(this.name="Blat Results"),this.sequence=e.sequence,this.table=void 0,e.features&&(this._features=e.features,this.featureSource=new Cd({features:e.features},this.browser.genome),delete e.features)}async postInit(){if(!this.featureSource){const e=this.browser.genome.id,t=this.browser.config.blatServerURL,i=await O6({url:t,userSeq:this.sequence,db:e});this._features=i,this.featureSource=new Cd({features:i},this.browser.genome)}}openTableView(){if(this.table===void 0){const e=this._features.map(i=>[i.chr,i.start+1,i.end,i.strand,i.score,i.matches,i.misMatches,i.repMatches,i.nCount,i.qNumInsert,i.qBaseInsert,i.tNumInsert,i.tBaseInsert]),t={browser:this.browser,parent:this.browser.columnContainer,headerTitle:this.config.title,description:this.sequence,dismissHandler:()=>{this.table.dismiss(),this.table.dispose(),this.table=void 0},columnFormat:Vg.getColumnFormatConfiguration(),gotoButtonHandler:Vg.gotoButtonHandler};this.table=new Vg(t),this.table.renderTable(e)}this.table.present()}menuItemList(){const e=super.menuItemList();e.push("<hr/>");function t(){this.openTableView()}return e.push({label:"Open table view",click:t}),e}dispose(){super.dispose(),this.table&&this.table.popover.parentElement.removeChild(this.table.popover)}}async function Pc({sequence:n,browser:e,name:t,title:i}){if(n.length>zc){e.alert.present(`Sequence size exceeds maximum allowed length (${n.length} > ${zc})`);return}try{const r=e.genome.id,s=e.config.blatServerURL||ZD,o=await O6({url:s,userSeq:n,db:r}),a={type:"blat",name:t||"blat results",title:i||"blat results",sequence:n,altColor:"rgb(176, 176, 236)",color:"rgb(236, 176, 176)",searchable:!1,features:o};(await e.loadTrack(a)).openTableView()}catch(r){e.alert.present(`Error performing blat search:  ${r}`)}}const xd=Number.MIN_SAFE_INTEGER,Ca={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"},Jm={},qg=["A","G","C","T","Y","R","W","S","K","M","D","V","H","B","N","X"],bv=["T","C","G","A","R","Y","W","S","M","K","H","B","D","V","N","X"];for(let n=0;n<qg.length;n++)Jm[qg[n]]=bv[n],Jm[qg[n].toLowerCase()]=bv[n].toLowerCase();const Bu=25,Du=115,Lu=15,Fv=25,zu=5,eL=1/10,uw=10;class H6{constructor(e,t){this.config=e,this.browser=t,this.type="sequence",this.removable=e.removable===!0,this.name=e.name,this.id=e.id,this.sequenceType=e.sequenceType||"dna",this.disableButtons=!1,this.order=e.order||xd,this.ignoreTrackMenu=!1,this.reversed=e.reversed===!0,this.frameTranslate=e.frameTranslate===!0,this.height=this.frameTranslate?Du:Bu,e.url&&(e.fastaURL=e.url),e.fastaURL||(this.id=e.id||"sequence")}menuItemList(){return[{name:this.reversed?"Forward":"Reverse",click:()=>{this.reversed=!this.reversed,this.trackView.repaintViews()}},{name:this.frameTranslate?"Close Translation":"Three-frame Translate",click:()=>{if(this.frameTranslate=!this.frameTranslate,this.frameTranslate){for(let e of this.trackView.viewports)e.setContentHeight(Du);this.trackView.setTrackHeight(Du)}else{for(let e of this.trackView.viewports)e.setContentHeight(Bu);this.trackView.setTrackHeight(Bu)}this.trackView.repaintViews()}}]}contextMenuItemList(e){const t=e.viewport;if(t.referenceFrame.bpPerPixel<=1){const r=t.getWidth()*t.referenceFrame.bpPerPixel,s=t.referenceFrame.chr,o=Math.floor(t.referenceFrame.start),a=Math.ceil(o+r),l=[{label:this.reversed?"View visible sequence (reversed)...":"View visible sequence...",click:async()=>{let c=await this.browser.genome.getSequence(s,o,a);c?this.reversed&&(c=Tr(c)):c="Unknown sequence",this.browser.alert.present(c)}}];return mp()&&l.push({label:"Copy visible sequence",click:async()=>{let c=await this.browser.genome.getSequence(s,o,a);c?this.reversed&&(c=Tr(c)):c="Unknown sequence";try{await navigator.clipboard.writeText(c)}catch(h){console.error(h),this.browser.alert.present(`error copying sequence to clipboard ${h}`)}}}),l.push({label:"BLAT read sequence",click:async()=>{let c=await this.browser.genome.getSequence(s,o,a);if(c){this.reversed&&(c=Tr(c));const h=`blat: ${s}:${o+1}-${a}`,u=`blat: ${s}:${o+1}-${a}`;Pc({sequence:c,browser:this.browser,name:h,title:u})}}}),l.push("<hr/>"),l}else return}translateSequence(e){const t=[[],[],[]];for(let i of[0,1,2]){let r=i;for(;e.length-r>=3;){let s=e.slice(r,r+3);this.reversed&&(s=s.split("").reverse().join(""));const o=Ca[s.toUpperCase()]||"";t[i].push({codons:s,aminoA:o}),r+=3}}return t}async getSequenceSource(){return this.config.fastaURL?(this.fasta||(this.fasta=new tL(this.config,this.browser.genome),await this.fasta.init()),this.fasta):this.browser.genome}async getFeatures(e,t,i,r){if(t=Math.floor(t),i=Math.floor(i),r&&r>uw)return null;{const o=await(await this.getSequenceSource()).getSequence(e,t,i);return{bpStart:t,sequence:o}}}draw(e){const t=e.context;if(e.features){let i=e.features.sequence;if(!i)return;this.reversed&&(i=i.split("").map(function(o){return Jm[o]}).join(""));const r=e.features.bpStart,s=1+e.bpStart+e.pixelWidth*e.bpPerPixel;for(let o=Math.floor(e.bpStart);o<=s;o++){const a=Math.floor(o-r);if(a>=0&&a<i.length){const c=(o-e.bpStart)/e.bpPerPixel,h=1/e.bpPerPixel,u=i[a],f=this.fillColor(u.toUpperCase());if(e.bpPerPixel>eL)pe.fillRect(t,c,zu,h,Lu-zu,{fillStyle:f});else{const d=c+.5*(h-t.measureText(u).width);e.axis==="y"?(t.save(),pe.labelTransformWithContext(t,d),pe.strokeText(t,u,d,Lu,{strokeStyle:f}),t.restore()):pe.strokeText(t,u,d,Lu,{strokeStyle:f})}}}if(this.frameTranslate){let o=Lu+2*zu;const a=this.translateSequence(i);for(let l=0;l<a.length;l++){const c=a[l];for(let h=0;h<c.length;h++){let u=h%2===0?"rgb(160,160,160)":"rgb(224,224,224)";const f=c[h],p=r+l+h*3-e.bpStart,w=Math.floor(p/e.bpPerPixel),F=Math.floor((p+3)/e.bpPerPixel),g=Math.round((w+F)/2);if(F<0)continue;if(w>e.pixelWidth)break;let m=f.aminoA;f.aminoA.indexOf("STOP")>-1?(u="rgb(255, 0, 0)",m="STOP"):f.aminoA==="M"&&(u="rgb(0, 153, 0)",m="START"),pe.fillRect(t,w,o,F-w,Fv,{fillStyle:u}),e.bpPerPixel<=1/10&&pe.strokeText(t,m,g-t.measureText(m).width/2,o+15)}o+=Fv+zu}}}}get supportsWholeGenome(){return!1}computePixelHeight(e){return this.height=this.frameTranslate?Du:Bu,this.height}fillColor(e){return this.color?this.color:this.sequenceType==="dna"?this.browser.nucleotideColors[e]||"gray":"rgb(0, 0, 150)"}getState(){const e={type:"sequence"};return this.order!==xd&&(e.order=this.order),this.reversed&&(e.revealed=!0),e}}class tL{constructor(e,t){this.config=e,this.genome=t}async init(){this.fasta=await s6(this.config),this.chrNameMap=new Map;for(let e of this.fasta.chromosomeNames)this.chrNameMap.set(this.genome.getChromosomeName(e),e)}async getSequence(e,t,i){const r=this.chrNameMap.has(e)?this.chrNameMap.get(e):e;return this.fasta.getSequence(r,t,i)}}let nL=class{constructor(e,t,i,r){this.guid=nn(),this.trackView=e,this.referenceFrame=i,this.browser=e.browser,this.$viewport=ke('<div class="igv-viewport">'),t.appendChild(this.$viewport.get(0)),e.track.height&&(this.$viewport.get(0).style.height=`${e.track.height}px`),e.track instanceof H6&&(this.alert=new ZC(this.$viewport.get(0))),this.contentTop=0,this.contentHeight=this.$viewport.height(),this.$viewport.width(r),this.initializationHelper()}initializationHelper(){}showMessage(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.$viewport.append(ke(this.messageDiv))),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"}hideMessage(e){this.messageDiv&&(this.messageDiv.style.display="none")}setTrackLabel(e){}startSpinner(){}stopSpinner(){}checkZoomIn(){return!0}shift(){}setTop(e){this.contentTop=e,this.$viewport.height()}async loadFeatures(){}clearCache(){}repaint(){}draw(e,t,i){console.log("Viewport - draw(drawConfiguration, features, roiFeatures)")}checkContentHeight(e){let t=this.trackView.track;if(e=e||this.cachedFeatures,t.displayMode==="FILL")this.setContentHeight(this.$viewport.height());else if(typeof t.computePixelHeight=="function"&&e&&e.length>0){let i=t.computePixelHeight(e),r=this.contentHeight;i!==r&&this.setContentHeight(i)}}getContentHeight(){return this.contentHeight}setContentHeight(e){this.contentHeight=e}isLoading(){return!1}saveSVG(){}isVisible(){return this.$viewport.width()}setWidth(e){this.$viewport.width(e)}getWidth(){return this.$viewport.width()}getContentTop(){return this.contentTop}containsPosition(e,t){console.log("Viewport - containsPosition(chr, position)")}addMouseHandlers(){}removeMouseHandlers(){}dispose(){this.$viewport.get(0).remove();for(let e of Object.keys(this))this[e]=void 0}};/*!!
 *  Canvas 2 Svg v1.0.19
 *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
 *
 *  Licensed under the MIT license:
 *  http://www.opensource.org/licenses/mit-license.php
 *
 *  Author:
 *  Kerry Liu
 *
 *  Copyright (c) 2014 Gliffy Inc.
 */function Gt(n,e){var t=Object.keys(e),i;for(i=0;i<t.length;i++)n=n.replace(new RegExp("\\{"+t[i]+"\\}","gi"),e[t[i]]);return n}function Pu(n){var e,t,i;if(!n)throw new Error("cannot create a random attribute name for an undefined object");e="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",t="";do for(t="",i=0;i<12;i++)t+=e[Math.floor(Math.random()*e.length)];while(n[t]);return t}function iL(n,e){var t,i,r={},s;for(n=n.split(","),e=e||10,t=0;t<n.length;t+=2)i="&"+n[t+1]+";",s=parseInt(n[t],e),r[i]="&#"+s+";";return r["\\xa0"]="&#160;",r}function rL(n){var e={left:"start",right:"end",center:"middle",start:"start",end:"end"};return e[n]||e.start}function sL(n){var e={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return e[n]||e.alphabetic}function jg(n){var e=Math.sqrt(n[0]*n[0]+n[1]*n[1]);return[n[0]/e,n[1]/e]}function oL(n,e){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}const yv=iL("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),sc={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}};class Qg{constructor(e,t){this.__root=e,this.__ctx=t}addColorStop(e,t){var i=this.__ctx.__createElement("stop"),r,s;i.setAttribute("offset",e),t&&t.indexOf("rgba")!==-1?(r=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,s=r.exec(t),i.setAttribute("stop-color",Gt("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]})),i.setAttribute("stop-opacity",s[4])):i.setAttribute("stop-color",t),this.__root.appendChild(i)}}class vv{constructor(e,t){this.__root=e,this.__ctx=t}}class ro{constructor(e){if(!(this instanceof ro))return new ro(e);if(this.config=e,this.width=e.width,this.height=e.height,this.enableMirroring=e.enableMirroring||!1,this.canvas=this,this.__document=document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),e.viewbox){const r=e.viewbox.x+" "+e.viewbox.y+" "+e.viewbox.width+" "+e.viewbox.height;this.__root.setAttribute("viewBox",r),this.viewbox=e.viewbox}this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=e.multiLocusGap;let t={id:"svg_output_backdrop",width:"100%",height:"100%",fill:e.backdropColor||"white"},i=this.__createElement("rect",t);this.__root.appendChild(i),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}setWidth(e){this.width=e,this.__root.setAttribute("width",this.width);const t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height;this.__root.setAttribute("viewBox",t)}setHeight(e){this.height=e,this.__root.setAttribute("height",this.height);const t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e;this.__root.setAttribute("viewBox",t)}__createElement(e,t,i){typeof t>"u"&&(t={});let r=this.__document.createElementNS("http://www.w3.org/2000/svg",e);i&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none"));for(let s of Object.keys(t))r.setAttribute(s,t[s]);return r}__setDefaultStyles(){var e=Object.keys(sc),t,i;for(t=0;t<e.length;t++)i=e[t],this[i]=sc[i].canvas}__applyStyleState(e){var t=Object.keys(e),i,r;for(i=0;i<t.length;i++)r=t[i],this[r]=e[r]}__getStyleState(){var e,t={},i=Object.keys(sc),r;for(e=0;e<i.length;e++)r=i[e],t[r]=this[r];return t}__applyStyleToCurrentElement(e){var t=this.__currentElement,i=this.__currentElementsToStyle;i&&(t.setAttribute(e,""),t=i.element,i.children.forEach(function(p){p.setAttribute(e,"")}));var r=Object.keys(sc),s,o,a,l,c,h;for(s=0;s<r.length;s++)if(o=sc[r[s]],a=this[r[s]],o.apply){if(a instanceof vv){if(a.__ctx)for(;a.__ctx.__defs.childNodes.length;)l=a.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[l]=l,this.__defs.appendChild(a.__ctx.__defs.childNodes[0]);t.setAttribute(o.apply,Gt("url(#{id})",{id:a.__root.getAttribute("id")}))}else if(a instanceof Qg)t.setAttribute(o.apply,Gt("url(#{id})",{id:a.__root.getAttribute("id")}));else if(o&&o.apply.indexOf(e)!==-1&&o.svg!==a)if((o.svgAttr==="stroke"||o.svgAttr==="fill")&&a&&a.indexOf("rgba")!==-1){c=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,h=c.exec(a),t.setAttribute(o.svgAttr,Gt("rgb({r},{g},{b})",{r:h[1],g:h[2],b:h[3]}));var u=h[4],f=this.globalAlpha;f!=null&&(u*=f),t.setAttribute(o.svgAttr+"-opacity",u)}else{var d=o.svgAttr;if(r[s]==="globalAlpha"&&(d=e+"-"+o.svgAttr,t.getAttribute(d)))continue;t.setAttribute(d,a)}}}__closestGroupOrSvg(e){return e=e||this.__currentElement,e.nodeName==="g"||e.nodeName==="svg"?e:this.__closestGroupOrSvg(e.parentNode)}getSerializedSvg(e){var t=new XMLSerializer().serializeToString(this.__root),i,r,s,o,a;if(e)for(i=Object.keys(yv),r=0;r<i.length;r++)s=i[r],o=yv[s],a=new RegExp(s,"gi"),a.test(t)&&(t=t.replace(a,o));return t}getSvg(){return this.__root}saveWithTranslationAndClipRect(e,t,i,r,s,o){const a=`${e}_clip_rect`;let l=this.__createElement("clipPath",{id:a});this.__defs.appendChild(l);const c={x:"0",y:o.toString(),width:r.toString(),height:s.toString()};l.appendChild(this.__createElement("rect",c));const h=this.__createElement("g");h.setAttribute("transform",Gt("translate({x},{y})",{x:t,y:i})),h.setAttribute("clip-path",Gt("url(#{id})",{id:a}));const u=this.__closestGroupOrSvg();u.appendChild(h),this.__groupStack.push(u),this.__currentElement=h,this.__stack.push(this.__getStyleState())}save(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())}restore(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)}__addTransform(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){this.__currentElement.nodeName==="path"&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var i=this.__createElement("g");t.appendChild(i),this.__currentElement=i}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)}addTrackGroupWithTranslationAndClipRect(e,t,i,r,s,o){const a=e+"_clip_rect";let l=this.__createElement("clipPath",{id:a});this.__defs.appendChild(l),l.appendChild(this.__createElement("rect",{x:"0",y:o.toString(),width:r.toString(),height:s.toString()}));let c=this.__createElement("g");this.__rootGroup.appendChild(c),c.setAttribute("transform",Gt("translate({x},{y})",{x:t,y:i})),c.setAttribute("id",e+"_group"),c.setAttribute("clip-path",Gt("url(#{id})",{id:a})),this.__currentElement=c}scale(e,t){t===void 0&&(t=e),this.__addTransform(Gt("scale({x},{y})",{x:e,y:t}))}rotate(e){var t=e*180/Math.PI;this.__addTransform(Gt("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))}translate(e,t){this.__addTransform(Gt("translate({x},{y})",{x:e,y:t}))}transform(e,t,i,r,s,o){this.__addTransform(Gt("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:i,d:r,e:s,f:o}))}beginPath(){var e,t;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),t=this.__closestGroupOrSvg(),t.appendChild(e),this.__currentElement=e}__applyCurrentDefaultPath(){var e=this.__currentElement;e.nodeName==="path"?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)}__addPathCommand(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e}moveTo(e,t){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(Gt("M {x} {y}",{x:e,y:t}))}closePath(){this.__currentDefaultPath&&this.__addPathCommand("Z")}lineTo(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(Gt("L {x} {y}",{x:e,y:t})):this.__addPathCommand(Gt("M {x} {y}",{x:e,y:t}))}bezierCurveTo(e,t,i,r,s,o){this.__currentPosition={x:s,y:o},this.__addPathCommand(Gt("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:i,cp2y:r,x:s,y:o}))}quadraticCurveTo(e,t,i,r){this.__currentPosition={x:i,y:r},this.__addPathCommand(Gt("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:i,y:r}))}arcTo(e,t,i,r,s){var o=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(!(typeof o>"u"||typeof a>"u")){if(s<0)throw new Error("IndexSizeError: The radius provided ("+s+") is negative.");if(o===e&&a===t||e===i&&t===r||s===0){this.lineTo(e,t);return}var l=jg([o-e,a-t]),c=jg([i-e,r-t]);if(l[0]*c[1]===l[1]*c[0]){this.lineTo(e,t);return}var h=l[0]*c[0]+l[1]*c[1],u=Math.acos(Math.abs(h)),f=jg([l[0]+c[0],l[1]+c[1]]),d=s/Math.sin(u/2),p=e+d*f[0],w=t+d*f[1],F=[-l[1],l[0]],g=[c[1],-c[0]],m=function(A){var x=A[0],v=A[1];return v>=0?Math.acos(x):-Math.acos(x)},b=m(F),y=m(g);this.lineTo(p+F[0]*s,w+F[1]*s),this.arc(p,w,s,b,y)}}stroke(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")}fill(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")}rect(e,t,i,r){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()}fillRect(e,t,i,r){r<0&&(t+=r,r=-r),i<0&&(e+=i,i=-i);var s={x:e,y:t,width:i,height:r};if(!(this.viewbox&&!oL(this.viewbox,s))){var o,a;o=this.__createElement("rect",s,!0),a=this.__closestGroupOrSvg(),a.appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill")}}strokeRect(e,t,i,r){var s,o;s=this.__createElement("rect",{x:e,y:t,width:i,height:r},!0),o=this.__closestGroupOrSvg(),o.appendChild(s),this.__currentElement=s,this.__applyStyleToCurrentElement("stroke")}strokeEllipse(e,t,i,r,s,o,a,l){this.__ellipse(e,t,i,r,s,o,a,l,"stroke")}fillEllipse(e,t,i,r,s,o,a,l){this.__ellipse(e,t,i,r,s,o,a,l,"fill")}__ellipse(e,t,i,r,s,o,a,l,c){const h={cx:e,cy:t,rx:i,ry:r},u=this.__createElement("ellipse",h,!0);this.__closestGroupOrSvg().appendChild(u),this.__currentElement=u,this.__applyStyleToCurrentElement(c)}__clearCanvas(){for(var e=this.__closestGroupOrSvg(),t=e.getAttribute("transform"),i=this.__root.childNodes[1],r=i.childNodes,s=r.length-1;s>=0;s--)r[s]&&i.removeChild(r[s]);this.__currentElement=i,this.__groupStack=[],t&&this.__addTransform(t)}clearRect(e,t,i,r){if(e===0&&t===0&&i===this.width&&r===this.height){this.__clearCanvas();return}var s,o=this.__closestGroupOrSvg();s=this.__createElement("rect",{x:e,y:t,width:i,height:r,fill:"#FFFFFF"},!0),o.appendChild(s)}createLinearGradient(e,t,i,r){var s=this.__createElement("linearGradient",{id:Pu(this.__ids),x1:e+"px",x2:i+"px",y1:t+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(s),new Qg(s,this)}createRadialGradient(e,t,i,r,s,o){var a=this.__createElement("radialGradient",{id:Pu(this.__ids),cx:r+"px",cy:s+"px",r:o+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(a),new Qg(a,this)}__parseFont(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i,t=e.exec(this.font),i={style:t[1]||"normal",size:t[4]||"10px",family:t[6]||"sans-serif",weight:t[3]||"normal",decoration:t[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(i.decoration="underline"),this.__fontHref&&(i.href=this.__fontHref),i}__wrapTextLink(e,t){if(e.href){var i=this.__createElement("a");return i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),i.appendChild(t),i}return t}__applyText(e,t,i,r){var s=this.__parseFont(),o=this.__closestGroupOrSvg(),a=this.__createElement("text",{"font-family":s.family,"font-size":s.size,"font-style":s.style,"font-weight":s.weight,"text-decoration":s.decoration,x:t,y:i,"text-anchor":rL(this.textAlign),"dominant-baseline":sL(this.textBaseline)},!0);a.appendChild(this.__document.createTextNode(e)),this.__currentElement=a,this.__applyStyleToCurrentElement(r),o.appendChild(this.__wrapTextLink(s,a))}fillText(e,t,i){this.__applyText(e,t,i,"fill")}strokeText(e,t,i){this.__applyText(e,t,i,"stroke")}measureText(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)}arc(e,t,i,r,s,o){if(r!==s){r=r%(2*Math.PI),s=s%(2*Math.PI),r===s&&(s=(s+2*Math.PI-.001*(o?-1:1))%(2*Math.PI));var a=e+i*Math.cos(s),l=t+i*Math.sin(s),c=e+i*Math.cos(r),h=t+i*Math.sin(r),u=o?0:1,f=0,d=s-r;d<0&&(d+=2*Math.PI),o?f=d>Math.PI?0:1:f=d>Math.PI?1:0,this.lineTo(c,h),this.__addPathCommand(Gt("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:i,ry:i,xAxisRotation:0,largeArcFlag:f,sweepFlag:u,endX:a,endY:l})),this.__currentPosition={x:a,y:l}}}clip(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),i=Pu(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",i),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",Gt("url(#{id})",{id:i})),e.appendChild(r),this.__currentElement=r}drawImage(){var e=Array.prototype.slice.call(arguments),t=e[0],i,r,s,o,a=0,l=0,c,h,u,f,d,p,w,F,g,m;if(e.length===3)i=e[1],r=e[2],c=t.width,h=t.height,s=c,o=h;else if(e.length===5)i=e[1],r=e[2],s=e[3],o=e[4],c=t.width,h=t.height;else if(e.length===9)a=e[1],l=e[2],c=e[3],h=e[4],i=e[5],r=e[6],s=e[7],o=e[8];else throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);u=this.__closestGroupOrSvg(),this.__currentElement;var b="translate("+i+", "+r+")";if(t instanceof ro){if(f=t.getSvg().cloneNode(!0),f.childNodes&&f.childNodes.length>1){for(d=f.childNodes[0];d.childNodes.length;)m=d.childNodes[0].getAttribute("id"),this.__ids[m]=m,this.__defs.appendChild(d.childNodes[0]);if(p=f.childNodes[1],p){var y=p.getAttribute("transform"),A;y?A=y+" "+b:A=b,p.setAttribute("transform",A),u.appendChild(p)}}}else(t.nodeName==="CANVAS"||t.nodeName==="IMG")&&(w=this.__createElement("image"),w.setAttribute("width",s),w.setAttribute("height",o),w.setAttribute("preserveAspectRatio","none"),(a||l||c!==t.width||h!==t.height)&&(F=this.__document.createElement("canvas"),F.width=s,F.height=o,g=F.getContext("2d"),g.drawImage(t,a,l,c,h,0,0,s,o),t=F),w.setAttribute("transform",b),w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.nodeName==="CANVAS"?t.toDataURL():t.getAttribute("src")),u.appendChild(w))}createPattern(e,t){let i=this.__document.__createElement("pattern"),r=Pu(this.__ids),s;return i.setAttribute("id",r),i.setAttribute("width",e.width),i.setAttribute("height",e.height),e.nodeName==="CANVAS"||e.nodeName==="IMG"?(s=this.__createElement("image"),s.setAttribute("width",e.width),s.setAttribute("height",e.height),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.nodeName==="CANVAS"?e.toDataURL():e.getAttribute("src")),i.appendChild(s),this.__defs.appendChild(i)):e instanceof ro&&(i.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(i)),new vv(i,this)}setLineDash(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null}drawFocusRing(){}createImageData(){}getImageData(){}putImageData(){}globalCompositeOperation(){}setTransform(){}}function U6(n){if(n.startsWith("GCF")||n.startsWith("GCA")&&n.length>=13){const e=n.substring(0,3),t=n.substring(4,7),i=n.substring(7,10),r=n.substring(10,13);return"https://hgdownload.soe.ucsc.edu/hubs/"+e+"/"+t+"/"+i+"/"+r+"/"+n+"/hub.txt"}else return}var Ho,e2,V6;const Ys=class Ys{constructor(e,t,i){Pe(this,Ho);this.url=e;const r=e.lastIndexOf("/");if(this.baseURL=e.substring(0,r+1),t[0].type==="hub")this.hubStanza=t[0];else throw Error("Unexpected hub.txt file -- does the first line start with 'hub'?");if(this.hubStanza.getProperty("useOneFile")!=="on")throw Error("Only 'useOneFile' hubs are currently supported");if(t.length<2)throw Error("Expected at least 2 stanzas, hub and genome");if(t[1].type==="genome")this.genomeStanza=t[1];else throw Error(`Unexpected hub file -- expected "genome" stanza but found "${t[1].type}"`);this.trackStanzas=[];for(let s=2;s<t.length;s++)t[s].type==="track"&&this.trackStanzas.push(t[s]);if(i){this.groupStanzas=i,this.groupPriorityMap=new Map;for(let s of i)s.hasProperty("priority")&&this.groupPriorityMap.set(s.getProperty("name"),Number.parseInt(s.getProperty("priority"))*10)}}static async loadHub(e){const t=e.lastIndexOf("/"),i=e.substring(0,t+1),r=await Av(e);let s;if(r[1].type==="genome"){const o=r[1];if(o.hasProperty("groups")){const a=i+o.getProperty("groups");s=await Av(a)}}return new Ys(e,r,s)}getDefaultPosition(){return this.genomeStanza.getProperty("defaultPos")}getGenomeConfig(e={}){const t=this.genomeStanza.getProperty("genome"),i=this.hubStanza.getProperty("shortLabel")||this.genomeStanza.getProperty("scientificName")||this.genomeStanza.getProperty("organism")||this.genomeStanza.getProperty("description"),r=i+(i?` (${t})`:` ${t}`),s={hubURL:this.url,id:t,name:r,twoBitURL:this.baseURL+this.genomeStanza.getProperty("twoBitPath"),nameSet:"ucsc",wholeGenomeView:!1,showChromosomeWidget:!1};if(this.genomeStanza.hasProperty("defaultPos")){const l=this.genomeStanza.getProperty("defaultPos");if(l){const c=l.lastIndexOf(":");s.locus=c>0?l.substring(0,c):l}}this.genomeStanza.hasProperty("blat")&&(s.blat=this.baseURL+this.genomeStanza.getProperty("blat")),this.genomeStanza.hasProperty("chromAliasBb")&&(s.chromAliasBbURL=this.baseURL+this.genomeStanza.getProperty("chromAliasBb")),this.genomeStanza.hasProperty("chromAlias")&&(s.aliasURL=this.baseURL+this.genomeStanza.getProperty("chromAlias")),this.genomeStanza.hasProperty("twoBitBptURL")&&(s.twoBitBptURL=this.baseURL+this.genomeStanza.getProperty("twoBitBptURL")),this.genomeStanza.hasProperty("twoBitBptUrl")&&(s.twoBitBptURL=this.baseURL+this.genomeStanza.getProperty("twoBitBptUrl")),e.includeChromSizes&&this.genomeStanza.hasProperty("chromSizes")&&(s.chromSizesURL=this.baseURL+this.genomeStanza.getProperty("chromSizes")),this.hubStanza.hasProperty("longLabel")?s.description=this.hubStanza.getProperty("longLabel").replace("/",`
`):(s.description=s.id,this.genomeStanza.hasProperty("description")&&(s.description+=`
${this.genomeStanza.getProperty("description")}`),this.genomeStanza.hasProperty("organism")&&(s.description+=`
${this.genomeStanza.getProperty("organism")}`),this.genomeStanza.hasProperty("scientificName")&&(s.description+=`
${this.genomeStanza.getProperty("scientificName")}`),this.genomeStanza.hasProperty("htmlPath")&&(s.infoURL=this.baseURL+this.genomeStanza.getProperty("htmlPath")));const o=this.trackStanzas.filter(l=>l.name==="cytoBandIdeo"&&l.hasProperty("bigDataUrl"));o.length>0&&(s.cytobandBbURL=this.baseURL+o[0].getProperty("bigDataUrl"));const a=l=>!Ys.filterTracks.has(l.name)&&l.getProperty("visibility")!=="hide";return s.tracks=$e(this,Ho,e2).call(this,a),s}getGroupedTrackConfigurations(){const e=new Map;for(let i of $e(this,Ho,e2).call(this)){if(i.name==="cytoBandIdeo")continue;const r=i.group||"other";e.has(r)?e.get(r).push(i):e.set(r,[i])}const t=this.groupStanzas?new Map(this.groupStanzas.map(i=>[i.getProperty("name"),i])):new Map;return Array.from(e.keys()).map(i=>({label:t.has(i)?t.get(i).getProperty("label"):i,tracks:e.get(i)}))}};Ho=new WeakSet,e2=function(e){return this.trackStanzas.filter(t=>Ys.supportedTypes.has(t.format)&&t.hasProperty("bigDataUrl")&&(!e||e(t))).map(t=>$e(this,Ho,V6).call(this,t))},V6=function(e){const t=e.format,i={id:e.getProperty("track"),name:e.getProperty("shortLabel"),format:t,url:this.baseURL+e.getProperty("bigDataUrl"),displayMode:e.displayMode};if(t==="vcfTabix"&&(i.indexURL=i.url+".tbi"),e.hasProperty("longLabel")&&e.hasProperty("html")?(i.description&&(i.description+="<br/>"),i.description=`<a target="_blank" href="${this.baseURL+e.getProperty("html")}">${e.getProperty("longLabel")}</a>`):e.hasProperty("longLabel")&&(i.description=e.getProperty("longLabel")),e.hasProperty("autoScale")&&(i.autoscale=e.getProperty("autoScale").toLowerCase()==="on"),e.hasProperty("maxHeightPixels")){const r=e.getProperty("maxHeightPixels").split(":");i.maxHeight=Number.parseInt(r[0]),i.height=Number.parseInt(r[1]),i.minHeight=Number.parseInt(r[2])}if(e.hasProperty("color")){const r=e.getProperty("color");i.color=r.indexOf(",")>0?`rgb(${r})`:r}if(e.hasProperty("altColor")){const r=e.getProperty("altColor");i.altColor=r.indexOf(",")>0?`rgb(${r})`:r}if(e.hasProperty("viewLimits")){const r=e.getProperty("viewLimits").split(":");let s,o;r.length>1&&(s=Number.parseInt(r[0]),o=Number.parseInt(r[1])),Number.isNaN(o)||Number.isNaN(s)?console.warn(`Unexpected viewLimits value in track line: ${properties.viewLimits}`):(i.min=s,i.max=o)}if(e.hasProperty("itemRgb"),e.getProperty("visibility")==="hide"&&(i.visible=!1),e.hasProperty("url")&&(i.infoURL=e.getProperty("url")),e.hasProperty("searchIndex")&&(i.searchIndex=e.getProperty("searchIndex")),e.hasProperty("searchTrix")&&(i.searchTrix=this.baseURL+e.getProperty("searchTrix")),e.hasProperty("group")&&(i.group=e.getProperty("group"),this.groupPriorityMap&&this.groupPriorityMap.has(i.group))){const r=this.groupPriorityMap.get(i.group)+1;i.order=r,this.groupPriorityMap.set(i.group,r)}return i},Re(Ys,"supportedTypes",new Set(["bigBed","bigWig","bigGenePred","vcfTabix"])),Re(Ys,"filterTracks",new Set(["cytoBandIdeo","assembly","gap","gapOverlap","allGaps","cpgIslandExtUnmasked","windowMasker"]));let so=Ys;function q6(n){const e=n.indexOf(" ");return e>0?n.substring(0,e):n}class aL{constructor(e,t){Re(this,"properties",new Map);this.type=e,this.name=t}setProperty(e,t){this.properties.set(e,t)}getProperty(e){return this.properties.has(e)?this.properties.get(e):this.parent?this.parent.getProperty(e):void 0}hasProperty(e){return this.properties.has(e)?!0:this.parent?this.parent.hasProperty(e):!1}get format(){const e=this.getProperty("type");if(e)return q6(e)}get displayMode(){let e=this.getProperty("visibility");if(e)switch(e=e.toLowerCase(),e){case"dense":return"COLLAPSED";case"pack":return"EXPANDED";case"squish":return"SQUISHED";default:return"COLLAPSED"}else return"COLLAPSED"}}async function Av(n){const i=(await(await fetch(n)).text()).split(/\n|\r\n|\r/g),r=[];let s,o=!0;for(let a of i){const l=cL(a),c=a.indexOf(" ",l);if(c<0)o=!0;else{const h=a.substring(l,c).trim();if(h.startsWith("#"))continue;const u=a.substring(c+1).trim();if(o){const f=new aL(h,u);r.push(f),s=f,o=!1}s.setProperty(h,u)}}return lL(r)}function lL(n){const e=new Map;for(let t of n)e.set(t.name,t);for(let t of n)if(t.properties.has("parent")){const i=q6(t.properties.get("parent"));t.parent=e.get(i)}return n}function cL(n){let e=0;for(e=0;e<n.length;e++){const t=n.charAt(e);if(t!==" "&&t!=="	")break}return e}const hL="https://igv.org/genomes/genomes.json",Ut={initializeGenomes:async function(n){if(!Ut.KNOWN_GENOMES){let r=function(s){return s.forEach(function(o){t[o.id]=o}),t};var e=r;const t={};if(n.loadDefaultGenomes!==!1){const s=hL,o=await Be.loadJson(s,{timeout:5e3});r(o)}const i=n.genomeList||n.genomes;if(i)if(typeof i=="string"){const s=await Be.loadJson(i,{});r(s)}else r(i);Ut.KNOWN_GENOMES=t}},isWholeGenomeView:function(n){return n.toLowerCase()==="all"},expandReference:async function(n,e){if(St(e)&&e.startsWith("{"))try{e=JSON.parse(e)}catch{}let t;if(St(e)?t=e:e.genome?t=e.genome:e.id!==void 0&&!(e.fastaURL||e.twobitURL)&&(t=e.id),t){let r=Ut.KNOWN_GENOMES[t];if(!r){if((t.startsWith("GCA_")||t.startsWith("GCF_"))&&t.length>=13)try{const s=U6(t);r=(await so.loadHub(s)).getGenomeConfig()}catch(s){console.error(s)}r||n.present(new Error(`Unknown genome id: ${t}`),void 0)}return r}else return e}},uL="Error loading track data";let _v=0,Cv=0,ea,Yi=[],oc;class fw extends nL{constructor(e,t,i,r){super(e,t,i,r)}initializationHelper(){this.$spinner=ke("<div>",{class:"igv-loading-spinner-container"}),this.$viewport.append(this.$spinner),this.$spinner.append(ke("<div>"));const e=this.trackView.track;e.type!=="sequence"&&(this.$zoomInNotice=this.createZoomInNotice(this.$viewport)),e.id!=="sequence"&&(this.$trackLabel=ke('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(e.name||""),this.browser.doShowTrackLabels===!1&&this.$trackLabel.hide()),this.stopSpinner(),this.addMouseHandlers()}setContentHeight(e){super.setContentHeight(e),this.featureCache&&(this.featureCache.redraw=!0)}setTrackLabel(e){this.$trackLabel.empty(),this.$trackLabel.html(e);const t=this.$trackLabel.text();this.$trackLabel.attr("title",t)}startSpinner(){this.$spinner.show()}stopSpinner(){this.$spinner&&this.$spinner.hide()}checkZoomIn(){const e=()=>{if(this.referenceFrame.chr.toLowerCase()==="all"&&!this.trackView.track.supportsWholeGenome)return!0;{const t=this.trackView.track.visibilityWindow;return t!==void 0&&t>0&&this.referenceFrame.bpPerPixel*this.$viewport.width()>t}};if(this.trackView.track&&this.trackView.track.type==="sequence"&&this.referenceFrame.bpPerPixel>uw)return ke(this.canvas).remove(),this.canvas=void 0,!1;if(!this.viewIsReady())return!1;if(e()){if(this.canvas&&(ke(this.canvas).remove(),this.canvas=void 0),this.trackView.track.autoHeight){const t=this.trackView.minHeight||0;this.setContentHeight(t)}return this.$zoomInNotice&&this.$zoomInNotice.show(),!1}else return this.$zoomInNotice&&this.$zoomInNotice.hide(),!0}shift(){const e=this.referenceFrame;this.canvas&&this.canvas._data&&this.canvas._data.referenceFrame.chr===this.referenceFrame.chr&&this.canvas._data.bpPerPixel===e.bpPerPixel&&(this.canvas._data.pixelShift=Math.round((this.canvas._data.bpStart-e.start)/e.bpPerPixel),this.canvas.style.left=this.canvas._data.pixelShift+"px")}genomicRange(){return{start:this.referenceFrame.start,end:this.referenceFrame.start+this.referenceFrame.bpPerPixel*this.$viewport.width()}}setTop(e){if(super.setTop(e),!this.canvas)this.repaint();else{const t=this.$viewport.height(),i=e+this.canvas._data.pixelTop,r=i+this.canvas._data.pixelHeight;(i>0||r<t)&&this.repaint()}if(this.canvas&&this.canvas._data){let t=e+this.canvas._data.pixelTop;this.canvas.style.top=`${t}px`}}async loadFeatures(){const e=this.referenceFrame,t=e.chr,i=await this.browser.genome.loadChromosome(t),r=i?i.bpLength:Number.MAX_SAFE_INTEGER,o=this.$viewport.width()*e.bpPerPixel,a=Math.floor(Math.max(0,e.start-o)),l=Math.ceil(Math.min(r,e.start+o+o));if(!(this.loading&&this.loading.start===a&&this.loading.end===l)){this.loading={start:a,end:l},this.startSpinner();try{const c=this.trackView.track,h=await this.getFeatures(c,t,a,l,e.bpPerPixel);if(h){let u=[];if(c.roiSets&&c.roiSets.length>0)for(let p of c.roiSets){const w=await p.getFeatures(t,a,l,e.bpPerPixel);u.push({track:p,features:w})}const f=c&&c.resolutionAware,d=this.windowFunction;return this.featureCache=new dL(t,a,l,e.bpPerPixel,h,u,f,d),this.loading=!1,this.hideMessage(),this.stopSpinner(),this.featureCache}}catch(c){this.trackView&&this.trackView.disposed!==!0&&(this.showMessage(uL),this.browser.alert.present(c),console.error(c))}finally{this.loading=!1,this.stopSpinner()}}}get track(){return this.trackView.track}get windowFunction(){return this.track?this.track.windowFunction:void 0}repaintDimensions(){const e=Ut.isWholeGenomeView(this.referenceFrame.chr),t=e?this.$viewport.width():3*this.$viewport.width(),i=this.referenceFrame.bpPerPixel,r=this.referenceFrame.start-(e?0:this.$viewport.width()*i),s=e?Number.MAX_SAFE_INTEGER:this.referenceFrame.start+2*this.$viewport.width()*i+1;return{bpStart:r,bpEnd:s,pixelWidth:t}}repaint(){if(this.featureCache===void 0)return;const{features:e,roiFeatures:t}=this.featureCache,{bpStart:i,bpEnd:r,pixelWidth:s}=this.repaintDimensions(),o=this.$viewport.height(),a=this.getContentHeight(),l=t?Math.max(a,o):a,c=Math.min(l,3*o);if(s===0||c===0){this.canvas&&ke(this.canvas).remove();return}const h=Math.max(0,-this.contentTop-Math.floor(c/3)),u=this.referenceFrame.bpPerPixel,f=Math.round((i-this.referenceFrame.start)/u),d=(this.contentTop||0)+h,p=document.createElement("canvas");p.style.position="relative",p.style.display="block",p.style.width=s+"px",p.style.height=c+"px",p.style.left=f+"px",p.style.top=d+"px";const w=this.trackView.track.displayMode==="FILL"||this.trackView.track.supportHiDPI!==!1?window.devicePixelRatio:1;p.width=w*s,p.height=w*c;const F=p.getContext("2d");F.scale(w,w),F.translate(0,-h);const g={context:F,pixelXOffset:f,pixelWidth:s,pixelHeight:c,pixelTop:h,bpStart:i,bpEnd:r,bpPerPixel:u,pixelShift:f,windowFunction:this.windowFunction,referenceFrame:this.referenceFrame,selection:this.selection,viewport:this,viewportWidth:this.$viewport.width()};this.draw(g,e,t),this.canvas&&ke(this.canvas).remove(),p._data=g,this.canvas=p,this.$viewport.append(ke(p))}refresh(){if(!(this.canvas&&this.featureCache))return;const e=this.canvas._data;e.context.clearRect(0,0,this.canvas.width,this.canvas.height);const{features:t,roiFeatures:i}=this.featureCache;this.draw(e,t,i)}draw(e,t,i){if(t&&(e.features=t,this.trackView.track.draw(e)),i&&i.length>0)for(let r of i)e.features=r.features,r.track.draw(e)}containsPosition(e,t){return this.referenceFrame.chr===e&&t>=this.referenceFrame.start?t<=this.referenceFrame.calculateEnd(this.getWidth()):!1}isLoading(){return this.loading}savePNG(){if(!this.canvas)return;const e=this.canvas._data,t=e?e.pixelTop:0,i=window.devicePixelRatio,r=this.$viewport.width()*i,s=this.$viewport.height()*i,o=-ke(this.canvas).position().left*i,a=(-this.contentTop-t)*i,c=this.canvas.getContext("2d").getImageData(o,a,r,s),h=document.createElement("canvas"),u=h.getContext("2d");h.width=c.width,h.height=c.height,u.putImageData(c,0,0);const f=(this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",d=h.toDataURL("image/png");ud(f,d)}saveSVG(){let{width:i,height:r}=this.browser.columnContainer.getBoundingClientRect();const s=8e3,o={width:i,height:s,backdropColor:"white",multiLocusGap:0,viewbox:{x:0,y:0,width:i,height:s}},a=new ro(o),l={deltaX:32,deltaY:32};this.renderSVGContext(a,l,!1),a.setHeight(r);const c=(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),h=this.browser.referenceFrameList.indexOf(this.referenceFrame),u=a.getSerializedSvg(!0),f=URL.createObjectURL(new Blob([u],{type:"application/octet-stream"})),d=`${c}_referenceFrame_${h}_guid_${nn()}`;ud(`${d}.svg`,f)}renderSVGContext(e,{deltaX:t,deltaY:i},r=!0){if(!(this.$zoomInNotice&&this.$zoomInNotice.is(":visible"))){const{width:o,height:a}=this.$viewport.get(0).getBoundingClientRect(),l=(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),c=this.browser.referenceFrameList.indexOf(this.referenceFrame),h=`${l}_referenceFrame_${c}_guid_${nn()}`,u=t,f=i+this.contentTop,d=-this.contentTop;e.saveWithTranslationAndClipRect(h,u,f,o,a,d);let{start:p,bpPerPixel:w}=this.referenceFrame;const F={context:e,viewport:this,referenceFrame:this.referenceFrame,top:d,pixelTop:d,pixelWidth:o,pixelHeight:a,bpStart:p,bpEnd:p+o*w,bpPerPixel:w,viewportWidth:o,selection:this.selection},g=this.featureCache?this.featureCache.features:void 0,m=this.featureCache?this.featureCache.roiFeatures:void 0;this.draw(F,g,m),e.restore()}if(r&&this.$trackLabel&&this.browser.doShowTrackLabels){const{x:o,y:a,width:l,height:c}=iS(this.$viewport.get(0),this.$trackLabel.get(0));this.renderTrackLabelSVG(e,t+o,i+a,l,c)}}renderTrackLabelSVG(e,t,i,r,s){const a=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_track_label_guid_${nn()}`;e.saveWithTranslationAndClipRect(a,t,i,r,s,0),e.fillStyle="white",e.fillRect(0,0,r,s),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";const{width:l}=e.measureText(this.$trackLabel.text()),c=.25*(r-l),h=.7*(s-12);e.fillText(this.$trackLabel.text(),c,s-h),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(0,0,r,s),e.restore()}get cachedFeatures(){return this.featureCache?this.featureCache.features:[]}clearCache(){this.featureCache=void 0,this.canvas&&(this.canvas._data=void 0)}async getFeatures(e,t,i,r,s){if(this.featureCache&&this.featureCache.containsRange(t,i,r,s,this.windowFunction))return this.featureCache.features;if(typeof e.getFeatures=="function"){const o=await e.getFeatures(t,i,r,s,this);return this.checkContentHeight(o),o}else return}needsRepaint(){if(!this.canvas)return!0;const e=this.canvas._data;return!e||this.referenceFrame.start<e.bpStart||this.referenceFrame.end>e.bpEnd||this.referenceFrame.chr!==e.referenceFrame.chr||this.referenceFrame.bpPerPixel!=e.bpPerPixel||this.windowFunction!=e.windowFunction}needsReload(){if(!this.featureCache)return!0;const{chr:e,bpPerPixel:t}=this.referenceFrame,{bpStart:i,bpEnd:r}=this.repaintDimensions();return!this.featureCache.containsRange(e,i,r,t,this.windowFunction)}createZoomInNotice(e){const t=ke("<div>",{class:"igv-zoom-in-notice-container"});e.append(t);const i=ke("<div>");return t.append(i),i.text("Zoom in to see features"),t.hide(),t}viewIsReady(){return this.browser&&this.browser.referenceFrameList&&this.referenceFrame}addMouseHandlers(){const e=this.$viewport.get(0);this.addViewportContextMenuHandler(e);const t=r=>{this.enableClick=!0,this.browser.mouseDownOnViewport(r,this),ah(r)};e.addEventListener("mousedown",t),e.addEventListener("touchstart",t);const i=r=>{this.browser.dragObject||this.browser.isScrolling?(this.browser.cancelTrackPan(),this.enableClick=!1):(this.browser.cancelTrackPan(),this.browser.endTrackDrag())};e.addEventListener("mouseup",i),e.addEventListener("touchend",i),typeof this.trackView.track.hoverText=="function"&&e.addEventListener("mousemove",r=>{if(r.buttons===0&&Date.now()-Cv>100){Cv=Date.now();const s=this.createClickState(r);if(s){const o=this.trackView.track.hoverText(s);o?this.$viewport[0].setAttribute("title",o):this.$viewport[0].removeAttribute("title")}}}),this.addViewportClickHandler(this.$viewport.get(0)),this.trackView.track.name&&this.trackView.track.config.type!=="sequence"&&this.addTrackLabelClickHandler(this.$trackLabel.get(0))}addViewportContextMenuHandler(e){e.addEventListener("contextmenu",t=>{if(this.browser.dragObject)return!1;const i=this.createClickState(t);if(i===void 0)return!1;t.preventDefault();let r=[];if(typeof this.trackView.track.contextMenuItemList=="function"){const s=this.trackView.track.contextMenuItemList(i);s&&(r=s)}r.length>0&&r.push({label:ke("<HR>")}),r.push({label:"Save Image (PNG)",click:()=>this.savePNG()}),r.push({label:"Save Image (SVG)",click:()=>this.saveSVG()}),this.browser.menuPopup.presentTrackContextMenu(t,r)})}addViewportClickHandler(e){e.addEventListener("click",t=>{if(this.enableClick&&this.canvas){if(t.which===3||t.ctrlKey||this.browser.dragObject||this.browser.isScrolling)return;t.preventDefault();const i=Zt(t,this.$viewport.get(0)).x,r=Zt(t,this.canvas).x,s=this.referenceFrame;Math.floor(s.start+s.toBP(r));const o=Date.now();if(o-_v<this.browser.constants.doubleClickDelay){ea&&(window.clearTimeout(ea),ea=void 0);const a=Math.round(s.start+s.toBP(i));let l;if(this.referenceFrame.chr.toLowerCase()==="all"){const c=this.browser.genome.getChromosomeCoordinate(a).chr;if(this.browser.referenceFrameList.length===1)l=c;else{const h=this.browser.referenceFrameList.map(({locusSearchString:f})=>f),u=this.browser.referenceFrameList.indexOf(this.referenceFrame);h[u]=c,l=h.join(" ")}this.browser.search(l)}else this.browser.zoomWithScaleFactor(.5,a,this.referenceFrame)}else typeof this.trackView.track.popupData=="function"&&(ea=setTimeout(()=>{const a=this.getPopupContent(t);if(a)if(t.shiftKey===!1){if(oc&&oc.dispose(),Yi.length>0){for(const l of Yi)l.dispose();Yi.length=0}oc=new Lg(this.$viewport.get(0).parentElement,!0,void 0,()=>{oc.dispose()}),oc.presentContentWithEvent(t,a)}else{let l=new Lg(this.$viewport.get(0).parentElement,!0,void 0,()=>{const c=Yi.indexOf(l);Yi.splice(c,1),l.dispose()});Yi.push(l),l.presentContentWithEvent(t,a)}window.clearTimeout(ea),ea=void 0},this.browser.constants.doubleClickDelay));_v=o}})}addTrackLabelClickHandler(e){e.addEventListener("click",t=>{t.stopPropagation();const{track:i}=this.trackView;let r;typeof i.description=="function"?r=i.description():i.description&&(r=`<div>${i.description}</div>`),r&&(this.popover===void 0&&(this.popover=new Lg(this.browser.columnContainer,!0,i.name||"",void 0)),this.popover.presentContentWithEvent(t,r))})}createClickState(e){if(!this.canvas)return;const t=this.referenceFrame,i=Zt(e,this.$viewport.get(0)),r=Zt(e,this.canvas),s=t.start+t.toBP(i.x);return{event:e,viewport:this,referenceFrame:t,genomicLocation:s,y:i.y-this.contentTop,canvasX:r.x,canvasY:r.y}}getPopupContent(e){const t=this.createClickState(e);if(t===void 0)return;let i=this.trackView.track;const r=i.popupData(t),s=this.browser.fireEvent("trackclick",[i,r]);let o;return s===void 0||s===!0?r&&r.length>0&&(o=fL(r)):typeof s=="string"&&(o=s),o}dispose(){this.popover&&this.popover.dispose(),super.dispose()}}function fL(n){return n.map(t=>{if(t.name){const i=`<span>${t.name}</span>&nbsp&nbsp&nbsp${t.value}`;return`<div title="${t.value}">${i}</div>`}else return t==="<hr>"?t:t.html?t.html:`<div title="${t}">${t}</div>`}).join("")}class dL{constructor(e,t,i,r,s,o,a,l){this.chr=e,this.bpStart=t,this.bpEnd=i,this.bpPerPixel=r,this.features=s,this.roiFeatures=o,this.multiresolution=a,this.windowFunction=l}containsRange(e,t,i,r,s){if(s&&s!==this.windowFunction)return!1;const o=this.multiresolution?this.bpPerPixel/r:1;return t>=this.bpStart&&i<=this.bpEnd&&e===this.chr&&o>.5&&o<2}overlapsRange(e,t,i){return this.chr===e&&i>=this.bpStart&&t<=this.bpEnd}}const pL="nickel",gL=2/16,dw=gR(pL,gL),mL="rgb(190,190,190)",wL="rgba(155,185,129)",j6=dw;class xv{constructor(e,t){if(this.url=e.url,e.name&&(this.name=e.name),this.isUserDefined=e.isUserDefined,e.featureSource)this.featureSource=e.featureSource;else if(e.features)this.featureSource=new bL(e.features,t);else if(e.format)this.featureSource=$n(e,t);else throw Error("ROI configuration must define either features or file format");this.isUserDefined===!0?(this.color=e.color||j6,this.headerColor=wL):(this.color=e.color||dw,this.headerColor=mL),this.isVisible=e.isVisible===void 0?!0:e.isVisible}async getFeatures(e,t,i){return this.featureSource.getFeatures({chr:e,start:t,end:i})}async getAllFeatures(){return typeof this.featureSource.getAllFeatures=="function"?await this.featureSource.getAllFeatures():{}}addFeature(e){this.featureSource.addFeature(e)}removeFeature(e){this.featureSource.removeFeature(e)}toJSON(){if(this.url)return{name:this.name,color:this.color,url:this.url,isUserDefined:this.isUserDefined,isVisible:this.isVisible};{const e=this.featureSource.getAllFeatures(),t=[];for(let i of Object.keys(e))for(let r of e[i])t.push(r);return{name:this.name,color:this.color,features:t,isUserDefined:this.isUserDefined,isVisible:this.isVisible}}}dispose(){for(let e of Object.keys(this))this[e]=void 0}}const kv=3;function Q6(n,e,t,i){let r=Math.round((n-t)/i),o=Math.round((e-t)/i)-r;return o<kv&&(o=kv,r-=1),{x:r,width:o}}class bL{constructor(e,t){this.featureMap={},this.genome=t;for(let i of e){const r=t?t.getChromosomeName(i.chr):i.chr;let s=this.featureMap[r];s||(s=[],this.featureMap[r]=s),s.push(i)}for(let i of Object.keys(this.featureMap))this.featureMap[i].sort((r,s)=>r.start-s.start)}async getFeatures({chr:e,start:t,end:i}){if(e.toLowerCase()==="all")return _d(this.featureMap,this.genome);{const r=this.featureMap[e];return r?r.filter(s=>s.end>t&&s.start<i):[]}}getAllFeatures(){return this.featureMap}supportsWholeGenome(){return!0}addFeature(e){let t=this.featureMap[e.chr];t||(t=[],this.featureMap[e.chr]=t),t.push(e),t.sort((i,r)=>i.start-r.start)}removeFeature({chr:e,start:t,end:i}){if(this.featureMap[e]){const r=`${e}-${t}-${i}`;this.featureMap[e]=this.featureMap[e].filter(s=>r!==`${s.chr}-${s.start}-${s.end}`),this.featureMap[e].length===0&&delete this.featureMap[e]}}}const FL="rgba(68, 134, 247, 0.25)";class yL{constructor(e,t,i,r){this.rulerViewport=e,this.rulerSweeper=Ce({class:"igv-ruler-sweeper"}),t.appendChild(this.rulerSweeper),this.browser=i,this.referenceFrame=r,this.isMouseHandlers=void 0,this.addBrowserObserver()}addBrowserObserver(){const e=()=>{this.referenceFrame&&(Ut.isWholeGenomeView(this.referenceFrame.chr)?this.removeMouseHandlers():this.addMouseHandlers())};this.boundObserverHandler=e.bind(this),this.browser.on("locuschange",this.boundObserverHandler)}removeBrowserObserver(){this.browser.off("locuschange",this.boundObserverHandler)}addMouseHandlers(){if(this.isMouseHandlers===!0)return;const e=1;let t,i,r,s,o,a;this.boundContentMouseDownHandler=l.bind(this),this.rulerViewport.contentDiv.addEventListener("mousedown",this.boundContentMouseDownHandler);function l(u){t=!0,i=!0;const{x:f}=Zt(u,this.rulerViewport.contentDiv);s=r=f,o=e,this.rulerSweeper.style.display="block",this.rulerSweeper.style.backgroundColor=u.shiftKey===!0?j6:FL,this.rulerSweeper.style.left=`${s}px`,this.rulerSweeper.style.width=`${o}px`}this.boundDocumentMouseMoveHandler=c.bind(this),document.addEventListener("mousemove",this.boundDocumentMouseMoveHandler);function c(u){let f;if(t&&i){const{x:d}=Zt(u,this.rulerViewport.contentDiv);f=Math.max(Math.min(d,this.rulerViewport.contentDiv.clientWidth),0),a=f-r,o=Math.abs(a),this.rulerSweeper.style.width=`${o}px`,a<0&&(s=r+a,this.rulerSweeper.style.left=`${s}px`)}}this.boundDocumentMouseUpHandler=h.bind(this),document.addEventListener("mouseup",this.boundDocumentMouseUpHandler);function h(u){let f;t===!0&&i===!0&&(t=i=void 0,this.rulerSweeper.style.display="none",o>e&&(f={start:Math.floor(this.referenceFrame.calculateEnd(s)),end:Math.floor(this.referenceFrame.calculateEnd(s+o))},u.shiftKey===!0?this.browser.roiManager.updateUserDefinedROISet(Object.assign({chr:this.referenceFrame.chr},f)):(t6(this.browser.genome.getChromosome(this.referenceFrame.chr).bpLength,f,this.browser.minimumBases()),vL(this.referenceFrame,f,this.rulerViewport.contentDiv.clientWidth),this.browser.updateViews(this.referenceFrame))))}this.isMouseHandlers=!0}removeMouseHandlers(){this.rulerViewport.contentDiv.removeEventListener("mousedown",this.boundContentMouseDownHandler),document.removeEventListener("mousemove",this.boundDocumentMouseMoveHandler),document.removeEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!1}dispose(){this.removeBrowserObserver(),this.removeMouseHandlers(),this.rulerSweeper.remove()}}function vL(n,e,t){n.start=Math.round(e.start),n.end=Math.round(e.end),n.bpPerPixel=(n.end-n.start)/t}function fl(n){if(ta[n])return ta[n];if(ta["chr"+n]){const e=ta["chr"+n];return ta[n]=e,e}else{const e=Xe.randomRGB(0,255);return ta[n]=e,e}}const ta={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0)",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"};let Ev,na;const AL=1e4;class _L extends fw{constructor(e,t,i,r){super(e,t,i,r)}get contentDiv(){return this.$viewport.get(0)}initializationHelper(){this.$multiLocusCloseButton=ke("<div>",{class:"igv-multi-locus-close-button"}),this.$viewport.append(this.$multiLocusCloseButton),this.$multiLocusCloseButton.get(0).appendChild(zr("times-circle")),this.$multiLocusCloseButton.click(()=>{this.browser.removeMultiLocusPanel(this.referenceFrame)}),this.$rulerLabel=ke("<div>",{class:"igv-multi-locus-ruler-label"}),this.$viewport.append(this.$rulerLabel);let e;e=document.createElement("div"),this.$rulerLabel.append(ke(e)),this.$rulerLabel.get(0).addEventListener("click",async t=>{t.stopPropagation(),await this.browser.gotoMultilocusPanel(this.referenceFrame)}),this.$tooltip=ke("<div>",{class:"igv-ruler-tooltip"}),this.$tooltip.height(this.$viewport.height()),this.$viewport.append(this.$tooltip),this.$tooltipContent=ke("<div>"),this.$tooltip.append(this.$tooltipContent),this.rulerSweeper=new yL(this,this.$viewport.get(0).parentElement,this.browser,this.referenceFrame),this.attachMouseHandlers(Ut.isWholeGenomeView(this.referenceFrame.chr)),this.$tooltip.hide(),this.dismissLocusLabel()}presentLocusLabel(e){this.$multiLocusCloseButton.show(),this.$rulerLabel.show(),this.$rulerLabel.get(0).style.backgroundColor=fl(this.referenceFrame.chr);const t=this.$rulerLabel.get(0).querySelector("div"),{width:i}=this.$rulerLabel.get(0).getBoundingClientRect();t.innerHTML=`${this.referenceFrame.getMultiLocusLabel(e)}`;const{width:r}=t.getBoundingClientRect();r/i>.5&&(t.innerHTML=`${this.referenceFrame.getMultiLocusLabelBPLengthOnly(e)}`)}dismissLocusLabel(){this.$rulerLabel.hide(),this.$multiLocusCloseButton.hide()}attachMouseHandlers(e){if(this.namespace=`.ruler_track_viewport_${this.browser.referenceFrameList.indexOf(this.referenceFrame)}`,this.$viewport.off(this.namespace),e===!0){const t=this.browser.referenceFrameList.indexOf(this.referenceFrame),i=`click${this.namespace}`;this.$viewport.on(i,r=>{const{x:s}=Zt(r,this.$viewport.get(0)),o=Math.round(this.referenceFrame.start+this.referenceFrame.toBP(s));let a;const{chr:l}=this.browser.genome.getChromosomeCoordinate(o);if(this.browser.referenceFrameList.length===1)a=l;else{let c=this.browser.referenceFrameList.map(({locusSearchString:h})=>h);c[t]=l,a=c.join(" ")}this.browser.search(a)}),this.$viewport.get(0).style.cursor="pointer"}else this.$viewport.get(0).style.cursor="default"}mouseMove(e){if(this.browser.doShowCursorGuide===!0){if(na===void 0?(na=this,this.$tooltip.show()):na.guid!==this.guid?(na.$tooltip&&na.$tooltip.hide(),this.$tooltip.show(),na=this):this.$tooltip.show(),this.browser.isMultiLocusWholeGenomeView()||Ut.isWholeGenomeView(this.referenceFrame.chr)){this.$tooltip.hide();return}const{x:i}=Zt(e,this.$viewport.get(0)),{start:r,end:s,bpPerPixel:o}=this.referenceFrame,a=Math.round(.5+r+Math.max(0,i)*o);this.$tooltipContent.text(Ge(a));const{width:l}=this.$tooltipContent.get(0).getBoundingClientRect(),{width:c}=this.$viewport.get(0).getBoundingClientRect();return this.$tooltip.css({left:`${lt.clamp(i,0,c-l)}px`}),clearTimeout(Ev),Ev=setTimeout(()=>{this.$tooltip&&this.$tooltip.hide()},AL),{start:r,bp:a,end:s}}}startSpinner(){}stopSpinner(){}dispose(){this.rulerSweeper.dispose(),super.dispose()}}class CL extends fw{constructor(t,i,r,s){super(t,i,r,s);Re(this,"featureCache",new xL)}initializationHelper(){this.canvas=document.createElement("canvas"),this.canvas.className="igv-ideogram-canvas",this.$viewport.append(ke(this.canvas)),this.ideogram_ctx=this.canvas.getContext("2d"),this.addMouseHandlers()}async getFeatures(t,i,r,s){return this.featureCache.containsRange(t)?this.featureCache.get(t):this.loadFeatures()}async loadFeatures(){const t=this.referenceFrame.chr,i=await this.referenceFrame.genome.getCytobands(t);return this.featureCache.set(t,i),i}repaint(){if(this.featureCache===void 0)return;const{width:t,height:i}=this.$viewport[0].getBoundingClientRect();pe.configureHighDPICanvas(this.ideogram_ctx,t,i);const r=this.referenceFrame.chr,s=this.featureCache.get(r),o={context:this.ideogram_ctx,pixelWidth:t,pixelHeight:i,referenceFrame:this.referenceFrame,features:s};this.trackView.track.draw(o)}addMouseHandlers(){this.addViewportClickHandler(this.$viewport.get(0))}addViewportClickHandler(t){this.boundClickHandler=i.bind(this),t.addEventListener("click",this.boundClickHandler);function i(r){const{xNormalized:s,width:o}=Zt(r,this.ideogram_ctx.canvas),{bpLength:a}=this.browser.genome.getChromosome(this.referenceFrame.chr),c=this.referenceFrame.bpPerPixel*o/a;let h=s;h-c/2<0&&(h=c/2),h+c/2>1&&(h=1-c/2);const u=Math.round((h-c/2)*a),f=Math.round((h+c/2)*a);this.referenceFrame.start=u,this.referenceFrame.end=f,this.referenceFrame.bpPerPixel=(f-u)/o,this.browser.updateViews(this.referenceFrame,this.browser.trackViews,!0)}}setWidth(t){this.$viewport.width(t)}renderSVGContext(t,{deltaX:i,deltaY:r},s=!0){const{width:o,height:a}=this.$viewport.get(0).getBoundingClientRect(),l="ideogram",c=this.browser.referenceFrameList.indexOf(this.referenceFrame),h=`${l}_referenceFrame_${c}_guid_${nn()}`,u=i,f=r+this.contentTop,d=-this.contentTop;t.saveWithTranslationAndClipRect(h,u,f,o,a,d),this.trackView.track.draw({context:t,pixelWidth:o,pixelHeight:a,referenceFrame:this.referenceFrame,features:this.featureCache.get(this.referenceFrame.chr)}),t.restore()}startSpinner(){}stopSpinner(){}}class xL{constructor(){Re(this,"features",new Map)}containsRange(e){return this.features.has(e)}set(e,t){this.features.set(e,t)}get(e){return this.features.get(e)}}function t2(n,e,t,i){if(n.track.type==="ruler")return new _L(n,e,t,i);if(n.track.id==="ideogram")return new CL(n,e,t,i);{const r=new fw(n,e,t,i);return t.viewport=r,r}}const kL=["rgb(255, 0, 0)","rgb(0, 255, 0)","rgb(0, 0, 255)","rgb(255, 0, 255)","rgb(0, 255, 255)","rgb(128, 0, 128)","rgb(255, 165, 0)","rgb(255, 105, 180)","rgb(255, 127, 80)","rgb(220, 20, 60)","rgb(255, 99, 71)","rgb(173, 216, 230)","rgb(144, 238, 144)","rgb(224, 255, 255)","rgb(250, 250, 210)","rgb(152, 251, 152)","rgb(70, 130, 180)","rgb(102, 205, 170)"],EL=kL.map(n=>{const[e,t,i]=n.split(","),[r,s]=e.split("("),[o,a]=i.split(")");return[s,t,o]}),Sv=yn("magnesium"),Iv=["#sampleTable","#sampleMapping","#colors"];var fr,$6,G6,W6,K6;const qc=class qc{constructor(e){Pe(this,fr);Re(this,"sampleDictionary",{});Re(this,"attributeNames",[]);Re(this,"sampleMappingDictionary",{});Re(this,"colorDictionary",{});Re(this,"attributeRangeLUT",{});e.tracks.some(i=>typeof i.getSamples=="function").length>0&&e.sampleInfoControl.setButtonVisibility(!0),this.initialize()}initialize(){this.sampleInfoFiles=[],this.attributeNames=[],this.sampleDictionary={},this.sampleMappingDictionary={},this.colorDictionary={},this.attributeRangeLUT={},this.initialized=!1}get attributeCount(){return this.attributeNames?this.attributeNames.length:0}isInitialized(){return this.initialized}hasAttributes(){return this.attributeCount>0}getAttributes(e){const t=Object.keys(this.sampleMappingDictionary)===0?e:this.sampleMappingDictionary[e]||e;return this.sampleDictionary[t]}async loadSampleInfoFile(e){try{const t=await Be.loadString(e);$e(this,fr,$6).call(this,t),this.sampleInfoFiles.push(e)}catch(t){console.error(t.message)}}getAttributeColor(e,t){let i;if(t==="-")i=yn("snow");else if(typeof t=="string"&&this.colorDictionary[t])i=this.colorDictionary[t]();else if(this.colorDictionary[e])i=this.colorDictionary[e](t);else if(typeof t=="string")i=t==="NA"?Sv:TL(t);else{const[r,s]=this.attributeRangeLUT[e],a=Math.max((t-r)/(s-r),.2),[l,c,h]=EL[Object.keys(this.attributeRangeLUT).indexOf(e)];i=`rgba(${l},${c},${h},${a})`}return i}getSortedSampleKeysByAttribute(e,t,i){i=i||1;const r=e.filter(a=>typeof this.getAttributes(a)[t]=="number"),s=e.filter(a=>typeof this.getAttributes(a)[t]=="string"),o=(a,l)=>{const c=this.getAttributes(a)[t],h=this.getAttributes(l)[t];if(typeof c=="string"&&typeof h=="string")return i*c.localeCompare(h);if(typeof c=="number"&&typeof h=="number")return i*(c-h)};return r.sort(o),s.sort(o),i===-1?[...r,...s]:[...s,...r]}toJSON(){const e=[];for(const t of this.sampleInfoFiles){const i={url:t},r=Bt.localFileInspection(i);e.push(r)}return e}};fr=new WeakSet,$6=function(e){const t=SL(e);for(const[i,r]of Object.entries(t))switch(i){case"#sampleTable":$e(this,fr,G6).call(this,r);break;case"#sampleMapping":$e(this,fr,W6).call(this,r);break;case"#colors":$e(this,fr,K6).call(this,r);break}this.initialized=!0},G6=function(e){const t=e.shift().split("	").filter(l=>l.length>0);t.shift();const i=t.map(l=>l.split(" ").join(qc.emptySpaceReplacement)),r=e.filter(l=>l.length>0);let s;for(const l of r){const c=l.split("	"),h=c.shift();s===void 0&&(s={}),s[h]={};for(let u=0;u<c.length;u++){const f={};c[u]===""?f[i[u]]="-":f[i[u]]=c[u],Object.assign(s[h],f)}}for(const[l,c]of Object.entries(s))s[l]=NL(c);const o=IL(i,s);Nv(this.attributeRangeLUT,o);const a=new Set(this.attributeNames);for(const l of i)a.has(l)||this.attributeNames.push(l);Nv(this.sampleDictionary,s)},W6=function(e){for(const t of e){const[i,r]=t.split("	");this.sampleMappingDictionary[i]=r}},K6=function(e){const t=(l,c,h)=>{let u;switch(c){case 0:u=l.split(" ").join(qc.emptySpaceReplacement);break;case 1:u=l.includes(":")?l.split(":").map(f=>parseFloat(f)):l;break;case 2:u=`rgb(${l})`;break;case 3:u=`rgb(${l})`}return u},i=e.map(l=>l.split("	").map(t)),r=i.filter(l=>l.length===3&&!l.includes("*")).filter(([l,c,h])=>!Array.isArray(c)),s={};for(const l of r){const[c,h,u]=l;s[c]===void 0&&(s[c]={}),s[c][h.toUpperCase()]=u}for(const[l,c]of Object.entries(s)){const h=Object.assign({},c);this.colorDictionary[l]=u=>{const f=u.toUpperCase();return h[f]||yn("snow")}}const o=i.filter(l=>Array.isArray(l[1]));for(const l of o){const[c,h]=l[1],u=l[0];if(l.length===3){const[f,d,p]=_a(l[2]);this.colorDictionary[u]=w=>{w=lt.clamp(w,c,h);const F=(w-c)/(h-c);return Ty(f,d,p,F)}}else if(l.length===4){const[f,d]=l[1],[p,w,F,g]=l;this.colorDictionary[p]=m=>{m=lt.clamp(m,f,d);const b=(m-f)/(d-f);return bR(F,g,b)}}}const a=i.filter(l=>l.length===3&&l.includes("*"));for(const l of a)if(l[1]==="*"){const[c,h,u]=l;this.colorDictionary[c]=f=>{if(f==="NA")return Sv;{const[d,p]=this.attributeRangeLUT[c],w=(f-d)/(p-d),[F,g,m]=_a(u);return Ty(F,g,m,w)}}}else if(l[0]==="*"){const[c,h,u]=l;this.colorDictionary[h]=()=>u}},Re(qc,"emptySpaceReplacement","|");let dl=qc;function SL(n){const e={},t=n.split(/\r?\n|\r/).map(r=>r.trim()).filter(r=>r!=="");let i;Iv.includes(t[0])||(i="#sampleTable",e[i]=[]);for(const r of t)Iv.includes(r)?(i=r,e[i]=[]):i&&r.startsWith("#")===!1&&e[i].push(r);return e}function Nv(n,e){for(const[t,i]of Object.entries(e))(!(t in n)||n[t]!==i)&&(n[t]=i)}function IL(n,e){const t={};for(const s of Object.values(e))for(const o of n){let a=s[o];t[o]===void 0&&(t[o]=[]),t[o].push(a)}const i=s=>typeof s=="number",r=s=>typeof s=="string";for(const s of Object.keys(t)){const o=t[s],a=new Set(o),l=Array.from(a);if(l.some(r)===!0&&l.some(i)===!0?t[s]=l.filter(c=>!r(c)):t[s]=l,!t[s].some(r)){const c=t[s].slice();t[s]=[Math.min(...c),Math.max(...c)]}}return t}function NL(n){const e=Object.assign({},n);for(const[t,i]of Object.entries(e))typeof i=="string"&&!isNaN(i)&&(e[t]=Number(i));return e}function TL(n){let e=0;for(let i=0;i<n.length;i++)e=n.charCodeAt(i)+((e<<5)-e);let t=[];for(let i=0;i<3;i++){const r=e>>i*8&255;t.push(r)}return`rgb(${t.join(", ")})`}const n2=8,ha=16,Tv=Ge,Y6=40;class RL{constructor(e){this.browser=e,this.height=Y6,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=Number.MIN_SAFE_INTEGER*.01,this.removable=!1,this.type="ruler"}async getFeatures(e,t,i){return[]}computePixelHeight(e){return this.height}draw({context:e,referenceFrame:t,pixelWidth:i,pixelHeight:r,bpPerPixel:s,bpStart:o}){Ut.isWholeGenomeView(t.chr)?this.drawWholeGenome({context:e,pixelWidth:i,pixelHeight:r,bpPerPixel:s}):this.doDraw({context:e,referenceFrame:t,pixelWidth:i,pixelHeight:r,bpStart:o})}drawWholeGenome({context:e,pixelWidth:t,pixelHeight:i,bpPerPixel:r}){e.save(),pe.fillRect(e,0,0,t,i,{fillStyle:"white"});for(let s of this.browser.genome.wgChromosomeNames){let o=this.browser.genome.getCumulativeOffset(s),a=this.browser.genome.getChromosome(s).bpLength,l=Math.round(o/r),c=Math.round(a/r);this.renderChromosomeRect(e,l,0,c,i,s)}e.restore()}doDraw({context:e,referenceFrame:t,pixelWidth:i,pixelHeight:r,bpStart:s}){e.clearRect(0,0,i,r);const o=6,a=2,l=Math.floor(t.toBP(i)),c=ML(l,e.isSVG);let h=Math.floor(s/c.majorTick)-1;const{tickDelta:u,labelLength:f}=BL(e,t,s,h,c);this.browser.referenceFrameList.indexOf(t);let d,p,w=u;const F=.25*f;do{p=Math.floor(h*c.majorTick);const g=`${Ge(Math.floor(p/c.unitMultiplier))} ${c.majorUnit}`;d=Math.round(t.toPixels(p-1-s+.5));const m=Math.round(d-e.measureText(g).width/2);m>0&&F+f<=w&&(pe.fillText(e,g,m,this.height-o/.75),w=0),d>0&&pe.strokeLine(e,d,this.height-o,d,this.height-a),p=Math.floor((1+h)*c.majorTick);let y=(Math.round(t.toPixels(p-1-s+.5))-d)/2,A=d+y;A>0&&pe.strokeLine(e,A,this.height-o,A,this.height-a),++h,w+=u}while(d<i);pe.strokeLine(e,0,this.height-a,i,this.height-a)}renderChromosomeRect(e,t,i,r,s,o){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",pe.strokeLine(e,t+r,i,t+r,i+s,{strokeStyle:Xe.greyScale(191)}),o=this.browser.genome.getChromosomeDisplayName(o);const a=o.startsWith("chr")?o.substring(3):o;r>e.measureText(a).width&&pe.fillText(e,a,t+r/2,i+s/2,{fillStyle:Xe.greyScale(68)})}get supportsWholeGenome(){return!0}dispose(){}}function ML(n,e){if(n<10)return new Rv(1,"bp",1);const t=Math.floor(Math.log10(n));let i="bp",r=1;t>9?(i="gb",r=1e9):t>6?(i="mb",r=1e6):t>3&&(i="kb",r=1e3);const s=Math.pow(10,t-1),o=n/s,a=3*25,l=Math.pow(10,t-1),c=Math.pow(10,t)/2,h=o<a&&e!==!0?l:c;return new Rv(h,i,r)}function BL(n,e,t,i,r){const s=c(e,l(1+i,r),t)-c(e,l(i,r),t),o=`${Ge(Math.floor(l(i,r)/r.unitMultiplier))} ${r.majorUnit}`,a=Math.floor(n.measureText(o).width);return{tickDelta:s,labelLength:a};function l(h,u){return Math.floor(h*u.majorTick)}function c(h,u,f){return Math.round(h.toPixels(u-1-f+.5))}}class Rv{constructor(e,t,i){this.majorTick=e,this.minorTick=e/10,this.majorUnit=t,this.unitMultiplier=i}description(e){console.log((e||"")+" tick "+Tv(this.majorTick)+" label width "+Tv(this.labelWidthBP)+" multiplier "+this.unitMultiplier)}}const DL=128;class LL{constructor(e,t,i){this.guid=nn(),this.trackView=e,this.browser=e.browser,this.viewport=Ce({class:"igv-viewport"}),t.appendChild(this.viewport),this.viewport.style.height=`${e.track.height}px`,this.viewport.previousElementSibling===null&&(this.viewport.style.zIndex=16,this.viewport.style.overflow="visible"),this.canvas=document.createElement("canvas"),this.viewport.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.font="10px verdana",this.contentTop=0,this.hitList=void 0,this.sortDirection=1,this.setWidth(i),this.addMouseHandlers()}resizeCanvas(){const e=window.devicePixelRatio,t=this.browser.getSampleInfoViewportWidth();let i;if(this.browser.trackViews.length>1&&this.viewport.previousElementSibling===null){const[r,s]=[this.browser.ideogramTrackView.track,this.browser.rulerTrackView.track];i=r.height+s.height}else i=this.viewport.clientHeight;if(this.canvas.width!==t*e||this.canvas.height!==i*e){const r=this.canvas;r.width=t*e,r.height=i*e,r.style.width=`${t}px`,r.style.height=`${i}px`,this.ctx=this.canvas.getContext("2d"),this.ctx.scale(e,e),this.viewport.previousElementSibling===null&&pe.fillRect(this.ctx,0,0,this.ctx.canvas.width,this.ctx.canvas.height,{fillStyle:yn("snow")})}}setTop(e){typeof this.trackView.track.getSamples=="function"&&(this.contentTop=e,this.repaint())}setWidth(e){this.viewport.innerWidth=e,this.resizeCanvas()}setHeight(e){const t=this.browser.getSampleInfoViewportWidth();this.viewport.style.width=`${t}px`,this.viewport.style.height=`${e}px`;const i=window.devicePixelRatio;this.canvas.width=t*i,this.canvas.height=e*i,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${e}px`,this.ctx=this.canvas.getContext("2d"),this.ctx.scale(i,i),this.viewport.previousElementSibling===null&&pe.fillRect(this.ctx,0,0,this.ctx.canvas.width,this.ctx.canvas.height,{fillStyle:yn("snow")})}async repaint(){if(this.resizeCanvas(),typeof this.trackView.track.getSamples=="function"){const e=this.trackView.track.getSamples();e.names&&e.names.length>0&&this.draw({context:this.ctx,samples:e})}else this.viewport.previousElementSibling===null&&(this.browser.rulerTrackView&&this.browser.rulerTrackView.setTrackHeight(this.browser.sampleInfoControl.showSampleInfo===!0?this.calculateSampleInfoColumnHeight():Y6,!0),this.renderSampleInfoColumns(this.ctx))}calculateSampleInfoColumnHeight(){const e=this.browser.sampleInfo.attributeNames.map(i=>this.ctx.measureText(i).width);return 4+Math.min(Math.max(...e),DL)}draw({context:e,samples:t}){if(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=yn("snow"),e.fillRect(0,0,e.canvas.width,e.canvas.height),t&&t.names.length>0){const i=this.browser.sampleInfo.attributeNames,r=this.viewport.getBoundingClientRect().height;let s=1;const o=t.height;s=o-2*s<=1?0:1;let a=this.contentTop+t.yOffset;this.hitList={};for(const l of t.names){if(a>r)break;if(a+o>0){const c=this.browser.sampleInfo.getAttributes(l);if(c){const h=Object.entries(c);for(const u of h){const[f,d]=u;e.fillStyle=this.browser.sampleInfo.getAttributeColor(f,d);const p=i.indexOf(f),w=n2+p*ha,F=a+s,g=o-2*s;e.fillRect(w,F,ha-1,g);const m=`${Math.floor(w)}#${Math.floor(F)}#${ha}#${Math.ceil(g)}`;this.hitList[m]=`${f}#${d}`}}}a+=o}}}renderSampleInfoColumns(e){const t=(r,s,o,a,l,c)=>{r.save(),r.font="10px verdana",r.translate(o+l/2,a+c),r.rotate(-Math.PI/2),r.textAlign="left",r.fillStyle=yn("lead"),r.fillText(s,2,2),r.restore()},i=this.browser.sampleInfo.attributeNames;this.hitList={};for(let r=0;r<i.length;r++){const s=n2+r*ha,o=ha-1,a=Math.round(e.canvas.height/window.devicePixelRatio);pe.fillRect(e,s,0,o,a,{fillStyle:yn("snow")}),t(e,i[r],s,0,o,a);const l=`${Math.floor(s)}#0#${o}#${Math.ceil(a)}`;this.hitList[l]=`${i[r]}`}}renderSVGContext(e,{deltaX:t,deltaY:i}){if(typeof this.trackView.track.getSamples=="function"){const r=this.trackView.track.getSamples(),s=0,{width:o,height:a}=this.viewport.getBoundingClientRect(),c=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_sample_names_guid_${nn()}`;e.saveWithTranslationAndClipRect(c,t,i+s,o,a,-s),this.draw({context:e,samples:r}),e.restore()}}addMouseHandlers(){this.addMouseMoveHandler()}addMouseMoveHandler(){this.boundMouseMoveHandler=e.bind(this),this.viewport.addEventListener("mousemove",this.boundMouseMoveHandler);function e(t){if(this.hitList){const i=Object.entries(this.hitList);if(this.viewport.previousElementSibling===null){const r=(l,c)=>{const{marginTop:h}=window.getComputedStyle(c),{x:u,y:f}=Zt(t,this.browser.columnContainer.querySelector(".igv-sample-info-column"));return{x:Math.floor(u),y:Math.floor(f-parseInt(h,10))}},s=this.browser.columnContainer.querySelector(".igv-sample-info-column"),{x:o,y:a}=r(s,this.viewport);s.setAttribute("title","");for(const[l,c]of i){const[h,u,f,d]=l.split("#").map(p=>parseInt(p,10));if(!(o<h||o>h+f||a<u||a>u+d)){s.setAttribute("title",`${c}`);break}}}else{const{x:r,y:s}=Zt(t,this.viewport);this.viewport.setAttribute("title","");for(const[o,a]of i){const[l,c,h,u]=o.split("#").map(f=>parseInt(f,10));if(!(r<l||r>l+h||s<c||s>c+u)){const[f,d]=a.split("#");this.viewport.setAttribute("title",`${f.split(dl.emptySpaceReplacement).join(" ")}: ${d==="-"?"":d}`);break}}}}}}removeMouseHandlers(){this.viewport.removeEventListener("mousemove",this.boundMouseMoveHandler)}dispose(){this.removeMouseHandlers(),this.viewport.remove()}show(){this.viewport.style.display="block"}hide(){this.viewport.style.display="none"}}const zL=200,PL=4,OL=10;class HL{constructor(e,t,i,r){this.guid=nn(),this.trackView=e,this.browser=e.browser,this.viewport=Ce({class:"igv-viewport"}),t.appendChild(this.viewport),e.track.height&&(this.viewport.style.height=`${e.track.height}px`),this.canvas=document.createElement("canvas"),this.viewport.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.trackScrollDelta=0,this.contentTop=0,this.hitList=void 0,this.sortDirection=1,this.setWidth(r),this.addMouseHandlers()}checkCanvas(){const e=this.browser.sampleNameViewportWidth||0;this.ctx.canvas.width=e*window.devicePixelRatio,this.ctx.canvas.style.width=`${e}px`,this.ctx.canvas.height=this.viewport.clientHeight*window.devicePixelRatio,this.ctx.canvas.style.height=`${this.viewport.clientHeight}px`,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}setTop(e){if(typeof this.trackView.track.getSamples=="function"){this.contentTop=e;const t=this.trackView.track.getSamples();this.repaint(t)}}setWidth(e){this.viewport.innerWidth=e,this.checkCanvas()}async repaint(e){if(e.names.length>0&&this.browser.showSampleNames===!0&&(this.checkCanvas(),this.draw({context:this.ctx,samples:e}),this.browser.sampleNameViewportWidth===void 0)){const t=e.names.map(i=>this.ctx.measureText(i).width);this.browser.sampleNameViewportWidth=Math.min(zL,PL+Math.ceil(Math.max(...t))),this.browser.layoutChange()}}draw({context:e,samples:t}){if(pe.fillRect(e,0,0,e.canvas.width,t.height,{fillStyle:yn("snow")}),t&&t.names.length>0){const i=this.viewport.getBoundingClientRect().height,r=t.height,s=r-2<=1?0:1;let o=this.contentTop+t.yOffset;this.hitList={};for(const a of t.names){if(o>i)break;if(o+r>0){const c=o+s,h=r-2*s;UL(e,a,2,c,e.canvas.width,h)}o+=r}}}renderSVGContext(e,{deltaX:t,deltaY:i}){if(typeof this.trackView.track.getSamples=="function"){const r=this.trackView.track.getSamples(),s=0,{width:o,height:a}=this.viewport.getBoundingClientRect(),c=`${(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,"")}_sample_names_guid_${nn()}`;e.saveWithTranslationAndClipRect(c,t,i+s,o,a,-s),this.draw({context:e,samples:r}),e.restore()}}addMouseHandlers(){this.boundClickHandler=e.bind(this),this.viewport.addEventListener("contextmenu",this.boundClickHandler);function e(i){i.preventDefault();const r={label:"Name Panel Width",value:this.browser.sampleNameViewportWidth,callback:s=>{this.browser.sampleNameViewportWidth=parseInt(s),this.browser.layoutChange()}};this.browser.inputDialog.present(r,i)}this.boundMouseMoveHandler=t.bind(this),this.viewport.addEventListener("mousemove",this.boundMouseMoveHandler);function t(i){if(this.hitList){const r=Object.entries(this.hitList),{x:s,y:o}=Zt(i,this.viewport);this.viewport.setAttribute("title","");for(const[a,l]of r){const[c,h,u,f]=a.split("#").map(d=>parseInt(d,10));if(!(s<c||s>c+u||o<h||o>h+f)){this.viewport.setAttribute("title",`${l}`);break}}}}}removeMouseHandlers(){this.viewport.removeEventListener("contextmenu",this.boundClickHandler),this.viewport.removeEventListener("mousemove",this.boundMouseMoveHandler)}dispose(){this.removeMouseHandlers(),this.viewport.remove()}}function UL(n,e,t,i,r,s){const o=Math.min(s,OL);n.font=`${o}px sans-serif`,n.textAlign="start",n.fillStyle=yn("lead");const a=t,l=n.measureText(e),c=l.actualBoundingBoxAscent+l.actualBoundingBoxDescent,h=i+s/2+c/2;n.fillText(e,a,h)}class X6{constructor(e){this.popover=Ce({class:"igv-menu-popup"}),e.appendChild(this.popover),this.parent=e;const t=Ce({class:"igv-menu-popup-header"});this.popover.appendChild(t),qo(t,()=>this.popover.style.display="none"),this.popoverContent=Ce(),this.popover.appendChild(this.popoverContent),Vr(this.popover,t),t.addEventListener("click",i=>{i.stopPropagation(),i.preventDefault()}),this.popover.style.display="none"}presentMenuList(e,t){if(jL(this.parent),t.length>0){this.popoverContent.innerHTML="";const i=this.parseMenuList(e,t);for(let s of i){s.init&&s.init();let o=s.object;i.indexOf(s)===0&&o.removeClass("igv-track-menu-border-top"),o.hasClass("igv-track-menu-border-top")||o.hasClass("igv-menu-popup-check-container")||o.is("div")&&o.addClass("igv-menu-popup-shim"),this.popoverContent.appendChild(o.get(0))}this.popover.style.display="flex";const{width:r}=this.popover.getBoundingClientRect();this.popover.style.left=`${-r}px`,this.popover.style.top="0px"}}parseMenuList(e,t){return t.map((i,r)=>{let s;if(i.name?(s=ke("<div>"),s.text(i.name)):i.object?s=i.object:typeof i.label=="string"?(s=ke("<div>"),s.html(i.label)):typeof i=="string"&&(i.startsWith("<")?s=ke(i):s=ke("<div>"+i+"</div>")),r===0&&s.addClass("igv-track-menu-border-top"),i.click||i.dialog){const o=a=>{if(a.preventDefault(),a.stopPropagation(),i.click)if(e.track.selected){const l=e.browser.getSelectedTrackViews();if(i.doAllMultiSelectedTracks===!0)i.click.call(e.track,a);else if(i.menuItemType==="removeTrack"){const c=()=>{e.browser.overlayTrackButton.setVisibility(!1);for(const{track:f}of l)i.click.call(f,a)},u={html:`Are you sure you want to delete ${l.length} tracks?`,callback:c};e.browser.menuUtils.dialog.present(u,a)}else for(const{track:c}of l)i.click.call(c,a)}else i.click.call(e.track,a);else i.dialog&&i.dialog.call(e.track,a);this.popover.style.display="none"};s.on("click",o),s.on("touchend",a=>o(a)),s.on("mouseup",function(a){a.preventDefault(),a.stopPropagation()})}return{object:s,init:i.init||void 0}})}presentTrackContextMenu(e,t){this.popoverContent.innerHTML="";const i=VL(t,this.popover);for(let{el:r}of i)this.popoverContent.appendChild(r);qL(e,this.popover)}hide(){this.popover.style.display="none"}dispose(){this.popoverContent.innerHTML="",this.popover.innerHTML="",Object.keys(this).forEach(function(e){this[e]=void 0})}}function VL(n,e){return n.map(t=>{let i;if(typeof t=="string"&&t==="<hr/>")i=document.createElement("hr");else if(typeof t=="string")i=Ce({class:"context-menu"}),i.innerHTML=t;else if(typeof t=="Node")i=t;else{if(typeof t.init=="function"&&t.init(),t.type==="checkbox")i=Ct("Show all bases",t.value);else if(t.type==="color"){const s=new XC(e.parentElement);s.configure({color:"grey"}),i=Ce({class:"context-menu"}),typeof t.label=="string"&&(i.innerHTML=t.label);const o=a=>{s.show(),Xt(e),a.preventDefault(),a.stopPropagation()};i.addEventListener("click",o),i.addEventListener("touchend",o),i.addEventListener("mouseup",function(a){a.preventDefault(),a.stopPropagation()})}else i=Ce({class:"context-menu"}),typeof t.label=="string"&&(i.innerHTML=t.label);if(t.click&&t.type!=="color"){let s=function(o){t.click(),Xt(e),o.preventDefault(),o.stopPropagation()};var r=s;i.addEventListener("click",s),i.addEventListener("touchend",s),i.addEventListener("mouseup",function(o){o.preventDefault(),o.stopPropagation()})}}return{el:i,init:t.init}})}function qL(n,e){e.style.display="flex";const{x:t,y:i}=Zt(n,e.parentNode),{width:r}=e.getBoundingClientRect(),s=t+r,{width:o}=e.parentNode.getBoundingClientRect();e.style.left=`${s>o?t-(s-o):t}px`,e.style.top=`${i}px`}const jL=n=>{const e=n.querySelectorAll(".igv-menu-popup");for(const t of e)t.style.display="none"};class Oi{constructor(e,t,i,r,s,o,a){this.browser=e,this.button=Ce({class:"igv-navbar-text-button"}),t.appendChild(this.button),Array.isArray(i)?(this.textContent=i[0],this.title=i[1]):this.textContent=this.title=i,this.buttonLabel=r,this.imageDictionary={image:`url("data:image/svg+xml,${encodeURIComponent(s)}")`,imageHover:`url("data:image/svg+xml,${encodeURIComponent(o)}")`},this.responsiveKey="text",this.configureButton(this.textContent,this.title),this.setState(a),e.on("navbar-resize",l=>{this.navbarResizeHandler(l)})}navbarResizeHandler(e){const t=e==="igv-navbar-icon-button"?"image":"text";t!==this.responsiveKey&&(this.responsiveKey=t,this.configureButton(this.textContent,this.title),this.setState(void 0))}configureButton(e,t){this.groupElement=void 0,this.button.title=t,this.button.innerHTML="",this.button.style.backgroundImage="none",this.button.classList.remove("igv-navbar-icon-button"),this.button.classList.remove("igv-navbar-text-button"),this.responsiveKey==="text"?this.configureTextButton(e):this.configureIconButton()}configureTextButton(e){this.button.classList.add("igv-navbar-text-button");const t=document.createElement("div");t.innerHTML=this.buttonLabel;const i=t.firstChild;this.button.appendChild(i),this.groupElement=i.querySelector("#igv-navbar-button-group");const r=i.querySelector("#igv-navbar-button-label");r.textContent=e}configureIconButton(){this.button.classList.add("igv-navbar-icon-button")}setState(e){e!==void 0&&(this.doHover=e),this.responsiveKey==="text"?this.setTextButtonState(this.doHover):this.setIconButtonState(this.doHover)}setTextButtonState(e){this.groupElement.classList.remove(...this.groupElement.classList);const t=e===!0?"igv-navbar-text-button-svg-hover":"igv-navbar-text-button-svg-inactive";this.groupElement.classList.add(t)}setIconButtonState(e){this.button.style.backgroundImage=e===!0?this.imageDictionary.imageHover:this.imageDictionary.image}show(){this.button.style.display="flex"}hide(){this.button.style.display="none"}setVisibility(e){e===!0?this.show():this.hide()}static currentNavbarButtonClass(e){return e.$navigation.get(0).querySelector(".igv-navbar-text-button")?"igv-navbar-text-button":"igv-navbar-icon-button"}}const QL=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Overlay Tracks</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Overlay-Tracks">
            <rect id="backdrop" stroke="#737373" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="layer-group" transform="translate(3, 127)">
                <rect id="a" stroke="#737373" stroke-width="24" fill="#A1A1A1" x="12" y="12" width="332" height="139"></rect>
                <rect id="a---hold-out" fill="#A1A1A1" x="9" y="25" width="324" height="115"></rect>
                <rect id="b" stroke="#737373" stroke-width="24" fill="#C9C9C9" x="81" y="103" width="474" height="139"></rect>
                <rect id="c" stroke="#737373" stroke-width="24" fill="#ECECEC" x="238" y="214" width="372" height="139"></rect>
                <rect id="c---hold-out" fill="#ECECEC" x="250" y="226" width="372" height="115"></rect>
            </g>
            <rect id="over-border" stroke="#737373" stroke-width="12" x="6" y="6" width="613" height="613" rx="135"></rect>
        </g>
    </g>
</svg>`,$L=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Overlay Tracks Hover</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Overlay-Tracks-Hover">
            <rect id="backdrop-copy" stroke="#737373" stroke-width="12" fill="#737373" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="layer-group" transform="translate(3, 127)">
                <rect id="a" stroke="#FFFFFF" stroke-width="24" fill="#A1A1A1" x="12" y="12" width="332" height="139"></rect>
                <rect id="a---hold-out" fill="#A1A1A1" x="9" y="25" width="324" height="115"></rect>
                <rect id="b" stroke="#FFFFFF" stroke-width="24" fill="#C9C9C9" x="81" y="103" width="474" height="139"></rect>
                <rect id="c" stroke="#FFFFFF" stroke-width="24" fill="#ECECEC" x="238" y="214" width="372" height="139"></rect>
                <rect id="c---hold-out" fill="#ECECEC" x="250" y="226" width="372" height="115"></rect>
            </g>
            <rect id="over-border-copy" stroke="#737373" stroke-width="12" x="6" y="6" width="613" height="613" rx="135"></rect>
        </g>
    </g>
</svg>`,Us=`<svg width="80px" height="18px" viewBox="0 0 80 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="igv-navbar-button-group">
            <rect id="Rectangle" x="0.5" y="0.5" width="79" height="17" rx="6"></rect>
            <text id="igv-text-button-label" x="50%" y="50%" dy=".1em" font-family="Helvetica" font-size="12" font-weight="normal" letter-spacing="-0.372">
                <tspan id="igv-navbar-button-label"></tspan>
            </text>
        </g>
    </g>
</svg>`,GL=`<svg width="90px" height="20px" viewBox="0 0 90 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="igv-navbar-button-group">
            <rect id="Rectangle" x="0.5" y="0.5" width="89" height="18" rx="6"></rect>
            <text id="igv-text-button-label" x="50%" y="50%" dy=".1em" font-family="Helvetica" font-size="12" font-weight="normal" letter-spacing="-0.372">
                <tspan id="igv-navbar-button-label"></tspan>
            </text>
        </g>
    </g>
</svg>`;class pw extends Bt{constructor(e,t,i){super(e,t),this.type="merged",this.paintAxis=Yh,this.graphType=e.graphType,i?this.tracks=i:this.tracks=[]}async postInit(){if(this.config.tracks){for(let t of this.config.tracks){const i=await this.browser.createTrack(t);i?this.tracks.push(i):console.warn("Could not create track "+t),typeof i.postInit=="function"&&await i.postInit()}this.config.tracks.every(t=>t.autoscale!==void 0||t.max!==void 0)||(this.config.autoscale=this.config.max===void 0)}for(let e of this.tracks)e.isMergedTrack=!0;if(this.config.autoscale?this.autoscale=this.config.autoscale:this.config.max!==void 0&&this.setDataRange({min:this.config.min||0,max:this.config.max}),this.config.flipAxis!==void 0)for(let e of this.tracks)e.flipAxis=this.config.flipAxis;if(this.config.logScale!==void 0)for(let e of this.tracks)e.logScale=this.config.logScale;this.resolutionAware=this.tracks.some(e=>e.resolutionAware)}set flipAxis(e){this.config.flipAxis=e;for(let t of gr(this.tracks))t.flipAxis=e}get flipAxis(){return gr(this.tracks).every(e=>e.flipAxis)}set logScale(e){this.config.logScale=e;for(let t of gr(this.tracks))t.logScale=e}get logScale(){return gr(this.tracks).every(e=>e.logScale)}get height(){return this._height}set height(e){if(this.config.height=e,this._height=e,this.tracks)for(let t of this.tracks)t.height=e,t.config.height=e}set autoscale(e){if(this._autoscale=e,e===!1&&this.tracks)for(let t of this.tracks)t.autoscale=!1}get autoscale(){return this._autoscale}setDataRange({min:e,max:t}){this.autoscale=!1;for(const i of gr(this.tracks))i.dataRange={min:e,max:t},i.autoscale=!1,i.autoscaleGroup=!1}set dataRange({min:e,max:t}){for(const i of gr(this.tracks))i.dataRange={min:e,max:t}}get dataRange(){if(this.tracks){const e=gr(this.tracks);if(e.length>0){const t=e[0].dataRange;if(e.every(i=>i.dataRange&&i.dataRange.min===t.min&&i.dataRange.max===t.max))return t}}}menuItemList(){const e=[];return gr(this.tracks).length>0&&(this.flipAxis!==void 0&&e.push({label:"Flip y-axis",click:function(){this.flipAxis=!this.flipAxis,this.trackView.repaintViews()}}),e.push(...this.numericDataMenuItems())),e.push("<hr/>"),e.push(this.overlayTrackAlphaAdjustmentMenuItem()),e.push(this.trackSeparationMenuItem()),e}async getFeatures(e,t,i,r){const s=this.tracks.map(a=>a.getFeatures(e,t,i,r)),o=await Promise.all(s);if(o.every(a=>a.length===0))return new Mv([],[]);{const a=this.tracks.map(l=>l.name);return new Mv(o,a)}}draw(e){const t=e.features;for(let i=0,r=this.tracks.length;i<r;i++){const s=Object.assign({},e);s.features=t.featureArrays[i],s.alpha=this.alpha,this.graphType&&(this.tracks[i].graphType=this.graphType),this.tracks[i].draw(s)}}popupData(e){const t=this.clickedFeatures(e);if(t&&t.length===this.tracks.length){const i=[];let r=!0;for(let s=0;s<t.length;s++)if(s>0&&i.push("<hr/>"),i.push(`<div style=background-color:rgb(245,245,245);border-bottom-style:dashed;border-bottom-width:1px;padding-bottom:5px;padding-top:10px;font-weight:bold;font-size:larger >${t[s].trackName}</div>`),t[s].features.length>0){r=!1;const o=this.tracks[s].popupData(e,t[s].features);i.push(...o)}else i.push("Missing or 0 value(s)");return r===!0?[]:i}}clickedFeatures(e){const t=e.viewport.cachedFeatures;if(!t||!t.featureArrays||!Array.isArray(t.featureArrays)||t.featureArrays.length===0)return[];const i=e.genomicLocation,r=[],s=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:.2,o=i-s,a=i+s;for(let l=0;l<t.featureArrays.length;l++){const c=wd.findOverlapping(t.featureArrays[l],o,a);r.push({trackName:t.trackNames[l],features:c})}return r}get supportsWholeGenome(){return this.tracks.every(e=>e.supportsWholeGenome)}getState(){const e=super.getState(),t=[];for(let i of this.tracks)t.push(i.getState());return e.tracks=t,e}updateScales(e){let t;if(this.autoscale){t=!0;let i=[];for(let r of e){if(r.featureCache&&r.featureCache.features){const o=r.referenceFrame,a=o.start,l=a+o.toBP(r.getWidth()),c=r.featureCache.features;this.autoscale&&(i.push({value:c.getMax(a,l)}),i.push({value:c.getMin(a,l)}))}const s=vh(i);for(const o of gr(this.tracks))o.dataRange=s}}else{let i=-1;for(let r of this.tracks)if(++i,r.autoscale){t=!0;let s=[];for(let o of e)if(o.featureCache&&o.featureCache.features){const a=o.referenceFrame,l=a.start,c=l+a.toBP(o.getWidth()),u=o.featureCache.features.featureArrays[i];if(u){for(let f of u)if(!(f.end<l)){if(f.start>c)break;s.push(f)}}}r.dataRange=vh(s)}}return t}overlayTrackAlphaAdjustmentMenuItem(){const e=Ce();e.innerText="Set transparency";function t(i){const r=o=>{this.alpha=Math.max(.001,o),this.repaintViews()},s={label:"Transparency",value:this.alpha,min:0,max:1,scaleFactor:1e3,callback:r};this.browser.sliderDialog.present(s,i)}return{object:ke(e),dialog:t}}trackSeparationMenuItem(){const e=ke("<div>");e.text("Separate tracks");function t(i){const r=this.autoscale,s=this.name,o=this.tracks,a=this.browser,l=this.order;a.removeTrack(this);for(let c of o)c.order=l,r&&(c.autoscaleGroup=s),c.isMergedTrack=!1,a.addTrack(c.config,c);a.updateViews()}return{object:e,click:t}}}Re(pw,"defaults",{autoscale:void 0,alpha:.5,height:50});class Mv{constructor(e,t){this.featureArrays=e,this.trackNames=t}getMax(e,t){let i=-Number.MAX_VALUE;for(let r of this.featureArrays)if(Array.isArray(r)){for(let s of r)if(!(typeof s.value>"u"||Number.isNaN(s.value))&&!(s.end<e)){if(s.start>t)break;i=Math.max(i,s.value)}}return i!==-Number.MAX_VALUE?i:100}getMin(e,t){let i=0;for(let r of this.featureArrays)if(Array.isArray(r)){for(let s of r)if(typeof s.value<"u"&&!Number.isNaN(s.value)){if(s.end<e)continue;if(s.start>t)break;i=Math.min(i,s.value)}}return i}}const gr=n=>n?n.filter(e=>e.dataRange!==void 0||e.autoscale!==void 0||e.autoscaleGroup!==void 0):[];class WL extends Oi{constructor(e,t){super(e,t,"Overlay Tracks",Us,QL,$L,!1),this.button.addEventListener("mouseenter",()=>this.setState(!0)),this.button.addEventListener("mouseleave",()=>this.setState(!1));const i=()=>{this.setVisibility(!1),KL.call(this)};this.boundMouseClickHandler=i.bind(this),this.button.addEventListener("click",this.boundMouseClickHandler),this.setVisibility(!0)}}function KL(n){if(Z6(this.browser)===!0){const e=this.browser.getSelectedTrackViews().map(({track:s})=>s);for(const s of e)s.selected=!1;const t=[];for(let s of e)s.type==="merged"?t.push(...s.tracks):t.push(s);const i={name:"Overlay",type:"merged",autoscale:!1,alpha:.5,height:Math.max(...e.map(({height:s})=>s)),order:Math.min(...e.map(({order:s})=>s))},r=new pw(i,this.browser,t);for(const s of e)this.browser.removeTrack(s);this.browser.addTrack(i,r)}}function Z6(n){const e=n.getSelectedTrackViews();if(e&&e.length>1){const t=new Set(["wig","merged"]);return e.filter(({track:r})=>t.has(r.type)).length>1}else return!1}const YL=50,Ou=new Set(["sequence","ruler","ideogram"]),XL=new Set(["ruler","sequence","ideogram"]);class $g{constructor(e,t,i){this.namespace=`trackview-${nn()}`,this.browser=e,this.track=i,i.trackView=this,this.addDOMToColumnContainer(e,t,e.referenceFrameList)}startSpinner(){this.viewports&&this.viewports.length>0&&this.viewports[0].startSpinner()}stopSpinner(){this.viewports&&this.viewports.length>0&&this.viewports[0].stopSpinner()}addDOMToColumnContainer(e,t,i){this.axis=this.createAxis(e,this.track),this.createViewports(e,t,i),this.sampleInfoViewport=new LL(this,e.columnContainer.querySelector(".igv-sample-info-column"),e.getSampleInfoViewportWidth()),this.sampleNameViewport=new HL(this,e.columnContainer.querySelector(".igv-sample-name-column"),void 0,e.getSampleNameViewportWidth()),this.createTrackScrollbar(e),this.createTrackDragHandle(e),this.createTrackGearPopup(e)}createViewports(e,t,i){this.viewports=[];const r=e.calculateViewportWidth(i.length),s=t.querySelectorAll(".igv-column");for(let o=0;o<s.length;o++){const a=t2(this,s[o],i[o],r);this.viewports.push(a)}}createAxis(e,t){const i=Ce();if(e.columnContainer.querySelector(".igv-axis-column").appendChild(i),i.dataset.tracktype=t.type,i.style.height=`${t.height}px`,typeof t.paintAxis=="function"){const{width:r,height:s}=i.getBoundingClientRect();this.axisCanvas=document.createElement("canvas"),this.axisCanvas.style.width=`${r}px`,this.axisCanvas.style.height=`${s}px`,i.appendChild(this.axisCanvas)}if(bf.has(this.track.type)===!1){const r=Ce();i.appendChild(r);const o=document.createRange().createContextualFragment('<input type="checkbox" name="track-select">').firstChild;r.appendChild(o),o.checked=this.track.selected||!1,o.addEventListener("change",a=>{a.preventDefault(),a.stopPropagation(),this.track.selected=a.target.checked,this.setDragHandleSelectionState(a.target.checked),this.browser.overlayTrackButton.setVisibility(Z6(this.browser))}),this.setTrackSelectionState(i,!1)}return i}resizeAxisCanvas(e,t){this.axis.style.width=`${e}px`,this.axis.style.height=`${t}px`,typeof this.track.paintAxis=="function"&&(this.axisCanvas.style.width=`${e}px`,this.axisCanvas.style.height=`${t}px`)}renderSVGContext(e,{deltaX:t,deltaY:i}){ZL(e,this.track,this.axisCanvas,t,i);const{width:r}=this.axis.getBoundingClientRect(),{y:s}=this.viewports[0].$viewport.get(0).getBoundingClientRect();let o={deltaX:r+t,deltaY:s+i};for(let a of this.viewports){a.renderSVGContext(e,o);const{width:l}=a.$viewport.get(0).getBoundingClientRect();o.deltaX+=l}if(this.browser.sampleInfo.isInitialized()===!0&&this.browser.sampleInfoControl.showSampleInfo===!0){this.sampleInfoViewport.renderSVGContext(e,o);const{width:a}=this.sampleInfoViewport.viewport.getBoundingClientRect();o.deltaX+=a}this.browser.showSampleNames===!0&&this.sampleNameViewport.renderSVGContext(e,o)}presentColorPicker(e){if(XL.has(this.track.type)===!1){const t=[],i=this.track.color||this.track.defaultColor;St(i)&&t.push(i),this.track.altColor&&St(this.track.altColor)&&t.push(this.track.altColor);let r=t.map(a=>a.startsWith("#")?a:a.startsWith("rgb(")?Xe.rgbToHex(a):Xe.colorNameToHex(a)),s={color:a=>{this.track.color=Ny(a),this.repaintViews()},altColor:a=>{this.track.altColor=Ny(a),this.repaintViews()}};const o=this.browser.getSelectedTrackViews();o.length>0&&new Set(o).has(this)?(s={color:a=>{for(let l of o)l.track.color=a,l.repaintViews()}},this.browser.genericColorPicker.configure(r,s)):this.browser.genericColorPicker.configure(r,s),this.browser.genericColorPicker.setActiveColorHandler(e),this.browser.genericColorPicker.show()}}setTrackHeight(e,t){t||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.resizeAxisCanvas(this.axis.clientWidth,this.track.height),typeof this.track.paintAxis=="function"&&this.paintAxis();for(let{$viewport:i}of this.viewports)i.height(e);if(this.sampleInfoViewport.setHeight(e),this.sampleNameViewport.viewport.style.height=`${e}px`,typeof this.track.computePixelHeight!="function")for(let i of this.viewports)i.setContentHeight(e);this.repaintViews(),this.updateScrollbar(),this.dragHandle.style.height=`${e}px`,this.gearContainer.style.height=`${e}px`}updateScrollbar(){const e=this.viewports[0].$viewport.height();if(this.outerScroll.style.height=`${e}px`,Ou.has(this.track.type)===!1){const t=this.maxViewportContentHeight(),i=Math.round(e/t*e);t>e?(this.innerScroll.style.display="block",this.innerScroll.style.height=`${i}px`):this.innerScroll.style.display="none"}}moveScroller(e){const t=ke(this.innerScroll).position().top+e,i=Math.min(Math.max(0,t),this.outerScroll.clientHeight-this.innerScroll.clientHeight);ke(this.innerScroll).css("top",`${i}px`);const r=this.maxViewportContentHeight(),s=-Math.round(i*(r/this.viewports[0].$viewport.height()));for(let o of this.viewports)o.setTop(s);this.sampleInfoViewport.setTop(s),this.sampleNameViewport.trackScrollDelta=e,this.sampleNameViewport.setTop(s)}isLoading(){for(let e of this.viewports)if(e.isLoading())return!0}repaintViews(){for(let e of this.viewports)e.isVisible()&&e.repaint();typeof this.track.paintAxis=="function"&&this.paintAxis(),this.repaintSampleInfo(),this.repaintSamples()}repaintSampleInfo(){this.sampleInfoViewport.repaint()}repaintSamples(){if(typeof this.track.getSamples=="function"){const e=this.track.getSamples();e.names&&e.names.length>0&&this.sampleNameViewport.repaint(e)}}setTrackLabelName(e){this.viewports.forEach(t=>t.setTrackLabel(e))}resize(e){for(let t of this.viewports)t.setWidth(e)}async updateViews(){if(!(this.browser&&this.browser.referenceFrameList))return;const e=this.viewports.filter(o=>o.isVisible());if(e.forEach(o=>o.shift()),this.browser.dragObject)return;const t=e.filter(o=>o.needsRepaint()).filter(o=>o.checkZoomIn()),i=e.filter(o=>o.checkZoomIn()).filter(o=>o.needsReload());for(let o of i)await o.loadFeatures();if(this.disposed)return;if(this.track&&typeof this.track.variantRowCount=="function"&&i.length>0){let o=0;for(let l of this.viewports)l.featureCache&&l.featureCache.features&&(o=Math.max(o,l.featureCache.features.reduce((c,h)=>Math.max(c,h.row||0),0)));if(this.track.nVariantRows!==o+1){this.track.variantRowCount(o+1);for(let l of this.viewports)l.checkContentHeight()}}let r;if(this.track.type==="merged")r=this.track.updateScales(e);else if(this.track.autoscale){let o=[];for(let a of e){const l=a.referenceFrame,c=l.start,h=c+l.toBP(a.getWidth());if(a.featureCache&&a.featureCache.features)if(typeof a.featureCache.features.getMax=="function"){const u=a.featureCache.features.getMax(c,h);if(o.push({value:u}),typeof a.featureCache.features.getMin=="function"){const f=a.featureCache.features.getMin(c,h);o.push({value:f})}}else{const u=wd.findOverlapping(a.featureCache.features,c,h);for(let f of u)o.push(f)}}typeof this.track.doAutoscale=="function"?this.track.dataRange=this.track.doAutoscale(o):this.track.dataRange=vh(o)}const s=this.track.autoscale||this.track.autoscaleGroup||this.track.type==="ruler"||r||this.track.groupBy;for(let o of e)t.includes(o)?o.repaint():s&&o.refresh();this.adjustTrackHeight(),this.repaintSampleInfo(),this.repaintSamples(),this.updateRulerViewportLabels()}clearCachedFeatures(){for(let e of this.viewports)e.clearCache()}updateRulerViewportLabels(){const e=this.browser.calculateViewportWidth(this.viewports.length);for(let t of this.viewports)this.track.type==="ruler"&&(this.viewports.length>1?t.presentLocusLabel(e):t.dismissLocusLabel())}async getInViewFeatures(){if(!(this.browser&&this.browser.referenceFrameList))return[];let e=[];const t=this.viewports.filter(i=>i.isVisible());for(let i of t){const r=i.referenceFrame,{chr:s,start:o,bpPerPixel:a}=i.referenceFrame,l=o+r.toBP(i.getWidth());if((!i.featureCache||!i.featureCache.containsRange(s,o,l,a))&&await i.loadFeatures(),i.featureCache&&i.featureCache.features)if(typeof i.featureCache.features.getMax=="function"){const h=i.featureCache.features.getMax(o,l);e.push({value:h})}else{const h=typeof i.featureCache.queryFeatures=="function"?i.featureCache.queryFeatures(s,o,l):wd.findOverlapping(i.featureCache.features,o,l);e=e.concat(h)}}return e}checkContentHeight(){for(let e of this.viewports)e.checkContentHeight();this.adjustTrackHeight()}adjustTrackHeight(){var e=this.maxViewportContentHeight();if(this.track.autoHeight?this.setTrackHeight(e,!1):this.track.paintAxis&&this.paintAxis(),Ou.has(this.track.type)===!1){const t=this.viewports[0].getContentTop(),i=this.viewports[0].$viewport.height(),r=Math.min(0,i-e);if(t<r)for(let s of this.viewports)s.setTop(r);this.updateScrollbar()}}viewportsToReload(e){return this.viewports.filter(i=>{if(!i.isVisible())return!1;if(i.checkZoomIn()){const r=i.referenceFrame,s=i.referenceFrame.chr,o=r.start,a=o+r.toBP(ke(i.contentDiv).width()),l=r.bpPerPixel;return e||!i.tile||i.tile.invalidate||!i.tile.containsRange(s,o,a,l)}else return!1})}createTrackScrollbar(e){const t=Ce();if(e.columnContainer.querySelector(".igv-scrollbar-column").appendChild(t),t.style.height=`${this.track.height}px`,this.outerScroll=t,Ou.has(this.track.type)===!1){const i=Ce();t.appendChild(i),this.innerScroll=i,this.addTrackScrollMouseHandlers(e)}}createTrackDragHandle(e){this.track.type!=="sequence"&&bf.has(this.track.type)===!0?this.dragHandle=Ce({class:"igv-track-drag-shim"}):(this.dragHandle=Ce({class:"igv-track-drag-handle"}),this.dragHandle.classList.add("igv-track-drag-handle-color")),e.columnContainer.querySelector(".igv-track-drag-column").appendChild(this.dragHandle),this.dragHandle.style.height=`${this.track.height}px`,this.addTrackDragMouseHandlers(e)}createTrackGearPopup(e){if(this.gearContainer=Ce(),e.columnContainer.querySelector(".igv-gear-menu-column").appendChild(this.gearContainer),this.gearContainer.style.height=`${this.track.height}px`,this.track.ignoreTrackMenu!==!0){let i=function(r){if(r.preventDefault(),r.stopPropagation(),this.trackGearPopup.popover.style.display==="none"){for(const s of e.trackViews.filter(o=>o!==this&&o.trackGearPopup!==void 0))s.trackGearPopup.popover.style.display="none";this.trackGearPopup.presentMenuList(this,e.menuUtils.trackMenuItemList(this))}else this.trackGearPopup.popover.style.display="none"};var t=i;this.gear=Ce(),this.gearContainer.appendChild(this.gear),this.gear.appendChild(zr("cog")),this.trackGearPopup=new X6(this.gear),this.boundTrackGearClickHandler=i.bind(this),this.gear.addEventListener("click",this.boundTrackGearClickHandler)}}addTrackScrollMouseHandlers(e){this.boundTrackScrollMouseDownHandler=t.bind(this),this.innerScroll.addEventListener("mousedown",this.boundTrackScrollMouseDownHandler);function t(r){r.stopPropagation();const{y:s}=ah(r);ke(this.innerScroll).data("yDown",s.toString()),this.boundColumnContainerMouseMoveHandler=o.bind(this),e.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler);function o(a){a.stopPropagation();const{y:l}=ah(a);this.moveScroller(l-parseInt(ke(this.innerScroll).data("yDown"))),ke(this.innerScroll).data("yDown",l.toString())}}this.boundColumnContainerMouseUpHandler=i.bind(this),e.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler),e.columnContainer.addEventListener("mouseleave",this.boundColumnContainerMouseUpHandler);function i(r){e.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}}removeTrackScrollMouseHandlers(){Ou.has(this.track.type)===!1&&(this.innerScroll.removeEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.browser.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.browser.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.browser.columnContainer.removeEventListener("mouseleave",this.boundColumnContainerMouseMoveHandler))}addTrackDragMouseHandlers(e){if(this.track.type==="sequence"||bf.has(this.track.type)===!1){let a=function(u){u.preventDefault(),o=u.target,this.track.selected===!1&&(o.classList.remove("igv-track-drag-handle-color"),o.classList.add("igv-track-drag-handle-hover-color")),e.startTrackDrag(this)},l=function(u){e.endTrackDrag(),o&&u.target!==o&&this.track.selected===!1&&(o.classList.remove("igv-track-drag-handle-hover-color"),o.classList.add("igv-track-drag-handle-color")),o=void 0},c=function(u){u.preventDefault(),o===void 0&&this.track.selected===!1&&(u.target.classList.remove("igv-track-drag-handle-color"),u.target.classList.add("igv-track-drag-handle-hover-color")),e.updateTrackDrag(this)},h=function(u){u.preventDefault(),o===void 0&&this.track.selected===!1&&(u.target.classList.remove("igv-track-drag-handle-hover-color"),u.target.classList.add("igv-track-drag-handle-color"))};var t=a,i=l,r=c,s=h;let o;this.boundTrackDragMouseDownHandler=a.bind(this),this.dragHandle.addEventListener("mousedown",this.boundTrackDragMouseDownHandler),this.boundDocumentTrackDragMouseUpHandler=l.bind(this),document.addEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.boundTrackDragMouseEnterHandler=c.bind(this),this.dragHandle.addEventListener("mouseenter",this.boundTrackDragMouseEnterHandler),this.dragHandle.addEventListener("mouseout",u=>{u.preventDefault(),o===void 0&&this.track.selected===!1&&(u.target.classList.remove("igv-track-drag-handle-hover-color"),u.target.classList.add("igv-track-drag-handle-color"))}),this.boundTrackDragMouseOutHandler=h.bind(this),this.dragHandle.addEventListener("mouseout",this.boundTrackDragMouseOutHandler)}}removeTrackDragMouseHandlers(){this.track.type==="ideogram"||this.track.type==="ruler"||(this.dragHandle.removeEventListener("mousedown",this.boundTrackDragMouseDownHandler),document.removeEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.dragHandle.removeEventListener("mouseup",this.boundTrackDragMouseEnterHandler),this.dragHandle.removeEventListener("mouseout",this.boundTrackDragMouseOutHandler))}removeTrackGearMouseHandlers(){this.track.ignoreTrackMenu===!0||this.gear.removeEventListener("click",this.boundTrackGearClickHandler)}removeDOMFromColumnContainer(){this.axis.remove(),this.removeViewportsFromColumnContainer(),this.sampleInfoViewport.dispose(),this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove()}removeViewportsFromColumnContainer(){for(let e of this.viewports)e.$viewport.remove()}dispose(){this.axis.remove();for(let e of this.viewports)e.dispose();this.sampleInfoViewport.dispose(),this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove(),typeof this.track.dispose=="function"&&this.track.dispose();for(let e of Object.keys(this))this[e]=void 0;this.alert&&this.alert.container.remove(),this.disposed=!0}paintAxis(){if(typeof this.track.paintAxis=="function"){const{width:e,height:t}=this.axisCanvas.getBoundingClientRect(),i=window.devicePixelRatio||1;this.axisCanvas.height=i*t,this.axisCanvas.width=i*e;const r=this.axisCanvas.getContext("2d");if(r.scale(i,i),this.track.autoscaleGroup){if(Ff[this.track.autoscaleGroup]===void 0){const o=bd.Dark2,a=Math.floor(Math.random()*bd.Dark2.length);Ff[this.track.autoscaleGroup]=o[a]}const s=Xe.addAlpha(Ff[this.track.autoscaleGroup],.75);this.track.paintAxis(r,e,t,s)}else this.track.paintAxis(r,e,t,void 0)}}maxViewportContentHeight(){return Math.max(...this.viewports.map(e=>e.getContentHeight()))}setTrackSelectionState(e,t){const i=e.querySelector("div");if(t!==!1)i.style.display="grid";else{const r=i.querySelector("[name=track-select]");r.checked=this.track.selected,this.dragHandle&&this.setDragHandleSelectionState(!1),i.style.display="none"}}setDragHandleSelectionState(e){const t=this.dragHandle;e?(t.classList.remove("igv-track-drag-handle-color"),t.classList.remove("igv-track-drag-handle-hover-color"),t.classList.add("igv-track-drag-handle-selected-color")):(t.classList.remove("igv-track-drag-handle-hover-color"),t.classList.remove("igv-track-drag-handle-selected-color"),t.classList.add("igv-track-drag-handle-color"))}}function ZL(n,e,t,i,r){if(typeof e.paintAxis=="function"){const{y:s,width:o,height:a}=t.getBoundingClientRect(),c=`${(e.name||e.id).replace(/\W/g,"")}_axis_guid_${nn()}`;n.saveWithTranslationAndClipRect(c,i,s+r,o,a,0),e.paintAxis(n,o,a),n.restore()}}function J6(n){this.thresholds=n.thresholds,this.colors=n.colors}J6.prototype.getColor=function(n){for(let e of this.thresholds)if(n<e)return this.colors[this.thresholds.indexOf(e)];return this.colors[this.colors.length-1]};function i2(n){this.scale=n,this.lowColor="rgb("+n.lowR+","+n.lowG+","+n.lowB+")",this.highColor="rgb("+n.highR+","+n.highG+","+n.highB+")",this.diff=n.high-n.low}i2.prototype.getColor=function(n){var e=this.scale,t,i,r,s;return n<=e.low?this.lowColor:n>=e.high?this.highColor:(s=(n-e.low)/this.diff,t=Math.floor(e.lowR+s*(e.highR-e.lowR)),i=Math.floor(e.lowG+s*(e.highG-e.lowG)),r=Math.floor(e.lowB+s*(e.highB-e.lowB)),"rgb("+t+","+i+","+r+")")};class JL{constructor(e){this.color=e}getColor(){return this.color}}const ez={threshold:2e3,r:0,g:0,b:255};class kd{constructor(e){e=e||ez,this.threshold=e.threshold,this.r=e.r,this.g=e.g,this.b=e.b,this.cache=[],this.nbins=2e3,this.binsize=this.threshold/this.nbins}setThreshold(e){this.threshold=e,this.cache=[],this.binsize=this.threshold/this.nbins}getThreshold(){return this.threshold}setColorComponents(e){this.r=e.r,this.g=e.g,this.b=e.b,this.cache=[]}getColorComponents(){return{r:this.r,g:this.g,b:this.b}}equals(e){return JSON.stringify(this)===JSON.stringify(e)}getColor(e){const i=Math.floor(Math.min(this.threshold,e)/this.binsize);if(this.cache[i]===void 0){const r=(lt.clamp(e,0,this.threshold)-0)/(this.threshold-0);this.cache[i]=`rgba(${this.r},${this.g},${this.b}, ${r})`}return this.cache[i]}stringify(){return""+this.threshold+","+this.r+","+this.g+","+this.b}static parse(e){var t,i;if(e.startsWith("R:"))return t=e.substring(2).split(":"),i=new RatioColorScale(Number.parseFloat(t[0])),i.positiveScale=r(t[1]),i.negativeScale=r(t[2]),i;return r(e);function r(s){var o,a;return a=s.split(","),o={threshold:a[0],r:a[1],g:a[2],b:a[3]},new kd(o)}}}class tz{constructor(e){this.config=e,this.url=e.path||e.url}async read(e,t){const i={start:e,size:t};return Be.loadArrayBuffer(this.url,{range:i})}}class nz{constructor(e){this.file=e}async read(e,t){const i=this.file;return e!==void 0?i.slice(e,e+t).arrayBuffer():i.arrayBuffer()}}class iz{constructor(e,t){this.file=e,this.rateLimiter=t}async read(e,t){const i=this.file,r=this.rateLimiter;return new Promise(function(s,o){r.limiter(async function(a){try{const l=await a.read(e,t);s(l)}catch(l){o(l)}})(i)})}}class rz{constructor(e){this.wait=e===void 0?100:e,this.isCalled=!1,this.calls=[]}limiter(e){const t=this;let i=function(){t.calls.length&&!t.isCalled&&(t.isCalled=!0,t.calls.shift().call(),setTimeout(function(){t.isCalled=!1,i()},t.wait))};return function(){t.calls.push(e.bind(this,...arguments)),i()}}}class sz{constructor(e){this.file=e.file,this.size=e.size||64e3,this.position=0,this.bufferStart=0,this.bufferLength=0,this.buffer=void 0}async read(e,t){const i=e,r=e+t,s=this.bufferStart,o=this.bufferStart+this.bufferLength;if(t>this.size)return this.buffer=void 0,this.bufferStart=0,this.bufferLength=0,this.file.read(e,t);if(i>=s&&r<=o){const a=i-s,l=a+t;return this.buffer.slice(a,l)}else if(i<s&&r>s){const a=s-i,l=await this.file.read(e,a),c=t-a;if(c>0){const h=this.buffer.slice(0,c);return Bv(l,h)}else return l}else if(i<o&&r>o){const a=o-i,l=this.bufferLength-a,c=this.buffer.slice(l,this.bufferLength),h=t-a;if(h>0)try{this.buffer=await this.file.read(o,this.size),this.bufferStart=o,this.bufferLength=this.buffer.byteLength;const u=this.buffer.slice(0,h);return Bv(c,u)}catch(u){if(u.code&&u.code===416)return c;throw u}else return c}else return this.buffer=await this.file.read(e,this.size),this.bufferStart=e,this.bufferLength=this.buffer.byteLength,this.buffer.slice(0,t)}}var Bv=function(n,e){var t=new Uint8Array(n.byteLength+e.byteLength);return t.set(new Uint8Array(n),0),t.set(new Uint8Array(e),n.byteLength),t.buffer};const ct=function(n,e){this.littleEndian=e!==void 0?e:!0,this.position=0,this.view=n,this.length=n.byteLength};ct.prototype.available=function(){return this.length-this.position};ct.prototype.remLength=function(){return this.length-this.position};ct.prototype.hasNext=function(){return this.position<this.length-1};ct.prototype.getByte=function(){var n=this.view.getUint8(this.position,this.littleEndian);return this.position++,n};ct.prototype.getShort=function(){var n=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,n};ct.prototype.getUShort=function(){var n=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,n};ct.prototype.getInt=function(){var n=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,n};ct.prototype.getUInt=function(){var n=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,n};ct.prototype.getLong=function(){var n=[];n[0]=this.view.getUint8(this.position),n[1]=this.view.getUint8(this.position+1),n[2]=this.view.getUint8(this.position+2),n[3]=this.view.getUint8(this.position+3),n[4]=this.view.getUint8(this.position+4),n[5]=this.view.getUint8(this.position+5),n[6]=this.view.getUint8(this.position+6),n[7]=this.view.getUint8(this.position+7);var e=0;if(this.littleEndian)for(var t=n.length-1;t>=0;t--)e=e*256+n[t];else for(var t=0;t<n.length;t++)e=e*256+n[t];return this.position+=8,e};ct.prototype.getString=function(n){for(var e="",t;(t=this.view.getUint8(this.position++))!=0&&(e+=String.fromCharCode(t),!(n&&e.length==n)););return e};ct.prototype.getFixedLengthString=function(n){var e="",t,i;for(t=0;t<n;t++)i=this.view.getUint8(this.position++),i>0&&(e+=String.fromCharCode(i));return e};ct.prototype.getFixedLengthTrimmedString=function(n){var e="",t,i;for(t=0;t<n;t++)i=this.view.getUint8(this.position++),i>32&&(e+=String.fromCharCode(i));return e};ct.prototype.getFloat=function(){var n=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,n};ct.prototype.getDouble=function(){var n=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,n};ct.prototype.skip=function(n){return this.position+=n,this.position};ct.prototype.getVPointer=function(){var n=this.position,e=this.view.getUint8(n+1)<<8|this.view.getUint8(n),t=(this.view.getUint8(n+6)&255)*4294967296,i=(this.view.getUint8(n+5)&255)*16777216,r=(this.view.getUint8(n+4)&255)*65536,s=(this.view.getUint8(n+3)&255)*256,o=this.view.getUint8(n+2)&255,a=t+i+r+s+o;return this.position+=8,new bp(a,e)};function bp(n,e){this.block=n,this.offset=e}bp.prototype.isLessThan=function(n){return this.block<n.block||this.block===n.block&&this.offset<n.offset};bp.prototype.isGreaterThan=function(n){return this.block>n.block||this.block===n.block&&this.offset>n.offset};bp.prototype.print=function(){return""+this.block+":"+this.offset};class gw{constructor(e,t){this.chr1=e,this.chr2=t}getKey(){return this.chr1.name+"_"+this.chr2.name+"_"+this.zoom.unit+"_"+this.zoom.binSize}getBlockNumbers(e,t,i){if(e.chr==this.chr2&&t.chr===this.chr1){const h=e;e=t,t=h}const r=this.chr1===this.chr2,s=this.zoom.binSize,o=this.blockBinCount,a=this.blockColumnCount;return i<9||!r?l():c();function l(){const h=e.start/s,u=e.end/s,f=t.start/s,d=t.end/s,p=Math.floor(h/o),w=Math.floor((u-1)/o),F=Math.floor(f/o),g=Math.floor((d-1)/o),m=[];for(let b=F;b<=g;b++)for(let y=p;y<=w;y++){let A;r&&b<y?A=y*a+b:A=b*a+y,m.includes(A)||m.push(A)}return m}function c(){const h=e.start/s,u=e.end/s,f=t.start/s,d=t.end/s,p=Math.floor((h+f)/2/o),w=Math.floor((u+d)/2/o),F=Math.floor(Math.log2(1+Math.abs(h-d)/Math.sqrt(2)/o)),g=Math.floor(Math.log2(1+Math.abs(u-f)/Math.sqrt(2)/o)),b=(u-f)*(h-d)<0?0:Math.min(F,g),y=Math.max(F,g),A=[];for(let x=b;x<=y;x++)for(let v=p;v<=w;v++){const _=x*a+v;A.push(_)}return A}}static parseMatrixZoomData(e,t,i){const r=new gw(e,t),s=i.getString(),o=i.getInt(),a=i.getFloat(),l=i.getFloat(),c=i.getFloat(),h=i.getFloat(),u=i.getInt();r.blockBinCount=i.getInt(),r.blockColumnCount=i.getInt();const f=i.getInt();r.zoom={index:o,unit:s,binSize:u},r.blockIndex=new oz(f,i);const d=e.size/u,p=t.size/u,w=a/d/p;return r.averageCount=w,r.sumCounts=a,r.stdDev=c,r.occupiedCellCount=l,r.percent95=h,r}}class oz{constructor(e,t){for(this.blockIndex={};e-- >0;){const i=t.getInt(),r=t.getLong(),s=t.getInt();this.blockIndex[i]={filePosition:r,size:s}}}getBlockIndexEntry(e){return this.blockIndex[e]}}class Oc{constructor(e,t,i){this.chr1=e,this.chr2=t,this.bpZoomData=[],this.fragZoomData=[];for(let r of i)r.zoom.unit==="BP"?this.bpZoomData.push(r):this.fragZoomData.push(r)}findZoomForResolution(e,t){const i=t==="FRAG"?this.fragZoomData:this.bpZoomData;for(let s=1;s<i.length;s++){var r=i[s];if(r.zoom.binSize<e)return s-1}return i.length-1}getZoomData(e,t){t=t||"BP";const i=t==="BP"?this.bpZoomData:this.fragZoomData;for(let s=0;s<i.length;s++){var r=i[s];if(e===r.zoom.binSize)return r}}getZoomDataByIndex(e,t){return(t==="FRAG"?this.fragZoomData:this.bpZoomData)[e]}static getKey(e,t){if(e>t){const i=e;e=t,t=i}return`${e}_${t}`}static parseMatrix(e,t){const i=new ct(new DataView(e)),r=i.getInt(),s=i.getInt(),o=t[r],a=t[s];let l=i.getInt();const c=[];for(;l-- >0;){const h=gw.parseMatrixZoomData(o,a,i);c.push(h)}return new Oc(r,s,c)}}class ac{constructor(e,t,i){this.bin1=e,this.bin2=t,this.counts=i}getKey(){return""+this.bin1+"_"+this.bin2}}class r2{constructor(e=10){this.max=e,this.map=new Map}get(e){let t=this.map.get(e);return t&&(this.map.delete(e),this.map.set(e,t)),t}set(e,t){this.map.has(e)?this.map.delete(e):this.map.size===this.max&&this.map.delete(this.first()),this.map.set(e,t)}has(e){return this.map.has(e)}clear(){this.map.clear()}first(){return this.map.keys().next().value}}const az=8;class mw{constructor(e,t,i,r){this.file=e,this.filePosition=t,this.nValues=i,this.dataType=r,this.cache=void 0}async getValues(e,t){if(!this.cache||e<this.cache.start||t>this.cache.end){const s=Math.max(0,e-1e3),o=Math.min(this.nValues,t+1e3),a=this.filePosition+s*this.dataType,l=o-s,c=l*this.dataType,h=await this.file.read(a,c);if(!h)return;const u=new ct(new DataView(h)),f=[];for(let d=0;d<l;d++)f[d]=this.dataType===az?u.getDouble():u.getFloat();this.cache={start:s,end:o,values:f}}const i=e-this.cache.start,r=i+(t-e);return this.cache.values.slice(i,r)}getKey(){return mw.getKey(this.type,this.chrIdx,this.unit,this.resolution)}static getNormalizationVectorKey(e,t,i,r){return e+"_"+t+"_"+i+"_"+r}}var Dv={"hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined.hic":"54386046426,55860","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fprimary.hic":"33860030033,37504","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Freplicate.hic":"30849652794,55832","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fmaternal.hic":"1380542661,17185","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fpaternal.hic":"1389001777,17185","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2Fcombined.hic":"13433880319,35723","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC001.hic":"3409347253,35975","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC002.hic":"4529947083,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC003.hic":"6894962500,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC004.hic":"3395593338,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC005.hic":"5204128636,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC006.hic":"3278363811,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC007.hic":"3585547340,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC008.hic":"4134197273,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC009.hic":"2851728310,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC010.hic":"1754216102,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC011.hic":"1716829574,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC012.hic":"4367980375,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC013.hic":"2309654671,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC014.hic":"5324950266,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC015.hic":"3132333594,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC016.hic":"3159154704,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC017.hic":"3262554627,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC018.hic":"3014216364,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC019.hic":"5025753246,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC020.hic":"5861584507,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC021.hic":"3542263275,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC022.hic":"5061949378,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC023.hic":"4816423919,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC024.hic":"2683781104,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC025.hic":"6522701781,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC026.hic":"6748846520,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC027.hic":"5642693007,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC028.hic":"2098921691,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC029.hic":"3886454027,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fagar%2FHIC030.hic":"2288984204,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fagar%2FHIC031.hic":"2115342419,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fpellet%2FHIC032.hic":"2063314324,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fsupernatant%2FHIC033.hic":"1933908457,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC034.hic":"13555514595,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC035.hic":"6129650900,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC036.hic":"4307445019,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2FHIC037.hic":"9375139867,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fdilution%2Fcombined.hic":"11664249584,33929","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined_DpnII.hic":"7003537290,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC038.hic":"2099825544,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC039.hic":"2096900138,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC040.hic":"2593642141,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC041.hic":"2263919098,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC042.hic":"2684774693,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2Fcombined_noXlink.hic":"5574807456,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC043.hic":"2986114347,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC044.hic":"1916378621,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC045.hic":"746463126,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC046.hic":"2338476164,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC047.hic":"1167496250,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC048.hic":"2231690794,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fin-situ%2FHIC049.hic":"2782308678,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC050.hic":"3633531346,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC051.hic":"4063486444,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC052.hic":"929756278,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC053.hic":"2489657204,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC054.hic":"4036419444,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC055.hic":"4284185549,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fin-situ%2FHIC056.hic":"4410546240,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fimr90%2Fdilution%2FHIC057.hic":"1491998259,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2Fcombined.hic":"7266425111,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC058.hic":"6532635593,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC059.hic":"400684530,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC060.hic":"645352187,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC061.hic":"736291871,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC062.hic":"762731037,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fin-situ%2FHIC063.hic":"682917431,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhmec%2Fdilution%2FHIC064.hic":"4550171307,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2Fcombined.hic":"11897184911,35789","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC065.hic":"5425943567,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC066.hic":"5942869818,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fin-situ%2FHIC067.hic":"5191049261,35647","hicfiles.s3.amazonaws.com%2Fhiseq%2Fnhek%2Fdilution%2FHIC068.hic":"2713318801,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2Fcombined.hic":"12641555389,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC069.hic":"5630177461,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC070.hic":"5926611269,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC071.hic":"2486191351,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC072.hic":"2281343366,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC073.hic":"2173074239,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fk562%2Fin-situ%2FHIC074.hic":"2463700999,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2Fcombined.hic":"14661922519,35639","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC075.hic":"3685310515,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC076.hic":"5833658487,35891","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC077.hic":"2406346486,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC078.hic":"5241454987,35919","hicfiles.s3.amazonaws.com%2Fhiseq%2Fkbm7%2Fin-situ%2FHIC079.hic":"6297234263,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2Fcombined.hic":"9193858096,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC080.hic":"5171405536,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC081.hic":"3489767688,35891","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fin-situ%2FHIC082.hic":"4243339375,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhuvec%2Fdilution%2FHIC083.hic":"1497495406,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2Fcombined.hic":"7923332224,35593","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC084.hic":"867699123,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC085.hic":"3669518514,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC086.hic":"5306474712,35595","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhela%2Fin-situ%2FHIC087.hic":"1490963755,36397","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2Fcombined.hic":"8956382853,50248","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC088.hic":"1874185366,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC089.hic":"1301165236,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC090.hic":"1105246282,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC091.hic":"1338325770,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC092.hic":"1307918730,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC093.hic":"755136918,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC094.hic":"1606583694,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC095.hic":"2039711245,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC096.hic":"1909573053,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC097.hic":"1826710712,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC098.hic":"1998793575,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC099.hic":"1007740962,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC100.hic":"736464120,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC101.hic":"980505082,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fin-situ%2FHIC102.hic":"1116083646,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fdilution%2FHIC103.hic":"1096994310,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fch12-lx-b-lymphoblasts%2Fdilution%2FHIC104.hic":"841063882,32102","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC105.hic":"107742864,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC106.hic":"134295912,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC107.hic":"110228014,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC108.hic":"102761401,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC109.hic":"100461491,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC110.hic":"88828472,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC111.hic":"81471064,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC112.hic":"92297035,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC113.hic":"65503916,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC114.hic":"49181188,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC115.hic":"46471102,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC116.hic":"64284432,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC117.hic":"60434076,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC118.hic":"45248563,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC119.hic":"60288782,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC120.hic":"136888414,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC121.hic":"125009003,33681","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC122.hic":"154011688,34127","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC123.hic":"177663372,35293","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC124.hic":"382186226,35245","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC125.hic":"158160717,35271","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC127.hic":"110261177,34659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC128.hic":"246131875,35509","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC129.hic":"260160119,35667","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC130.hic":"117479562,34681","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC131.hic":"81508929,34673","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC132.hic":"105959102,34895","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC133.hic":"91504812,33451","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC134.hic":"52222546,33737","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC135.hic":"57763085,34159","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC136.hic":"50618489,33731","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC137.hic":"193163606,33363","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC138.hic":"229876152,33777","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC139.hic":"201783666,33571","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC140.hic":"281163862,34125","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC141.hic":"275969727,33935","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC142.hic":"275020431,34125","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC144.hic":"223834810,34177","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC145.hic":"296632653,33937","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC146.hic":"290945216,33961","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC147.hic":"234459964,34231","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC148.hic":"295457850,34039","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC149.hic":"113569632,35695","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC150.hic":"304381897,33963","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC151.hic":"289314545,33805","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC152.hic":"284320182,33803","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC153.hic":"401393947,34659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC154.hic":"188065488,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC155.hic":"299157119,33967","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC156.hic":"279289244,33787","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC157.hic":"254852119,33917","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC158.hic":"195969660,33477","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC159.hic":"185720388,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC160.hic":"227709279,33599","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC161.hic":"157225076,33209","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC162.hic":"105703444,32033","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC163.hic":"122665658,32121","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC164.hic":"228048231,33761","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC165.hic":"114440819,32011","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC166.hic":"285147558,33891","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC167.hic":"363116754,33943","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC168.hic":"119592158,31937","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC169.hic":"236853872,33785","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC170.hic":"195187639,33395","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC171.hic":"208044058,33309","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC172.hic":"144645916,32877","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC173.hic":"119115941,32203","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC175.hic":"178030481,33525","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC176.hic":"117220136,32169","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC177.hic":"128586196,32659","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC178.hic":"191419141,33629","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC179.hic":"141556748,32959","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC180.hic":"199825102,33185","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC181.hic":"301022688,33783","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC182.hic":"185384453,33205","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC183.hic":"202189264,36367","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC184.hic":"37464475,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC185.hic":"161938278,36099","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC186.hic":"133853166,36179","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC188.hic":"128068030,36237","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC189.hic":"148053886,36177","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC190.hic":"198946958,35803","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC191.hic":"226584564,36063","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC192.hic":"194412797,36341","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC193.hic":"176408194,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC194.hic":"207215649,36055","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC195.hic":"175185530,36315","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC196.hic":"168969337,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC197.hic":"121231252,36339","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC198.hic":"92713752,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC199.hic":"105130500,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC200.hic":"114526350,36479","hicfiles.s3.amazonaws.com%2Fmiseq%2Frh2014%2FHIC201.hic":"122689717,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fhap1%2Fin-situ%2Fcombined.hic":"9614983328,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fctbp_8_4_17%2Fall_intra_megabase_michrom.hic":"154205644,10960","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2Fdel-Xa-combined.hic":"8843305329,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FdelXa-chrX-diploid.hic":"11173520,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FWT-combined.hic":"13365182403,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FWT-chrX-diploid.hic":"17343459,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC002.hic":"4279298739,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC003.hic":"3027365532,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC004.hic":"2896130835,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC005.hic":"4717830071,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC006.hic":"5066210154,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC007.hic":"3069516128,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2Fdel-Xi-combined.hic":"14551096423,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FdelXi-chrX-diploid.hic":"17362477,1498","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC008.hic":"2572386655,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC009.hic":"2935931663,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC010.hic":"2019085070,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC011.hic":"6087610814,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC012.hic":"2809618194,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Frpe1%2FDarrowHuntley-2015%2FHIC013.hic":"2572386655,36479","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fcombined.hic":"6950423609,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fpaternal.hic":"220592749,15691","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2Fmaternal.hic":"323233095,15691","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC014.hic":"3183235800,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC015.hic":"1739539801,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC016.hic":"1105912758,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC017.hic":"1060773319,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC018.hic":"1203679874,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fpatski%2FDarrowHuntley-2015%2FHIC019.hic":"3321955269,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Frhesus%2FDarrowHuntley-2015%2FHIC020.hic":"7108980626,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2Fgm12878%2Fcola%2FDarrowHuntley-2015%2FHIC021.hic":"3906448676,34955","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2Faedes%2Fcombined.hic":"390780490,2245","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2Fhs2-hic.hic":"1960284186,33561","hicfiles.s3.amazonaws.com%2Fhiseq%2Fassembly%2FCpipJ3.hic":"766279097,4381","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fphanstiel%2Fupdated_O%2FSnyder_O.hic":"8046980555,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fphanstiel%2FA_inter.hic":"10986005145,18679","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2Fcombined.hic":"30439217680,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2Fcombined.hic":"33255540403,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F20min_withdraw_combined.hic":"11078436933,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F40min_withdraw_combined.hic":"11031830038,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F60min_withdraw_combined.hic":"10312725340,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Fdeep%2F180min_withdraw_combined.hic":"10038610214,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC001.hic":"8004335785,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC002.hic":"8453215933,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC003.hic":"9118406189,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC004.hic":"5973342894,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC005.hic":"6846576837,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC006.hic":"6075148017,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Funsynchronized%2FHIC007.hic":"8192366992,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC008.hic":"6844159653,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC009.hic":"7282063059,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC010.hic":"10410578833,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC011.hic":"8192366992,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC012.hic":"7223422850,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC013.hic":"7435986997,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Funsynchronized%2FHIC014.hic":"9120113605,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2Fcombined.hic":"4170577904,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC015.hic":"1504084990,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC016.hic":"1686244500,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC017.hic":"1804802410,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Funtreated%2Fsynchronized%2FHIC018.hic":"1533942067,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2Fcombined.hic":"4572390198,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC019.hic":"1543609666,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC020.hic":"1814133288,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC021.hic":"1942698243,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftreated_6hr%2Fsynchronized%2FHIC022.hic":"1873587413,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC049.hic":"405127557,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC060.hic":"326681741,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2Funtreated%2FRao-2017-HIC061.hic":"300908673,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_20min%2FRao-2017-HIC050.hic":"481758242,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_20min%2FRao-2017-HIC051.hic":"417577401,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_40min%2FRao-2017-HIC052.hic":"419353227,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_40min%2FRao-2017-HIC053.hic":"411554953,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_60min%2FRao-2017-HIC054.hic":"386655891,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_60min%2FRao-2017-HIC055.hic":"402170701,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_240min%2FRao-2017-HIC057.hic":"735906308,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC058.hic":"443789827,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC059.hic":"491422615,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC062.hic":"320261375,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min%2FRao-2017-HIC063.hic":"306590499,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_20min%2FRao-2017-HIC032S.hic":"367051742,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_20min%2FRao-2017-HIC033S.hic":"344555339,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_40min%2FRao-2017-HIC036S.hic":"349392947,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_40min%2FRao-2017-HIC037S.hic":"317714554,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_60min%2FRao-2017-HIC040S.hic":"266786397,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_60min%2FRao-2017-HIC041S.hic":"279445530,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_180min%2FRao-2017-HIC044S.hic":"898418269,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_180min%2FRao-2017-HIC045S.hic":"961006347,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_360min%2FRao-2017-HIC064.hic":"833576408,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_360min%2FRao-2017-HIC065.hic":"840881418,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1080min%2FRao-2017-HIC066.hic":"980958864,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1080min%2FRao-2017-HIC067.hic":"882023129,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1440min%2FRao-2017-HIC068.hic":"1110292630,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fdegron%2Ftime_course%2FAuxin_treated_360min_withdraw_1440min%2FRao-2017-HIC069.hic":"1001747023,36479","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FCP190_HiChIP.hic":"144107588,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FH3K27ac_HiChIP_combined.hic":"43171370,5233","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FH3K27me3_HiChIP_combined.hic":"42906472,5233","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPol2_ChIAPET.hic":"41992430,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPol2S2_HiChIP.hic":"145842743,6976","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FArabidopsis_Wang2015_Liu2016.hic":"1134391078,4984","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FElegans_Crane2015.hic":"387127568,8758","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FNcrassa_Galazka2016.hic":"26555511,27725","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fexternal%2Frowley_nichols_mol_cell_2017%2FPfalciparum_trophozoite_Ay2014.hic":"15640893,13948","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Me-A.hic":"6897251,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Me-B.hic":"4959088,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Mp-A.hic":"5232286,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FE-Mp-B.hic":"5105292,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Me-A.hic":"6900072,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Me-B.hic":"8653258,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Mp-A.hic":"7999058,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fduan%2FH-Mp-B.hic":"8774657,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc.hic":"23671753603,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc_rep1.hic":"23671754721,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fh1hesc_rep2.hic":"22269909910,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdekker%2F4dn%2Fhffc6_rep1.hic":"19016661622,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_NcoI.hic":"480725203,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2F302NH.hic":"99948617,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FK562.hic":"470263605,36151","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_HindIII.hic":"293706559,36289","hicfiles.s3.amazonaws.com%2Fexternal%2Flieberman_aiden_van_berkum%2FGM06990_rep_HindIII.hic":"309673862,36087","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fcanis-lupus-rep1.hic":"1531151371,56905","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fcanis-lupus-rep2.hic":"2851437676,56905","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmouse-rep1.hic":"582052544,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmacaque-rep1.hic":"698509182,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Fmacaque-rep2.hic":"461410393,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Frabbit-rep1.hic":"691045338,33561","hicfiles.s3.amazonaws.com%2Fexternal%2Frudan%2Frabbit-rep2.hic":"668888336,33561","hicfiles.s3.amazonaws.com%2Fexternal%2Fsexton%2Fcombined.hic":"50650087,4486","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-hindiii.hic":"1071142023,16500","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-mboi.hic":"1508851093,16448","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Fnon-tcc-hindiii.hic":"395179229,36093","hicfiles.s3.amazonaws.com%2Fexternal%2Fkalhor%2Ftcc-combined.hic":"1050423847,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fmm9-hindiii%2Fsplit-read-run.hic":"9599984876,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fhesc-hindiii.hic":"1952555632,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fimr90-hindiii.hic":"9691260435,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fdixon%2Fmm9-cortex.hic":"3712072953,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr18.hic":"2083350075,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr2.hic":"3362049644,16360","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fatm-i-scei-chr7.hic":"1658399854,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fwt-i-scei-chr15.hic":"866691249,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fzhang%2Fwt-i-scei-chr2.hic":"3304782795,16386","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-1.hic":"23673506,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-2.hic":"26873280,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-3.hic":"31066362,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-4.hic":"16807724,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-5.hic":"28665065,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-6.hic":"13124158,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-7.hic":"15118945,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-8.hic":"68316814,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-9.hic":"18965101,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2Fcell-10.hic":"17020666,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Fcombined.hic":"6526601242,36427","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep1.hic":"1861562891,36401","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep2.hic":"3061013635,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep3.hic":"1564588211,35969","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep4.hic":"1255543175,36153","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep5.hic":"974683253,36179","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90%2Frep6.hic":"1040805629,36053","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Fcombined.hic":"8424080116,36401","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep1.hic":"2697976702,36295","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep3.hic":"1718610467,36159","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep4.hic":"2029519405,36101","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep5.hic":"985310855,36069","hicfiles.s3.amazonaws.com%2Fexternal%2Fjin%2Fimr90-tnf-alpha%2Frep6.hic":"1418750480,35967","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fmhh-call-4-cell-line.hic":"538380253,35351","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fprimary-b-all.hic":"773764191,35793","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Fnormal-b-cell-line.hic":"336271459,35005","hicfiles.s3.amazonaws.com%2Fexternal%2Fcheng%2Frl-cell-line.hic":"484807998,35351","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-biorep.hic":"135932435,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-techrep1.hic":"160355961,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Fhou%2Fkc167-techrep2.hic":"188809887,8758","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fpre-prob-egs.hic":"2237792858,15483","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fprob-egs.hic":"5744720377,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Flin%2Fprob-fa.hic":"2174866215,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fhct116-rnapii-pilot.hic":"396366166,35999","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fhela-rnapii-pilot.hic":"882516759,35107","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fk562-rnapii-pilot.hic":"1131576189,35969","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fk562-rnapii-saturated.hic":"571583828,36291","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fmcf7-rnapii-saturated.hic":"1282547841,36035","hicfiles.s3.amazonaws.com%2Fexternal%2Fli%2Fnb4-rnapii-pilot.hic":"761614686,34861","hicfiles.s3.amazonaws.com%2Fexternal%2Fjung%2Fmouse_sperm.hic":"1730231642,29184","hicfiles.s3.amazonaws.com%2Fexternal%2Ftang%2Fgm12878.hic":"1953518212,20505","hicfiles.s3.amazonaws.com%2Fexternal%2Frutledge%2FSRR1791299.hic":"5723484,11956","hicfiles.s3.amazonaws.com%2Fexternal%2Frutledge%2FSRR1791297.hic":"16534743,23348","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv.hic":"5094525579,36289","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv-rep1.hic":"2574358912,36373","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-hrv-rep2.hic":"3417099433,36243","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev.hic":"4785157552,36323","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev-rep1.hic":"2648268465,36321","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-rad21cv-tev-rep2.hic":"2994727980,36107","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf.hic":"5391791815,36063","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf-rep1.hic":"3325842095,36269","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctcf-rep2.hic":"3096215920,36167","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl.hic":"3830902383,36167","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl-rep1.hic":"1346712252,36079","hicfiles.s3.amazonaws.com%2Fexternal%2Fzuin%2Fhek293t-sirna-ctrl_rep2.hic":"3098067367,36271","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-0h-hiseq.hic":"38174042,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-18h-hiseq.hic":"26506099,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-18h-hiseq-non-crosslinked_control.hic":"3545496,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fay%2Fp-falciparum-3d7-36h-hiseq.hic":"70754194,21889","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fg1mid-r1.hic":"200863476,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fm-r1.hic":"249021190,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3%2Fm-r2.hic":"212341157,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fg1-0-25fa.hic":"583572265,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fg1-1fa.hic":"354502306,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-0-25fa.hic":"149308791,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-98percent.hic":"778175225,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhelas3ccl2p2%2Fm-1fa.hic":"158091047,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhff1%2Fcchic-hff1-ns-r1.hic":"801670039,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fhff1%2Fcchic-hff1-m-r1.hic":"875922086,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fk562%2Fm-r1.hic":"130959943,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fnaumova%2Fk562%2Fm-r2.hic":"237861106,17185","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-WT.hic":"496104039,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-WT-adv-cre.hic":"438608517,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-floxed-rep1.hic":"446205712,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-floxed-rep2.hic":"386354767,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-deleted-rep1.hic":"621998722,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmAST-deleted-rep2.hic":"583840829,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-floxed-rep1.hic":"801290988,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-floxed-rep2.hic":"819406658,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-deleted-rep1.hic":"792825269,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-deleted-rep2.hic":"746189884,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-WT.hic":"309353372,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fsofueva%2FmNSC-WT-OHT.hic":"274229679,30643","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21KO-R1.hic":"1490362251,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21KO-R3.hic":"2403664421,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21WT-R1.hic":"1377124538,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fseitan%2FTcell-Rad21WT-R3.hic":"2646201369,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fmoissiard%2Fcrh6-mutant.hic":"105261071,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fmoissiard%2FWT.hic":"127506388,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2FCol.hic":"153638500,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2Fcrwn1.hic":"211213220,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fgrob%2Fcrwn4.hic":"134236837,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fxie%2Fprimary.hic":"92936173,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt-control6wt337.hic":"318737891,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt-control6wt67.hic":"348123956,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt337.hic":"251107279,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2F6wt67.hic":"351840994,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2FCol0.hic":"345969497,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fclf28-swn7.hic":"299585025,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fcmt3-11.hic":"253427706,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fddm1-2.hic":"303626924,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fmet1-3.hic":"347697973,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Ffeng%2Fsuvh4-suvh5-suvh6.hic":"263122019,10217","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FDNase-HiC-WG-K562.hic":"892955840,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FDNaseHiC-WG-H1.hic":"696922695,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-K562-rep1.hic":"341917716,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargeredDNaseHiC-lincRNA-K562-rep2.hic":"214841185,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-H1-rep1.hic":"616326137,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-lincRNA-H1-rep2.hic":"579654013,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-pe-H1-rep1.hic":"519810544,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Fma%2FtargetedDNaseHiC-pe-K562-rep1.hic":"199553123,18679","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_DpnII.hic":"1319373594,6976","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_HinfI.hic":"1465493873,6976","hicfiles.s3.amazonaws.com%2Fexternal%2Frowley%2FKc167_DpnII_HinfI_combo.hic":"753062558,5814","hicfiles.s3.amazonaws.com%2Fexternal%2Fbarutcu%2FMCF-10A.hic":"2784956115,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fbarutcu%2FMCF-7.hic":"2700457411,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fbatullin%2Fsperm.hic":"501052169,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2FWT_hiC_rep1.hic":"1450697530,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2FWT_hiC_rep2.hic":"1189371558,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Fcombined.hic":"2262007875,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Finactive.hic":"4444564,751","hicfiles.s3.amazonaws.com%2Fexternal%2Fminajigi%2Factive.hic":"3993495,751","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_rep1.hic":"1650838357,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_rep2.hic":"1258038606,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski.hic":"499827296,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_active.hic":"79175714,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fpatski_inactive.hic":"98947881,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_dnase.hic":"4298088401,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_in_situ_dnase.hic":"609321852,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain.hic":"1028196506,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_active.hic":"79175714,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fdeng%2Fbrain_inactive.hic":"98947881,15691","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FBglII_rep1.hic":"1283306,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FBglII_rep2.hic":"1263227,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Fle%2FNcoI_rep1.hic":"4380906,1463","hicfiles.s3.amazonaws.com%2Fexternal%2Feagen%2FGSE89112_Kc167combined.hic":"1829549643,25624","hicfiles.s3.amazonaws.com%2Fexternal%2Feagen%2FGSE89112_Kc167combined_randomized.hic":"1859742654,25624","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_GM_cohesin.hic":"1231264781,17932","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_mES_cohesin_all.hic":"1152008628,16438","hicfiles.s3.amazonaws.com%2Fexternal%2Fmumbach%2FGSE80820_HiChIP_mES_Oct4.hic":"912828146,16438","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FSCC4KO.hic":"1767906138,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FDKO.hic":"1487228787,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWaplKO_1.14.hic":"1189751862,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWaplKO_3.3.hic":"1155057696,18679","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fwapl_hic%2FWT.hic":"1522401568,18679","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2Fmega_Liverpool%2Fmega.hic":"2612171975,4381","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2836_Liverpool1%2FLiverpool1.hic":"191729195,2245","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2861_Liverpool2%2FLiverpool2.hic":"1637096030,4381","s3.amazonaws.com%2Fhicfiles%2Fhiseq%2Fskfuwi4fnsjkdf9jekrw2%2FHIC2862_Liverpool3%2FLiverpool3.hic":"1160045602,4381","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2FHSPC.hic":"11857786247,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2FHSPC_CanyonDel.hic":"8139168836,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2Ftcell.hic":"9871547081,36479","s3.amazonaws.com%2Fhicfiles%2Fexternal%2Fgoodell%2Fep.hic":"17479335373,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fnagano%2FTh1_ensemble.hic":"1690592868,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FES_mapq30.hic":"32930498831,32386","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FNPC_mapq30.hic":"55053730986,32386","hicfiles.s3.amazonaws.com%2Fexternal%2Fbonev%2FCN_mapq30.hic":"53138031154,32386","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_72_hours_WT.hic":"16492991184,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-resting_B_cells_WT.hic":"23057795398,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_24_hours_MYC_KO.hic":"21245554876,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-resting_B_cells_TSA.hic":"13933346059,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-activated_B_cells_24_hours_oligomycin.hic":"21902506832,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FKieffer-Kwon_et_al_2017%2FMain_maps%2FKieffer-Kwon-2017-mES_WT.hic":"9451969795,32102","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_24_hours_WT.hic":"3600188564,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_30_hours_WT.hic":"1309503359,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_30_hours_HU_treated.hic":"1477252396,16438","hicfiles.s3.amazonaws.com%2Fhiseq%2FVian_et_al_2018%2FMain_maps%2FVian-2018-activated_B_cells_24_hours_flavopiridol.hic":"15711773490,32102","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FPGP1F_mega_090118%2FPGP1F_mega_090118_30.hic":"24786676166,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7145%2FHIC7145_30.hic":"4554644616,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7146%2FHIC7146_30.hic":"4174848944,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7147%2FHIC7147_30.hic":"5062229182,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7862%2FHIC7862_30.hic":"4520990620,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7863%2FHIC7863_30.hic":"4330354773,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7864%2FHIC7864_30.hic":"5880640268,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7865%2FHIC7865_30.hic":"4431632469,36479","hicfiles.s3.amazonaws.com%2Fexternal%2Fpgp%2FHIC7866%2FHIC7866_30.hic":"4686000222,36479","encode-public.s3.amazonaws.com%2F2018%2F10%2F19%2Fb122542b-306c-4631-bdc3-2e155e89af55%2FENCFF718AWL.hic":"39544267907,58932","encode-public.s3.amazonaws.com%2F2019%2F02%2F15%2F8e787cd8-e388-4bc2-a236-7a5e6f39e0c0%2FENCFF999YXX.hic":"9255069996,56883","encode-public.s3.amazonaws.com%2F2019%2F02%2F08%2Ffc1d9d5d-8fa0-4e29-9080-3da674d9490d%2FENCFF543USQ.hic":"5005263062,36479","s3.us-east-1.wasabisys.com%2Fhicfiles%2Finternal%2FLCL_mega_42B_500bp_30.hic":"106482584851,22829","www.encodeproject.org%2Ffiles%2FENCFF925QIF%2F%40%40download%2FENCFF925QIF.hic":"51712684396,54779","www.encodeproject.org%2Ffiles%2FENCFF259YUS%2F%40%40download%2FENCFF259YUS.hic":"24640030444,54779","www.encodeproject.org%2Ffiles%2FENCFF783KQI%2F%40%40download%2FENCFF783KQI.hic":"27209249856,54779","www.encodeproject.org%2Ffiles%2FENCFF318JAP%2F%40%40download%2FENCFF318JAP.hic":"28636979242,54779","www.encodeproject.org%2Ffiles%2FENCFF512PQA%2F%40%40download%2FENCFF512PQA.hic":"28124104361,54779","www.encodeproject.org%2Ffiles%2FENCFF591MHA%2F%40%40download%2FENCFF591MHA.hic":"37373387202,54779","www.encodeproject.org%2Ffiles%2FENCFF197OWW%2F%40%40download%2FENCFF197OWW.hic":"41826180893,54779","www.encodeproject.org%2Ffiles%2FENCFF317OIA%2F%40%40download%2FENCFF317OIA.hic":"34741636038,54779","www.encodeproject.org%2Ffiles%2FENCFF522YLZ%2F%40%40download%2FENCFF522YLZ.hic":"24064692329,54779","www.encodeproject.org%2Ffiles%2FENCFF420JTA%2F%40%40download%2FENCFF420JTA.hic":"21202405177,54779","www.encodeproject.org%2Ffiles%2FENCFF871ZDJ%2F%40%40download%2FENCFF871ZDJ.hic":"10124815680,18679","www.encodeproject.org%2Ffiles%2FENCFF349RZY%2F%40%40download%2FENCFF349RZY.hic":"4446702705,36479","www.encodeproject.org%2Ffiles%2FENCFF738YON%2F%40%40download%2FENCFF738YON.hic":"3338049584,35947","www.encodeproject.org%2Ffiles%2FENCFF406KJN%2F%40%40download%2FENCFF406KJN.hic":"4132875306,36479","www.encodeproject.org%2Ffiles%2FENCFF081NPN%2F%40%40download%2FENCFF081NPN.hic":"34495587443,54779","www.encodeproject.org%2Ffiles%2FENCFF946RZW%2F%40%40download%2FENCFF946RZW.hic":"34571955193,54779","www.encodeproject.org%2Ffiles%2FENCFF602CHT%2F%40%40download%2FENCFF602CHT.hic":"30674798032,54779","www.encodeproject.org%2Ffiles%2FENCFF150DKS%2F%40%40download%2FENCFF150DKS.hic":"12618769864,36479","www.encodeproject.org%2Ffiles%2FENCFF614IPZ%2F%40%40download%2FENCFF614IPZ.hic":"42450060331,54779","www.encodeproject.org%2Ffiles%2FENCFF571ZQR%2F%40%40download%2FENCFF571ZQR.hic":"15230068871,47429","www.encodeproject.org%2Ffiles%2FENCFF705MKK%2F%40%40download%2FENCFF705MKK.hic":"38686554702,54779","www.encodeproject.org%2Ffiles%2FENCFF658KTB%2F%40%40download%2FENCFF658KTB.hic":"13195884405,47429","www.encodeproject.org%2Ffiles%2FENCFF435JYN%2F%40%40download%2FENCFF435JYN.hic":"17192139674,54779","www.encodeproject.org%2Ffiles%2FENCFF016JKX%2F%40%40download%2FENCFF016JKX.hic":"37266736642,54779","www.encodeproject.org%2Ffiles%2FENCFF294GFP%2F%40%40download%2FENCFF294GFP.hic":"36389843399,54779","www.encodeproject.org%2Ffiles%2FENCFF700CYI%2F%40%40download%2FENCFF700CYI.hic":"60482012152,54779","www.encodeproject.org%2Ffiles%2FENCFF962EDB%2F%40%40download%2FENCFF962EDB.hic":"39394328182,54779","www.encodeproject.org%2Ffiles%2FENCFF467OGP%2F%40%40download%2FENCFF467OGP.hic":"35572788855,54779","www.encodeproject.org%2Ffiles%2FENCFF556RLR%2F%40%40download%2FENCFF556RLR.hic":"34826921187,54779","www.encodeproject.org%2Ffiles%2FENCFF309UNV%2F%40%40download%2FENCFF309UNV.hic":"48510618174,54779","www.encodeproject.org%2Ffiles%2FENCFF653HCO%2F%40%40download%2FENCFF653HCO.hic":"41079007620,54779","www.encodeproject.org%2Ffiles%2FENCFF120DSV%2F%40%40download%2FENCFF120DSV.hic":"12790195576,47429","www.encodeproject.org%2Ffiles%2FENCFF284OEA%2F%40%40download%2FENCFF284OEA.hic":"46007570339,54779","www.encodeproject.org%2Ffiles%2FENCFF035BLF%2F%40%40download%2FENCFF035BLF.hic":"63868871985,54779","www.encodeproject.org%2Ffiles%2FENCFF094KKX%2F%40%40download%2FENCFF094KKX.hic":"42151419971,54779","www.encodeproject.org%2Ffiles%2FENCFF965BPU%2F%40%40download%2FENCFF965BPU.hic":"42717376107,54779","www.encodeproject.org%2Ffiles%2FENCFF842DUO%2F%40%40download%2FENCFF842DUO.hic":"39553892515,54779","www.encodeproject.org%2Ffiles%2FENCFF417GBZ%2F%40%40download%2FENCFF417GBZ.hic":"45544785452,54779","www.encodeproject.org%2Ffiles%2FENCFF499BVX%2F%40%40download%2FENCFF499BVX.hic":"40900674170,54779","www.encodeproject.org%2Ffiles%2FENCFF136XCV%2F%40%40download%2FENCFF136XCV.hic":"47700392974,54779","www.encodeproject.org%2Ffiles%2FENCFF224HKR%2F%40%40download%2FENCFF224HKR.hic":"40426005932,54779","www.encodeproject.org%2Ffiles%2FENCFF711XSR%2F%40%40download%2FENCFF711XSR.hic":"41434581949,54779","www.encodeproject.org%2Ffiles%2FENCFF660JWA%2F%40%40download%2FENCFF660JWA.hic":"54201632697,54779","www.encodeproject.org%2Ffiles%2FENCFF081PMO%2F%40%40download%2FENCFF081PMO.hic":"53428285130,54779","www.encodeproject.org%2Ffiles%2FENCFF799QGA%2F%40%40download%2FENCFF799QGA.hic":"1228682189,36479","www.encodeproject.org%2Ffiles%2FENCFF473CAA%2F%40%40download%2FENCFF473CAA.hic":"1077514950,36479","www.encodeproject.org%2Ffiles%2FENCFF663FRL%2F%40%40download%2FENCFF663FRL.hic":"39843938245,54779","www.encodeproject.org%2Ffiles%2FENCFF341WOY%2F%40%40download%2FENCFF341WOY.hic":"34792598619,54779","www.encodeproject.org%2Ffiles%2FENCFF515ZBF%2F%40%40download%2FENCFF515ZBF.hic":"41779230923,54779","www.encodeproject.org%2Ffiles%2FENCFF545GBW%2F%40%40download%2FENCFF545GBW.hic":"38351980358,54779","www.encodeproject.org%2Ffiles%2FENCFF252ANV%2F%40%40download%2FENCFF252ANV.hic":"37668839771,54779","www.encodeproject.org%2Ffiles%2FENCFF912NDK%2F%40%40download%2FENCFF912NDK.hic":"21196851956,54779","www.encodeproject.org%2Ffiles%2FENCFF683PLM%2F%40%40download%2FENCFF683PLM.hic":"21849338763,54779","www.encodeproject.org%2Ffiles%2FENCFF355NFJ%2F%40%40download%2FENCFF355NFJ.hic":"47880627268,54779","www.encodeproject.org%2Ffiles%2FENCFF507WEW%2F%40%40download%2FENCFF507WEW.hic":"35777782924,54779","www.encodeproject.org%2Ffiles%2FENCFF241MSL%2F%40%40download%2FENCFF241MSL.hic":"22507408288,54779","www.encodeproject.org%2Ffiles%2FENCFF135MUT%2F%40%40download%2FENCFF135MUT.hic":"24168734040,54779","www.encodeproject.org%2Ffiles%2FENCFF459FRB%2F%40%40download%2FENCFF459FRB.hic":"37166770103,54779","www.encodeproject.org%2Ffiles%2FENCFF705YZH%2F%40%40download%2FENCFF705YZH.hic":"44679182442,54779","www.encodeproject.org%2Ffiles%2FENCFF395INO%2F%40%40download%2FENCFF395INO.hic":"56727346538,54779","www.encodeproject.org%2Ffiles%2FENCFF736ITL%2F%40%40download%2FENCFF736ITL.hic":"49036286185,54779","www.encodeproject.org%2Ffiles%2FENCFF546TZN%2F%40%40download%2FENCFF546TZN.hic":"33195126348,54779","www.encodeproject.org%2Ffiles%2FENCFF706SFK%2F%40%40download%2FENCFF706SFK.hic":"3271831702,36479","www.encodeproject.org%2Ffiles%2FENCFF922ERE%2F%40%40download%2FENCFF922ERE.hic":"12476647122,36479","www.encodeproject.org%2Ffiles%2FENCFF876OWE%2F%40%40download%2FENCFF876OWE.hic":"1538692704,47429","www.encodeproject.org%2Ffiles%2FENCFF227XJZ%2F%40%40download%2FENCFF227XJZ.hic":"1925617685,36479","www.encodeproject.org%2Ffiles%2FENCFF053BXY%2F%40%40download%2FENCFF053BXY.hic":"1032237652,36479","www.encodeproject.org%2Ffiles%2FENCFF014VMM%2F%40%40download%2FENCFF014VMM.hic":"1564021703,36479","www.encodeproject.org%2Ffiles%2FENCFF563XES%2F%40%40download%2FENCFF563XES.hic":"1489180508,36479","www.encodeproject.org%2Ffiles%2FENCFF482LGO%2F%40%40download%2FENCFF482LGO.hic":"1208778887,36479","www.encodeproject.org%2Ffiles%2FENCFF216QQM%2F%40%40download%2FENCFF216QQM.hic":"6293163571,47429","www.encodeproject.org%2Ffiles%2FENCFF256UOW%2F%40%40download%2FENCFF256UOW.hic":"6293163571,47429","www.encodeproject.org%2Ffiles%2FENCFF791UZC%2F%40%40download%2FENCFF791UZC.hic":"37029615181,54779","www.encodeproject.org%2Ffiles%2FENCFF911AHQ%2F%40%40download%2FENCFF911AHQ.hic":"34246649165,54779","www.encodeproject.org%2Ffiles%2FENCFF491AOR%2F%40%40download%2FENCFF491AOR.hic":"558663570,36479","www.encodeproject.org%2Ffiles%2FENCFF307PDL%2F%40%40download%2FENCFF307PDL.hic":"525321519,36479","www.encodeproject.org%2Ffiles%2FENCFF773ITV%2F%40%40download%2FENCFF773ITV.hic":"295464771,36479","www.encodeproject.org%2Ffiles%2FENCFF198SSL%2F%40%40download%2FENCFF198SSL.hic":"500142476,36479","www.encodeproject.org%2Ffiles%2FENCFF251UEF%2F%40%40download%2FENCFF251UEF.hic":"567443575,36479","www.encodeproject.org%2Ffiles%2FENCFF942LTN%2F%40%40download%2FENCFF942LTN.hic":"4430960222,36479","www.encodeproject.org%2Ffiles%2FENCFF543USQ%2F%40%40download%2FENCFF543USQ.hic":"5005263062,36479","www.encodeproject.org%2Ffiles%2FENCFF434XQU%2F%40%40download%2FENCFF434XQU.hic":"25506511674,54779","www.encodeproject.org%2Ffiles%2FENCFF318GOM%2F%40%40download%2FENCFF318GOM.hic":"44750824314,54779","www.encodeproject.org%2Ffiles%2FENCFF004TKY%2F%40%40download%2FENCFF004TKY.hic":"20705661833,54779","www.encodeproject.org%2Ffiles%2FENCFF493YNC%2F%40%40download%2FENCFF493YNC.hic":"53407154984,54779","www.encodeproject.org%2Ffiles%2FENCFF334XXU%2F%40%40download%2FENCFF334XXU.hic":"14341194962,47429","www.encodeproject.org%2Ffiles%2FENCFF569RJM%2F%40%40download%2FENCFF569RJM.hic":"1922066634,36479","www.encodeproject.org%2Ffiles%2FENCFF076LWH%2F%40%40download%2FENCFF076LWH.hic":"39406255845,54779","www.encodeproject.org%2Ffiles%2FENCFF977XWK%2F%40%40download%2FENCFF977XWK.hic":"20563512962,54779","www.encodeproject.org%2Ffiles%2FENCFF127TPS%2F%40%40download%2FENCFF127TPS.hic":"21032070512,54779","www.encodeproject.org%2Ffiles%2FENCFF480KLP%2F%40%40download%2FENCFF480KLP.hic":"33115569647,54779","www.encodeproject.org%2Ffiles%2FENCFF281ILS%2F%40%40download%2FENCFF281ILS.hic":"28236353584,54779","www.encodeproject.org%2Ffiles%2FENCFF129LMU%2F%40%40download%2FENCFF129LMU.hic":"35247096013,54779","www.encodeproject.org%2Ffiles%2FENCFF759YCW%2F%40%40download%2FENCFF759YCW.hic":"16058537743,32102","www.encodeproject.org%2Ffiles%2FENCFF045YOM%2F%40%40download%2FENCFF045YOM.hic":"19775445828,32102","www.encodeproject.org%2Ffiles%2FENCFF013TGD%2F%40%40download%2FENCFF013TGD.hic":"4208420532,36479","www.encodeproject.org%2Ffiles%2FENCFF929RPW%2F%40%40download%2FENCFF929RPW.hic":"1974260276,36479","www.encodeproject.org%2Ffiles%2FENCFF996XEO%2F%40%40download%2FENCFF996XEO.hic":"2072918865,36479","www.encodeproject.org%2Ffiles%2FENCFF097SKJ%2F%40%40download%2FENCFF097SKJ.hic":"1983524001,36479","www.encodeproject.org%2Ffiles%2FENCFF464KRA%2F%40%40download%2FENCFF464KRA.hic":"1957300131,36479","www.encodeproject.org%2Ffiles%2FENCFF406HHC%2F%40%40download%2FENCFF406HHC.hic":"3854527235,36479","www.encodeproject.org%2Ffiles%2FENCFF080DPJ%2F%40%40download%2FENCFF080DPJ.hic":"19953768024,47429","www.encodeproject.org%2Ffiles%2FENCFF621AIY%2F%40%40download%2FENCFF621AIY.hic":"26781700010,54779","www.encodeproject.org%2Ffiles%2FENCFF366ERB%2F%40%40download%2FENCFF366ERB.hic":"1049184239,36479","www.encodeproject.org%2Ffiles%2FENCFF997RGL%2F%40%40download%2FENCFF997RGL.hic":"2521167549,36479","www.encodeproject.org%2Ffiles%2FENCFF029MPB%2F%40%40download%2FENCFF029MPB.hic":"1854711185,36479","www.encodeproject.org%2Ffiles%2FENCFF043EEE%2F%40%40download%2FENCFF043EEE.hic":"2924133032,36479","www.encodeproject.org%2Ffiles%2FENCFF920CJR%2F%40%40download%2FENCFF920CJR.hic":"3011577886,36479","www.encodeproject.org%2Ffiles%2FENCFF928NJV%2F%40%40download%2FENCFF928NJV.hic":"2778936244,36479","www.encodeproject.org%2Ffiles%2FENCFF894GLR%2F%40%40download%2FENCFF894GLR.hic":"2831733099,36479","www.encodeproject.org%2Ffiles%2FENCFF303PCK%2F%40%40download%2FENCFF303PCK.hic":"688704435,36479","www.encodeproject.org%2Ffiles%2FENCFF999YXX%2F%40%40download%2FENCFF999YXX.hic":"9255069996,56883","www.encodeproject.org%2Ffiles%2FENCFF685BLG%2F%40%40download%2FENCFF685BLG.hic":"16797022992,47429","www.encodeproject.org%2Ffiles%2FENCFF188SSH%2F%40%40download%2FENCFF188SSH.hic":"16797023050,47429","www.encodeproject.org%2Ffiles%2FENCFF465ESX%2F%40%40download%2FENCFF465ESX.hic":"13489465953,32102","www.encodeproject.org%2Ffiles%2FENCFF493SFI%2F%40%40download%2FENCFF493SFI.hic":"30033046818,54779","www.encodeproject.org%2Ffiles%2FENCFF235LCO%2F%40%40download%2FENCFF235LCO.hic":"38572174589,54779","www.encodeproject.org%2Ffiles%2FENCFF625VNK%2F%40%40download%2FENCFF625VNK.hic":"45202258438,54779","www.encodeproject.org%2Ffiles%2FENCFF304HMS%2F%40%40download%2FENCFF304HMS.hic":"36994445315,54779","www.encodeproject.org%2Ffiles%2FENCFF605CEN%2F%40%40download%2FENCFF605CEN.hic":"40358346301,54779","www.encodeproject.org%2Ffiles%2FENCFF086ORS%2F%40%40download%2FENCFF086ORS.hic":"22650781304,54779","www.encodeproject.org%2Ffiles%2FENCFF237UKR%2F%40%40download%2FENCFF237UKR.hic":"41516707246,54779","www.encodeproject.org%2Ffiles%2FENCFF004YZQ%2F%40%40download%2FENCFF004YZQ.hic":"71900665326,54779","www.encodeproject.org%2Ffiles%2FENCFF104THR%2F%40%40download%2FENCFF104THR.hic":"15172410632,54779","www.encodeproject.org%2Ffiles%2FENCFF807IRK%2F%40%40download%2FENCFF807IRK.hic":"17346637451,54779","www.encodeproject.org%2Ffiles%2FENCFF193CQL%2F%40%40download%2FENCFF193CQL.hic":"55726903245,54779","www.encodeproject.org%2Ffiles%2FENCFF700DEX%2F%40%40download%2FENCFF700DEX.hic":"20231399798,54779","www.encodeproject.org%2Ffiles%2FENCFF234MDO%2F%40%40download%2FENCFF234MDO.hic":"24635312640,54779","www.encodeproject.org%2Ffiles%2FENCFF181ROW%2F%40%40download%2FENCFF181ROW.hic":"26883606497,54779","www.encodeproject.org%2Ffiles%2FENCFF896OFN%2F%40%40download%2FENCFF896OFN.hic":"36952196833,54779","www.encodeproject.org%2Ffiles%2FENCFF573OPJ%2F%40%40download%2FENCFF573OPJ.hic":"36685546919,54779","www.encodeproject.org%2Ffiles%2FENCFF028RXH%2F%40%40download%2FENCFF028RXH.hic":"31053919206,54779","www.encodeproject.org%2Ffiles%2FENCFF156GGD%2F%40%40download%2FENCFF156GGD.hic":"35284134289,54779","www.encodeproject.org%2Ffiles%2FENCFF496GEU%2F%40%40download%2FENCFF496GEU.hic":"44659660933,54779","www.encodeproject.org%2Ffiles%2FENCFF945TUH%2F%40%40download%2FENCFF945TUH.hic":"3898570191,35639","www.encodeproject.org%2Ffiles%2FENCFF698KFV%2F%40%40download%2FENCFF698KFV.hic":"4427896684,35751","www.encodeproject.org%2Ffiles%2FENCFF239BHZ%2F%40%40download%2FENCFF239BHZ.hic":"1718552021,36479","www.encodeproject.org%2Ffiles%2FENCFF277LAN%2F%40%40download%2FENCFF277LAN.hic":"4542391336,36479","www.encodeproject.org%2Ffiles%2FENCFF397CMD%2F%40%40download%2FENCFF397CMD.hic":"2832016430,36479","www.encodeproject.org%2Ffiles%2FENCFF778OYA%2F%40%40download%2FENCFF778OYA.hic":"14067187484,47429","www.encodeproject.org%2Ffiles%2FENCFF775VSU%2F%40%40download%2FENCFF775VSU.hic":"14067187484,47429","www.encodeproject.org%2Ffiles%2FENCFF812THZ%2F%40%40download%2FENCFF812THZ.hic":"9667720429,36479","www.encodeproject.org%2Ffiles%2FENCFF777KBU%2F%40%40download%2FENCFF777KBU.hic":"5058284320,36479","www.encodeproject.org%2Ffiles%2FENCFF688KOY%2F%40%40download%2FENCFF688KOY.hic":"4198695833,36479","www.encodeproject.org%2Ffiles%2FENCFF223UBX%2F%40%40download%2FENCFF223UBX.hic":"1206064037,36479","www.encodeproject.org%2Ffiles%2FENCFF273XBU%2F%40%40download%2FENCFF273XBU.hic":"44085607579,54779","www.encodeproject.org%2Ffiles%2FENCFF952JZV%2F%40%40download%2FENCFF952JZV.hic":"44728845246,54779","www.encodeproject.org%2Ffiles%2FENCFF643NDM%2F%40%40download%2FENCFF643NDM.hic":"35877886780,54779","www.encodeproject.org%2Ffiles%2FENCFF586MQY%2F%40%40download%2FENCFF586MQY.hic":"71158037547,54779","www.encodeproject.org%2Ffiles%2FENCFF251VFA%2F%40%40download%2FENCFF251VFA.hic":"40089479399,54779","www.encodeproject.org%2Ffiles%2FENCFF033WGK%2F%40%40download%2FENCFF033WGK.hic":"30802023728,54779","www.encodeproject.org%2Ffiles%2FENCFF649OHR%2F%40%40download%2FENCFF649OHR.hic":"28203184265,54779","www.encodeproject.org%2Ffiles%2FENCFF782WVZ%2F%40%40download%2FENCFF782WVZ.hic":"37248221674,54779","www.encodeproject.org%2Ffiles%2FENCFF579CAR%2F%40%40download%2FENCFF579CAR.hic":"39662025395,54779","www.encodeproject.org%2Ffiles%2FENCFF514XWQ%2F%40%40download%2FENCFF514XWQ.hic":"1319613701,36479","www.encodeproject.org%2Ffiles%2FENCFF666USK%2F%40%40download%2FENCFF666USK.hic":"15051670107,32102","www.encodeproject.org%2Ffiles%2FENCFF047SDP%2F%40%40download%2FENCFF047SDP.hic":"1357076705,16438","www.encodeproject.org%2Ffiles%2FENCFF584LEP%2F%40%40download%2FENCFF584LEP.hic":"9314176858,36479","www.encodeproject.org%2Ffiles%2FENCFF671SOE%2F%40%40download%2FENCFF671SOE.hic":"3273732256,16438","www.encodeproject.org%2Ffiles%2FENCFF702LAP%2F%40%40download%2FENCFF702LAP.hic":"1800427500,31682","www.encodeproject.org%2Ffiles%2FENCFF339PON%2F%40%40download%2FENCFF339PON.hic":"5394351199,31514","www.encodeproject.org%2Ffiles%2FENCFF741QPR%2F%40%40download%2FENCFF741QPR.hic":"4271510019,30139","www.encodeproject.org%2Ffiles%2FENCFF103ANX%2F%40%40download%2FENCFF103ANX.hic":"4439745804,30083","www.encodeproject.org%2Ffiles%2FENCFF395SBC%2F%40%40download%2FENCFF395SBC.hic":"1596732351,31850","www.encodeproject.org%2Ffiles%2FENCFF289WNN%2F%40%40download%2FENCFF289WNN.hic":"8632980535,32102","www.encodeproject.org%2Ffiles%2FENCFF381EAU%2F%40%40download%2FENCFF381EAU.hic":"1702476311,36479","www.encodeproject.org%2Ffiles%2FENCFF976FEY%2F%40%40download%2FENCFF976FEY.hic":"1448279040,36479","www.encodeproject.org%2Ffiles%2FENCFF485LVS%2F%40%40download%2FENCFF485LVS.hic":"1593610856,36479","www.encodeproject.org%2Ffiles%2FENCFF143VJV%2F%40%40download%2FENCFF143VJV.hic":"1422312076,36479","www.encodeproject.org%2Ffiles%2FENCFF588NHX%2F%40%40download%2FENCFF588NHX.hic":"3943637009,36479","www.encodeproject.org%2Ffiles%2FENCFF768UBD%2F%40%40download%2FENCFF768UBD.hic":"24786676166,36479","www.encodeproject.org%2Ffiles%2FENCFF965PEE%2F%40%40download%2FENCFF965PEE.hic":"29387092778,47429","www.encodeproject.org%2Ffiles%2FENCFF702IFC%2F%40%40download%2FENCFF702IFC.hic":"29387092778,47429","www.encodeproject.org%2Ffiles%2FENCFF288DNV%2F%40%40download%2FENCFF288DNV.hic":"10313429504,36479","www.encodeproject.org%2Ffiles%2FENCFF698HWZ%2F%40%40download%2FENCFF698HWZ.hic":"10962849269,47429","www.encodeproject.org%2Ffiles%2FENCFF355OWW%2F%40%40download%2FENCFF355OWW.hic":"3219571601,36479","www.encodeproject.org%2Ffiles%2FENCFF177TYX%2F%40%40download%2FENCFF177TYX.hic":"10325679706,36479","www.encodeproject.org%2Ffiles%2FENCFF542BHD%2F%40%40download%2FENCFF542BHD.hic":"11085397879,47429","www.encodeproject.org%2Ffiles%2FENCFF684IFW%2F%40%40download%2FENCFF684IFW.hic":"11085397879,47429","www.encodeproject.org%2Ffiles%2FENCFF592UHE%2F%40%40download%2FENCFF592UHE.hic":"21363948089,32102","www.encodeproject.org%2Ffiles%2FENCFF779XIS%2F%40%40download%2FENCFF779XIS.hic":"9517383271,36479","www.encodeproject.org%2Ffiles%2FENCFF518PSL%2F%40%40download%2FENCFF518PSL.hic":"7500581463,36479","www.encodeproject.org%2Ffiles%2FENCFF275GBB%2F%40%40download%2FENCFF275GBB.hic":"7889407162,36479","www.encodeproject.org%2Ffiles%2FENCFF634KXI%2F%40%40download%2FENCFF634KXI.hic":"6430702966,36479","www.encodeproject.org%2Ffiles%2FENCFF337QPM%2F%40%40download%2FENCFF337QPM.hic":"8529733887,36479","www.encodeproject.org%2Ffiles%2FENCFF162KMP%2F%40%40download%2FENCFF162KMP.hic":"5615896908,36479","www.encodeproject.org%2Ffiles%2FENCFF992VTE%2F%40%40download%2FENCFF992VTE.hic":"7328975027,36479","www.encodeproject.org%2Ffiles%2FENCFF464WXY%2F%40%40download%2FENCFF464WXY.hic":"5715339664,36479","www.encodeproject.org%2Ffiles%2FENCFF752EGH%2F%40%40download%2FENCFF752EGH.hic":"1733758743,36479","www.encodeproject.org%2Ffiles%2FENCFF474UJM%2F%40%40download%2FENCFF474UJM.hic":"222309548,18679","www.encodeproject.org%2Ffiles%2FENCFF531UPZ%2F%40%40download%2FENCFF531UPZ.hic":"1827756846,36479","www.encodeproject.org%2Ffiles%2FENCFF022VHA%2F%40%40download%2FENCFF022VHA.hic":"244983451,18679","www.encodeproject.org%2Ffiles%2FENCFF732NGR%2F%40%40download%2FENCFF732NGR.hic":"1679484567,36479","www.encodeproject.org%2Ffiles%2FENCFF513VSF%2F%40%40download%2FENCFF513VSF.hic":"28397932940,36479","www.encodeproject.org%2Ffiles%2FENCFF750AOC%2F%40%40download%2FENCFF750AOC.hic":"36471430712,47429","www.encodeproject.org%2Ffiles%2FENCFF219YOB%2F%40%40download%2FENCFF219YOB.hic":"2859767211,26979","www.encodeproject.org%2Ffiles%2FENCFF604YDD%2F%40%40download%2FENCFF604YDD.hic":"3549694085,26979","www.encodeproject.org%2Ffiles%2FENCFF746AMV%2F%40%40download%2FENCFF746AMV.hic":"2954867135,26979","www.encodeproject.org%2Ffiles%2FENCFF845ZEB%2F%40%40download%2FENCFF845ZEB.hic":"2763039282,26979","www.encodeproject.org%2Ffiles%2FENCFF570LWS%2F%40%40download%2FENCFF570LWS.hic":"2861588289,26979","www.encodeproject.org%2Ffiles%2FENCFF883YVR%2F%40%40download%2FENCFF883YVR.hic":"2433679887,26979","www.encodeproject.org%2Ffiles%2FENCFF056VLK%2F%40%40download%2FENCFF056VLK.hic":"2502986910,26979","www.encodeproject.org%2Ffiles%2FENCFF532DUQ%2F%40%40download%2FENCFF532DUQ.hic":"3172615899,26979","www.encodeproject.org%2Ffiles%2FENCFF723PYJ%2F%40%40download%2FENCFF723PYJ.hic":"10292839095,36479","www.encodeproject.org%2Ffiles%2FENCFF991SGJ%2F%40%40download%2FENCFF991SGJ.hic":"13072407683,32102","www.encodeproject.org%2Ffiles%2FENCFF885UZI%2F%40%40download%2FENCFF885UZI.hic":"1201881201,16438","www.encodeproject.org%2Ffiles%2FENCFF287KXA%2F%40%40download%2FENCFF287KXA.hic":"14705801988,32102","www.encodeproject.org%2Ffiles%2FENCFF335HYI%2F%40%40download%2FENCFF335HYI.hic":"20366756545,32102","www.encodeproject.org%2Ffiles%2FENCFF121YPY%2F%40%40download%2FENCFF121YPY.hic":"2760104016,26979","www.encodeproject.org%2Ffiles%2FENCFF675SJE%2F%40%40download%2FENCFF675SJE.hic":"3751779995,26979","www.encodeproject.org%2Ffiles%2FENCFF876LAW%2F%40%40download%2FENCFF876LAW.hic":"4032376256,26979","www.encodeproject.org%2Ffiles%2FENCFF740KVX%2F%40%40download%2FENCFF740KVX.hic":"3202490322,26979","www.encodeproject.org%2Ffiles%2FENCFF977OQV%2F%40%40download%2FENCFF977OQV.hic":"2919735477,26979","www.encodeproject.org%2Ffiles%2FENCFF525EFN%2F%40%40download%2FENCFF525EFN.hic":"2394748073,26979","www.encodeproject.org%2Ffiles%2FENCFF690QRC%2F%40%40download%2FENCFF690QRC.hic":"3183023394,26979","www.encodeproject.org%2Ffiles%2FENCFF452FWS%2F%40%40download%2FENCFF452FWS.hic":"2951805127,26979","www.encodeproject.org%2Ffiles%2FENCFF089KBG%2F%40%40download%2FENCFF089KBG.hic":"2531936700,26979","www.encodeproject.org%2Ffiles%2FENCFF939ARM%2F%40%40download%2FENCFF939ARM.hic":"3066385212,26979","www.encodeproject.org%2Ffiles%2FENCFF401ZAN%2F%40%40download%2FENCFF401ZAN.hic":"3008677144,26979","www.encodeproject.org%2Ffiles%2FENCFF378RZT%2F%40%40download%2FENCFF378RZT.hic":"2830232168,26979","www.encodeproject.org%2Ffiles%2FENCFF304AVD%2F%40%40download%2FENCFF304AVD.hic":"6164439305,50358","www.encodeproject.org%2Ffiles%2FENCFF453DBX%2F%40%40download%2FENCFF453DBX.hic":"6775246670,36479","www.encodeproject.org%2Ffiles%2FENCFF590VOM%2F%40%40download%2FENCFF590VOM.hic":"6443478922,36479","www.encodeproject.org%2Ffiles%2FENCFF246DOF%2F%40%40download%2FENCFF246DOF.hic":"6837914659,36479","www.encodeproject.org%2Ffiles%2FENCFF125FXX%2F%40%40download%2FENCFF125FXX.hic":"9736232550,36479","www.encodeproject.org%2Ffiles%2FENCFF241RAY%2F%40%40download%2FENCFF241RAY.hic":"7686758397,36479","www.encodeproject.org%2Ffiles%2FENCFF415XWQ%2F%40%40download%2FENCFF415XWQ.hic":"6973092068,36479","www.encodeproject.org%2Ffiles%2FENCFF374EBH%2F%40%40download%2FENCFF374EBH.hic":"8557459058,36479","www.encodeproject.org%2Ffiles%2FENCFF263YWR%2F%40%40download%2FENCFF263YWR.hic":"331586820,18679","www.encodeproject.org%2Ffiles%2FENCFF280CGS%2F%40%40download%2FENCFF280CGS.hic":"1743569614,36479","www.encodeproject.org%2Ffiles%2FENCFF553ZNS%2F%40%40download%2FENCFF553ZNS.hic":"1717253636,36479","www.encodeproject.org%2Ffiles%2FENCFF451VOI%2F%40%40download%2FENCFF451VOI.hic":"1626927468,36479","www.encodeproject.org%2Ffiles%2FENCFF420MQO%2F%40%40download%2FENCFF420MQO.hic":"31055961677,36479","www.encodeproject.org%2Ffiles%2FENCFF301BWY%2F%40%40download%2FENCFF301BWY.hic":"38902429246,47429","www.encodeproject.org%2Ffiles%2FENCFF606XNW%2F%40%40download%2FENCFF606XNW.hic":"1009699327,36479","www.encodeproject.org%2Ffiles%2FENCFF439ZOU%2F%40%40download%2FENCFF439ZOU.hic":"12381714313,36479","www.encodeproject.org%2Ffiles%2FENCFF499SYK%2F%40%40download%2FENCFF499SYK.hic":"13182654663,47429","www.encodeproject.org%2Ffiles%2FENCFF532LFI%2F%40%40download%2FENCFF532LFI.hic":"8286030286,36479","www.encodeproject.org%2Ffiles%2FENCFF020DPP%2F%40%40download%2FENCFF020DPP.hic":"23521952420,47429","www.encodeproject.org%2Ffiles%2FENCFF306VTV%2F%40%40download%2FENCFF306VTV.hic":"23521952480,47429","www.encodeproject.org%2Ffiles%2FENCFF399IHE%2F%40%40download%2FENCFF399IHE.hic":"10216571232,36479","www.encodeproject.org%2Ffiles%2FENCFF944AII%2F%40%40download%2FENCFF944AII.hic":"12567308552,47429","www.encodeproject.org%2Ffiles%2FENCFF230HVV%2F%40%40download%2FENCFF230HVV.hic":"8629849711,36479","www.encodeproject.org%2Ffiles%2FENCFF174LAF%2F%40%40download%2FENCFF174LAF.hic":"9446506633,47429","www.encodeproject.org%2Ffiles%2FENCFF898HRO%2F%40%40download%2FENCFF898HRO.hic":"9446506633,47429","www.encodeproject.org%2Ffiles%2FENCFF429MOR%2F%40%40download%2FENCFF429MOR.hic":"1455757398,36479","www.encodeproject.org%2Ffiles%2FENCFF061NXV%2F%40%40download%2FENCFF061NXV.hic":"1710915891,36479","www.encodeproject.org%2Ffiles%2FENCFF434PYS%2F%40%40download%2FENCFF434PYS.hic":"1832274903,36479","www.encodeproject.org%2Ffiles%2FENCFF704HHX%2F%40%40download%2FENCFF704HHX.hic":"1768142834,36479","www.encodeproject.org%2Ffiles%2FENCFF349DPM%2F%40%40download%2FENCFF349DPM.hic":"4316041260,36479","www.encodeproject.org%2Ffiles%2FENCFF718AWL%2F%40%40download%2FENCFF718AWL.hic":"39544267907,58932","www.encodeproject.org%2Ffiles%2FENCFF065LSP%2F%40%40download%2FENCFF065LSP.hic":"24929805283,55874","www.encodeproject.org%2Ffiles%2FENCFF632MFV%2F%40%40download%2FENCFF632MFV.hic":"22333105467,55798","www.encodeproject.org%2Ffiles%2FENCFF179HVU%2F%40%40download%2FENCFF179HVU.hic":"2659219603,36479","www.encodeproject.org%2Ffiles%2FENCFF791SPZ%2F%40%40download%2FENCFF791SPZ.hic":"2537491657,36479","www.encodeproject.org%2Ffiles%2FENCFF211ZWF%2F%40%40download%2FENCFF211ZWF.hic":"3512141227,36479","www.encodeproject.org%2Ffiles%2FENCFF614BNU%2F%40%40download%2FENCFF614BNU.hic":"5252155462,36479","www.encodeproject.org%2Ffiles%2FENCFF891DLM%2F%40%40download%2FENCFF891DLM.hic":"2549095612,36479","www.encodeproject.org%2Ffiles%2FENCFF056EXT%2F%40%40download%2FENCFF056EXT.hic":"2219014704,36479","www.encodeproject.org%2Ffiles%2FENCFF776DSS%2F%40%40download%2FENCFF776DSS.hic":"3920308353,36479","www.encodeproject.org%2Ffiles%2FENCFF814LQF%2F%40%40download%2FENCFF814LQF.hic":"1349480197,36479","www.encodeproject.org%2Ffiles%2FENCFF513ZNA%2F%40%40download%2FENCFF513ZNA.hic":"2638868195,36479","www.encodeproject.org%2Ffiles%2FENCFF692IOL%2F%40%40download%2FENCFF692IOL.hic":"3106768498,36479","www.encodeproject.org%2Ffiles%2FENCFF294WZY%2F%40%40download%2FENCFF294WZY.hic":"2211089761,36479","www.encodeproject.org%2Ffiles%2FENCFF339UWS%2F%40%40download%2FENCFF339UWS.hic":"2142759055,36479","www.encodeproject.org%2Ffiles%2FENCFF835FSK%2F%40%40download%2FENCFF835FSK.hic":"3919821739,36479","www.encodeproject.org%2Ffiles%2FENCFF328BMB%2F%40%40download%2FENCFF328BMB.hic":"2550686152,36479","www.encodeproject.org%2Ffiles%2FENCFF897RTY%2F%40%40download%2FENCFF897RTY.hic":"1323294397,36479","www.encodeproject.org%2Ffiles%2FENCFF306MWH%2F%40%40download%2FENCFF306MWH.hic":"1665386199,36479","www.encodeproject.org%2Ffiles%2FENCFF039YUJ%2F%40%40download%2FENCFF039YUJ.hic":"2335679939,36479","www.encodeproject.org%2Ffiles%2FENCFF468QIN%2F%40%40download%2FENCFF468QIN.hic":"3352516594,36479","www.encodeproject.org%2Ffiles%2FENCFF364WXU%2F%40%40download%2FENCFF364WXU.hic":"3959043175,36479","www.encodeproject.org%2Ffiles%2FENCFF373MSH%2F%40%40download%2FENCFF373MSH.hic":"4429550624,36479","www.encodeproject.org%2Ffiles%2FENCFF959EGQ%2F%40%40download%2FENCFF959EGQ.hic":"2475218228,36479","www.encodeproject.org%2Ffiles%2FENCFF624XMK%2F%40%40download%2FENCFF624XMK.hic":"3527855681,36479","www.encodeproject.org%2Ffiles%2FENCFF445OKS%2F%40%40download%2FENCFF445OKS.hic":"3369125589,36479","www.encodeproject.org%2Ffiles%2FENCFF239QDV%2F%40%40download%2FENCFF239QDV.hic":"1960069888,36479","www.encodeproject.org%2Ffiles%2FENCFF645AVM%2F%40%40download%2FENCFF645AVM.hic":"4969006589,36479","www.encodeproject.org%2Ffiles%2FENCFF494IPI%2F%40%40download%2FENCFF494IPI.hic":"1565483792,36479","www.encodeproject.org%2Ffiles%2FENCFF753IXE%2F%40%40download%2FENCFF753IXE.hic":"2892400648,36479","www.encodeproject.org%2Ffiles%2FENCFF731GXX%2F%40%40download%2FENCFF731GXX.hic":"5131381303,36479","www.encodeproject.org%2Ffiles%2FENCFF369CAQ%2F%40%40download%2FENCFF369CAQ.hic":"4236629448,36479","www.encodeproject.org%2Ffiles%2FENCFF053VBX%2F%40%40download%2FENCFF053VBX.hic":"54305946375,47429","www.encodeproject.org%2Ffiles%2FENCFF555ISR%2F%40%40download%2FENCFF555ISR.hic":"54305946434,47429","www.encodeproject.org%2Ffiles%2FENCFF964RSP%2F%40%40download%2FENCFF964RSP.hic":"12065485229,36479","www.encodeproject.org%2Ffiles%2FENCFF234MZQ%2F%40%40download%2FENCFF234MZQ.hic":"17507142760,47429","www.encodeproject.org%2Ffiles%2FENCFF994CEG%2F%40%40download%2FENCFF994CEG.hic":"17507142760,47429","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb068e787-bbdd-49e2-9f6d-7a0e9f065d6e%2F4DNFIHSUIRFY.hic":"2701182442,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3768b89a-e124-40eb-8acd-94a4fdd35807%2F4DNFIXTAS6EE.hic":"3283740601,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9c513602-5abb-4088-8415-c827c381ab0d%2F4DNFIC3JD6O2.hic":"4896075767,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fde954dad-1849-4c23-beb4-bf893b7d76c9%2F4DNFIGY85S4W.hic":"3364151996,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe1befa6e-8067-4296-8db2-67d2a2458985%2F4DNFI2LTNXME.hic":"3699291418,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbb3307fd-7162-477a-87c5-52f12d03befc%2F4DNFID162B9J.hic":"3576428773,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8597cdae-8319-42d9-9175-3f77aaee34e1%2F4DNFIQWS3632.hic":"4022561190,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F327f091d-6a63-47c4-9752-2dff303a13d9%2F4DNFI6GFHB6G.hic":"4239331168,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd70dc3b8-48a7-42c2-bd23-80bc44fc2266%2F4DNFIS5F6EBL.hic":"4404671861,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F77df7bf8-6a3d-407a-8968-4ca1e78d2269%2F4DNFIF2D3TL9.hic":"4793989394,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8f7cc35-d2ef-4717-9009-c02154050fbf%2F4DNFI6EIFUZI.hic":"3370273763,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F98449d79-30d1-4e32-801d-07435819a42f%2F4DNFIRKGMZRQ.hic":"4669813207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd4fe1844-2493-4722-8b98-34a93a4bb7d8%2F4DNFIQWD8ZYD.hic":"5379889057,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1ee40499-1de4-47ff-b540-d9a65943c6b8%2F4DNFIX7H3CE2.hic":"4857679239,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac016170-23a7-4111-8773-353d6c150f34%2F4DNFIO21YDCV.hic":"4695989644,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1faea4e7-9a32-466e-a826-0bfdab6cd915%2F4DNFIUE5RAS6.hic":"4788044799,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcbd396ed-11bb-404f-aed9-ef10abc258e6%2F4DNFIFI6NIKJ.hic":"2069414927,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf3f78db-ae92-4215-bcae-76d30c617e5d%2F4DNFIL5K3MA1.hic":"2585598247,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66fc2893-224e-48b4-bdb0-25e022dedd03%2F4DNFIPV5KFMK.hic":"2060965679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2b39781d-aadc-434f-abe3-562d61308fdd%2F4DNFIW8TIFI5.hic":"1694424195,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6d28f7b-27d3-486f-b5ac-32567416560d%2F4DNFIA6NSSBJ.hic":"2219532611,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F08785616-722e-46bb-ade2-2fdd21324e11%2F4DNFIBKZK63V.hic":"2429136232,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F904b13d3-1203-42a4-812c-963e80c159b1%2F4DNFI3CFMRID.hic":"1233390166,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb0ed4afe-5ecf-451d-bb1f-444697e3f558%2F4DNFIYIAUEPW.hic":"1753567534,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4bb9a9b3-12a8-4d2f-8071-4722294c88ea%2F4DNFIC3HAU11.hic":"2271375254,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5abf9c36-c1d1-44dc-8197-74d860d896c0%2F4DNFIM2BMJ33.hic":"1770471113,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa68475db-7816-4cec-b2da-d4ce4a0c7a0e%2F4DNFIBY3UHJB.hic":"2095528423,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F07c40943-0d0b-4b3e-94a0-8583b0e00b47%2F4DNFIWZEN3FF.hic":"1558559508,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd8a39553-2718-4866-9b2a-45d8e9c5ac6f%2F4DNFIE5TEYK7.hic":"1323063102,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F294b61ef-5565-4f04-ade9-f921a6686cce%2F4DNFI7H4II2V.hic":"1436947982,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87a70ad7-7d34-4302-9c03-eb824bd4e633%2F4DNFIAS8LV1C.hic":"1263105698,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9db804c6-5a91-4cf5-8ae9-e054223afb77%2F4DNFIBXWIH8J.hic":"1587059951,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd1e55906-ec8f-444b-8ce1-2de22a431a76%2F4DNFIO2HBDAI.hic":"1666436393,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a4b9b37-8e38-470c-8190-fd4d513c0bbb%2F4DNFIXWCLD4M.hic":"1513511880,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c7615b2-5310-4bbf-a605-98761d3a3079%2F4DNFINASC4NQ.hic":"1420358914,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F20454014-49cd-4e2d-93da-f40ad52776d5%2F4DNFIZF1KI43.hic":"1377041630,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5df04e86-ee2a-45f2-b878-bf1648e2cca5%2F4DNFIQBHR9XC.hic":"1179502734,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9d1cc910-bb3f-4106-802a-73184c58d5ba%2F4DNFIQVMVRP6.hic":"1811976991,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe431986b-0732-460f-92ff-0abd1694d2d0%2F4DNFIJ7OAIFQ.hic":"1685503856,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F56d0c575-4962-4ea3-92c3-55bd0e17c096%2F4DNFIE8E4ANZ.hic":"1598369564,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb1502fb-a989-4ef9-b800-7eaa7be172ae%2F4DNFIOUSETUP.hic":"1493294709,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Facc2f1c3-8c96-4d21-814a-3a8ba81e7741%2F4DNFIVJ3IIQL.hic":"1472376655,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F037fb4c3-8641-4953-a977-cc71f2137582%2F4DNFIHN2QSMX.hic":"1179632606,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F16d2c3c0-6d29-4815-b074-b142af90b615%2F4DNFIILDWK8M.hic":"2280059989,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31789849-e4db-45d8-9730-66a048c02d8a%2F4DNFI6XD6JAQ.hic":"2253961696,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fff04947e-e6e8-4d62-8374-ef2ee4104809%2F4DNFIALNLR78.hic":"1914687914,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F53e6c1e7-9410-4158-84e6-57c2e683b095%2F4DNFIBT4EAKN.hic":"2296378356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0127900a-258f-4815-97d2-6fd2b043d853%2F4DNFIDJ2JZ7Q.hic":"2558945393,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F89f95693-3d28-44eb-9d45-14932f8e258c%2F4DNFI8JFOAJT.hic":"1726440253,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd803d818-b0d4-4796-8d61-a9f3943f3b10%2F4DNFIRZA6EV6.hic":"1805017504,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff9165fb1-0782-4757-a740-5b929e0252bb%2F4DNFIB7QTIMH.hic":"2541020707,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff8d916b2-b58e-4cdf-894c-ffcb3bf6ebd9%2F4DNFIJ5DQZVK.hic":"2445734043,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F14066a5b-e01a-43c2-a468-b18826174df3%2F4DNFISTWNV9C.hic":"2499319890,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd0692151-7f9a-4475-b059-f8802616dded%2F4DNFIBN9K4V9.hic":"1591570769,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70a7ef36-a514-4e45-918f-47c4e9e30ef4%2F4DNFIR8OU6QJ.hic":"1689882108,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F180306cd-8593-413a-ae83-24f19209c5d2%2F4DNFIDSWKFF5.hic":"1596696630,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6e7b9be7-f465-4434-8e9c-68d1e44a76af%2F4DNFIV239W4L.hic":"2345867406,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F55df948c-941d-4930-854c-6a07557a0c1d%2F4DNFIREVU1Z5.hic":"2254683002,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3f590cb7-df3a-498f-81c3-d5ed4179b8ad%2F4DNFIFHU75I5.hic":"2497670883,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8f064770-6008-4f74-bfca-268d4a22d745%2F4DNFIMROE6N4.hic":"9850583704,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa93d0588-76b7-4ccf-933c-4325876b0a53%2F4DNFI5SUHCGZ.hic":"10364705187,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2f5f0d6b-0b22-4936-93c9-0944d49c037b%2F4DNFII84FBKM.hic":"8836986129,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F12e90fc5-0b76-4e42-b346-58d267f9ad6e%2F4DNFI2J1ODWB.hic":"13410858286,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff2702a45-3e8b-4980-bcd5-6bb0e291614f%2F4DNFIJWBWE41.hic":"20515676755,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa0859349-5f06-4ad3-b56f-b1166b34a9eb%2F4DNFIIMZB6Y9.hic":"15350325963,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F12685c57-d54a-46fa-9efb-acf34ed77574%2F4DNFICJECID5.hic":"1525002266,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd101a58e-89aa-44fd-96c5-6bf1e2476272%2F4DNFIR6UW2QA.hic":"1264999913,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d8c73bf-1335-4af4-b124-e3622d48c5f6%2F4DNFIGOEKBUZ.hic":"1905947578,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcd2477cf-6ed0-4d7b-b4e9-88fb38b0df48%2F4DNFIMDNAEW4.hic":"996444147,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0f03953e-29da-4f2e-8c05-572d0edf4525%2F4DNFI5OSZ3JC.hic":"369361754,22829","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F29d95dbb-005a-4ae1-8b9c-0fec9ec0bbd0%2F4DNFI7KOUGFM.hic":"1227434049,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa441ab7b-afbe-437d-bf98-b6b916558642%2F4DNFIGKX4A32.hic":"883933242,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F941b2f94-2fff-4d3c-aceb-fee4a5ae41a9%2F4DNFI1ORHOTA.hic":"1140970677,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8720ede9-093f-4c00-912f-373283260a16%2F4DNFIWSVLZED.hic":"458091151,26979","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9e17155-2b62-4a68-afb2-31dfa674e169%2F4DNFI6H926RO.hic":"3552863515,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F22f22778-987a-4dc0-97bc-f26eae0156d9%2F4DNFIKTYSPOF.hic":"2939475400,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F40f40192-0acb-44cb-8778-8d21afe593fb%2F4DNFIZ4S52BV.hic":"3067438113,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd8767374-7018-4e11-9226-bf5612d39ebb%2F4DNFI3APMXHF.hic":"3258874744,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8c5140ec-a65a-4186-8c59-2927233eecaa%2F4DNFIQLIKDSD.hic":"2746398416,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8cdedda6-d7d8-4231-a85b-d56fcd962366%2F4DNFIKYXMF1E.hic":"14442148774,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa4d4497-7c6c-4dad-8040-be13ba07ea32%2F4DNFI9815EEJ.hic":"17960817603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9b7b95f-190b-49fe-8047-ef4a8fc59746%2F4DNFIQ2687RT.hic":"15954277087,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F59863d3a-8d7c-49c7-9a41-7f2a58ad24d1%2F4DNFIYDBBSE3.hic":"16499534862,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3e80ca41-b3e0-4f4f-a05e-8f95fe96d938%2F4DNFIMOCN1YS.hic":"863725312,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F96f97a01-0020-4f09-93e8-fc8a9fd07218%2F4DNFI6558CM8.hic":"1597967345,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fce9e9334-ee0b-4549-a845-110470ba5986%2F4DNFIQZRKS7Y.hic":"907626411,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdaac8209-1015-48da-9e31-2e252dfd8fe0%2F4DNFIX4DLXSE.hic":"1369766288,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F268b7d52-9655-474c-9467-8ba31bb2195c%2F4DNFII3JV8I1.hic":"856656441,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9681f9b5-335a-4f56-afa1-15b58bbb41e8%2F4DNFI5IAH9H1.hic":"1495185175,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3e082eab-95aa-4677-88ed-9d7adcc1effb%2F4DNFIK5HY1GP.hic":"2135337789,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31af1ead-4520-4669-957e-424b4b197c33%2F4DNFIFA89L5B.hic":"1975593640,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcc2b78fd-52d4-4e0c-ac93-b84ee82daf7e%2F4DNFICXCFGEI.hic":"2628202920,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff54efece-280f-46ca-95e3-1f8a3cd18820%2F4DNFIK4CECUH.hic":"1901129375,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1181c0c4-afb7-4b6a-9fdc-d868fb2253fc%2F4DNFI1EYIGOC.hic":"1947135384,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1d3e2905-b9b9-4b91-bcb4-8d34746e78f6%2F4DNFI7TLEWUI.hic":"1185758726,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faba3d42f-39cd-4a85-9d3f-835aefb5c803%2F4DNFIVCJKHMN.hic":"687240974,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F27f54fcb-54fe-41a4-b25a-2f8944c89044%2F4DNFIN8F14CS.hic":"1304082029,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb75fedb5-88f4-4bc0-8e38-298df7847a7f%2F4DNFI5LCW273.hic":"12497258313,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2f22b2a0-3712-496e-92d2-63775ec0e421%2F4DNFIVSCH2CH.hic":"12594733778,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F07e47261-5863-44f5-9198-76e263081bea%2F4DNFIZ268JGC.hic":"1499059135,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F682b1ae1-3ac3-40e4-a330-c49f63946952%2F4DNFIJ1P4HBI.hic":"1190211725,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F197e7c89-ea73-41de-8cb2-8c0b1e3bb945%2F4DNFITEGKBIW.hic":"2061501971,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F191f6928-c9a8-44b2-8516-ee4d6005f24b%2F4DNFIE1P6RVH.hic":"1711447310,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F94435086-3701-4b28-a6d0-4a59b24d7615%2F4DNFICJ6I4DO.hic":"1557899940,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa9ac173-d233-41c7-8985-ca91949664e4%2F4DNFIKUG8MEW.hic":"1339072088,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fba6d8ab6-ee18-4ba2-8da9-d631888dd50a%2F4DNFICFZGFAV.hic":"1261083478,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87a3ab04-7094-4673-81e4-ac8c9add8eb5%2F4DNFIQXCZVVA.hic":"1084913802,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbc1ff488-82af-4579-9424-959184edb139%2F4DNFIB6PJFJ3.hic":"1114571343,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1f7026ee-987a-41e7-8a61-45510ee3f86b%2F4DNFIX97731O.hic":"1246860402,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6186787c-2e72-4925-9729-02121e2e4597%2F4DNFIYQYZOTO.hic":"1212210849,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3b98a946-0109-4efa-a13e-cc7a36772125%2F4DNFIPXU7V25.hic":"1696288217,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fea17d041-c6ed-43a1-8047-535f3d19ad44%2F4DNFIL39PR76.hic":"1719284710,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72774afe-f166-42ac-9849-4070b0dadf6d%2F4DNFIYLJ3R3B.hic":"1106419640,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4a45e733-55f8-4a8e-be24-2ef34c976e25%2F4DNFIL51WBN6.hic":"1327651164,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F086c62b0-a26f-41ae-a5ff-88b8be2bd2aa%2F4DNFI6SFPUDA.hic":"1336964405,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4d9b79c7-af62-4070-84a9-b953903f2732%2F4DNFI2KM22QR.hic":"953067310,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3c9889d1-f49e-4639-8e15-2d99d6cd22e7%2F4DNFIVF8Q45U.hic":"984193565,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa080dd7b-b7bb-4eae-a275-572a8b45b2d0%2F4DNFI2RN3WFP.hic":"1046525527,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb81860ca-c227-4b68-a298-1907fd32300a%2F4DNFI4TJTL7A.hic":"1160373401,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F74ab47dc-7b52-421c-845e-6feb33457adf%2F4DNFIYJ4TWB8.hic":"1268416204,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc6582128-a930-4bcc-941e-5c0733bdd4d5%2F4DNFIM6RGKPV.hic":"863347067,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F11a75514-4450-4295-9eda-18e3678a575a%2F4DNFIL2VWWL5.hic":"860731581,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5eb52a8c-bf14-4225-bf34-14a0aa47c369%2F4DNFIX6ZXCA8.hic":"893462267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66aaa4c0-1f62-4040-8ecc-4e95da23cd18%2F4DNFIEVR81FS.hic":"879736207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F821c6e7f-96f7-47de-b7d9-4970562b3c8e%2F4DNFIAUI6BBI.hic":"996313881,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9252c362-31ab-413d-a47a-cc97bdbf243a%2F4DNFIAFEE9G2.hic":"1103265750,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc1a0bf52-2e65-4deb-871f-ede736babd41%2F4DNFIPZBEXCP.hic":"1081257762,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F729f5ce3-d7e0-466d-b781-d18049e63bfa%2F4DNFIWPKRZGU.hic":"973779283,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F80b769ee-a717-4825-9db0-dca86f913173%2F4DNFIMD9QNDX.hic":"1158688208,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F266290c0-2767-4158-85ab-7274368905b9%2F4DNFIATA1HD5.hic":"1073361089,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc46f18a8-eb24-4d35-b112-36db72bde2f5%2F4DNFIH9U4I7I.hic":"1111124316,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fec91a79e-7de7-49f7-9b3d-d28313aeddc8%2F4DNFIZ95S6TR.hic":"1242494051,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9e9390b9-da20-43bb-a8f4-9830f354ddf9%2F4DNFI5ERM9J7.hic":"1271051397,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fee8ea82e-b9e4-41ad-bced-5f4fbdaa4fec%2F4DNFI15FPSQL.hic":"1216714120,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbed7eb86-8990-42f2-b3ee-5992d6361f7c%2F4DNFIJ3DZPGM.hic":"1035089437,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdaa8a324-3bf8-424c-8a86-b8ad325cc20d%2F4DNFINW9P6XF.hic":"1215712740,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70631758-6bf8-47a0-92b6-132574886faa%2F4DNFITS16HW8.hic":"1105283847,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe473304b-7bc8-49b8-bba1-ecb9f06914ee%2F4DNFIS3DIH4V.hic":"1036056660,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F10f9224a-111c-402a-ac25-e221ad0af9ef%2F4DNFIY3KDHP6.hic":"1071761024,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F17519b96-2bdd-4294-98f0-1535f1aef28e%2F4DNFIO8HVKOL.hic":"953793750,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffb18f896-4730-4909-86a3-867fc8e76cd6%2F4DNFIMF6CFOM.hic":"708717889,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcfee4d87-0873-40b0-b79f-35dcc8669c1c%2F4DNFIZZ77KD2.hic":"732668723,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8b5d909-8a1b-41bb-bcdd-d108a0bde762%2F4DNFIOLO226X.hic":"951271932,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9ce81f6e-b9cf-4ec9-8bd3-517539e4b662%2F4DNFIJMS2ODT.hic":"932509067,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F506aa952-5d41-49ff-b658-916bcf88a395%2F4DNFI49F3LJ4.hic":"1208494817,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe4dc392d-ca36-4bdf-a27d-173cae34f520%2F4DNFI65MQOIJ.hic":"854630155,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F149ef8d7-e0b4-4e4f-b7e5-7226e2603746%2F4DNFIM4KEPRD.hic":"882790622,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa436f0a8-4f9a-4524-90ac-795c5b8491cf%2F4DNFIIXBIZFC.hic":"848244425,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbc8a05dc-7449-4b01-8330-a55db37ca8e6%2F4DNFIWDOOBVE.hic":"1116239020,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faef8b881-28fe-4694-9a95-1d31940e6726%2F4DNFIDT9EB5M.hic":"888289053,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff66f3162-a53d-46f2-8800-3752935d5400%2F4DNFIX2VUNV8.hic":"1226661451,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F36c782e6-2c48-4298-aa43-bd6624da003d%2F4DNFIEQHTV1R.hic":"804665819,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff15d571e-605d-4bcc-a359-0350b57a6815%2F4DNFIFW7GA64.hic":"901568712,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc2aa2e8b-ac7f-4acb-b4b5-ac5f845840fe%2F4DNFIXGXD67I.hic":"970995551,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F71b6fd7d-b249-4d65-a597-b80b95845399%2F4DNFIA7GB1NB.hic":"956785837,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6cbb1418-34db-427f-9273-5174eac81529%2F4DNFIVOJGWNP.hic":"890415052,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc69c2ee7-b6c3-4a62-8d4f-913491c9dab8%2F4DNFIW22BNB5.hic":"1075499540,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa268f28f-c6d9-4324-8989-75d2d317af1b%2F4DNFIIFBC8WN.hic":"1045459440,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c7361d4-60a6-440b-b5be-072cada98663%2F4DNFI9ZBEBJH.hic":"759395398,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcceaad1a-e01e-4430-8bd6-24ffa6891802%2F4DNFID4SLU53.hic":"921288444,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9eee5854-b33e-4d5a-9ba8-ceffd47e7488%2F4DNFIODI1NUJ.hic":"733159777,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5e1089b0-42e8-441c-99bb-4be99bcec28b%2F4DNFIJL26LFN.hic":"723567970,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F298a429e-ea29-49d3-bfed-fa851e1e7c4c%2F4DNFI5KTF553.hic":"2213661745,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F965d29f0-e4a3-477c-8ae4-faf4a654e69a%2F4DNFIYSPGFGV.hic":"2274989349,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd88acbc1-37b9-4266-9f97-d8fed576d0f3%2F4DNFILOR6D2D.hic":"2595459358,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7b6ddbce-0ed1-4272-b8ae-32793e4ea4e4%2F4DNFI1WMMPJQ.hic":"2262433890,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fedc0c8c4-97d8-4372-9a4f-5e0cdf09d7d0%2F4DNFI47P5978.hic":"2146314403,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0edcc389-43a4-44d7-b946-fe3496f93d56%2F4DNFI7XGW6IH.hic":"2302805723,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0a802926-e235-4c80-b521-83a1774dfb46%2F4DNFIK1EJG8I.hic":"2374943035,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3c36aedb-6a58-4aa2-9b11-bb440ec174f1%2F4DNFIDQ3THN9.hic":"2341188249,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F846123cd-8828-4e51-8b8a-27deaf293858%2F4DNFI3WPNFWT.hic":"775145629,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd06e3ad-0e37-48a3-8367-c7d5912cab03%2F4DNFI9DCUOQ1.hic":"870487824,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc2eaf9bf-9584-4cec-8685-bd74038a6c01%2F4DNFIU8AF5ZY.hic":"1276224366,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F219497b5-3f35-473b-9d4e-e1cf21c69561%2F4DNFIHW8NTQX.hic":"28864787856,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4be13558-114a-4f2d-abca-7598e2ff4757%2F4DNFI4OUMWZ8.hic":"17061013588,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F49aed637-87a1-4d4d-ae68-e5da82aec05b%2F4DNFIEYQ5ZIR.hic":"13555272651,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa2f48779-4eff-44a6-8a9d-96435aca1ddc%2F4DNFIDZT7PR8.hic":"13425047093,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6ec6b71-27b8-4891-b10a-ab06a5270468%2F4DNFIEJEFCAM.hic":"15394960208,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F68b9a7b5-8413-44fc-8c2d-59a67b1c4166%2F4DNFIJ8JKKWJ.hic":"17012681779,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F294d45a4-8b5e-456f-a9cb-1cbbbad3a7d2%2F4DNFINEQY95T.hic":"13966775978,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd7f3a48-b822-41e2-bd9c-f52b3aff7b6a%2F4DNFII6AN691.hic":"12367300362,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7da44594-0dc8-4e74-8e10-a957aeaea51a%2F4DNFIDBIEXI7.hic":"2015474981,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F085a0453-3784-4eba-80b2-3556e53e2f52%2F4DNFIDKJFK2S.hic":"1983111659,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc370c78c-0a99-4c3f-a29b-2dfafc6a3e86%2F4DNFIPAF4PYT.hic":"3041434294,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F907ce45f-baa5-416d-92de-e86db4bacff1%2F4DNFIWIYYNQ5.hic":"7082321112,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff13afc6b-cf69-4c9d-881f-eed4dd3c28ee%2F4DNFIHMCILEN.hic":"1739157603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7575d891-0e3d-4a77-896a-3e1b3a8d330b%2F4DNFIJBJ6QVH.hic":"5213499748,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff0daa830-60d5-4c7c-a2e1-a4ee70b3fee7%2F4DNFIH2A7IKF.hic":"4099503507,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff4970a25-91d8-49a7-9a4a-fe0f12cb2b0f%2F4DNFIOL8KGQ2.hic":"2256042055,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F879f1850-d175-4a86-8a97-12658482e3d1%2F4DNFIWILLD6C.hic":"5476286356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F787f538e-d619-4c8f-985b-78753fb7e57c%2F4DNFIZBXXJAF.hic":"5946467856,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8ee785f-1016-4989-9e64-78352621d32f%2F4DNFI8PZOJHN.hic":"8307204961,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d8997fa-528c-4531-b25b-a412de6bd472%2F4DNFIGXAMSJY.hic":"6577588285,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87aede55-7610-4283-af0e-c6840429a31e%2F4DNFIWNNO89O.hic":"2871061417,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93b8e020-b337-4685-81dc-40cc8a12b5e9%2F4DNFIXU2KPNQ.hic":"3401717686,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffb5cf1bd-59d6-46fe-857d-b86d9756029d%2F4DNFIHBGD6N6.hic":"840028421,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2d1bc088-d838-49b8-85fc-fea78a7353c4%2F4DNFI7J8NI4A.hic":"675705256,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21a27b63-fd67-401b-9aa2-2798e6588d21%2F4DNFISFM9VFK.hic":"800145922,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F656c0a9d-7058-4c4b-a3ce-701d929561c1%2F4DNFIJU5XBK7.hic":"966593603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2efacfbd-9c81-4e62-8df7-847d1ab774d5%2F4DNFIPKY8ED1.hic":"3401629450,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa50b6a26-56b5-43f2-b525-fa219fd716f1%2F4DNFIQRTP7NM.hic":"5358852759,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff5dc7a59-b998-4490-8a76-afbf3b258a49%2F4DNFIBCIA62Q.hic":"5779049277,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F62b2b237-cb02-45f7-89d9-616cf9ffb678%2F4DNFIV56OFE3.hic":"5818844506,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ac79b4f-cfbf-4b2a-9fc2-898ed6c3e5e1%2F4DNFILIM6FDL.hic":"19637469163,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1cff8afa-5a13-4ad4-bcad-91fc3ced759c%2F4DNFIP71EWXC.hic":"17934647326,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F000789fe-9a22-4280-a71c-7ad228fd4cac%2F4DNFIM7ZVQOQ.hic":"700134697,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8d78457f-0c2b-4358-b08c-4d4ef4d9f59d%2F4DNFIS6EYHCX.hic":"628314484,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ca3b4a0-2478-49c9-b4a2-a28430417a32%2F4DNFIKKCMS1Q.hic":"584050634,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff5041473-18ec-439d-92b1-8ad98c9b25c0%2F4DNFIBIV8OUN.hic":"522632731,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcf474ec6-abd4-431e-a21c-252fcf5ee6b3%2F4DNFIAUMRM2S.hic":"313395531,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2bb1c73e-fb0f-41c4-8620-a938cc8d24a0%2F4DNFI9ZUXG61.hic":"332217525,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F26dfa41e-7e4f-457a-a3ac-72daf8059f3c%2F4DNFIDBFENL7.hic":"359604894,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8ed2e68b-189e-4988-bb6d-94e63240a231%2F4DNFI7XAZNNQ.hic":"5312422266,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6f2b1ce0-5205-4680-981e-d91b694dc3e4%2F4DNFISNGDB53.hic":"2008546759,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F73c8147f-bc7d-4d33-8a10-a9e7b413ecc6%2F4DNFI1CIGHYC.hic":"2221847625,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F526ae3e3-32cc-4670-970f-1faa9cfafd4d%2F4DNFIQD2DP2F.hic":"5295591503,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6e803530-47f8-4c56-bb19-fbdcd578d2f0%2F4DNFINHT8P7C.hic":"3159499486,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffe705f38-903f-47b7-9b38-f80ebd18a479%2F4DNFIGF8EM7M.hic":"3490552542,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa197328-d6da-4299-a0fd-409ac9892668%2F4DNFIUPG2ZBJ.hic":"5382003751,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffe5d52c4-2be7-4812-bca0-cd4bb3025e6b%2F4DNFIH3OTR14.hic":"3224693110,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21935f61-daa8-4df2-aa69-fcd27953b405%2F4DNFIUATRW3Z.hic":"3835865655,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72147527-e3e8-4967-bc45-8251249d76c9%2F4DNFI6V7ZQAE.hic":"4382708138,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F589f0919-f54d-49ff-a482-e2f453ef7f34%2F4DNFICKMT1CY.hic":"4479068191,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F861946ca-bad8-4a87-96e1-b2eb20b9ef10%2F4DNFIF9BDCNI.hic":"3698151402,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff76346ac-97ec-4893-8984-2b75ce1cdc51%2F4DNFIG5O1OQS.hic":"5704288175,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe8b43826-f049-4c3f-b83a-e75fa7aacc85%2F4DNFIHS2SVBQ.hic":"990025510,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46316260-f555-4dd4-9e40-8ae06ca52822%2F4DNFIU95B69H.hic":"1275878544,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff62ef491-a3ae-4f66-ab33-c5673c9e0b65%2F4DNFIYRROFCR.hic":"1522530503,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1cd617e1-fad4-4fdc-8b4e-cb277650123c%2F4DNFIF7JN3IU.hic":"1463443128,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb20fe2a-0078-4d4a-8a52-d76043d06f40%2F4DNFIB2RYULQ.hic":"1269529700,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d386fcf-1d22-47de-a0d6-0c3a641ca174%2F4DNFIMVDK3SI.hic":"1185489599,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F00e470bd-c533-41b1-923a-4b471824da12%2F4DNFIRLOTXSC.hic":"978217499,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb8774fb3-d0c5-43cc-a6c9-eb0ca39841fb%2F4DNFIZAPX6J8.hic":"1100356082,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fab3b826e-614c-448b-860f-a3ebef68a82f%2F4DNFIQD5VCSD.hic":"1322319877,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F66c78d2b-993a-4937-95ed-9e2d302ceb3e%2F4DNFIIF6VAGN.hic":"868885799,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5d106fe1-2d80-466e-87aa-46b38ba142c5%2F4DNFI86IEZXH.hic":"751443267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc99490b6-faf9-413f-9c38-3f53018089d6%2F4DNFIP881SR2.hic":"754427927,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F39c7e387-e710-4b1d-b757-357dec03f6ad%2F4DNFI42NNCW8.hic":"1166392978,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4742a211-43b1-4325-af6f-82490aeb766b%2F4DNFIEV4PKP6.hic":"1102227476,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feaa73842-1c86-4ad9-8a9e-c189c0b4c01d%2F4DNFIF1DUQHE.hic":"1206699207,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd25f24df-0298-4079-bb6f-1c8e1e32392b%2F4DNFIGW55EAY.hic":"1033358104,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc57a7ab5-2778-4fe2-9d64-9a4e95135f12%2F4DNFISZRU6I4.hic":"1539570262,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd89f494a-27ca-46b6-89be-7583f3f6d18c%2F4DNFIBKKDTAP.hic":"350372180,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F06725280-cb24-4f22-a267-18b434bfa79e%2F4DNFIJSRQW24.hic":"314361467,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8fe5c3c5-006f-425b-ac6d-ea475e29be78%2F4DNFI3REN89E.hic":"299665258,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8b6ac5c-13b4-427e-9158-cec0b890b6d8%2F4DNFIF5XLHKM.hic":"235668364,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F01ff33fc-fc23-48aa-a6c6-b720d6fe0768%2F4DNFIB6Q538N.hic":"316494853,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F552978c8-abbc-424a-9187-3e34cf802a97%2F4DNFI3ST3F7Y.hic":"296298411,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F72e66520-5170-4f2e-844a-fbfd0e23b480%2F4DNFIQT4M6UI.hic":"307691265,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb3eb3953-ffe8-4d5a-970c-a16f3b7b9ec3%2F4DNFIFNCC7M2.hic":"364160436,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F37d413fb-afab-41ff-99aa-1678830f7dde%2F4DNFITM9MDJL.hic":"252412426,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf5db92c-aaf1-4086-a0d2-79b28648f172%2F4DNFI3NTD7B3.hic":"227586640,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6892f7b-1f8a-4d7d-9605-c67932cd5654%2F4DNFIBED48O1.hic":"328344868,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd64afb07-5ab1-4c4f-8438-2fee37afa86a%2F4DNFISATK9PF.hic":"379669025,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fad11bb63-8692-461c-b698-89c601451321%2F4DNFISRP84FE.hic":"298491537,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F63710ec5-35d2-47dd-bf9a-08d3daa83d67%2F4DNFI2LY7B73.hic":"303150299,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76077d9e-ca75-4301-ab79-88aa49bda495%2F4DNFIXEB4UZO.hic":"711757090,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F34dd4c0e-3487-4fb4-b95f-c4bb66e0fa31%2F4DNFIQWWATGK.hic":"221304476,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F48a8cf86-3248-4a8e-8e85-472ec219d49c%2F4DNFI44JLUSL.hic":"284772724,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fee399fbf-2a9e-46e2-8364-457713bff508%2F4DNFIM7Q2FQQ.hic":"330729464,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F124d191a-c5c7-49b6-b84b-0d1bad8bef2b%2F4DNFIZK7W8GZ.hic":"293166018,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe351f7cc-7a2c-4515-ae0b-3bb2f91c986a%2F4DNFIMIMLMD3.hic":"240094740,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffd1ae249-57b1-41d6-81a6-16b21dcd8f12%2F4DNFI7QUSU5J.hic":"681762505,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46c92c5c-9ad8-4d49-beba-f35c5cd99208%2F4DNFINXUOI5H.hic":"375594313,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd7350d40-4e9e-4131-9151-bb539d39b431%2F4DNFIIJR2296.hic":"331322302,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbfacf37b-1665-45f3-a046-e29e1544e9b0%2F4DNFIJMZUTXR.hic":"361313244,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F234e18fb-9990-43bf-9a48-f72722cfa232%2F4DNFIZQPT9EL.hic":"540421873,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4b35ab09-2e79-4876-b2bc-d3a8faa26257%2F4DNFIZIXSZ9J.hic":"545066813,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2ae5118e-807a-46e0-8e92-143d4b282b3d%2F4DNFIDD9IF9T.hic":"237409149,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb34d7f6f-73f7-4b6b-80c7-c8af0f991549%2F4DNFIVC8OQPG.hic":"355121712,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9ab169fd-cbdd-4f60-8553-a4c6912ad89e%2F4DNFITUPI4HA.hic":"313085022,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4e53712b-d0d9-40c5-afe1-ffa0fad71e59%2F4DNFI5IZNXIO.hic":"341863906,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a91477f-45eb-4a16-affb-fc131f9326b8%2F4DNFII16KXA7.hic":"248904495,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F153729de-0eca-43cc-9b61-61aa8d775b38%2F4DNFIAAH19VM.hic":"668047244,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F879fd78a-7165-43d9-a0de-ca158b53df30%2F4DNFIVKIY3KV.hic":"247571318,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67f901a4-040b-4b04-9fff-94a1780423cd%2F4DNFIVVCWL6C.hic":"198355985,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd5b30c5a-654a-463c-9474-39bdc3ce4500%2F4DNFIJRF2273.hic":"343971277,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7070280a-8f03-40d0-9fef-e9d9f4d3dae7%2F4DNFI6FCC9ZA.hic":"312013061,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F47049719-9407-4d76-9048-26231045f642%2F4DNFI1CPQ4O3.hic":"352923267,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F862c2b5f-44c2-4bd7-9264-b3ca032d3d8d%2F4DNFISXFEDE9.hic":"271745977,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feffbe052-39ff-4217-9871-44199ed90818%2F4DNFIF9L6QEQ.hic":"668409334,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa7791854-1b35-4258-90fb-603c55f24642%2F4DNFIPKASX1Q.hic":"312727920,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F79cccad6-a78e-4de9-9fe7-08f7e8df663d%2F4DNFIWXZ4JQZ.hic":"151808553,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7e86e0cc-d6f1-4ce0-aba4-c36c6ebb3c4c%2F4DNFIEMQ1O8V.hic":"700533280,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4a1b58d3-9ae6-43e4-91cf-49f1fcbbab33%2F4DNFIYWONU7A.hic":"729050356,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67bff264-0b0c-4c5c-9d4d-ff5abef2bbe4%2F4DNFISNIE5FH.hic":"7987657997,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3a6a943f-2cc0-4433-a27d-c89f3fdd3309%2F4DNFIV8MLWJB.hic":"6646216171,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9e235711-ba90-404d-b4ac-b15990ea8e33%2F4DNFIXSTDPHL.hic":"3146468238,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c89f4bc-e9fc-4ecf-b868-26108dbb7bb2%2F4DNFIQJNOH8U.hic":"2919703928,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1856ff9e-de7a-4fa1-ae0b-3e04b837b5e1%2F4DNFI57XB4A8.hic":"13417594377,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F099bb5b9-6315-4650-8f78-d603f5a046b3%2F4DNFIQ7UKVZV.hic":"9016468637,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faf3c7a30-0fc4-410d-8d41-247da3eb105d%2F4DNFIWJY8GHD.hic":"7921314766,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fda99f429-20ab-4d91-bbfe-f8bdea8ed7b1%2F4DNFIN8NKRNF.hic":"4247121358,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0ca0f4e3-30ca-4332-b735-e32dce08e1a4%2F4DNFIZYGEHNZ.hic":"4910404663,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F243f48b0-6b59-4f37-ad39-a12e0986f530%2F4DNFIRPYGAV8.hic":"4220073636,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F49f1a890-d458-42a6-9c78-99c38b6c7a8f%2F4DNFI6MZTDM1.hic":"375035361,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76bd4768-9343-44ba-a99d-5500e184e39d%2F4DNFIG3BCGPL.hic":"2422923206,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F9d1ed866-eaf6-4906-aa8c-9e39616dde38%2F4DNFIS9YPJ3L.hic":"1593271574,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1e7a5636-bdb6-45fb-85d8-87a7e908de43%2F4DNFIOWGA9AX.hic":"1632314387,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5ecc552a-0a6b-49a9-9aa5-9f3fd9b535fd%2F4DNFINKEDSBF.hic":"1458761024,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6c03f1d2-bb25-4c94-b5f5-d5cdd01c14b6%2F4DNFIVIXVUK7.hic":"1504818271,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1a4616ff-6d04-4a6a-9773-b80e81da2471%2F4DNFIANHFY16.hic":"1850724180,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd2231870-a78d-4c8b-9cfd-084f2468acb1%2F4DNFIJ67ZFBI.hic":"1473864703,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F859c2dd3-df8a-42b7-86ea-bf6524f75e80%2F4DNFIG3YQQ4V.hic":"1539822829,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8bad667e-6003-4828-9a20-07585fa9c811%2F4DNFIOLKEOME.hic":"3036353747,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F92ea551b-5779-4d31-a0f5-621e4bd0eb21%2F4DNFIVLN8WJE.hic":"2710426318,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F61ee79fa-0617-4083-b121-f92ef3a8905c%2F4DNFI2111XQA.hic":"2589549183,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F83ebb98d-e5db-403d-aa23-875293156c0e%2F4DNFI88HXX7D.hic":"2462367030,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6d63671a-8f1d-4159-82c0-931b43464772%2F4DNFIUBM6QK8.hic":"2486020469,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcccb9014-ce15-4032-81ac-222b3d621cb4%2F4DNFIVILEERC.hic":"2052537210,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21a07867-4007-4ca5-b066-25d3168208dc%2F4DNFIF7Q43N4.hic":"2091773428,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff738de0f-358b-44bf-97dd-644c8d9b1b1c%2F4DNFID56VJGW.hic":"878913568,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fda97c1d4-bb92-4a77-92a7-f7960f88b9dc%2F4DNFIYUR29KO.hic":"983915575,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F54ea363a-99e7-4f55-861e-1644acab7939%2F4DNFIUDPGHO8.hic":"905253594,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdcd66a07-55ee-48d9-a157-419cf4ee3eef%2F4DNFISWC2N8T.hic":"1233576358,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F40363837-7466-4a1d-b20d-a66d1670b700%2F4DNFICMPHDMI.hic":"516590777,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0b3fa4e6-caeb-40b4-8942-e9c0b03dfe4f%2F4DNFIKMKN736.hic":"634310295,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb6a34050-d52b-4880-91cf-d3fe4b0ce982%2F4DNFIN5NLS49.hic":"650451131,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8e63a47b-9fd4-4772-8b0c-10ee589ffb16%2F4DNFI4P8UBRL.hic":"705655033,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7d92b666-30cc-4838-9d46-c1f11cee3d3c%2F4DNFISNC3LAI.hic":"176146197,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F17f7dc63-a1bc-4970-b389-87d9ee93b753%2F4DNFIVBWPFD7.hic":"749678512,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff8897333-4791-4a83-9444-a653e24aee13%2F4DNFITMQRXB7.hic":"254477361,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8712bf31-33d0-4562-ab0b-a1e9cf4fd30c%2F4DNFIUYD3HBY.hic":"995625724,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbfaf6383-9cc6-4b5c-9b20-d3bf2e8c3495%2F4DNFIRRSC7P9.hic":"1149985362,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb0b70598-5d17-4e0a-8831-6cbe697e69e2%2F4DNFIWKR8FP6.hic":"1151628407,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fccc094a8-23ce-4fd8-9c4a-41f07c045c8f%2F4DNFIQ74RSUY.hic":"931695969,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8eda16f3-af5e-4f1f-b46d-c74df44b76aa%2F4DNFI9IIO5PW.hic":"1077740364,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff283637b-cf2c-4412-ba00-0e3d7e279fad%2F4DNFI8WGJG19.hic":"812086456,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7ad8438f-d3d9-42d8-88bf-42845a0dc2d0%2F4DNFIQ5CCESJ.hic":"652559720,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70e3bdcc-caf4-4822-b9c5-85234873db7a%2F4DNFIWTZHB4H.hic":"760694196,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F56ed767d-cd8a-4d38-8047-ed1e8bc8cd19%2F4DNFIENYQCDP.hic":"1159428005,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa912fff9-5f90-42b1-a3a6-cbb9eb2cf861%2F4DNFIFATZWPD.hic":"1033325746,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F21338ea5-fdee-4ad8-b61c-608fc6cec4bc%2F4DNFI7YRXKEO.hic":"388142539,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff0f88647-5631-437b-b48a-4603915e3714%2F4DNFIUY3J7EW.hic":"407344788,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F16926af8-ac3b-4f32-97d5-6c0dc6f1596a%2F4DNFIRKUYKP4.hic":"893352368,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93e39aec-6cde-4c5b-bcdf-283faa3163a2%2F4DNFIAQDBJZP.hic":"489922022,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0dc0b1ba-5509-4464-9814-dfe103ff09a0%2F4DNFIC1CLPK7.hic":"565748333,37769","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fb50964c7-b025-49d9-b1ed-289bedb59678%2F4DNFI3A3VYWU.hic":"4597459343,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff4390cea-b330-4022-88c1-9ff8c0a786f7%2F4DNFI6JJQKFJ.hic":"3678393678,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70c0f730-5da1-4863-9b7a-6cdd31066cff%2F4DNFIK61ILGM.hic":"3324300994,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F14b14ac4-ab59-4754-9c43-eacd9d0638e2%2F4DNFIYD8LO9Z.hic":"3227227120,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7386f953-8da9-47b0-acb2-931cba810544%2F4DNFIOTPSS3L.hic":"253942497,7557","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6b5d8bd-27dc-4415-a320-53405a16db85%2F4DNFI525PKU5.hic":"305089653,7557","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1f922dbc-637b-4c43-b816-f604f0e79ad1%2F4DNFI8Y9SRP2.hic":"1438589609,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6a36d686-716c-4ba8-a9c3-fa8311791d3c%2F4DNFIP25GZGA.hic":"1419100109,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0e535542-2cf2-46e4-ba10-7a0b946a7fb2%2F4DNFITPO1WTY.hic":"3885296184,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c17d228-5052-4c83-880e-af05118e6929%2F4DNFIG4X5Z5F.hic":"2159245890,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc3977c00-525b-4556-9a27-061707f8cb76%2F4DNFIXLYR32S.hic":"587852728,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3f856506-cbc5-4211-a29d-48a7530c622e%2F4DNFIWI3V5LI.hic":"2318237793,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F38f77979-5eb7-4b6f-9a60-c2451185db98%2F4DNFI2DGL7LH.hic":"2068150664,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe0992a75-7727-405e-95ac-aa97141b51c1%2F4DNFI1VSO8JP.hic":"1807949651,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe925f1aa-2e7b-44e7-bfa8-2084a613ab13%2F4DNFIV5O2ZYO.hic":"2242134377,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F803a6d3c-3972-4939-8ff2-d195c5192090%2F4DNFIEWEWQ8D.hic":"2981341325,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F25104375-a588-46e6-a382-663cee6c332f%2F4DNFICSTCJQZ.hic":"14592996888,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F927aa8a5-24a5-43b7-807a-1e99ac321459%2F4DNFICEGAHRC.hic":"15431307603,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8c380474-12cd-41f4-b86f-2a29faf12eec%2F4DNFIY3XPKPO.hic":"2550999291,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F77da562e-d0ec-45a8-8764-14fa16d995a1%2F4DNFIK9PS9GM.hic":"3401011629,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F11b26222-d480-40a7-8d53-3ad8500396cb%2F4DNFIF4Y74JR.hic":"2127593378,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F93df02c6-1047-43f6-afae-d3598b61eeea%2F4DNFIBBKG9KD.hic":"5724446278,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6cd4378a-8f51-4e65-99eb-15f5c80abf8d%2F4DNFIT4I5C6Z.hic":"5419655766,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F067881e5-563d-40de-a9e3-caccad887fbc%2F4DNFI2U38HCE.hic":"14749043471,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fcb3da9ad-7afe-4d0c-9c2d-261181e7a95c%2F4DNFIETP228R.hic":"9401474797,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F185b7bcc-7bb7-41b7-9ebe-92d4fe159431%2F4DNFIXKC48TK.hic":"11624295594,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F18459b84-dd43-4af6-a05f-bcb773096322%2F4DNFIFPGOWJ6.hic":"2843730862,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffde1e48c-4a0d-4bb1-b84a-e0e45f9a0aa3%2F4DNFIIRMBE8Y.hic":"5820677927,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbabed539-1f0f-4e87-8815-fde596e6024c%2F4DNFIVUGNDD7.hic":"5170782436,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7d00531a-e616-469b-af52-5b028270e2ce%2F4DNFIFLJLIS5.hic":"18917549985,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7a9dad53-b8af-4cb6-9ce3-5c38e4a855c7%2F4DNFIOX3BGNE.hic":"5482775936,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F82fd7b7e-5f47-48d5-bf0d-daaa48a4674d%2F4DNFISPUVQHA.hic":"2177864938,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4c6680f3-9cf6-452f-9dc5-ecebf376775d%2F4DNFI8649RQJ.hic":"3288850368,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2395f001-19d9-4000-9f00-dae3dea708d6%2F4DNFIE8T8JZ8.hic":"1383191843,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F24464fa8-bf96-483c-8e9a-c2f626ad6e19%2F4DNFIBM714BP.hic":"1765204569,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F918fc048-fa27-41d2-a63a-d50c511fbb9a%2F4DNFI6CWNUFL.hic":"2431120602,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7ff5a0d1-8e54-4cf0-9fe7-339f147c78da%2F4DNFIZ4F74QR.hic":"3211825957,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F355f0412-cb17-452a-b15c-aba16c5a742c%2F4DNFIOUVOX3R.hic":"5547401083,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3cac91c5-160a-4b91-a91e-edc309318dd5%2F4DNFIVTDXW6X.hic":"4797344498,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe9ac9ec5-6221-4f39-951a-1c5054fc9f1c%2F4DNFICA8Y9TN.hic":"4277557869,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F46f62222-b50a-428b-938b-5444951600eb%2F4DNFIDWM3HN5.hic":"4374808431,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F50e4f2a1-9cb6-4192-8199-64d354bfdf96%2F4DNFIBK5TB3N.hic":"3757387253,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe4cdd5a8-1a45-4c6a-906b-a9603260d4c8%2F4DNFI3JYF9VS.hic":"5260534916,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc8164e99-5778-427d-be26-f0e1b62400f0%2F4DNFIP1GNKUO.hic":"7589365689,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0d72e78a-fc87-4716-8b8e-6dc5650ff2ef%2F4DNFIQYQWPF5.hic":"22022259901,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac58fc15-48c2-4eec-a689-23b677b4b6e7%2F4DNFIW6H9U3S.hic":"6810897169,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31811e40-e3ca-4456-8ba6-2ee66d6c7104%2F4DNFI7J8BQ4P.hic":"7188744676,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F62d81a52-d2cb-4bbd-8510-0fe120e786e0%2F4DNFIA3AKFSU.hic":"1763730692,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fae0b7513-d1a0-4f27-a9d3-348837f42cb6%2F4DNFID68JQY9.hic":"2422880133,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fae6a1a7e-1d2d-4fd2-a89f-1799abac8a9c%2F4DNFIL1FQDXE.hic":"1543814834,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F80d343c9-bd60-468a-803d-c3e351a958bc%2F4DNFITSIPCSK.hic":"2344682115,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff2d61195-a3a6-4d50-b928-546ca67546cb%2F4DNFIJ88LYHR.hic":"3362742962,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F31052aba-773a-4500-961b-e0a518245b0c%2F4DNFIJIPWD63.hic":"2529548812,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc93d0710-3fbf-40cc-b0eb-878e2aa659e4%2F4DNFIZUP2BBI.hic":"491996147,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F8660baeb-5be1-4ba5-93e4-66499e9a4587%2F4DNFIEBC4AF3.hic":"2993048734,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff6d08fbc-b836-4776-82ad-8b1b277ae837%2F4DNFI5VO3E1W.hic":"1949322679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3af004a2-a6fa-46dc-8be8-898b847a77be%2F4DNFIFDGVWLU.hic":"2456400803,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd613b4b-2422-492c-8d8f-8afba9c8a182%2F4DNFITVGFNYZ.hic":"1411204423,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc340694f-14f3-4638-b09b-98220c20039a%2F4DNFIOW9TTC1.hic":"2611370588,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3effa71b-6aa3-4265-87ba-f8d709d778d7%2F4DNFIOAA3ZEQ.hic":"3123195980,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fde75cf8b-9ce1-44fc-8b7b-ca0adea6bae9%2F4DNFIA5ID1S6.hic":"3496246968,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F714f775d-a5a4-4314-83f8-016b9d73200b%2F4DNFIZYU7V81.hic":"4245592042,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5ca518af-6e1e-4777-b67b-0fe7f039ce58%2F4DNFIRV6PVUX.hic":"3981520466,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc29b57d5-c263-4372-b396-ab4f55682f5d%2F4DNFIMEANFBY.hic":"3999623376,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4196d3ef-161a-4c18-a57e-005165c6b32a%2F4DNFIGLGQXLC.hic":"4105683321,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe10828b5-9519-4ceb-81e7-7228bfd890de%2F4DNFILS2HLXC.hic":"3804942111,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Feaac88c7-9bdc-4b1e-aa9f-e675520dfffa%2F4DNFIQS8853L.hic":"5287726781,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faab371b1-bc8d-4e83-998e-5bb977c443ca%2F4DNFIVBYCYGS.hic":"4657988157,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdb116add-af8c-4a3b-b106-9f704ba0a175%2F4DNFIE4WWHMF.hic":"5116727268,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F033366e2-05a2-4381-9d48-90122892a9e0%2F4DNFIKDUUC3C.hic":"45638237,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F7284a446-442d-4a46-aae5-84987e75a7af%2F4DNFIJ5HIRA2.hic":"62201052,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F876649a3-6dd3-463a-8b17-5752a98a89c5%2F4DNFIXDFC7EM.hic":"69878143,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3cb4ce4d-d474-459f-8b8a-2159d8df8068%2F4DNFIO35EOVR.hic":"70153114,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5c5612fa-18c2-47fb-8074-693b1054e254%2F4DNFI57QGL6U.hic":"54605055,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F70c1472d-cf3a-41d7-8682-cd03b7cc978d%2F4DNFI2AGEBE5.hic":"67930121,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2bf4cce8-6e03-422b-a190-e51d4a07d501%2F4DNFI1E6NJQJ.hic":"4893181511,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0eb3aa56-8a23-435d-a07b-8bb545e8d708%2F4DNFI2DNFM1A.hic":"60466977,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F1201682a-a223-482d-913d-3c3972b8eb65%2F4DNFIIRIHBR2.hic":"48961678,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F6aee7913-6356-43cf-affa-f2b60dd478f6%2F4DNFIKXNMT46.hic":"39095246,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F357139a3-c9a5-4343-b0a4-b41c45fd03fd%2F4DNFIRV7IRJP.hic":"70916718,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76be3061-6259-42be-a917-19dcba41517b%2F4DNFIFX1XYKZ.hic":"229197441,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ff60c348a-a62c-43c3-ac85-f6c28b5f823f%2F4DNFI64CJUZ5.hic":"112428610,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fbd0b0a14-9703-49af-bb36-2359f96d4d0e%2F4DNFIBPL2HL1.hic":"73972428,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F79ac278d-83f7-4c1f-91b2-05c8018c1426%2F4DNFIBRSIPE4.hic":"415430378,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F0c3b8141-8e67-4211-80dd-3bae88f9e537%2F4DNFIDLDVY14.hic":"112747303,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2ae703d2-d85c-4ac4-9ce1-14d653927675%2F4DNFI4R1II4P.hic":"210565448,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76e641af-90be-49f8-b126-12c20f856159%2F4DNFINMLRY95.hic":"1590865292,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3b416382-ae5d-469f-9e9a-85a3e2ce9793%2F4DNFI8KBXYNL.hic":"4626496956,22663","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa27589a6-86b2-43a2-8218-1f2232d551e6%2F4DNFI53R5IKA.hic":"1536016455,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdd3999f5-b36e-4154-a6b9-446656959a3a%2F4DNFIAWVDQ8C.hic":"2210273411,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fc377953b-0e61-426b-a905-abab2d5a3002%2F4DNFI9VXTBE2.hic":"3384365692,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F2dbe0377-1db2-4aae-af2b-d87dff728035%2F4DNFIT96Z365.hic":"7692311974,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fdcfcb009-f006-4ab8-a4c7-af72be58c12c%2F4DNFITUOMFUQ.hic":"6592120312,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F67f9073d-b2c5-474e-b3d5-7d72cde555cd%2F4DNFIHLQKDN8.hic":"2647703964,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76968cc8-fb9f-485b-85b2-c9289067194b%2F4DNFIL9M97T2.hic":"6186798917,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F87d9330b-8d2c-4e9d-85bb-02e572de7a68%2F4DNFIDWGZLHX.hic":"4379708168,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Ffc01b381-3665-4225-88ee-2e5e9ecb7324%2F4DNFIMEG1QIC.hic":"3587146533,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3144a03c-15c3-4bf9-95f8-ffad2640a1bf%2F4DNFIWSB66VX.hic":"1529739069,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fd7d3aac0-ba66-494b-ba0c-147631084b98%2F4DNFIH7TH4MF.hic":"6896300679,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F4b13bd19-fbd1-4c68-8855-4f0158d1ce47%2F4DNFIHKWIZ9T.hic":"1954878455,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F3d04e286-30d4-4add-a806-7a929d36419e%2F4DNFIZBBX795.hic":"1350142414,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Faa26f261-a88a-4cac-9118-ff8e90ab6f61%2F4DNFI9ZWZ5BS.hic":"3410552807,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F24e516ce-0b49-4476-b818-cc96471d8765%2F4DNFIPAI8XB5.hic":"4168518737,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fac3b06b5-46d4-4c1e-97e9-9a4f353473a7%2F4DNFI1OUWFSC.hic":"10766406904,21916","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F76c6aa27-895f-4e82-8ed8-7a85aca84490%2F4DNFIX4PJKXZ.hic":"1463157350,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fe6fbe03a-997b-4d72-a3cc-f1ed7bd88a92%2F4DNFIZGCA8AH.hic":"1597664180,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F61d99a87-4ec6-4116-be99-b483999641c4%2F4DNFI5CGQ46V.hic":"2870576870,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F271ea8cd-53b9-44c9-9fff-1bb5c444b54c%2F4DNFIOCW5AEM.hic":"2463600138,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2Fa98ca64a-861a-4a8c-92e9-586af457b1fb%2F4DNFI1UEG1HD.hic":"22480709268,25900","4dn-open-data-public.s3.amazonaws.com%2Ffourfront-webprod%2Fwfoutput%2F5809b32e-0aea-4cf5-a174-cf162d591a35%2F4DNFI9YAVTI1.hic":"3141182061,25900"};const lz=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,cz=-32768,Gg=8,Wg=4,Wr=4,hz=new rz(100);class ww{constructor(e){if(e.alert&&(this.alert=e.alert),this.config=e,this.loadFragData=e.loadFragData,this.fragmentSitesCache={},this.normVectorCache=new r2(10),this.normalizationTypes=["NONE"],this.matrixCache=new r2(10),this.blockCache=new dz,e.file)this.file=e.file;else if(e.blob)this.file=new nz(e.blob);else if(e.url||e.path&&!lz){this.url=e.url||this.path,this.remote=!0;const t=new tz(e);uz(this.url)?this.file=new iz(t,hz):this.file=t}else throw e.path?Error("path property is deprecated, use NodeLocalFile"):Error("Arguments must include file, blob, url, or path")}async init(){this.initialized||(await this.readHeaderAndFooter(),this.initialized=!0)}async getVersion(){if(this.version===void 0){const e=await this.file.read(0,128);if(!e)return;const t=new ct(new DataView(e));return this.magic=t.getString(),this.version=t.getInt(),this.version}else return this.version}async getMetaData(){return await this.init(),this.meta}async readHeaderAndFooter(){let e=await this.file.read(0,16);if(!e||e.byteLength===0)throw Error("File content is empty");let t=new ct(new DataView(e));if(this.magic=t.getString(),this.version=t.getInt(),this.version<5)throw Error("Unsupported hic version: "+this.version);this.footerPosition=t.getLong(),await this.readFooter();const r=Object.values(this.masterIndex).reduce((c,h)=>Math.min(c,h.start),Number.MAX_VALUE)-16;e=await this.file.read(16,r),t=new ct(new DataView(e)),this.genomeId=t.getString(),this.version>=9&&(this.normVectorIndexPosition=t.getLong(),this.normVectorIndexSize=t.getLong()),this.attributes={};let s=t.getInt();for(;s-- >0;)this.attributes[t.getString()]=t.getString();this.chromosomes=[],this.chromosomeIndexMap={};let o=t.getInt(),a=0;for(;o-- >0;){const c={index:a,name:t.getString(),size:this.version<9?t.getInt():t.getLong()};c.name.toLowerCase()==="all"&&(this.wholeGenomeChromosome=c,this.wholeGenomeResolution=Math.round(c.size*(1e3/500))),this.chromosomes.push(c),this.chromosomeIndexMap[c.name]=c.index,a++}this.bpResolutions=[];let l=t.getInt();for(;l-- >0;)this.bpResolutions.push(t.getInt());if(this.loadFragData){this.fragResolutions=[];let c=t.getInt();if(c>0)for(;c-- >0;)this.fragResolutions.push(t.getInt())}this.chrAliasTable={};for(let c of Object.keys(this.chromosomeIndexMap))c.startsWith("chr")?this.chrAliasTable[c.substr(3)]=c:c==="MT"?this.chrAliasTable.chrM=c:this.chrAliasTable["chr"+c]=c;this.meta={version:this.version,genome:this.genomeId,chromosomes:this.chromosomes,resolutions:this.bpResolutions}}async readFooter(){const e=this.version<9?8:12;let t=await this.file.read(this.footerPosition,e);if(!t)return null;let i=new ct(new DataView(t));const r=this.version<9?i.getInt():i.getLong();let s=i.getInt();const o=s*196;for(t=await this.file.read(this.footerPosition+e,Math.min(o,r)),i=new ct(new DataView(t)),this.masterIndex={};s-- >0;){const a=i.getString(),l=i.getLong(),c=i.getInt();this.masterIndex[a]={start:l,size:c}}if(this.expectedValueVectors={},this.version>5){const a=this.version<9?4:8;this.normExpectedValueVectorsPosition=this.footerPosition+a+r}return this}async printIndexStats(){let e=0,t=0,i;await await this.init();for(let r of Object.keys(this.masterIndex)){const s=this.masterIndex[r];e+=s.size,s.size>t&&(t=s.size,i=r)}console.log(`${t}  ${i}  ${this.config.url}`)}async getMatrix(e,t){const i=Oc.getKey(e,t);if(this.matrixCache.has(i))return this.matrixCache.get(i);{const r=await this.readMatrix(e,t);return this.matrixCache.set(i,r),r}}async readMatrix(e,t){if(await this.init(),e>t){const o=e;e=t,t=o}const i=Oc.getKey(e,t),r=this.masterIndex[i];if(!r)return;const s=await this.file.read(r.start,r.size);if(s)return Oc.parseMatrix(s,this.chromosomes)}async getContactRecords(e,t,i,r,s,o=!1){await this.init();const a=this.chromosomeIndexMap[this.getFileChrName(t.chr)],l=this.chromosomeIndexMap[this.getFileChrName(i.chr)];if(a>l||a===l&&t.start>=i.end){const y=t;t=i,i=y}const h=await this.getBlocks(t,i,r,s);if(!h||h.length===0)return[];const u=[],f=t.start/s,d=t.end/s,p=i.start/s,w=i.end/s,F=Math.floor(f),g=Math.ceil(d),m=Math.floor(p),b=Math.ceil(w);for(let y of h)if(y){let A,x,v=e&&e!=="NONE";const _=this.getFileChrName(t.chr),k=this.getFileChrName(i.chr);if(v){const E=await this.getNormalizationVector(e,_,r,s),T=_===k?E:await this.getNormalizationVector(e,k,r,s);E&&T?(A=await E.getValues(F,g),x=await T.getValues(m,b)):v=!1}for(let E of y.records)if(o||E.bin1>=f&&E.bin1<d&&E.bin2>=p&&E.bin2<w)if(v){const T=E.bin1,M=E.bin2,N=A[T-F]*x[M-m];if(N!==0&&!isNaN(N)){const C=E.counts/N;u.push(new ac(T,M,C))}}else u.push(E);this.percentile95===void 0&&y.records.length>10&&(this.percentile95=pz(y.records,95))}return u}async getBlocks(e,t,i,r){const s=(g,m)=>`${m.getKey()}_${g}`;await this.init();const o=this.getFileChrName(e.chr),a=this.getFileChrName(t.chr),l=this.chromosomeIndexMap[o],c=this.chromosomeIndexMap[a];if(l===void 0)return console.log("No chromosome named: "+e.chr),[];if(c===void 0)return console.log("No chromosome named: "+t.chr),[];const h=await this.getMatrix(l,c);if(!h)return console.log("No matrix for "+e.chr+"-"+t.chr),[];const u=h.getZoomData(r,i);if(!u){let g=`No data avalailble for resolution: ${r}  for map ${e.chr}-${t.chr}`;throw new Error(g)}const f=u.getBlockNumbers(e,t,this.version),d=[],p=[];for(let g of f){const m=s(g,u);this.blockCache.has(r,m)?d.push(this.blockCache.get(r,m)):p.push(g)}const w=p.map(g=>this.readBlock(g,u)),F=await Promise.all(w);for(let g of F)g&&this.blockCache.set(r,s(g.blockNumber,u),g);return d.concat(F)}async readBlock(e,t){const i=await t.blockIndex.getBlockIndexEntry(e);if(i){let r=await this.file.read(i.filePosition,i.size);if(!r)return;r=new wh(new Uint8Array(r)).buffer;const o=new ct(new DataView(r)),a=o.getInt(),l=[];if(this.version<7)for(let c=0;c<a;c++){const h=o.getInt(),u=o.getInt(),f=o.getFloat();l.push(new ac(h,u,f))}else{const c=o.getInt(),h=o.getInt(),u=o.getByte()===1,f=this.version<9?!1:o.getByte()==1,d=this.version<9?!1:o.getByte()==1,p=o.getByte();if(p===1){const w=d?o.getInt():o.getShort();for(let F=0;F<w;F++){const g=d?o.getInt():o.getShort(),m=h+g,b=f?o.getInt():o.getShort();for(let y=0;y<b;y++){const A=f?o.getInt():o.getShort(),x=c+A,v=u?o.getFloat():o.getShort();l.push(new ac(x,m,v))}}}else if(p==2){const w=o.getInt(),F=o.getShort();for(let g=0;g<w;g++){const m=Math.floor(g/F),b=g-m*F,y=c+b,A=h+m;if(u){const x=o.getFloat();isNaN(x)||l.push(new ac(y,A,x))}else{const x=o.getShort();x!=cz&&l.push(new ac(y,A,x))}}}else throw new Error("Unknown block type: "+p)}return new fz(e,t,l,i)}else return}async hasNormalizationVector(e,t,i,r){await this.init();let s;if(Number.isInteger(t))s=t;else{const l=this.getFileChrName(t);s=this.chromosomeIndexMap[l]}const o=Kg(e,s,i.toString(),r),a=await this.getNormVectorIndex();return a&&a[o]}async isNormalizationValueAvailableAtResolution(e,t,i,r){let s;if(Number.isInteger(t))s=t;else{const c=this.getFileChrName(t);s=this.chromosomeIndexMap[c]}const o=await this.getNormVectorIndex(),a=Kg(e,s,i.toString(),r);return o[a]!==void 0}async getNormalizationVector(e,t,i,r){await this.init();let s;if(Number.isInteger(t))s=t;else{const F=this.getFileChrName(t);s=this.chromosomeIndexMap[F]}const o=Kg(e,s,i.toString(),r);if(this.normVectorCache.has(o))return this.normVectorCache.get(o);const a=await this.getNormVectorIndex();if(!a){console.log("Normalization vectors not present in this file");return}if(await this.isNormalizationValueAvailableAtResolution(e,t,i,r)===!1){const F=`Normalization option ${e} not available at resolution ${r}. Will use NONE.`;console.log(F),this.alert&&this.alert(F);return}const c=a[o],h=await this.file.read(c.filePosition,8);if(!h)return;const u=new ct(new DataView(h)),f=this.version<9?u.getInt():u.getLong(),d=this.version<9?Gg:Wg,p=this.version<9?c.filePosition+4:c.filePosition+8,w=new mw(this.file,p,f,d);return this.normVectorCache.set(o,w),w}async getNormVectorIndex(){if(!(this.version<6)){if(!this.normVectorIndex){if(!this.config.nvi&&this.remote&&this.url){const e=new URL(this.url),t=encodeURIComponent(e.hostname+e.pathname);Dv.hasOwnProperty(t)&&(this.config.nvi=Dv[t])}if(this.config.nvi){const e=decodeURIComponent(this.config.nvi).split(","),t={start:parseInt(e[0]),size:parseInt(e[1])};return this.readNormVectorIndex(t)}else try{return await this.readNormExpectedValuesAndNormVectorIndex(),this.normVectorIndex}catch(e){e.code==="416"||e.code===416?this.normExpectedValueVectorsPosition=void 0:console.error(e)}}return this.normVectorIndex}}async getNormalizationOptions(){return await this.getNormVectorIndex(),this.normalizationTypes}async readNormVectorIndex(e){await this.init(),this.normalizationVectorIndexRange=e;const t=await this.file.read(e.start,e.size),i=new ct(new DataView(t));this.normVectorIndex={};let r=i.getInt();for(;r-- >0;)this.parseNormVectorEntry(i);return this.normVectorIndex}async readNormExpectedValuesAndNormVectorIndex(){if(await this.init(),this.normExpectedValueVectorsPosition===void 0)return;const e=await this.skipExpectedValues(this.normExpectedValueVectorsPosition);let t=Wr,i=await this.file.read(e,Wr);if(i.byteLength===0)return;const s=new ct(new DataView(i)).getInt(),o=s*30,a={start:e+t,size:o};i=await this.file.read(a.start,a.size),this.normalizedExpectedValueVectors={},this.normVectorIndex={},await l.call(this,s,i),this.config.nvi=e.toString()+","+t;async function l(c,h){const u=new ct(new DataView(h));for(;c-- >0;){if(u.available()<100){c++,t+=u.position;const f=Math.max(1e3,c*30),d={start:e+t,size:f},p=await this.file.read(d.start,d.size);return l.call(this,c,p)}this.parseNormVectorEntry(u)}t+=u.position}}async skipExpectedValues(e){const t=this.version,i=new sz({file:this.file,size:256e3}),r={start:e,size:Wr},s=await i.read(r.start,r.size),a=new ct(new DataView(s)).getInt();if(a===0)return e+Wr;return l(e+Wr,a);async function l(c,h){let u={start:c,size:500},f=0,d=c,p=await i.read(u.start,u.size),w=new ct(new DataView(p));w.getString(),w.getString(),w.getInt();const F=t<9?w.getInt():w.getLong();f+=w.position+F*(t<9?Gg:Wg),u={start:c+f,size:Wr},p=await i.read(u.start,u.size),w=new ct(new DataView(p));const g=w.getInt();return f+=Wr+g*(Wr+(t<9?Gg:Wg)),h--,h===0?d+f:l(d+f,h)}}getZoomIndexForBinSize(e,t){t=t||"BP";let i;if(t==="BP")i=this.bpResolutions;else if(t==="FRAG")i=this.fragResolutions;else throw new Error("Invalid unit: "+t);for(let r=0;r<i.length;r++)if(i[r]===e)return r;return-1}parseNormVectorEntry(e){const t=e.getString(),i=e.getInt(),r=e.getString(),s=e.getInt(),o=e.getLong(),a=this.version<9?e.getInt():e.getLong(),l=t+"_"+i+"_"+r+"_"+s;this.normalizationTypes.includes(t)||this.normalizationTypes.push(t),this.normVectorIndex[l]={filePosition:o,size:a}}getFileChrName(e){return this.chrAliasTable.hasOwnProperty(e)?this.chrAliasTable[e]:e}}function Kg(n,e,t,i){return n+"_"+e+"_"+t+"_"+i}function uz(n){return n.indexOf("drive.google.com")>=0||n.indexOf("www.googleapis.com/drive")>0}class fz{constructor(e,t,i,r){this.blockNumber=e,this.zoomData=t,this.records=i,this.idx=r}}class dz{constructor(){this.resolution=void 0,this.map=new r2(6)}set(e,t,i){this.resolution!==e&&this.map.clear(),this.resolution=e,this.map.set(t,i)}get(e,t){return this.resolution===e?this.map.get(t):void 0}has(e,t){return this.resolution===e&&this.map.has(t)}}function pz(n,e){const t=n.map(r=>r.counts);t.sort(function(r,s){return r-s});const i=Math.floor(e/100*n.length);return t[i]}class gz{constructor(e,t){this.config=e,this.genome=t,this.hicFile=e._hicFile?e._hicFile:new ww(e),e._hicFile=void 0}async getHeader(){return await this.hicFile.init(),this.hicFile}async getFeatures({chr:e,start:t,end:i,bpPerPixel:r,visibilityWindow:s}){this.hicFile.initialized||await this.hicFile.init();const o=this.hicFile.bpResolutions,a=o[o.length-1];return(await this.hicFile.getContactRecords(void 0,{chr:e,start:t,end:i},{chr:"celltype",start:0,end:1e8},"BP",a)).map(h=>{const u=h.bin1*a,f=u+a;return{chr:e,start:u,end:f,value:h.counts,sample:h.bin2.toString()}})}supportsWholeGenome(){return!1}}function ex(n,e){const t=new Set(n.attributeNames),i=e[0];if(n.getAttributes(i)===void 0)return!1;{const s=Object.keys(n.getAttributes(i));for(const o of s)if(t.has(o)===!1)return!1}return!0}var Bh;class Hu extends Bt{constructor(t,i){super(t,i);Pe(this,Bh,new Map)}init(t){if(super.init(t),this.type=t.type||"seg",this.type==="maf"&&(this.type="mut"),this.isLog=t.isLog,this.displayMode=t.displayMode||"EXPANDED",this.height=t.height||300,this.maxHeight=t.maxHeight||500,this.squishedRowHeight=t.sampleSquishHeight||t.squishedRowHeight||2,this.expandedRowHeight=t.sampleExpandHeight||t.expandedRowHeight||13,this.sampleHeight=this.squishedRowHeight,this.sampleKeys=[],t.samples){for(let r of t.samples)this.sampleKeys.push(r);this.explicitSamples=!0}if(t.color)this.color=t.color;else if(t.colorTable)this.colorTable=new To(t.colorTable);else switch(this.type){case"mut":this.colorTable=new To(bz);break;case"shoebox":t.colorScale&&(this.sbColorScale=kd.parse(t.colorScale));break;default:this.posColorScale=new i2(t.posColorScale||mz),this.negColorScale=new i2(t.negColorScale||wz)}const i=Object.assign({},this.config);i.maxWGCount=i.maxWGCount||Number.MAX_SAFE_INTEGER,this.type==="shoebox"?(this.featureSource=new gz(i,this.browser.genome),this.height=t.height||500,this.maxHeight=t.maxHeight||800,this.isLog=!1,this.squishedRowHeight=t.squishedRowHeight||1,this.displayMode=t.displayMode||"SQUISHED",this.visibilityWindow=t.visibilityWindow===void 0?1e6:t.visibilityWindow):this.featureSource=$n(i,this.browser.genome),this.initialSort=t.sort}async postInit(){typeof this.featureSource.getHeader=="function"&&(this.header=await this.featureSource.getHeader(),this.disposed)||this.header&&this.setTrackProperties(this.header)}menuItemList(){const t=[];if(ex(this.browser.sampleInfo,this.sampleKeys)===!0){t.push("<hr/>"),t.push("Sort by attribute:");for(const a of this.browser.sampleInfo.attributeNames)if(this.sampleKeys.some(c=>{const h=this.browser.sampleInfo.getAttributes(c);return h&&h[a]})){let h=function(){const u=he(this,Bh).get(a)||1;this.sortByAttribute(a,u),he(this,Bh).set(a,u*-1),this.config.sort={option:"ATTRIBUTE",attribute:a,direction:u===1?"ASC":"DESC"}};var s=h;const c=ke("<div>");c.html(`&nbsp;&nbsp;${a.split(dl.emptySpaceReplacement).join(" ")}`),t.push({object:c,click:h})}}const i={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};if(this.type==="shoebox"&&this.sbColorScale){let a=function(l){this.browser.inputDialog.present({label:"Color Scale Threshold",value:this.sbColorScale.threshold,callback:()=>{const c=Number(this.browser.inputDialog.value,10);c&&(this.sbColorScale.setThreshold(c),this.trackView.repaintViews())}},l)};var o=a;t.push("<hr/>"),t.push({object:ke("<div>Set color scale threshold</div>"),dialog:a})}t.push("<hr/>"),t.push("DisplayMode:");const r=this.type==="seg"||this.type==="shoebox"?["SQUISHED","EXPANDED","FILL"]:["SQUISHED","EXPANDED"];for(let a of r){const l=Ct(i[a],a===this.displayMode);t.push({object:ke(l),click:function(){this.displayMode=a,this.config.displayMode=a,this.trackView.checkContentHeight(),this.trackView.repaintViews(),this.trackView.moveScroller(this.trackView.sampleNameViewport.trackScrollDelta)}})}return t}hasSamples(){return!0}getSamples(){return{names:this.sampleKeys,height:this.sampleHeight,yOffset:0}}async getFeatures(t,i,r){const s=await this.featureSource.getFeatures({chr:t,start:i,end:r});if(this.updateSampleKeys(s),this.initialSort){const o=this.initialSort;if(o.option===void 0||o.option.toUpperCase()==="VALUE")this.sortByValue(o,s);else if(o.option.toUpperCase()==="ATTRIBUTE"&&o.attribute){const a=o.direction==="DESC"?1:-1;this.sortByAttribute(o.attribute,a)}this.initialSort=void 0}return s}draw({context:t,pixelTop:i,pixelWidth:r,pixelHeight:s,features:o,bpPerPixel:a,bpStart:l}){if(pe.fillRect(t,0,i,r,s,{fillStyle:"rgb(255, 255, 255)"}),o&&o.length>0){if(this.checkForLog(o),this.type==="shoebox"&&!this.sbColorScale){const w=this.featureSource.hicFile.percentile95||2e3;this.sbColorScale=new kd({threshold:w,r:0,g:0,b:255})}const c={};this.sampleKeys.forEach(function(w,F){c[w]=F});let h;switch(this.displayMode){case"FILL":this.sampleHeight=s/this.sampleKeys.length,h=0;break;case"SQUISHED":this.sampleHeight=this.squishedRowHeight,h=0;break;default:this.sampleHeight=this.expandedRowHeight,h=1}const u=this.sampleHeight;for(let w of o)w.pixelRect=void 0;const f=i+s,d=l+r*a+1,p=a;this.sampleYStart=void 0;for(let w of o){if(w.end<l||w.start>d)continue;const F=w.sampleKey||w.sample;w.row=c[F];const g=w.row*u+h;if(this.sampleYStart===void 0&&(this.sampleYStart=g),g+u<i||g>f)continue;const b=Math.max(w.start,l);let y=Math.round((b-l)/p);const A=Math.min(w.end,d),x=Math.round((A-l)/p);let v=Math.max(1,x-y),_;this.color?typeof this.color=="function"?_=this.color(w):_=this.color:this.colorTable&&(_=this.colorTable.getColor(w.value.toLowerCase()));let k;if(this.type==="mut")k=u-2*h,v<3&&(v=3,y-=1);else if(this.type==="shoebox"){_=this.sbColorScale.getColor(w.value);let E=u;if(u<.25){const T=.1+2*Math.abs(T.value);E=Math.min(1,T*u)}k=E-2*h}else{let E=w.value;this.isLog||(E=lt.log2(E/2)),E<-.1?_=this.negColorScale.getColor(E):E>.1?_=this.posColorScale.getColor(E):_="white";let T=u;if(u<.25){const M=.1+2*Math.abs(E);T=Math.min(1,M*u)}k=T-2*h}w.pixelRect={x:y,y:g,w:v,h:k},t.fillStyle=_,t.fillRect(y,g,v,k)}}}checkForLog(t){if(this.isLog===void 0){this.isLog=!1;for(let i of t)if(i.value<0){this.isLog=!0;return}}}computePixelHeight(t){if(!t)return 0;const i=this.displayMode==="SQUISHED"?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(t),this.sampleKeys.length*i}async sortByValue(t,i){const r=t.chr;let s,o;if(t.position?(s=t.position-1,o=s+1):(s=t.start,o=t.end),i||(i=await this.featureSource.getFeatures({chr:r,start:s,end:o})),!i)return;this.updateSampleKeys(i);const a={},l=t.direction==="ASC"?1:-1,c=()=>{const u=o-s+1;for(let f of i){if(f.end<s)continue;if(f.start>o)break;const d=Math.max(s,f.start),w=(Math.min(o,f.end)-d)/u,F=f.sampleKey||f.sample,g=a[F]||0;a[F]=g+w*f.value}this.sampleKeys.sort(function(f,d){let p=a[f],w=a[d];return p||(p=l*Number.MAX_VALUE),w||(w=l*Number.MAX_VALUE),p===w?0:p>w?l:l*-1})},h=()=>{for(let u of i){if(u.end<s)continue;if(u.start>o)break;const f=u.sampleKey||u.sample;(!a.hasOwnProperty(f)||u.value.localeCompare(a[f])>0)&&(a[f]=u.value)}this.sampleKeys.sort(function(u,f){let d=a[u]||"",p=a[f]||"";return l*d.localeCompare(p)})};this.type==="mut"?h():c(),this.trackView.repaintViews()}sortByAttribute(t,i){this.sampleKeys=this.browser.sampleInfo.getSortedSampleKeysByAttribute(this.sampleKeys,t,i),this.trackView.repaintViews()}clickedFeatures(t){const i=super.clickedFeatures(t),r=t.y;return i.filter(function(s){const o=s.pixelRect;return o&&r>=o.y&&r<=o.y+o.h})}hoverText(t){const i=this.clickedFeatures(t);if(i&&i.length>0)return`${i[0].sample}: ${i[0].value}`}popupData(t,i){i===void 0&&(i=this.clickedFeatures(t));const r=[];for(let s of i){r.length>0&&(r.push("<hr/>"),r.push("<hr/>"));const o=s._f||s,a=typeof o.popupData=="function"?o.popupData(this.type,this.browser.genome.id):this.extractPopupData(o);Array.prototype.push.apply(r,a)}return r}contextMenuItemList(t){const i=t.genomicLocation,r=o=>{const l=t.viewport.cachedFeatures;this.sortByValue(o,l)},s=t.referenceFrame.toBP(2.5);return["DESC","ASC"].map(o=>{const a=o==="DESC"?"descending":"ascending";return{label:this.type==="seg"||this.type==="shoebox"?`Sort by value (${a})`:`Sort by type (${a})`,click:()=>{const c={option:"VALUE",direction:o,chr:t.referenceFrame.chr,start:Math.floor(i-s),end:Math.floor(i+s)};r(c),this.config.sort=c}}})}get supportsWholeGenome(){return(this.config.indexed===!1||!this.config.indexURL)&&this.config.supportsWholeGenome!==!1}updateSampleKeys(t){if(this.explicitSamples)return;const i=new Set(this.sampleKeys);for(let r of t){const s=r.sampleKey||r.sample;i.has(s)||(this.sampleKeys.push(s),i.add(s))}}}Bh=new WeakMap;const mz={low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0},wz={low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255},bz={indel:"rgb(0,200,0)","targeted region":"rgb(236,155,43)",truncating:"rgb(	150,0,0)","non-coding transcript":"rgb(0,0,150)",synonymous:"rgb(109,165,95)",silent:"rgb(109,135,80)",missense_mutation:"rgb(72,130,187)",missense:"rgb(72,130,187)","splice site":"rgb(143,83,155)",splice_region:"rgb(143,83,155)",nonsense:"rgb(216, 57,81)",nonsense_mutation:"rgb(216, 57,81)",frame_shift_del:"rgb(226,135,65)",frame_shift_ins:"rgb(226,135,65)",in_frame_del:"rgb(247,235,94)",in_frame_ins:"rgb(247,235,94)","*other*":"rgb(159,91,50)"};class _h{constructor(e){this.paired=!0,this.firstAlignment=e,this.chr=e.chr,this.readName=e.readName,e.start<e.mate.position?(this.start=e.start,this.scStart=e.scStart,this.connectingStart=e.start+e.lengthOnRef,this.connectingEnd=e.mate.position):(this.start=e.mate.position,this.scStart=this.start,this.connectingStart=e.mate.position,this.connectingEnd=e.start),this.end=Math.max(e.mate.position,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start;let t=Math.max(this.end,e.scStart+e.scLengthOnRef);this.scLengthOnRef=t-this.scStart}setSecondAlignment(e){this.secondAlignment=e;const t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);const i=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=i-this.scStart}containsLocation(e,t){const i=t?this.scStart:this.start,r=t?this.scLengthOnRef:this.lengthOnRef;return e>=i&&e<=i+r}alignmentContaining(e,t){return this.firstAlignment.containsLocation(e,t)?this.firstAlignment:this.secondAlignment&&this.secondAlignment.containsLocation(e,t)?this.secondAlignment:void 0}popupData(e){let t=this.firstAlignment.popupData(e);return this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t}isPaired(){return!0}isMateMapped(){return!0}isProperPair(){return this.firstAlignment.isProperPair()}get fragmentLength(){return Math.abs(this.firstAlignment.fragmentLength)}get firstOfPairStrand(){return this.firstAlignment.firstOfPairStrand}get pairOrientation(){return this.firstAlignment.pairOrientation}hasTag(e){return this.firstAlignment.hasTag(e)||this.secondAlignment&&this.secondAlignment.hasTag(e)}getGroupValue({option:e,tag:t}){switch(e){case"strand":return this.isNegativeStrand()?"-":"+";case"FIRST_IN_PAIR_STRAND":return this.isPaired()?this.isFirstOfPair()?this.isNegativeStrand()?"-":"+":this.isSecondOfPair()?this.isNegativeStrand()?"+":"-":void 0:void 0;case"START":return this.start;case"INSERT_SIZE":return this.fragmentLength;case"MATE_CHR":return this.mate?this.mate.chr:void 0;case"MQ":return this.mq;case"ALIGNED_READ_LENGTH":return this.lengthOnRef;case"TAG":return this.tags()[t];case"PHASE":return this.tags().HP;case"READ_ORDER":return this.isPaired()&&this.isFirstOfPair()?"FIRST":this.isPaired()&&this.isSecondOfPair()?"SECOND":"";default:return}}}const Xs=class Xs{static getKey(e,t,i){const r=""+e+t+i;return Xs.instances.has(r)||Xs.instances.set(r,new Xs(e,t,i)),Xs.instances.get(r)}constructor(e,t,i){this.base=e,this.strand=t,this.modification=i,this.canonicalBase=this.strand==="+"?this.base:nw(this.base)}getCanonicalBase(){}toString(){return""+this.base+this.strand+this.modification}static compare(e,t){const i=e.modification,r=t.modification;return i===r?e.strand.charAt(0)-t.strand.charAt(0):ia.has(i)&ia.has(r)?ia.get(i)-ia.get(r):ia.has(i)?1:ia.has(r)?-1:i>r?1:-1}};Re(Xs,"instances",new Map);let pl=Xs;const ia=new Map(["NONE_C","NONE_T","NONE_G","NONE_A","m","h","f","c","C","g","e","b","T","U","a","A","o","G","n","N"].map((n,e)=>[n,e]));class Fz{constructor(e,t,i,r){this.base=e,this.modification=i,this.strand=t,this.likelihoods=r,this.canonicalBase=this.strand=="+"?this.base:nw(this.base),this.key=pl.getKey(e,t,i)}containsPosition(e){return this.likelihoods.has(e)}is5mC(){return this.modification.equals("m")&&(this.base==="C"&&this.strand==="+"||this.base==="G"&&this.strand==="-")}fullName(){return An.get(this.modification)||this.modification}}const An=new Map;An.set("m","5mC");An.set("h","5hmC");An.set("f","5fC");An.set("c","5caC");An.set("g","5hmU");An.set("e","5fU");An.set("b","5caU");An.set("a","6mA");An.set("o","8xoG");An.set("n","Xao");An.set("C","Unknown C");An.set("T","Unknown T");An.set("A","Unknown A");An.set("G","Unknown G");An.set("N","Unknown");const Lv=new Map([["m","5mC"],["h","5hmC"],["f","5fC"],["c","5caC"],["g","5hmU"],["e","5fU"],["b","5caU"],["a","6mA"],["o","8xoG"],["n","Xao"],["C","Unknown C"],["T","Unknown T"],["A","Unknown A"],["G","Unknown G"],["N","Unknown"]]);function s2(n){return Lv.has(n)?Lv.get(n):"Uknown"}function yz(n,e,t,i){i&&(t=Tr(t));const r=[],s=n.split(";");let o=0;for(let a of s){const l=a.split(","),c=l[0].charAt(0),h=l[0].charAt(1),u=l[0].endsWith(".");if(l.length!=1){const f=l[0].endsWith(".")||l[0].endsWith("?")?l[0].substring(2,l[0].length-1):l[0].substring(2);let d=[];if(f.length>1)if(vz(f))d.push(f);else for(let b=0;b<f.length;b++)d.push(f.substring(b,b+1));else d.push(f);const p=new Map;for(let b of d)p.set(b,new Map);let w=1,F=Number.parseInt(l[w++]),g=0,m=0;for(;g<t.length;){if(c==="N"||t[g]===c){const b=i?t.length-1-g:g;if(m===F){for(let y of d){const A=e?e[o++]:255;p.get(y).set(b,A)}if(w<l.length)F=Number.parseInt(l[w++]),m=0;else if(u)F=-1;else break}else{if(u)for(let y of d)p.get(y).set(b,0);m++}}g++}for(let b of d)r.push(new Fz(c,h,b,p.get(b)))}}return r}function vz(n){if(!n)return!1;const e=n.length;if(e==0)return!1;for(let t=0;t<e;t++){const i=n.charAt(t);if(i<"0"||i>"9")return!1}return!0}function La(n){return n<0?n+256:n}class Az{constructor(){Re(this,"allModifications",new Set);Re(this,"simplexModifications",new Set);Re(this,"maxLikelihoods",new Map);Re(this,"nomodLikelihoods",new Map);Re(this,"lastThreshold")}incrementCounts(e){if(!e.blocks)return;const t=e.getBaseModificationSets();if(t){for(let i of e.blocks)if(i.type!=="S")for(let r=0;r<i.len;r++){let s=r+i.seqOffset,o=0,a=-1,l,c=255;for(let h of t){const u=pl.getKey(h.base,h.strand,h.modification);this.allModifications.add(u);const f=h.likelihoods;if(h.containsPosition(s)){const d=La(f.get(s));c-=d,d>a&&(o=h.canonicalBase,a=d,l=u)}}if(o!=0){const h=i.start+r,u=pl.getKey(o,"+","NONE_"+o);this.allModifications.add(u);const f=(d,p,w,F)=>{let g=F.get(w);g||(g=new Map,F.set(w,g));let m=g.get(d);m||(m=[],g.set(d,m)),m.push(p)};f(h,a,l,this.maxLikelihoods),c>a?f(h,c,u,this.nomodLikelihoods):f(h,a,l,this.nomodLikelihoods)}}}}getCount(e,t,i,r){this.lastThreshold=i;const s=i*255,o=r?this.nomodLikelihoods.get(t):this.maxLikelihoods.get(t);if(!o)return 0;const a=o.get(e);if(a){let l=0;for(let c of a)La(c)>=s&&l++;return l}else return 0}getLikelihoodSum(e,t,i,r){this.lastThreshold=i;const s=i*255,a=(r?this.nomodLikelihoods.get(t):this.maxLikelihoods.get(t)).get(e);if(a){let l=0;for(let c of a){const h=La(c);h>=s&&(l+=h)}return l}else return 0}popupData(e,t){const i=[];i.push("<b>Modifications with likelihood > "+this.lastThreshold*100+"%</b>");for(let r of this.maxLikelihoods.keys())if(this.maxLikelihoods.get(r).has(e)){let o=t==="basemod2";const a=this.getCount(e,r,this.lastThreshold,o);if(a>0){const c=this.getLikelihoodSum(e,r,this.lastThreshold,o)/a*.3921568,h=s2(r.modification);i.push(h+" ("+r.base+r.strand+"): "+a+"  @ average likelihood "+Math.round(c)+"%")}}return i}computeSimplex(){const e=new Set(Array.from(this.allModifications).filter(t=>t.strand==="-").map(t=>t.modification));for(let t of this.allModifications)t.strand==="+"&&!e.has(t.modification)&&(this.simplexModifications.add(t.modification),this.simplexModifications.add("NONE_"+t.getCanonicalBase()))}}class zv{constructor(){this.alignments=[],this.score=void 0}findAlignment(e,t=!1){const i=(s,o)=>o>=s.start&&o<s.start+(t?s.fragmentLength:s.lengthOnRef);let r;for(let s=0;s<this.alignments.length;s++){const o=this.alignments[s];if(e>=o.start&&e<o.start+(t?o.fragmentLength:o.lengthOnRef)){o.paired?o.firstAlignment&&i(o.firstAlignment,e)?r=o.firstAlignment:o.secondAlignment&&i(o.secondAlignment,e)&&(r=o.secondAlignment):r=o;break}}return r}getSortValue({position:e,option:t,tag:i,sortAsPairs:r},s){t||(t="BASE");const o=this.findAlignment(e,r);if(o===void 0)return Number.MAX_VALUE;switch(t){case"NUCLEOTIDE":case"BASE":return a(o,s,e);case"strand":return o.strand?1:-1;case"START":return o.start;case"TAG":return o.tags()[i];case"READ_NAME":return o.readName;case"INSERT_SIZE":return-Math.abs(o.fragmentLength);case"GAP_SIZE":return-o.gapSizeAt(e);case"MATE_CHR":return o.mate?o.mate.chr:Number.MAX_VALUE;case"MQ":return o.mq===void 0?Number.MAX_VALUE:-o.mq;case"ALIGNED_READ_LENGTH":return-o.lengthOnRef;default:return Number.MAX_VALUE}function a(l,c,h){let u;const f=Math.floor(h)-c.start;if(f<c.sequence.length&&(u=c.sequence.charAt(f)),!u)return 0;const d=l.readBaseAt(h),p=l.readBaseQualityAt(h),w=c.coverageMap,F=Math.floor(h-w.bpStart),g=w.coverage[F];let m=0;if(l.insertions)for(let b of l.insertions)b.start===h&&(m=-g.ins);if(d){if(u=u.toUpperCase(),d==="N"&&m===0)m=2;else if((u===d||d==="=")&&m===0)m=4-p/1e3;else if(d==="X"||u!==d){const b=g["pos"+d]+g["neg"+d];m-=b+p/1e3}}else{const b=g.del;b>0?m-=b:m===0&&(m=1)}return m}}}var bw={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};const Pv=2;var ls;class Il{constructor(e,t,i,{samplingWindowSize:r,samplingDepth:s,alleleFreqThreshold:o,colorBy:a}){Pe(this,ls,[]);Re(this,"baseModificationKeys",new Set);this.alleleFreqThreshold=o===void 0?.2:o,this.samplingWindowSize=r||100,this.samplingDepth=s||1e3,this.chr=e,this.start=Math.floor(t),this.end=Math.ceil(i),this.length=i-t,this.coverageMap=new _z(e,t,i,this.alleleFreqThreshold),this.downsampledIntervals=[],a&&a.startsWith("basemod")&&(this.baseModCounts=new Az),this.alignments=[],this.pairsCache=new Map,this.downsampledReads=new Set,this.currentBucket=new Ov(this.start,this.start+this.samplingWindowSize,this),this.hasPairs=!1}pack({viewAsPairs:e,showSoftClips:t,expectedPairOrientation:i,groupBy:r,displayMode:s}){let o=this.allAlignments();e?o=xz(o):o=kz(o),this.packAlignmentRows(o,t,i,r,s),this.alignments&&delete this.alignments}packAlignmentRows(e,t,i,r,s){Ue(this,ls,[]);const o=(l,c)=>{l.sort(function(F,g){return t?F.scStart-g.scStart:F.start-g.start});const h=new Hv(c);let u,f=0,d=0;const p=new Set,w=()=>{u=new zv,h.push(u),f=0,d=0,p.clear()};for(w();l.length>0;)if(d>=0&&d<l.length){const F=l[d];p.add(F),u.alignments.push(F),f=t?F.scStart+F.scLengthOnRef+Pv:F.start+F.lengthOnRef+Pv,d=Ez(l,g=>(t?g.scStart:g.start)>f,d)}else l=l.filter(F=>!p.has(F)),w();return h},a=(l,c)=>{l.sort(function(d,p){return d.start-p.start});const h=new Hv(c),{start:u,end:f}=this.viewport.genomicRange();for(let d of l)if(d.end<u||d.start>f)he(this,ls).push(d);else{const p=new zv;p.alignments.push(d),h.push(p)}return h};if(!e||e.length===0)return new Map;{const l=new Map;if(r)for(let u of e){const f=Sz(u,r,i)||"";l.has(f)||l.set(f,[]),l.get(f).push(u)}else l.set("",e);const c=new Map,h=Array.from(l.keys()).sort(Iz(r));for(let u of h){const f=l.get(u),d=s==="FULL"?a(f,u):o(f,u);c.set(u,d)}this.packedGroups=c}}push(e){this.hasPairs=this.hasPairs||e.isPaired(),this.coverageMap.incCounts(e);const t=e.getBaseModificationSets();if(t)for(let i of t)this.baseModificationKeys.add(i.key);if(this.baseModCounts&&this.baseModCounts.incrementCounts(e),this.downsampledReads.has(e.readName)){this.currentBucket.downsampledCount++;return}e.start>=this.currentBucket.end&&(this.finishBucket(),this.currentBucket=new Ov(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)}finish(){this.currentBucket!==void 0&&this.finishBucket(),this.hasAlignments=this.alignments.length>0,this.alignments.sort(function(e,t){return e.start-t.start}),this.baseModCounts&&this.baseModCounts.computeSimplex(),delete this.currentBucket,delete this.pairsCache,delete this.downsampledReads}contains(e,t,i){return this.chr===e&&this.start<=t&&this.end>=i}hasDownsampledIntervals(){return this.downsampledIntervals&&this.downsampledIntervals.length>0}finishBucket(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new Cz(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount))}allAlignments(){if(this.alignments)return this.alignments;if(this.packedGroups){const e=Array.from(this.packedGroups.values()).flatMap(t=>t.rows.flatMap(i=>i.alignments));if(he(this,ls)&&he(this,ls).length>0)for(let t of he(this,ls))e.push(t);return e}else return[]}getMax(e,t){return this.coverageMap.getMax(e,t)}sortRows(e){if(this.packedGroups)for(let t of this.packedGroups.values())t.sortRows(e,this)}}ls=new WeakMap;class Ov{constructor(e,t,{samplingDepth:i,downsampledReads:r,pairsCache:s}){this.start=e,this.end=t,this.alignments=[],this.downsampledCount=0,this.samplingDepth=i,this.downsampledReads=r,this.pairsCache=s,this.hasPairs=!1}addAlignment(e){this.hasPairs=this.hasPairs||e.isPaired();const t=this.hasPairs?Math.ceil(this.samplingDepth/2):this.samplingDepth;if(kf(e)){const i=this.pairsCache.get(e.readName);if(i){i.setSecondAlignment(e),this.pairsCache.delete(e.readName);return}}if(this.alignments.length<t)if(kf(e)){const i=new _h(e);this.pairsCache.set(e.readName,i),this.alignments.push(i)}else this.alignments.push(e);else{const i=Math.floor(Math.random()*(t+this.downsampledCount-1));if(i<t){const r=this.alignments[i];if(this.pairsCache.has(r.readName)&&this.pairsCache.delete(r.readName),kf(e)){const s=new _h(e);this.pairsCache.set(e.readName,s),this.alignments[i]=s}else this.alignments[i]=e;this.downsampledReads.add(r.readName)}else this.downsampledReads.add(e.readName);this.downsampledCount++}}}class _z{constructor(e,t,i,r){this.chr=e,this.bpStart=t,this.length=i-t,this.coverage=new Array(this.length),this.maximum=0,this.threshold=r,this.qualityWeight=!0}getMax(e,t){let i=0;const r=this.coverage.length;for(let s=0;s<r;s++){const o=this.bpStart+s;if(o>t)break;const a=this.coverage[s];o>=e&&a&&(i=Math.max(i,a.total))}return i}incCounts(e){var t=this;if(e.blocks===void 0?i(e):e.blocks.forEach(function(r){i(r)}),e.gaps){for(let r of e.gaps)if(r.type==="D"){const s=r.start-t.bpStart;for(let o=s;o<s+r.len;o++)o<0||(this.coverage[o]||(this.coverage[o]=new Yg(t.threshold)),this.coverage[o].del++)}}if(e.insertions)for(let r of e.insertions){const s=r.start-this.bpStart;s<0||(this.coverage[s]||(this.coverage[s]=new Yg(t.threshold)),this.coverage[s].ins++)}function i(r){if(r.type==="S")return;const s=e.seq,o=e.qual,a=r.seqOffset;for(let l=r.start-t.bpStart,c=0;c<r.len;l++,c++){t.coverage[l]||(t.coverage[l]=new Yg(t.threshold));const h=s==null?"N":s.charAt(a+c),u=e.strand?"pos"+h:"neg"+h,f=o&&a+c<o.length?o[a+c]:30;t.coverage[l][u]+=1,t.coverage[l]["qual"+h]+=f,t.coverage[l].total+=1,t.coverage[l].qual+=f,t.maximum=Math.max(t.coverage[l].total,t.maximum)}}}getPosCount(e,t){const i=e-this.bpStart;if(i<0||i>=this.coverage.length)return 0;const r=this.coverage[i];switch(t){case"A":case"a":return r.posA;case"C":case"c":return r.posC;case"T":case"t":return r.posT;case"G":case"g":return r.posG;case"N":case"n":return r.posN;default:return 0}}getNegCount(e,t){const i=e-this.bpStart;if(i<0||i>=this.coverage.length)return 0;const r=this.coverage[i];switch(t){case"A":case"a":return r.negA;case"C":case"c":return r.negC;case"T":case"t":return r.negT;case"G":case"g":return r.negG;case"N":case"n":return r.negN;default:return 0}}getCount(e,t){return this.getPosCount(e,t)+this.getNegCount(e,t)}getTotalCount(e){const t=e-this.bpStart;return t>=0&&t<this.coverage.length?this.coverage[t].total:0}}class Yg{constructor(e){this.qualityWeight=!0,this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.threshold=e}hoverText(){const e=this.posA+this.posT+this.posC+this.posG+this.posN,t=this.negA+this.negT+this.negC+this.negG+this.negN;return`${this.total} (${e}+, ${t}-)`}isMismatch(e){const t=this.threshold*(this.qualityWeight&&this.qual?this.qual:this.total);let i=0;for(let r of["A","T","C","G"])r!==e&&(i+=this.qualityWeight&&this.qual?this["qual"+r]:this["pos"+r]+this["neg"+r]);return i>=t}}class Cz{constructor(e,t,i){this.start=e,this.end=t,this.counts=i}popupData(e){return[{name:"start",value:Math.floor(this.start+1)},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]}}class Hv{constructor(e){Re(this,"pixelTop",0);Re(this,"pixelBottom",0);Re(this,"rows",[]);this.name=this.name}push(e){this.rows.push(e)}get length(){return this.rows.length}sortRows(e,t){const i=[],r=[];for(let s of this.rows)s.findAlignment(e.position,e.sortAsPairs)!==void 0?i.push(s):r.push(s);i.sort((s,o)=>{const a=e.direction,l=s.getSortValue(e,t),c=o.getSortValue(e,t);if(c===void 0&&c!==void 0)return 1;if(l!==void 0&&c===void 0)return-1;const h=l>c?1:l<c?-1:0;return a===!0?h:-h});for(let s of r)i.push(s);this.rows=i}}function kf(n){return n.isPaired()&&n.mate&&n.isMateMapped()&&n.chr===n.mate.chr&&(n.isFirstOfPair()||n.isSecondOfPair())&&!(n.isSecondary()||n.isSupplementary())}function xz(n){const e=new Map;return n.map(i=>{if(kf(i)){let r=e.get(i.readName);return r?(r.setSecondAlignment(i),e.delete(i.readName),r):(r=new _h(i),e.set(i.readName,r),r)}else return i})}function kz(n){return n.flatMap(e=>e instanceof _h?[e.firstAlignment,e.secondAlignment].filter(Boolean):[e])}function Ez(n,e,t){let i=t-1,r=n.length;for(;1+i<r;){const s=i+(r-i>>1);e(n[s])?r=s:i=s}return r}function Sz(n,e,t){let i,r,s;if(e.startsWith("tag:"))i=e.substring(4),e="tag";else if(e.startsWith("base:")){const o=e.split(":");o.length===3&&(e="base",r=o[1],s=Number.parseInt(o[2].replaceAll(",",""))-1)}switch(e){case"strand":return n.strand?"+":"-";case"firstOfPairStrand":const o=n.firstOfPairStrand;return o===void 0?"":o?"+":"-";case"mateChr":return n.mate&&n.isMateMapped()?n.mate.chr:"";case"pairOrientation":return bw[t][n.pairOrientation]||"";case"chimeric":return n.tags().SA?"chimeric":"";case"supplementary":return n.isSupplementary?"supplementary":"";case"readOrder":return n.isPaired()&&n.isFirstOfPair()?"first":n.isPaired()&&n.isSecondOfPair()?"second":"";case"phase":return n.tags().HP||"";case"tag":return n.tags()[i]||"";case"base":if(n.chr===r&&n.start<=s&&n.end>s){const a=n.readBaseAt(s);return a||"GAP"}else return"";default:return}}function Iz(n,e){switch(n){case"pairOrientation":return Mz();case"strand":case"firstOfPairStrand":return Tz;default:return n&&n.startsWith("base:")?Nz:Rz}}const Uu=new Map([["A",1],["T",2],["C",3],["G",4],["N",5],["GAP",5],["",7]]);function Nz(n,e){return Uu.has(n)&&Uu.has(e)?Uu.get(n)-Uu.get(e):n.localeCompare(e,void 0,{sensitivity:"base"})}function Tz(n,e){return n===e?0:n&&e?-n.localeCompare(e):n?1:-1}function Rz(n,e){if(!n&&!e)return 0;if(n)if(e){if(n===e)return 0;if(Vm(n)&&typeof Vm(e))return Number.parseFloat(n)-Number.parseFloat(e);{let t=n.toString(),i=e.toString();return t.localeCompare(i,void 0,{sensitivity:"base"})}}else return-1;else return 1}function Mz(n){const e=["LL","RR","RL","LR",""];return(t,i)=>e.indexOf(t)-e.indexOf(i)}class Bz{constructor(e){const t=e.split(",");this.chr=t[0],this.start=parseInt(t[1]),this.strand=t[2].charAt(0),this.mapQ=parseInt(t[4]),this.numMismatches=parseInt(t[5]),this.lenOnRef=Dz(t[3])}printString(){return this.chr+":"+Ge(this.start)+"-"+Ge(this.start+this.lenOnRef)+" ("+this.strand+") = "+Ge(this.lenOnRef)+"bp @MAPQ: "+this.mapQ+" NM: "+this.numMismatches}}function tx(n){return n.split(";").filter(t=>t.length>0).map(t=>new Bz(t))}function Dz(n){let e=0,t="";for(let i=0;i<n.length;i++){const r=n.charCodeAt(i);if(r>47&&r<58)t+=n.charAt(i);else{switch(r){case 78:case 68:case 77:case 61:case 88:e+=parseInt(t.toString())}t=""}}return e}const Lz=1,zz=2,Pz=4,Oz=8,Hz=16,Uz=32,Vz=64,qz=128,jz=256,Qz=512,$z=1024,Gz=2048,Wz={c:1,C:1,s:2,S:2,i:4,I:4,f:4},Uv=50;class o2{constructor(){this.hidden=!1}isMapped(){return(this.flags&Pz)===0}isPaired(){return(this.flags&Lz)!==0}isProperPair(){return(this.flags&zz)!==0}isFirstOfPair(){return(this.flags&Vz)!==0}isSecondOfPair(){return(this.flags&qz)!==0}isSecondary(){return(this.flags&jz)!==0}isSupplementary(){return(this.flags&Gz)!==0}isFailsVendorQualityCheck(){return(this.flags&Qz)!==0}isDuplicate(){return(this.flags&$z)!==0}isMateMapped(){return(this.flags&Oz)===0}isNegativeStrand(){return(this.flags&Hz)!==0}isMateNegativeStrand(){return(this.flags&Uz)!==0}hasTag(e){return(this.tagDict||Vv(this.tagBA)).hasOwnProperty(e)}tags(){return this.tagDict||(this.tagBA?(this.tagDict=Vv(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict}getTag(e){return this.tags()[e]}get firstOfPairStrand(){if(this.isPaired()){if(this.isFirstOfPair())return this.strand;if(this.isMateMapped())return this.mate.strand}}containsLocation(e,t){const i=t?this.scStart:this.start,r=t?this.scLengthOnRef:this.lengthOnRef;return e>=i&&e<=i+r}popupData(e){const t=[];if(e=Math.floor(e),this.insertions){const c=this.seq;for(let h of this.insertions){var i=h.start;if(e===i||e===i-1)return t.push({name:"Insertion",value:c.substr(h.seqOffset,h.len)}),t.push({name:"Location",value:i}),t}}t.push({name:"Read Name",value:this.readName}),t.push("<hr/>"),t.push({name:"Alignment Start",value:Ge(1+this.start),borderTop:!0}),t.push({name:"Read Strand",value:this.strand===!0?"(+)":"(-)",borderTop:!0});let r=this.cigar;if(r&&r.length>Uv){const c=Uv/2;r=`${r.substring(0,c-2)} ... ${r.substring(r.length-c+2)}`}t.push({name:"Cigar",value:r}),t.push({name:"Mapping Quality",value:this.mq}),t.push({name:"Secondary",value:l(this.isSecondary())}),t.push({name:"Supplementary",value:l(this.isSupplementary())}),t.push({name:"Duplicate",value:l(this.isDuplicate())}),t.push({name:"Failed QC",value:l(this.isFailsVendorQualityCheck())}),this.isPaired()&&(t.push("<hr/>"),t.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),t.push({name:"Mate is Mapped",value:l(this.isMateMapped())}),this.pairOrientation&&t.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(t.push({name:"Mate Chromosome",value:this.mate.chr}),t.push({name:"Mate Start",value:this.mate.position+1}),t.push({name:"Mate Strand",value:this.mate.strand===!0?"(+)":"(-)"}),t.push({name:"Insert Size",value:this.fragmentLength})));const s=this.tags();if(s.hasOwnProperty("SA")){t.push("<hr/>"),t.push({name:"Supplementary Alignments",value:""});const c=tx(s.SA);if(c){t.push("<ul>");for(let h of c)t.push(`<li>${h.printString()}</li>`);t.push("</ul>")}}const o=new Set(["SA","MD"]);t.push("<hr/>");for(let c in s)o.has(c)||t.push({name:c,value:s[c]});t.push({name:"Hidden Tags",value:"SA, MD"}),t.push("<hr/>"),t.push({name:"Genomic Location: ",value:Ge(1+e)}),t.push({name:"Read Base:",value:this.readBaseAt(e)}),t.push({name:"Base Quality:",value:this.readBaseQualityAt(e)});const a=this.getBaseModificationSets();if(a){const c=this.positionToReadIndex(e);if(c!==void 0){let h=!1;for(let u of a)if(u.containsPosition(c)){h||(t.push("<hr/>"),t.push("<b>Base modifications:</b>"),h=!0);const f=Math.round(100/255*La(u.likelihoods.get(c)));t.push(`${u.fullName()} @ likelihood =  ${f}%`)}}}return t;function l(c){return c?"Yes":"No"}}readBaseAt(e){const t=Xg(this.blocks,e);if(t){if(this.seq==="*")return"*";{const i=t.seqIndexAt(e);return this.seq[i]}}else return}readBaseQualityAt(e){const t=Xg(this.blocks,e);if(t){if(this.qual==="*")return 30;{const i=t.seqIndexAt(e);return i>=0&&this.qual&&i<this.qual.length?this.qual[i]:30}}else return}gapSizeAt(e){if(this.gaps){for(let t of this.gaps)if(e>=t.start&&e<t.start+t.len)return t.len}return 0}softClippedBlocks(){let e,t,i;for(let r of this.blocks)r.type==="S"?i?t=r:e=r:r.type!=="H"&&(i=!0);return{left:e,right:t}}getBaseModificationSets(){if(this.tags(),!this.baseModificationSets&&(this.tagDict.MM||this.tagDict.Mm)){const e=this.tagDict.MM||this.tagDict.Mm,t=this.tagDict.ML||this.tagDict.Ml;St(e)&&(!t||Array.isArray(t))&&(e.length===0?this.baseModificationSets=Kz:this.baseModificationSets=yz(e,t,this.seq,this.isNegativeStrand()))}return this.baseModificationSets}getGroupValue(e,t,i){const r=this;switch(e){case"strand":return r.strand?"+":"-";case"firstOfPairStrand":const s=r.firstOfPairStrand;return s===void 0?"":s?"+":"-";case"mateChr":return r.mate&&r.isMateMapped()?r.mate.chr:"";case"pairOrientation":return bw[i][r.pairOrientation]||"";case"chimeric":return r.tags().SA?"chimeric":"";case"supplementary":return r.isSupplementary?"supplementary":"";case"readOrder":return r.isPaired()&&r.isFirstOfPair()?"first":r.isPaired()&&r.isSecondOfPair()?"second":"";case"phase":return r.tags().HP||"";case"tag":return r.tags()[t]||"";default:return}}positionToReadIndex(e){const t=Xg(this.blocks,e);if(t)return e-t.start+t.seqOffset}}const Kz=new Set;function Xg(n,e){for(let t=0;t<n.length;t++){const i=n[t];if(e>=i.start&&e<i.start+i.len)return i}}function Vv(n){let e=0;const t=n.length,i={};for(;e<t;){const s=String.fromCharCode(n[e])+String.fromCharCode(n[e+1]);e+=2;const o=String.fromCharCode(n[e++]);let a;if(o==="A")a=String.fromCharCode(n[e]),e++;else if(o==="i"||o==="I")a=qv(n,e),e+=4;else if(o==="c")a=Zz(n,e),e++;else if(o==="C")a=Jz(n,e),e++;else if(o==="s"||o==="S")a=Yz(n,e),e+=2;else if(o==="f")a=Xz(n,e),e+=4;else if(o==="Z")for(a="";;){var r=n[e++];if(r===0)break;a+=String.fromCharCode(r)}else if(o==="B"){const l=String.fromCharCode(n[e++]);let c=Wz[l];if(c===void 0){i[s]=`Error: unknown element type '${l}'`;break}const h=qv(n,e);e+=4;const u=e+h*c;a=[];const f=new DataView(n.buffer);for(;e<u;){switch(l){case"c":a.push(f.getInt8(e));break;case"C":a.push(f.getUint8(e));break;case"s":a.push(f.getInt16(e));break;case"S":a.push(f.getUint16(e));break;case"i":a.push(f.getInt32(e));break;case"I":a.push(f.getUint32(e));break;case"f":a.push(f.getFloat32(e))}e+=c}}else{a="Error unknown type: "+o,i[s]=a;break}i[s]=a}return i}function qv(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]}function Yz(n,e){return n[e+1]<<8|n[e]}function Xz(n,e){return new DataView(n.buffer).getFloat32(e)}function Zz(n,e){return new DataView(n.buffer).getInt8(e)}function Jz(n,e){return new DataView(n.buffer).getUint8(e)}class oo{constructor(e){e&&Object.assign(this,e)}seqIndexAt(e){return Math.floor(e)-this.start+this.seqOffset}}class eP{constructor(e){e||(e={}),this.vendorFailed=e.vendorFailed=e.vendorFailed!==!1,this.duplicate=e.duplicate=e.duplicate!==!1,this.secondary=e.secondary||!1,this.supplementary=e.supplementary||!1,this.mq=e.mq||0,e.readgroups&&(this.readgroups=new Set(e.readgroups))}pass(e){if(!e.isMapped()||this.vendorFailed&&e.isFailsVendorQualityCheck()||this.duplicate&&e.isDuplicate()||this.secondary&&e.isSecondary()||this.supplementary&&e.isSupplementary()||e.mq<this.mq)return!1;if(this.readgroups){const t=e.tags().RG;return this.readgroups.has(t)}return!0}}const jv=["=","A","C","M","G","R","S","V","T","W","Y","H","K","D","B","N"],Qv=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],$v=16,Gv=32,tP=new Uint8Array([66,65,77,1]),nP=Jt(tP,0),iP=.2,rP=100,sP=500,Zg=1e4,rn={readHeader:async function(n,e,t){const i=await Be.loadArrayBuffer(n,e),r=cr(i);return rn.decodeBamHeader(r,t)},decodeBamHeader:function(n){const e=Jt(n,0);if(e!==nP)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");const t=Jt(n,4);let i="";for(var r=0;r<t;++r)i+=String.fromCharCode(n[r+8]);const s=Jt(n,t+8);let o=t+12;const a={},l=[];for(r=0;r<s;++r){const h=Jt(n,o);let u="";for(var c=0;c<h-1;++c)u+=String.fromCharCode(n[o+4+c]);a[u]=r,l[r]=u,o=o+8+h}return{magicNumber:e,size:o,chrNames:l,chrToIndex:a}},bam_tag2cigar:function(n,e,t,i,r,s){function o(y){return y==="C"||y==="c"||y==="A"?1:y==="S"||y==="s"?2:y==="I"||y==="i"||y==="f"?4:0}if(s.length!==1||r.start<0)return!1;for(var a=t+(i+1>>1)+i;a+4<e;){var l=String.fromCharCode(n[a])+String.fromCharCode(n[a+1]);if(l==="CG")break;var c=String.fromCharCode(n[a+2]);if(c==="B"){c=String.fromCharCode(n[a+3]);var h=o(c),u=Jt(n,a+4);a+=8+h*u}else if(c==="Z"||c==="H")for(a+=3;n[a++]!==0;);else a+=3+o(c)}if(a>=e||String.fromCharCode(n[a+2])!=="B"||String.fromCharCode(n[a+3])!=="I")return!1;var f=Jt(n,a+4),d=a+8;if(d+f*4>e)return!1;var p="",w=0;s.length=0,a=d;for(var F=0;F<f;++F,a+=4){var g=Jt(n,a),m=g>>4,b=Qv[g&15];(b==="M"||b==="EQ"||b==="X"||b==="D"||b==="N"||b==="=")&&(w+=m),p=p+m+b,s.push({len:m,ltr:b})}return r.cigar=p,r.lengthOnRef=w,!0},decodeBamRecords:function(n,e,t,i,r,s,o,a){for(;e<n.length;){const f=Jt(n,e),d=e+f+4,p=new o2,w=Jt(n,e+4),F=Jt(n,e+8);if(d>n.length)return;if(w<0){e=d;continue}else{if(r!==void 0&&(w>r||F>o))return!0;if(r!==void 0&&w<r){e=d;continue}}const g=Jt(n,e+12),m=(g&65280)>>8,b=g&255,y=Jt(n,e+16),A=(y&4294901760)>>16,x=y&65535,v=Jt(n,e+20),_=Jt(n,e+24),k=Jt(n,e+28),E=Jt(n,e+32);let T=[];for(let $=0;$<b-1;++$)T.push(String.fromCharCode(n[e+36+$]));T=T.join("");let M=0,N="",C=e+36+b;const B=[];let I;for(let $=0;$<x;++$){var l=Jt(n,C),c=l>>4,h=Qv[l&15];(h==="M"||h==="EQ"||h==="X"||h==="D"||h==="N"||h==="=")&&(M+=c),N=N+c+h,C+=4,I={len:c,ltr:h},B.push(I)}if(p.chr=i[w],p.start=F,p.flags=A,p.strand=!(A&$v),p.readName=T,p.cigar=N,p.lengthOnRef=M,p.fragmentLength=E,p.mq=m,rn.bam_tag2cigar(n,d,C,v,p,B),p.end=p.start+p.lengthOnRef,p.end<s){e=d;continue}let H=[];const L=v+1>>1;for(let $=0;$<L;++$){var u=n[C+$];H.push(jv[(u&240)>>4]),H.push(jv[u&15])}H=H.slice(0,v).join(""),C+=L;const O=[];for(let $=0;$<v;++$)O.push(n[C+$]);C+=v,_>=0&&(p.mate={chr:i[_],position:k,strand:!(A&Gv)}),p.seq=H,p.qual=O,p.tagBA=new Uint8Array(n.buffer.slice(C,d)),this.setPairOrientation(p),(a===void 0||a.pass(p))&&(Wv(p,B),t.push(p)),e=d}},decodeSamRecords:function(n,e,t,i,r,s){var o,a,l,c,h,u,f,d,p,w,F;for(o=Qo(n),c=o.length,F=!1,a=0;a<c;a++)if(h=o[a].split("	"),p=new o2,p.chr=h[2],p.start=Number.parseInt(h[3])-1,p.flags=Number.parseInt(h[1]),p.readName=h[0],p.strand=!(p.flags&$v),p.mq=Number.parseInt(h[4]),p.cigar=h[5],p.fragmentLength=Number.parseInt(h[8]),p.seq=h[9],!(p.chr==="*"||!p.isMapped())){if(p.chr!==t){if(F)break;continue}else if(p.start>r)break;if(d=0,w=oP(p.cigar),w.forEach(function(g){var m=g.len,b=g.ltr;(b==="M"||b==="EQ"||b==="X"||b==="D"||b==="N"||b==="=")&&(d+=m)}),p.lengthOnRef=d,!(p.start+d<i)){for(u=h[10],p.qual=[],l=0;l<u.length;l++)p.qual[l]=u.charCodeAt(l)-33;p.tagDict=h.length<11?{}:lP(h.slice(11)),p.isMateMapped()&&(f=h[6],p.mate={chr:f==="="?p.chr:f,position:Number.parseInt(h[7]),strand:!(p.flags&Gv)}),this.setPairOrientation(p),(s===void 0||s.pass(p))&&(Wv(p,w),e.push(p))}}},setReaderDefaults:function(n,e){n.filter=typeof e.filter=="function"?{pass:e.filter}:new eP(e.filter),e.readgroup&&(n.filter.readgroups=new Set([e.readgroup])),n.alleleFreqThreshold=e.alleleFreqThreshold===void 0?iP:e.alleleFreqThreshold,n.samplingWindowSize=e.samplingWindowSize===void 0?rP:e.samplingWindowSize,n.samplingDepth=e.samplingDepth===void 0?sP:e.samplingDepth,n.samplingDepth>Zg&&(console.log("Warning: attempt to set sampling depth > maximum value of "+Zg),n.samplingDepth=Zg)},setPairOrientation:function(n){if(n.isMapped()&&n.mate&&n.isMateMapped()&&n.mate.chr===n.chr){var e=n.strand?"F":"R",t=n.mate,i=t.strand?"F":"R",r=" ",s=" ";n.isFirstOfPair()?(r="1",s="2"):n.isSecondOfPair()&&(r="2",s="1");var o=[],a=n.fragmentLength,l=n.end-n.start;if(a===0){var c=n.start<t.position?t.position+l:t.position-l;a=c-n.start}a>0?(o[0]=e,o[1]=r,o[2]=i,o[3]=s):(o[2]=e,o[3]=r,o[0]=i,o[1]=s),n.pairOrientation=o.join("")}}};function Wv(n,e){const t=[];let i,r,s=0,o=n.start;n.scStart=n.start,n.scLengthOnRef=n.lengthOnRef;for(let a of e){let l;switch(a.ltr){case"H":break;case"P":break;case"S":l=o,n.scLengthOnRef+=a.len,t.length===0&&(n.scStart-=a.len,l-=a.len),t.push(new oo({start:l,seqOffset:s,len:a.len,type:"S"})),s+=a.len;break;case"N":case"D":r===void 0&&(r=[]),r.push({start:o,len:a.len,type:a.ltr}),o+=a.len;break;case"I":i===void 0&&(i=[]),i.push(new oo({start:o,len:a.len,seqOffset:s,type:"I"})),s+=a.len;break;case"M":case"EQ":case"=":case"X":t.push(new oo({start:o,seqOffset:s,len:a.len,type:"M"})),s+=a.len,o+=a.len;break;default:console.log("Error processing cigar element: "+a.len+a.ltr)}}n.blocks=t,n.insertions=i,n.gaps=r}function Jt(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]}function oP(n){var e,t,i,r,s,o,a,l;for(e=[],t=[],s=null,r=n.length,i=0;i<r;i++)o=n.charAt(i),aP(o)?t.push(o):(a=o,l=Number.parseInt(t.join("")),t=[],s!==null&&s.ltr===a?s.len+=l:(s={len:l,ltr:a},e.push(s)));return e}function aP(n){var e=n.charCodeAt(0);return e>=48&&e<=57}function lP(n){var e={};return n.forEach(function(t){var i=t.split(":");e[i[0]]=i[2]}),e}var Fl,nx,ix;class cP{constructor(e,t){Pe(this,Fl);Re(this,"chrAliasTable",new Map);this.config=e,this.genome=t,this.bamPath=e.url,this.isDataUri=qr(e.url),rn.setReaderDefaults(this,e)}async readAlignments(e,t,i){if(!this.alignmentCache){let a;if(this.isDataUri){const l=hP(this.bamPath);a=cr(l.buffer)}else{const l=await Be.loadArrayBuffer(this.bamPath,Qe(this.config));a=cr(l)}this.alignmentCache=$e(this,Fl,nx).call(this,a)}const r=await $e(this,Fl,ix).call(this,e),s=this.alignmentCache.queryFeatures(r,t,i),o=new Il(e,t,i,this.config);for(let a of s)o.push(a);return o.finish(),o}}Fl=new WeakSet,nx=function(e){const t=[];return this.header=rn.decodeBamHeader(e),rn.decodeBamRecords(e,this.header.size,t,this.header.chrNames,void 0,0,Number.MAX_SAFE_INTEGER,this.filter),new Fh(t,this.genome)},ix=async function(e){const t=new Set(this.header.chrNames);if(t.has(e))return e;if(this.chrAliasTable.has(e))return this.chrAliasTable.get(e);if(this.genome){const i=await this.genome.getAliasRecord(e);let r;if(i){const s=Object.keys(i).filter(o=>o!=="start"&&o!=="end").map(o=>i[o]).filter(o=>t.has(o));s.length>0&&(r=s[0])}return this.chrAliasTable.set(e,r),r}return e};function hP(n){const e=n.split(","),t=e[0].split(":")[1];let i=e[1];t.indexOf("base64")>=0?i=atob(i):i=decodeURI(i);const r=new Uint8Array(i.length);for(var s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return r}var qd,sx;class rx{constructor(e,t){Pe(this,qd);Re(this,"chrAliasTable",new Map);this.config=e,this.genome=t,this.bamPath=e.url,this.baiPath=e.indexURL,rn.setReaderDefaults(this,e),this._blockLoader=new E6(e)}async readAlignments(e,t,i){const r=await $e(this,qd,sx).call(this,e),s=new Il(e,t,i,this.config);if(r===void 0)return s;{const a=(await this.getIndex()).chunksForRange(r,t,i);if(!a||a.length===0)return s;for(let l of a){const c=await this._blockLoader.getData(l.minv,l.maxv);if(rn.decodeBamRecords(c,l.minv.offset,s,this.header.chrNames,r,t,i,this.filter))break}return s.finish(),s}}async getHeader(){if(!this.header){const e=this.genome,t=await this.getIndex();let i;if(t.firstBlockPosition){const s=Qe(this.config,{range:{start:t.firstBlockPosition,size:26}}),o=await Be.loadArrayBuffer(this.bamPath,s),a=Z1(o);i=t.firstBlockPosition+a}else i=64e3;const r=Qe(this.config,{range:{start:0,size:i}});this.header=await rn.readHeader(this.bamPath,r,e)}return this.header}async getIndex(){return this.index||(this.index=await k6(this.baiPath,this.config)),this.index}async getChrIndex(){if(this.chrToIndex)return this.chrToIndex;{const e=await this.getHeader();return this.chrToIndex=e.chrToIndex,this.indexToChr=e.chrNames,this.chrNames=new Set(e.chrNames),this.chrToIndex}}}qd=new WeakSet,sx=async function(e){if(await this.getHeader(),this.chrAliasTable.has(e)&&(e=this.chrAliasTable.get(e),e===void 0))return;let t=this.header.chrToIndex[e];if(t===void 0){const i=await this.genome.getAliasRecord(e);let r;if(i){const s=Object.keys(i).filter(o=>o!=="start"&&o!=="end").map(o=>i[o]).filter(o=>this.header.chrToIndex[o]!==void 0);s.length>0&&(r=s[0],t=this.header.chrToIndex[s[0]])}this.chrAliasTable.set(e,r)}return t};class uP{constructor(e,t){this.config=e,this.genome=t;const i={};e.sources.sequences.forEach(function(r){const s=t?t.getChromosomeName(r):r;i[s]=fP(e,t,r)}),this.bamReaders=i,rn.setReaderDefaults(this,e)}async readAlignments(e,t,i){return this.bamReaders.hasOwnProperty(e)?await this.bamReaders[e].readAlignments(e,t,i):new Il(e,t,i,this.config)}}function fP(n,e,t){const i={url:n.sources.url.replace("$CHR",t)};n.sources.indexURL&&(i.indexURL=n.sources.indexURL.replace("$CHR",t));const r=Object.assign(n,i);return new rx(r,e)}const ox=function(n,e){this.config=n,this.genome=e,rn.setReaderDefaults(this,n)};ox.prototype.readAlignments=function(n,e,t){var i=this;return dP.call(i).then(function(r){var s,o;return s=r.chrAliasTable.hasOwnProperty(n)?r.chrAliasTable[n]:n,o=i.config.url+"?reference="+i.config.referenceFile+"&file="+i.config.alignmentFile+"&region="+s+":"+e+"-"+t,Be.loadString(o,Qe(i.config)).then(function(a){var l;return r.chrToIndex[s],l=new Il(n,e,t,i.config),rn.decodeSamRecords(a,l,s,e,t,i.filter),l})})};function dP(){const n=this,e=this.genome;if(this.header)return Promise.resolve(this.header);{const t=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",i=Qe(this.config);return rn.readHeader(t,i,e).then(function(r){return n.header=r,r})}}class pP extends aw{constructor(e,t){super(e,t),rn.setReaderDefaults(this,e)}async readAlignments(e,t,i){if(!this.header){const c=await this.readHeaderData(),h=cr(c.buffer);this.header=rn.decodeBamHeader(h,this.genome),this.chrAliasTable=new Map;for(let u of this.header.chrNames)this.chrAliasTable.set(u,this.genome.getChromosomeName(u))}let r=this.chrAliasTable.has(e)?this.chrAliasTable.get(e):e;const s=await this.readData(r,t,i),o=cr(s.buffer);this.header=rn.decodeBamHeader(o,this.genome);const a=this.header.chrToIndex[e],l=new Il(e,t,i,this.config);return rn.decodeBamRecords(o,this.header.size,l,this.header.chrNames,a,t,i,this.filter),l.finish(),l}}/*! For license information please see cram-bundle.js.LICENSE.txt */var Jg=(()=>{var n={4923:function(r,s,o){var a=this&&this.__awaiter||function(w,F,g,m){return new(g||(g=Promise))(function(b,y){function A(_){try{v(m.next(_))}catch(k){y(k)}}function x(_){try{v(m.throw(_))}catch(k){y(k)}}function v(_){var k;_.done?b(_.value):(k=_.value,k instanceof g?k:new g(function(E){E(k)})).then(A,x)}v((m=m.apply(w,F||[])).next())})},l=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(s,"__esModule",{value:!0});const c=l(o(7430)),h=l(o(7392)),u=o(8712),f=o(5931),d=o(9747);function p(w,F){const[g,m,b,y,A,x]=F;w[g]||(w[g]=[]),w[g].push({start:m,span:b,containerStart:y,sliceStart:A,sliceBytes:x})}s.default=class{constructor(w){this.filehandle=(0,f.open)(w.url,w.path,w.filehandle),this._parseCache=new c.default({cache:new h.default({maxSize:1}),fill:(F,g)=>this.parseIndex()})}parseIndex(){const w={};return this.filehandle.readFile().then(F=>F[0]===31&&F[1]===139?(0,u.unzip)(F):F).then(F=>{if(F.length>4&&F.readUInt32LE(0)===21578050)throw new d.CramMalformedError("invalid .crai index file. note: file appears to be a .bai index. this is technically legal but please open a github issue if you need support");let g=[],m="";for(const b of F)if(b>=48&&b<=57||!m&&b===45)m+=String.fromCharCode(b);else if(b===9)g.push(Number.parseInt(m,10)),m="";else if(b===10)g.push(Number.parseInt(m,10)),m="",p(w,g),g=[];else if(b!==13&&b!==32)throw new d.CramMalformedError("invalid .crai index file");return m&&g.push(Number.parseInt(m,10)),g.length===6&&p(w,g),Object.entries(w).forEach(([b,y])=>{w[b]=y.sort((A,x)=>A.start-x.start||A.span-x.span)}),w})}getIndex(w={}){return this._parseCache.get("index",null,w.signal)}hasDataForReferenceSequence(w){return a(this,void 0,void 0,function*(){return!!(yield this.getIndex())[w]})}getEntriesForRange(w,F,g){return a(this,void 0,void 0,function*(){const m=(yield this.getIndex())[w];if(!m)return[];const b=A=>{const x=A.start,v=A.start+A.span;return x>g?-1:v<=F?1:0},y=[];for(const A of m)b(A)===0&&y.push(A);return y})}}},9508:(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=class{constructor(o,a){this.parameters=o,this.dataType=a}}},368:function(r,s,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(9747),c=a(o(9508)),h=o(612);class u extends c.default{constructor(d,p){if(super(d,p),this.dataType!=="int")throw new l.CramUnimplementedError(`${this.dataType} decoding not yet implemented by BETA codec`)}decode(d,p,w,F){return(0,h.getBits)(p.content,F.coreBlock,this.parameters.length)-this.parameters.offset}}s.default=u},8635:function(r,s,o){var a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0});const l=a(o(9508)),c=o(400);class h extends l.default{constructor(f,d,p){if(super(f,d),this.instantiateCodec=p,d!=="byteArray")throw new TypeError(`byteArrayLength does not support data type ${d}`)}decode(f,d,p,w){const F=this._getLengthCodec().decode(f,d,p,w),g=this._getDataCodec(),m=new Uint8Array(F);for(let b=0;b<F;b+=1)m[b]=g.decode(f,d,p,w);return m}_getLengthCodec(){const f=this.parameters.lengthsEncoding;return this.instantiateCodec(f,"int")}_getDataCodec(){const f=this.parameters.valuesEncoding;return this.instantiateCodec(f,"byte")}}s.default=h,"_getLengthCodec _getDataCodec".split(" ").forEach(u=>(0,c.tinyMemoize)(h,u))},4839:function(r,s,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(9747),c=a(o(9508)),h=o(612);class u extends c.default{constructor(d,p){if(super(d,p),p!=="byteArray")throw new TypeError(`byteArrayStop codec does not support data type ${p}`)}decode(d,p,w,F){const{blockContentId:g}=this.parameters,m=w[g];if(!m)throw new l.CramMalformedError(`no block found with content ID ${g}`);const b=F.externalBlocks.getCursor(g);return this._decodeByteArray(m,b)}_decodeByteArray(d,p){const w=d.content,{stopByte:F}=this.parameters,g=p.bytePosition;let m=p.bytePosition;for(;w[m]!==F&&m<w.length;){if(m===w.length)throw new h.CramBufferOverrunError("byteArrayStop reading beyond length of data buffer?");m+=1}return p.bytePosition=m+1,w.subarray(g,m)}}s.default=u},8153:function(r,s,o){var a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(9747),c=a(o(9508)),h=o(400),u=o(612);class f extends c.default{constructor(p,w){if(super(p,w),this.dataType==="int")this._decodeData=this._decodeInt;else{if(this.dataType!=="byte")throw new l.CramUnimplementedError(`${this.dataType} decoding not yet implemented by EXTERNAL codec`);this._decodeData=this._decodeByte}}decode(p,w,F,g){const{blockContentId:m}=this.parameters,b=F[m];if(!b)throw new l.CramMalformedError(`no block found with content ID ${m}}`);const y=g.externalBlocks.getCursor(m);return this._decodeData(b,y)}_decodeInt(p,w){const[F,g]=(0,h.parseItf8)(p.content,w.bytePosition);return w.bytePosition=w.bytePosition+g,F}_decodeByte(p,w){if(w.bytePosition>=p.content.length)throw new u.CramBufferOverrunError("attempted to read beyond end of block. this file seems truncated.");return p.content[w.bytePosition++]}}s.default=f},8185:function(r,s,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(9747),c=a(o(9508)),h=o(612);class u extends c.default{constructor(d,p){if(super(d,p),this.dataType!=="int")throw new l.CramUnimplementedError(`${this.dataType} decoding not yet implemented by GAMMA codec`)}decode(d,p,w,F){let g=1;for(;(0,h.getBits)(p.content,F.coreBlock,1)===0;)g+=1;return((0,h.getBits)(p.content,F.coreBlock,g-1)|1<<g-1)-this.parameters.offset}}s.default=u},612:(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CramBufferOverrunError=void 0,s.getBits=function(a,l,c){let h=0;if(l.bytePosition+(7-l.bitPosition+c)/8>a.length)throw new o("read error during decoding. the file seems to be truncated.");for(let u=c;u;u--)h<<=1,h|=a[l.bytePosition]>>l.bitPosition&1,l.bitPosition-=1,l.bitPosition<0&&(l.bytePosition+=1),l.bitPosition&=7;return h};class o extends Error{}s.CramBufferOverrunError=o},4341:function(r,s,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(9747),c=a(o(9508)),h=o(612);class u extends c.default{constructor(d,p){if(super(d,p),this.codes={},this.codeBook={},this.sortedCodes=[],this.sortedValuesByBitCode=[],this.sortedBitCodes=[],this.sortedBitLengthsByBitCode=[],this.bitCodeToValue=[],!["byte","int"].includes(this.dataType))throw new TypeError(`${this.dataType} decoding not yet implemented by HUFFMAN_INT codec`);this.buildCodeBook(),this.buildCodes(),this.buildCaches(),this.sortedCodes[0].bitLength===0&&(this._decode=this._decodeZeroLengthCode)}buildCodeBook(){let d=new Array(this.parameters.numCodes);for(let p=0;p<this.parameters.numCodes;p+=1)d[p]={symbol:this.parameters.symbols[p],bitLength:this.parameters.bitLengths[p]};d=d.sort((p,w)=>p.bitLength-w.bitLength||p.symbol-w.symbol),this.codeBook={},d.forEach(p=>{this.codeBook[p.bitLength]||(this.codeBook[p.bitLength]=[]),this.codeBook[p.bitLength].push(p.symbol)})}buildCodes(){this.codes={};let d=0,p=-1;Object.entries(this.codeBook).forEach(([w,F])=>{const g=parseInt(w,10);F.forEach(m=>{const b={bitLength:g,value:m,bitCode:0};p+=1;const y=g-d;if(p<<=y,b.bitCode=p,d+=y,function(A){let x=A-(A>>1)&1431655765;return x=(858993459&x)+(x>>2&858993459),16843009*(x+(x>>4)&252645135)>>24}(p)>g)throw new l.CramMalformedError("Symbol out of range");this.codes[m]=b})})}buildCaches(){this.sortedCodes=Object.values(this.codes).sort((p,w)=>p.bitLength-w.bitLength||p.bitCode-w.bitCode),this.sortedValuesByBitCode=this.sortedCodes.map(p=>p.value),this.sortedBitCodes=this.sortedCodes.map(p=>p.bitCode),this.sortedBitLengthsByBitCode=this.sortedCodes.map(p=>p.bitLength);const d=Math.max(...this.sortedBitCodes);this.bitCodeToValue=new Array(d+1).fill(-1);for(let p=0;p<this.sortedBitCodes.length;p+=1)this.bitCodeToValue[this.sortedCodes[p].bitCode]=p}decode(d,p,w,F){return this._decode(d,p,F.coreBlock)}_decodeZeroLengthCode(){return this.sortedCodes[0].value}_decode(d,p,w){const F=p.content;let g=0,m=0;for(let b=0;b<this.sortedCodes.length;b+=1){const y=this.sortedCodes[b].bitLength;m<<=y-g,m|=(0,h.getBits)(F,w,y-g),g=y;{const A=this.bitCodeToValue[m];if(A>-1&&this.sortedBitLengthsByBitCode[A]===y)return this.sortedValuesByBitCode[A];for(let x=b;this.sortedCodes[x+1].bitLength===y&&x<this.sortedCodes.length;x+=1)b+=1}}throw new l.CramMalformedError("Huffman symbol not found.")}}s.default=u},6524:function(r,s,o){var a=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(s,"__esModule",{value:!0}),s.instantiateCodec=function g(m,b){const y=(A=b==="ignore"?0:m.codecId,F[A]);var A;if(!y)throw new l.CramUnimplementedError(`no codec implemented for codec ID ${m.codecId}`);return new y(m.parameters,b,g)};const l=o(9747),c=a(o(4341)),h=a(o(8153)),u=a(o(4839)),f=a(o(8635)),d=a(o(368)),p=a(o(8185)),w=a(o(99)),F={1:h.default,3:c.default,4:f.default,5:u.default,6:d.default,7:w.default,9:p.default}},99:function(r,s,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(9747),c=a(o(9508)),h=o(612);class u extends c.default{constructor(d,p){if(super(d,p),this.dataType!=="int")throw new l.CramUnimplementedError(`${this.dataType} decoding not yet implemented by SUBEXP codec`)}decode(d,p,w,F){let g,m,b=0;for(;(0,h.getBits)(p.content,F.coreBlock,1);)b+=1;return b===0?(g=this.parameters.K,m=(0,h.getBits)(p.content,F.coreBlock,g)):(g=b+this.parameters.K-1,m=1<<g|(0,h.getBits)(p.content,F.coreBlock,g)),m-this.parameters.offset}}s.default=u},7295:(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},7219:(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0});const a=o(6524),l=o(9747),c={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int"};s.default=class{constructor(h){this.dataSeriesCodecCache={},this.tagCodecCache={},this.tagEncoding={},this.readNamesIncluded=h.preservation.RN,this.APdelta=h.preservation.AP,this.referenceRequired=!!h.preservation.RR,this.tagIdsDictionary=h.preservation.TD,this.substitutionMatrix=function(u){const f=new Array(5);for(let d=0;d<5;d+=1)f[d]=new Array(4);return f[0][u[0]>>6&3]="C",f[0][u[0]>>4&3]="G",f[0][u[0]>>2&3]="T",f[0][3&u[0]]="N",f[1][u[1]>>6&3]="A",f[1][u[1]>>4&3]="G",f[1][u[1]>>2&3]="T",f[1][3&u[1]]="N",f[2][u[2]>>6&3]="A",f[2][u[2]>>4&3]="C",f[2][u[2]>>2&3]="T",f[2][3&u[2]]="N",f[3][u[3]>>6&3]="A",f[3][u[3]>>4&3]="C",f[3][u[3]>>2&3]="G",f[3][3&u[3]]="N",f[4][u[4]>>6&3]="A",f[4][u[4]>>4&3]="C",f[4][u[4]>>2&3]="G",f[4][3&u[4]]="T",f}(h.preservation.SM),this.dataSeriesEncoding=h.dataSeriesEncoding,this.tagEncoding=h.tagEncoding}getCodecForTag(h){if(!this.tagCodecCache[h]){const u=this.tagEncoding[h];u&&(this.tagCodecCache[h]=(0,a.instantiateCodec)(u,"byteArray"))}return this.tagCodecCache[h]}getTagNames(h){return this.tagIdsDictionary[h]}getCodecForDataSeries(h){let u=this.dataSeriesCodecCache[h];if(u===void 0){const f=this.dataSeriesEncoding[h];if(f){const d=c[h];if(!d)throw new l.CramMalformedError(`data series name ${h} not defined in file compression header`);u=(0,a.instantiateCodec)(f,d),this.dataSeriesCodecCache[h]=u}}return u}toJSON(){const h={};return Object.keys(this).forEach(u=>{u.endsWith("Cache")||(h[u]=this[u])}),h}}},78:function(r,s,o){var a=o(8287).Buffer,l=this&&this.__awaiter||function(F,g,m,b){return new(m||(m=Promise))(function(y,A){function x(k){try{_(b.next(k))}catch(E){A(E)}}function v(k){try{_(b.throw(k))}catch(E){A(E)}}function _(k){var E;k.done?y(k.value):(E=k.value,E instanceof m?E:new m(function(T){T(E)})).then(x,v)}_((b=b.apply(F,g||[])).next())})},c=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(s,"__esModule",{value:!0});const h=o(9747),u=o(400),f=c(o(6771)),d=c(o(7219)),p=o(3165);class w{constructor(g,m){this.file=g,this.filePosition=m}getHeader(){return this._readContainerHeader(this.filePosition)}getCompressionHeaderBlock(){return l(this,void 0,void 0,function*(){const g=yield this.getHeader();if(!(g!=null&&g.numRecords))return null;const{majorVersion:m}=yield this.file.getDefinition(),b=(0,p.getSectionParsers)(m),y=yield this.getFirstBlock();if(y===void 0)return;if(y.contentType!=="COMPRESSION_HEADER")throw new h.CramMalformedError(`invalid content type ${y.contentType} in what is supposed to be the compression header block`);const A=(0,u.parseItem)(y.content,b.cramCompressionHeader.parser,0,y.contentPosition);return Object.assign(Object.assign({},y),{parsedContent:A})})}getFirstBlock(){return l(this,void 0,void 0,function*(){const g=yield this.getHeader();if(g)return this.file.readBlock(g._endPosition)})}getCompressionScheme(){return l(this,void 0,void 0,function*(){const g=yield this.getCompressionHeaderBlock();if(g)return new d.default(g.parsedContent)})}getSlice(g,m){return new f.default(this,g,m)}_readContainerHeader(g){return l(this,void 0,void 0,function*(){const{majorVersion:m}=yield this.file.getDefinition(),b=(0,p.getSectionParsers)(m),{cramContainerHeader1:y,cramContainerHeader2:A}=b,{size:x}=yield this.file.stat();if(g>=x)return void console.warn(`position:${g}>=fileSize:${x} in cram container`);const v=a.allocUnsafe(y.maxLength);yield this.file.read(v,0,y.maxLength,g);const _=(0,u.parseItem)(v,y.parser),k=(0,u.itf8Size)(_.numLandmarks);if(g+_.length>=x)return void console.warn(`container header at ${g} indicates that the container has length ${_.length}, which extends beyond the length of the file. Skipping this container.`);const E=a.allocUnsafe(A.maxLength(_.numLandmarks));yield this.file.read(E,0,A.maxLength(_.numLandmarks),g+_._size-k);const T=(0,u.parseItem)(E,A.parser);return this.file.validateChecksums&&T.crc32!==void 0&&(yield this.file.checkCrc32(g,_._size+T._size-k-4,T.crc32,`container header beginning at position ${g}`)),Object.assign(_,T,{_size:_._size+T._size-k,_endPosition:_._size+T._size-k+g})})}}s.default=w,"getHeader getCompressionHeaderBlock getCompressionScheme".split(" ").forEach(F=>(0,u.tinyMemoize)(w,F))},6794:function(r,s,o){var a=o(8287).Buffer,l=this&&this.__awaiter||function(_,k,E,T){return new(E||(E=Promise))(function(M,N){function C(H){try{I(T.next(H))}catch(L){N(L)}}function B(H){try{I(T.throw(H))}catch(L){N(L)}}function I(H){var L;H.done?M(H.value):(L=H.value,L instanceof E?L:new E(function(O){O(L)})).then(C,B)}I((T=T.apply(_,k||[])).next())})},c=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(s,"__esModule",{value:!0});const h=o(8712),u=c(o(4132)),f=c(o(7392)),d=c(o(6960)),p=c(o(235)),w=o(1307),F=o(9747),g=c(o(9989)),m=o(3165),b=c(o(78)),y=o(5931),A=o(400),x=o(5417);class v{constructor(k){var E;if(this.file=(0,y.open)(k.url,k.path,k.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=k.seqFetch,this.options={checkSequenceMD5:k.checkSequenceMD5,cacheSize:(E=k.cacheSize)!==null&&E!==void 0?E:2e4},this.featureCache=new f.default({maxSize:this.options.cacheSize}),function(){const T=new Uint32Array([287454020]),M=new Uint8Array(T.buffer);return M[0]===68?0:M[0]===17?1:2}()>0)throw new Error("Detected big-endian machine, may be unable to run")}read(k,E,T,M){return this.file.read(k,E,T,M)}stat(){return this.file.stat()}getDefinition(){return l(this,void 0,void 0,function*(){const{maxLength:k,parser:E}=(0,m.cramFileDefinition)(),T=a.allocUnsafe(k);yield this.file.read(T,0,k,0);const M=E(T).value;if(M.majorVersion!==2&&M.majorVersion!==3)throw new F.CramUnimplementedError(`CRAM version ${M.majorVersion} not supported`);return M})}getSamHeader(){return l(this,void 0,void 0,function*(){const k=yield this.getContainerById(0);if(!k)throw new F.CramMalformedError("file contains no containers");const E=yield k.getFirstBlock();if(E===void 0)return(0,x.parseHeaderText)("");const T=E.content,M=T.readInt32LE(0),N=T.toString("utf8",4,4+M);return this.header=N,(0,x.parseHeaderText)(N)})}getHeaderText(){return l(this,void 0,void 0,function*(){return yield this.getSamHeader(),this.header})}getContainerById(k){return l(this,void 0,void 0,function*(){const{majorVersion:E}=yield this.getDefinition(),T=(0,m.getSectionParsers)(E);let M=T.cramFileDefinition.maxLength;const{size:N}=yield this.file.stat(),{cramContainerHeader1:C}=T;let B;for(let I=0;I<=k;I++){if(M+C.maxLength+8>=N)return;B=this.getContainerAtPosition(M);const H=yield B.getHeader();if(!H)throw new F.CramMalformedError(`container ${k} not found in file`);if(I===0){M=H._endPosition;for(let L=0;L<H.numBlocks;L++){const O=yield this.readBlock(M);if(O===void 0)return;M=O._endPosition}}else M+=H._size+H.length}return B})}checkCrc32(k,E,T,M){return l(this,void 0,void 0,function*(){const N=a.allocUnsafe(E);yield this.file.read(N,0,E,k);const C=u.default.unsigned(N);if(C!==T)throw new F.CramMalformedError(`crc mismatch in ${M}: recorded CRC32 = ${T}, but calculated CRC32 = ${C}`)})}containerCount(){return l(this,void 0,void 0,function*(){const{majorVersion:k}=yield this.getDefinition(),E=(0,m.getSectionParsers)(k),{size:T}=yield this.file.stat(),{cramContainerHeader1:M}=E;let N=0,C=E.cramFileDefinition.maxLength;for(;C+M.maxLength+8<T;){const B=yield this.getContainerAtPosition(C).getHeader();if(!B)break;if(N===0){C=B._endPosition;for(let I=0;I<B.numBlocks;I++){const H=yield this.readBlock(C);if(H===void 0)return;C=H._endPosition}}else C+=B._size+B.length;N+=1}return N})}getContainerAtPosition(k){return new b.default(this,k)}readBlockHeader(k){return l(this,void 0,void 0,function*(){const{majorVersion:E}=yield this.getDefinition(),T=(0,m.getSectionParsers)(E),{cramBlockHeader:M}=T,{size:N}=yield this.file.stat();if(k+M.maxLength>=N)return;const C=a.allocUnsafe(M.maxLength);return yield this.file.read(C,0,M.maxLength,k),(0,A.parseItem)(C,M.parser,0,k)})}_parseSection(k,E){return l(this,arguments,void 0,function*(T,M,N=T.maxLength,C=void 0){let B;if(C)B=C;else{const{size:H}=yield this.file.stat();if(M+N>=H)return;B=a.allocUnsafe(N),yield this.file.read(B,0,N,M)}const I=(0,A.parseItem)(B,T.parser,0,M);if(I._size!==N)throw new F.CramMalformedError(`section read error: requested size ${N} does not equal parsed size ${I._size}`);return I})}_uncompress(k,E,T){return l(this,void 0,void 0,function*(){if(k==="gzip")(0,h.unzip)(E).copy(T);else if(k==="bzip2"){const N=p.default.array(E);let C,B=p.default.header(N),I=0;do C=p.default.decompress(N,B),C!=-1&&(a.from(C).copy(T,I),I+=C.length,B-=C.length);while(C!=-1)}else if(k==="lzma"){const N=new Response(new w.XzReadableStream((M=E,new ReadableStream({start(C){C.enqueue(M),C.close()}}))));a.from(yield N.arrayBuffer()).copy(T)}else if(k==="rans")(0,g.default)(E,T);else if(k==="rans4x16")d.default.r4x16_uncompress(E,T);else if(k==="arith")d.default.arith_uncompress(E,T);else if(k==="fqzcomp")d.default.fqzcomp_uncompress(E,T);else{if(k!=="tok3")throw new F.CramUnimplementedError(`${k} decompression not yet implemented`);d.default.tok3_uncompress(E,T)}var M})}readBlock(k){return l(this,void 0,void 0,function*(){const{majorVersion:E}=yield this.getDefinition(),T=(0,m.getSectionParsers)(E),M=yield this.readBlockHeader(k);if(M===void 0)return;const N=M._endPosition,C=a.allocUnsafe(M.uncompressedSize),B=Object.assign(Object.assign({},M),{_endPosition:N,contentPosition:N,content:C});if(M.compressionMethod!=="raw"){const I=a.allocUnsafe(M.compressedSize);yield this.read(I,0,M.compressedSize,N),yield this._uncompress(M.compressionMethod,I,C)}else yield this.read(C,0,M.uncompressedSize,N);if(E>=3){const I=yield this._parseSection(T.cramBlockCrc32,N+M.compressedSize);if(I===void 0)return;B.crc32=I.crc32,this.validateChecksums&&(yield this.checkCrc32(k,M._size+M.compressedSize,I.crc32,"block data")),B._endPosition=I._endPosition,B._size=B.compressedSize+T.cramBlockCrc32.maxLength}else B._endPosition=N+B.compressedSize,B._size=B.compressedSize;return B})}}s.default=v,"getDefinition getSectionParsers getSamHeader".split(" ").forEach(_=>(0,A.tinyMemoize)(v,_))},7390:function(r,s,o){var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CramRecord=void 0;var l=o(8401);Object.defineProperty(s,"CramRecord",{enumerable:!0,get:function(){return a(l).default}});var c=o(6794);Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a(c).default}})},8401:function(r,s,o){var a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.MateFlagsDecoder=s.CramFlagsDecoder=s.BamFlagsDecoder=s.MateFlags=s.CramFlags=s.BamFlags=void 0;const l=a(o(7295)),c={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4};function h(u){const f={};for(const[d,p]of u)f["is"+p]=w=>!!(w&d),f["set"+p]=w=>w|d;return f}s.BamFlags=[[1,"Paired"],[2,"ProperlyPaired"],[4,"SegmentUnmapped"],[8,"MateUnmapped"],[16,"ReverseComplemented"],[32,"MateReverseComplemented"],[64,"Read1"],[128,"Read2"],[256,"Secondary"],[512,"FailedQc"],[1024,"Duplicate"],[2048,"Supplementary"]],s.CramFlags=[[1,"PreservingQualityScores"],[2,"Detached"],[4,"WithMateDownstream"],[8,"DecodeSequenceAsStar"]],s.MateFlags=[[1,"OnNegativeStrand"],[2,"Unmapped"]],s.BamFlagsDecoder=h(s.BamFlags),s.CramFlagsDecoder=h(s.CramFlags),s.MateFlagsDecoder=h(s.MateFlags),s.default=class{constructor({flags:u,cramFlags:f,readLength:d,mappingQuality:p,lengthOnRef:w,qualityScores:F,mateRecordNumber:g,readBases:m,readFeatures:b,mateToUse:y,readGroupId:A,readName:x,sequenceId:v,uniqueId:_,templateSize:k,alignmentStart:E,tags:T}){this.flags=u,this.cramFlags=f,this.readLength=d,this.mappingQuality=p,this.lengthOnRef=w,this.qualityScores=F,m&&(this.readBases=m),this.readGroupId=A,this.readName=x,this.sequenceId=v,this.uniqueId=_,this.templateSize=k,this.alignmentStart=E,this.tags=T,b&&(this.readFeatures=b),y&&(this.mate={flags:y.mateFlags,readName:y.mateReadName,sequenceId:y.mateSequenceId,alignmentStart:y.mateAlignmentStart}),g&&(this.mateRecordNumber=g)}isPaired(){return!!(this.flags&l.default.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&l.default.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&l.default.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&l.default.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&l.default.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&l.default.BAM_FMREVERSE)}isRead1(){return!!(this.flags&l.default.BAM_FREAD1)}isRead2(){return!!(this.flags&l.default.BAM_FREAD2)}isSecondary(){return!!(this.flags&l.default.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&l.default.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&l.default.BAM_FDUP)}isSupplementary(){return!!(this.flags&l.default.BAM_FSUPPLEMENTARY)}isDetached(){return!!(this.cramFlags&l.default.CRAM_FLAG_DETACHED)}hasMateDownStream(){return!!(this.cramFlags&l.default.CRAM_FLAG_MATE_DOWNSTREAM)}isPreservingQualityScores(){return!!(this.cramFlags&l.default.CRAM_FLAG_PRESERVE_QUAL_SCORES)}isUnknownBases(){return!!(this.cramFlags&l.default.CRAM_FLAG_NO_SEQ)}getReadBases(){if(!this.readBases&&this._refRegion){const u=function(f,d){if(!f.lengthOnRef&&!f.readLength||f.isUnknownBases())return null;const p=f.alignmentStart-d.start;if(!f.readFeatures)return d.seq.slice(p,p+(f.lengthOnRef||0)).toUpperCase();let w="",F=p,g=0;for(;w.length<f.readLength;)if(g<f.readFeatures.length){const m=f.readFeatures[g];if(m.code==="Q"||m.code==="q")g+=1;else if(m.pos===w.length+1)if(g+=1,m.code==="b"){const b=m.data;w+=b,F+=b.length}else m.code==="B"?(w+=m.data[0],F+=1):m.code==="X"?(w+=m.sub,F+=1):m.code==="I"?w+=m.data:m.code==="D"?F+=m.data:m.code==="i"?w+=m.data:m.code==="N"?F+=m.data:m.code==="S"?w+=m.data:m.code==="P"||m.code;else if(g<f.readFeatures.length){const b=d.seq.slice(F,F+f.readFeatures[g].pos-w.length-1);w+=b,F+=b.length}}else{const m=d.seq.slice(F,F+f.readLength-w.length);w+=m,F+=m.length}return w.toUpperCase()}(this,this._refRegion);u&&(this.readBases=u)}return this.readBases}getPairOrientation(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.mate&&this.sequenceId===this.mate.sequenceId){const u=this.isReverseComplemented()?"R":"F",f=this.isMateReverseComplemented()?"R":"F";let d=" ",p=" ";this.isRead1()?(d="1",p="2"):this.isRead2()&&(d="2",p="1");const w=[];let F=this.templateLength||this.templateSize;if(F===void 0)throw new Error("One of templateSize and templateLength must be set");return this.alignmentStart>this.mate.alignmentStart&&F>0&&(F=-F),F>0?(w[0]=u,w[1]=d,w[2]=f,w[3]=p):(w[2]=u,w[3]=d,w[0]=f,w[1]=p),w.join("")}return null}addReferenceSequence(u,f){this.readFeatures&&this.readFeatures.forEach(d=>{d.code==="X"&&function(p,w,F,g){if(!w)return;const m=g.refPos-w.start,b=w.seq.charAt(m);b&&(g.ref=b);let y=c[b];y===void 0&&(y=4);const A=F.substitutionMatrix[y][g.data];A&&(g.sub=A)}(0,u,f,d)}),!this.readBases&&u.start<=this.alignmentStart&&u.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=u)}toJSON(){const u={};return Object.keys(this).forEach(f=>{f.startsWith("_")||(u[f]=this[f])}),u.readBases=this.getReadBases(),u}}},3165:(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.cramFileDefinition=l,s.cramBlockHeader=c,s.cramBlockCrc32=h,s.cramTagDictionary=f,s.cramPreservationMap=d,s.isMappedSliceHeader=function(x){return typeof x.refSeqId=="number"},s.getSectionParsers=function(x){return{cramFileDefinition:l(),cramBlockHeader:c(),cramBlockCrc32:h(),cramDataSeriesEncodingMap:m(),cramTagEncodingMap:b(),cramCompressionHeader:{parser:(v,_)=>{const{value:k,offset:E}=d().parser(v,_);_=E;const{value:T,offset:M}=m().parser(v,_);_=M;const{value:N,offset:C}=b().parser(v,_);return _=C,{value:{dataSeriesEncoding:p(T),preservation:p(k),tagEncoding:p(N)},offset:_}}},cramEncoding:{parser:(v,_)=>g(v,_)},cramUnmappedSliceHeader:w(x),cramMappedSliceHeader:F(x),cramContainerHeader1:y(x),cramContainerHeader2:A(x)}};const a=o(400);function l(){return{parser:(x,v=0)=>{const _=x,k=new DataView(_.buffer,_.byteOffset,_.length);let E=0;const T=x.subarray(E,E+4).toString();E+=4;const M=k.getUint8(E);E+=1;const N=k.getUint8(E);E+=1;const C=_.subarray(E,E+20).toString().replaceAll("\0","");return E+=20,{value:{magic:T,majorVersion:M,minorVersion:N,fileId:C},offset:E}},maxLength:26}}function c(){return{parser:(x,v=0)=>{const _=x,k=new DataView(_.buffer,_.byteOffset,_.length);let E=0;const T=k.getUint8(E),M=["raw","gzip","bzip2","lzma","rans","rans4x16","arith","fqzcomp","tok3"][T];if(!M)throw new Error(`compression method number ${T} not implemented`);E+=1;const N=k.getUint8(E),C=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][N];if(!C)throw new Error(`invalid block content type id ${N}`);E+=1;const[B,I]=(0,a.parseItf8)(x,E);E+=I;const[H,L]=(0,a.parseItf8)(x,E);E+=L;const[O,$]=(0,a.parseItf8)(x,E);return E+=$,{offset:E,value:{uncompressedSize:O,compressedSize:H,contentId:B,contentType:C,compressionMethod:M}}},maxLength:17}}function h(){return{parser:(x,v)=>{const _=x,k=new DataView(_.buffer,_.byteOffset,_.length).getUint32(v,!0);return{offset:v+=4,value:{crc32:k}}},maxLength:4}}function u(x,v,_){const k=x.toString("utf8",v,_),E=[];for(let T=0;T<k.length;T+=3)E.push(k.slice(T,T+3));return E}function f(){return{parser:(x,v)=>{const[_,k]=(0,a.parseItf8)(x,v);v+=k;const E=x.subarray(v,v+_);v+=_;const T=[];let M=0,N=0;for(;N<E.length;N++)E[N]||(T.push(u(E,M,N)),M=N+1);return N>M&&T.push(u(E,M,N)),{value:{size:_,ents:T},offset:v}}}}function d(){return{parser:(x,v)=>{const _=x,k=new DataView(_.buffer,_.byteOffset,_.length),[E,T]=(0,a.parseItf8)(x,v);v+=T;const[M,N]=(0,a.parseItf8)(x,v);v+=N;const C=[];for(let B=0;B<M;B++){const I=String.fromCharCode(x[v])+String.fromCharCode(x[v+1]);if(v+=2,I==="MI"||I==="UI"||I==="PI"||I==="RN"||I==="AP"||I==="RR")C.push({key:I,value:!!k.getUint8(v)}),v+=1;else if(I==="SM")C.push({key:I,value:[k.getUint8(v),k.getUint8(v+1),k.getUint8(v+2),k.getUint8(v+3),k.getUint8(v+4)]}),v+=5;else{if(I!=="TD")throw new Error(`unknown key ${I}`);{const{offset:H,value:L}=f().parser(x,v);C.push({key:I,value:L.ents}),v=H}}}return{value:{mapSize:E,mapCount:M,ents:C},offset:v}}}}function p(x){const v={};for(const{key:_,value:k}of x.ents)v[_]&&console.warn(`duplicate key ${_} in map`),v[_]=k;return v}function w(x){return{parser:(v,_)=>{const[k,E]=(0,a.parseItf8)(v,_);_+=E;let T=0;if(x>=3){const[L,O]=(0,a.parseLtf8)(v,_);_+=O,T=L}else if(x===2){const[L,O]=(0,a.parseItf8)(v,_);_+=O,T=L}else console.warn("recordCounter=0");const[M,N]=(0,a.parseItf8)(v,_);_+=N;const[C,B]=(0,a.parseItf8)(v,_);_+=B;const I=[];for(let L=0;L<C;L++){const[O,$]=(0,a.parseItf8)(v,_);_+=$,I.push(O)}let H;return x>=2&&(H=[...v.subarray(_,_+16)],_+=16),{value:{recordCounter:T,md5:H,contentIds:I,numContentIds:C,numBlocks:M,numRecords:k},offset:_}},maxLength:v=>40+5*v}}function F(x){return{parser:(v,_)=>{const[k,E]=(0,a.parseItf8)(v,_);_+=E;const[T,M]=(0,a.parseItf8)(v,_);_+=M;const[N,C]=(0,a.parseItf8)(v,_);_+=C;const[B,I]=(0,a.parseItf8)(v,_);_+=I;let H=0;if(x>=3){const[J,Z]=(0,a.parseLtf8)(v,_);_+=Z,H=J}else if(x===2){const[J,Z]=(0,a.parseItf8)(v,_);_+=Z,H=J}else console.warn("majorVersion is <2, recordCounter set to 0");const[L,O]=(0,a.parseItf8)(v,_);_+=O;const[$,Q]=(0,a.parseItf8)(v,_);_+=Q;const te=[];for(let J=0;J<$;J++){const[Z,ye]=(0,a.parseItf8)(v,_);_+=ye,te.push(Z)}const[U,G]=(0,a.parseItf8)(v,_);let ne;return _+=G,x>=2&&(ne=[...v.subarray(_,_+16)],_+=16),{value:{md5:ne,numBlocks:L,numRecords:B,numContentIds:$,refSeqSpan:N,refSeqId:k,refSeqStart:T,recordCounter:H,refBaseBlockId:U,contentIds:te},offset:_}},maxLength:v=>60+5*v}}function g(x,v){const _=x,k=new DataView(_.buffer,_.byteOffset,_.length),[E,T]=(0,a.parseItf8)(x,v);v+=T;const[M,N]=(0,a.parseItf8)(x,v);v+=N;const C={};if(E!==0)if(E===1){const[B,I]=(0,a.parseItf8)(x,v);C.blockContentId=B,v+=I}else if(E===2){const[B,I]=(0,a.parseItf8)(x,v);C.offset=B,v+=I;const[H,L]=(0,a.parseItf8)(x,v);C.M=H,v+=L}else if(E===3){const B=(0,a.parseItf8)(x,v),I=B[0];v+=B[1];const H=[];for(let Q=0;Q<I;Q++){const te=(0,a.parseItf8)(x,v);H.push(te[0]),v+=te[1]}C.symbols=H;const L=(0,a.parseItf8)(x,v),O=B[0];C.numLengths=O,C.numCodes=I,C.numLengths=O,v+=L[1];const $=[];for(let Q=0;Q<O;Q++){const te=(0,a.parseItf8)(x,v);v+=te[1],$.push(te[0])}C.bitLengths=$}else if(E===4){const{value:B,offset:I}=g(x,v);C.lengthsEncoding=B,v=I;const{value:H,offset:L}=g(x,v);C.valuesEncoding=H,v=L}else if(E===5){C.stopByte=k.getUint8(v),v+=1;const[B,I]=(0,a.parseItf8)(x,v);C.blockContentId=B,v+=I}else if(E===6){const[B,I]=(0,a.parseItf8)(x,v);C.offset=B,v+=I;const[H,L]=(0,a.parseItf8)(x,v);C.length=H,v+=L}else if(E===7){const[B,I]=(0,a.parseItf8)(x,v);C.offset=B,v+=I;const[H,L]=(0,a.parseItf8)(x,v);C.K=H,v+=L}else if(E===8){const[B,I]=(0,a.parseItf8)(x,v);C.offset=B,v+=I;const[H,L]=(0,a.parseItf8)(x,v);C.log2m=H,v+=L}else{if(E!==9)throw new Error(`unknown codecId ${E}`);{const[B,I]=(0,a.parseItf8)(x,v);C.offset=B,v+=I}}return{value:{codecId:E,parametersBytes:M,parameters:C},offset:v}}function m(){return{parser:(x,v)=>{const[_,k]=(0,a.parseItf8)(x,v);v+=k;const[E,T]=(0,a.parseItf8)(x,v);v+=T;const M=[];for(let N=0;N<E;N++){const C=String.fromCharCode(x[v])+String.fromCharCode(x[v+1]);v+=2;const{value:B,offset:I}=g(x,v);v=I,M.push({key:C,value:B})}return{value:{mapSize:_,ents:M,mapCount:E},offset:v}}}}function b(){return{parser:(x,v)=>{const[_,k]=(0,a.parseItf8)(x,v);v+=k;const[E,T]=(0,a.parseItf8)(x,v);v+=T;const M=[];for(let N=0;N<E;N++){const[C,B]=(0,a.parseItf8)(x,v);v+=B;const I=String.fromCharCode(C>>16&255)+String.fromCharCode(C>>8&255)+String.fromCharCode(255&C),{value:H,offset:L}=g(x,v);v=L,M.push({key:I,value:H})}return{value:{mapSize:_,ents:M,mapCount:E},offset:v}}}}function y(x){return{maxLength:52,parser:(v,_)=>{const k=v,E=new DataView(k.buffer,k.byteOffset,k.length).getInt32(_,!0);_+=4;const[T,M]=(0,a.parseItf8)(v,_);_+=M;const[N,C]=(0,a.parseItf8)(v,_);_+=C;const[B,I]=(0,a.parseItf8)(v,_);_+=I;const[H,L]=(0,a.parseItf8)(v,_);_+=L;let O,$=0;if(x>=3){const[ne,J]=(0,a.parseLtf8)(v,_);$=ne,_+=J}else if(x===2){const[ne,J]=(0,a.parseItf8)(v,_);$=ne,_+=J}else console.warn("setting recordCounter=0");if(x>1){const[ne,J]=(0,a.parseLtf8)(v,_);O=ne,_+=J}const[Q,te]=(0,a.parseItf8)(v,_);_+=te;const[U,G]=(0,a.parseItf8)(v,_);return{value:{length:E,refSeqId:T,refSeqStart:N,alignmentSpan:B,numBlocks:Q,numLandmarks:U,numBases:O,recordCounter:$,numRecords:H},offset:_+=G}}}}function A(x){return{parser:(v,_)=>{const k=v,E=new DataView(k.buffer,k.byteOffset,k.length),[T,M]=(0,a.parseItf8)(v,_);_+=M;const N=[];for(let B=0;B<T;B++){const[I,H]=(0,a.parseItf8)(v,_);_+=H,N.push(I)}let C;return x>=3&&(C=E.getUint32(_,!0),_+=4),{value:Object.assign(Object.assign({},C===void 0?{}:{crc32:C}),{numLandmarks:T,landmarks:N}),offset:_}},maxLength:v=>5+5*v+4}}},6484:function(r,s,o){var a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(p,w,F,g,m,b,y,A,x){let v=w("BF");const _=w("CF");if(!(0,u.isMappedSliceHeader)(g.parsedContent))throw new Error("slice header not mapped");const k=A>1&&g.parsedContent.refSeqId===-2?w("RI"):g.parsedContent.refSeqId,E=w("RL");let T=w("AP");F.APdelta&&(T+=y.lastAlignmentStart),y.lastAlignmentStart=T;const M=w("RG");let N,C,B,I;if(F.readNamesIncluded&&(N=f(w("RN"))),h.CramFlagsDecoder.isDetached(_)){const J=w("MF");let Z;F.readNamesIncluded||(Z=f(w("RN")),N=Z);const ye=w("NS"),V=w("NP");(J||ye>-1)&&(C={mateFlags:J,mateSequenceId:ye,mateAlignmentStart:V,mateReadName:Z}),B=w("TS"),h.MateFlagsDecoder.isUnmapped(J)&&(v=h.BamFlagsDecoder.setMateUnmapped(v)),h.MateFlagsDecoder.isOnNegativeStrand(J)&&(v=h.BamFlagsDecoder.setMateReverseComplemented(v))}else h.CramFlagsDecoder.isWithMateDownstream(_)&&(I=w("NF")+x+1);const H=w("TL");if(H<0)throw new c.CramMalformedError("invalid TL index");const L={},O=F.getTagNames(H),$=O.length;for(let J=0;J<$;J+=1){const Z=O[J],ye=Z.slice(0,2),V=Z.slice(2,3),ee=F.getCodecForTag(Z);if(!ee)throw new c.CramMalformedError(`no codec defined for auxiliary tag ${Z}`);const R=ee.decode(p,m,b,y);L[ye]=d(V,R)}let Q,te,U,G,ne;if(h.BamFlagsDecoder.isSegmentUnmapped(v))if(h.CramFlagsDecoder.isDecodeSequenceAsStar(_))ne=null,G=null;else{const J=new Array(E);for(let Z=0;Z<J.length;Z+=1)J[Z]=w("BA");if(ne=String.fromCharCode(...J),h.CramFlagsDecoder.isPreservingQualityScores(_)){G=new Array(E);for(let Z=0;Z<J.length;Z+=1)G[Z]=w("QS")}}else{const J=w("FN");if(J&&(Q=function(Z,ye,V,ee,R){let Y=0,W=Z-1;const q=new Array(ye);function ge([le,ue]){const de=V(ue);if(le==="character")return String.fromCharCode(de);if(le==="string"){let fe="";for(let Ae=0;Ae<de.byteLength;Ae++)fe+=String.fromCharCode(de[Ae]);return fe}return le==="numArray"?de.toArray():de}for(let le=0;le<ye;le+=1){const ue=String.fromCharCode(V("FC")),de=V("FP"),fe={B:["character","BA"],S:["string",R>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[ue];if(!fe)throw new c.CramMalformedError(`invalid read feature code "${ue}"`);let Ae=ge(fe);const Ne={B:["number","QS"]}[ue];Ne&&(Ae=[Ae,ge(Ne)]),Y+=de;const S=Y;W+=de;const D=W;ue==="D"||ue==="N"?W+=Ae:ue==="I"||ue==="S"?W-=Ae.length:ue==="i"&&(W-=1),q[le]={code:ue,pos:S,refPos:D,data:Ae}}return q}(T,J,w,0,A)),te=E,Q)for(const{code:Z,data:ye}of Q)Z==="D"||Z==="N"?te+=ye:Z==="I"||Z==="S"?te-=ye.length:Z==="i"&&(te-=1);if(Number.isNaN(te)&&(console.warn(`${N||`${k}:${T}`} record has invalid read features`),te=E),U=w("MQ"),h.CramFlagsDecoder.isPreservingQualityScores(_)){G=new Array(E);for(let Z=0;Z<G.length;Z++)G[Z]=w("QS")}}return{readLength:E,sequenceId:k,cramFlags:_,flags:v,alignmentStart:T,readGroupId:M,readName:N,mateToUse:C,templateSize:B,mateRecordNumber:I,readFeatures:Q,lengthOnRef:te,mappingQuality:U,qualityScores:G,readBases:ne,tags:L}};const l=a(o(8570)),c=o(9747),h=o(8401),u=o(3165);function f(p){let w="";for(let F=0;F<p.length&&p[F]!==0;F++)w+=String.fromCharCode(p[F]);return w}function d(p,w){if(p==="Z")return f(w);if(p==="A")return String.fromCharCode(w[0]);if(p==="I")return l.default.fromBytesLE(w).toNumber();if(p==="i")return new Int32Array(w.buffer)[0];if(p==="s")return new Int16Array(w.buffer)[0];if(p==="S")return new Uint16Array(w.buffer)[0];if(p==="c")return new Int8Array(w.buffer)[0];if(p==="C")return w[0];if(p==="f")return new Float32Array(w.buffer)[0];if(p==="H")return Number.parseInt(f(w).replace(/^0x/,""),16);if(p==="B")return function(F){const g=String.fromCharCode(F[0]),m=Int32Array.from(F.slice(1))[0],b=new Array(m);if(F=F.slice(5),g==="c"){const y=new Int8Array(F.buffer);for(let A=0;A<m;A+=1)b[A]=y[A]}else if(g==="C"){const y=new Uint8Array(F.buffer);for(let A=0;A<m;A+=1)b[A]=y[A]}else if(g==="s"){const y=new Int16Array(F.buffer);for(let A=0;A<m;A+=1)b[A]=y[A]}else if(g==="S"){const y=new Uint16Array(F.buffer);for(let A=0;A<m;A+=1)b[A]=y[A]}else if(g==="i"){const y=new Int32Array(F.buffer);for(let A=0;A<m;A+=1)b[A]=y[A]}else if(g==="I"){const y=new Uint32Array(F.buffer);for(let A=0;A<m;A+=1)b[A]=y[A]}else{if(g!=="f")throw new Error("unknown type: "+g);{const y=new Float32Array(F.buffer);for(let A=0;A<m;A+=1)b[A]=y[A]}}return b}(w);throw new c.CramMalformedError(`Unrecognized tag type ${p}`)}},6771:function(r,s,o){var a=this&&this.__awaiter||function(m,b,y,A){return new(y||(y=Promise))(function(x,v){function _(T){try{E(A.next(T))}catch(M){v(M)}}function k(T){try{E(A.throw(T))}catch(M){v(M)}}function E(T){var M;T.done?x(T.value):(M=T.value,M instanceof y?M:new y(function(N){N(M)})).then(_,k)}E((A=A.apply(m,b||[])).next())})},l=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(s,"__esModule",{value:!0});const c=o(9747),h=o(400),u=l(o(7295)),f=l(o(6484)),d=l(o(8401)),p=o(3165),w=o(612);function F(m,b,y,A){if(!A)throw new c.CramMalformedError("could not resolve intra-slice mate pairs, file seems truncated or malformed");const x=!!(A.mate||A.mateRecordNumber!==void 0&&A.mateRecordNumber!==b);y.readName||(y.readName=String(y.uniqueId),A.readName=y.readName),y.mate={sequenceId:A.sequenceId,alignmentStart:A.alignmentStart,uniqueId:A.uniqueId},A.readName&&(y.mate.readName=A.readName),A.mate||A.mateRecordNumber!==void 0||(A.mate={sequenceId:y.sequenceId,alignmentStart:y.alignmentStart,uniqueId:y.uniqueId},y.readName&&(A.mate.readName=y.readName)),y.flags|=u.default.BAM_FPAIRED,A.flags&u.default.BAM_FUNMAP&&(y.flags|=u.default.BAM_FMUNMAP),y.flags&u.default.BAM_FUNMAP&&(A.flags|=u.default.BAM_FMUNMAP),A.flags&u.default.BAM_FREVERSE&&(y.flags|=u.default.BAM_FMREVERSE),y.flags&u.default.BAM_FREVERSE&&(A.flags|=u.default.BAM_FMREVERSE),y.templateLength===void 0&&(x?function(v,_,k){const E=function C(B){const I=[B];if(B.mateRecordNumber!==void 0&&B.mateRecordNumber>=0){const H=v[B.mateRecordNumber];if(!H)throw new c.CramMalformedError("intra-slice mate record not found, this file seems malformed");I.push(...C(H))}return I}(k),T=E.map(C=>C.alignmentStart),M=E.map(C=>C.alignmentStart+C.readLength-1),N=Math.max(...M)-Math.min(...T)+1;N>=0&&E.forEach(C=>{if(C.templateLength!==void 0)throw new c.CramMalformedError("mate pair group has some members that have template lengths already, this file seems malformed");C.templateLength=N})}(m,0,y):function(v,_){const k=Math.min(v.alignmentStart,_.alignmentStart),E=Math.max(v.alignmentStart+v.readLength-1,_.alignmentStart+_.readLength-1)-k+1;v.templateLength=E,_.templateLength=E}(y,A)),delete y.mateRecordNumber}class g{constructor(b,y,A){this.container=b,this.containerPosition=y,this.file=b.file}getHeader(){return a(this,void 0,void 0,function*(){const{majorVersion:b}=yield this.file.getDefinition(),y=(0,p.getSectionParsers)(b),A=yield this.container.getHeader();if(!A)throw new Error("wow");const x=yield this.file.readBlock(A._endPosition+this.containerPosition);if(x===void 0)throw new Error("block header undefined");if(x.contentType==="MAPPED_SLICE_HEADER"){const v=(0,h.parseItem)(x.content,y.cramMappedSliceHeader.parser,0,A._endPosition);return Object.assign(Object.assign({},x),{parsedContent:v})}if(x.contentType==="UNMAPPED_SLICE_HEADER"){const v=(0,h.parseItem)(x.content,y.cramUnmappedSliceHeader.parser,0,A._endPosition);return Object.assign(Object.assign({},x),{parsedContent:v})}throw new c.CramMalformedError(`error reading slice header block, invalid content type ${x.contentType}`)})}getBlocks(){return a(this,void 0,void 0,function*(){const b=yield this.getHeader();let y=b._endPosition;const A=new Array(b.parsedContent.numBlocks);for(let x=0;x<A.length;x++){const v=yield this.file.readBlock(y);if(v===void 0)throw new Error("block undefined");A[x]=v,y=A[x]._endPosition}return A})}getCoreDataBlock(){return a(this,void 0,void 0,function*(){return(yield this.getBlocks())[0]})}_getBlocksContentIdIndex(){return a(this,void 0,void 0,function*(){const b=yield this.getBlocks(),y={};return b.forEach(A=>{A.contentType==="EXTERNAL_DATA"&&(y[A.contentId]=A)}),y})}getBlockByContentId(b){return a(this,void 0,void 0,function*(){return(yield this._getBlocksContentIdIndex())[b]})}getReferenceRegion(){return a(this,void 0,void 0,function*(){const b=(yield this.getHeader()).parsedContent;if(!(0,p.isMappedSliceHeader)(b))throw new Error("slice header not mapped");if(b.refSeqId<0)return;const y=yield this.container.getCompressionScheme();if(y===void 0)throw new Error("compression scheme undefined");if(b.refBaseBlockId>=0){const A=yield this.getBlockByContentId(b.refBaseBlockId);if(!A)throw new c.CramMalformedError("embedded reference specified, but reference block does not exist");return{seq:A.data.toString("utf8"),start:b.refSeqStart,end:b.refSeqStart+b.refSeqSpan-1,span:b.refSeqSpan}}if(y.referenceRequired||this.file.fetchReferenceSequenceCallback){if(!this.file.fetchReferenceSequenceCallback)throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");const A=yield this.file.fetchReferenceSequenceCallback(b.refSeqId,b.refSeqStart,b.refSeqStart+b.refSeqSpan-1);if(A.length!==b.refSeqSpan)throw new c.CramArgumentError("seqFetch callback returned a reference sequence of the wrong length");return{seq:A,start:b.refSeqStart,end:b.refSeqStart+b.refSeqSpan-1,span:b.refSeqSpan}}})}getAllRecords(){return this.getRecords(()=>!0)}_fetchRecords(){return a(this,void 0,void 0,function*(){var b,y;const{majorVersion:A}=yield this.file.getDefinition(),x=yield this.container.getCompressionScheme();if(x===void 0)throw new Error("compression scheme undefined");const v=yield this.getHeader();if(v===void 0)throw new Error("slice header undefined");const _=yield this._getBlocksContentIdIndex();if(A>1&&this.file.options.checkSequenceMD5&&(0,p.isMappedSliceHeader)(v.parsedContent)&&v.parsedContent.refSeqId>=0&&((b=v.parsedContent.md5)===null||b===void 0?void 0:b.join(""))!=="0000000000000000"){const N=yield this.getReferenceRegion();if(N){const{seq:C,start:B,end:I}=N,H=(0,h.sequenceMD5)(C),L=(y=v.parsedContent.md5)===null||y===void 0?void 0:y.map(O=>(O<16?"0":"")+O.toString(16)).join("");if(H!==L)throw new c.CramMalformedError(`MD5 checksum reference mismatch for ref ${v.parsedContent.refSeqId} pos ${B}..${I}. recorded MD5: ${L}, calculated MD5: ${H}`)}}const k=yield this.getCoreDataBlock(),E={lastAlignmentStart:(0,p.isMappedSliceHeader)(v.parsedContent)?v.parsedContent.refSeqStart:0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{map:new Map,getCursor(N){let C=this.map.get(N);return C===void 0&&(C={bitPosition:7,bytePosition:0},this.map.set(N,C)),C}}},T=N=>{const C=x.getCodecForDataSeries(N);if(!C)throw new c.CramMalformedError(`no codec defined for ${N} data series`);return C.decode(this,k,_,E)};let M=new Array(v.parsedContent.numRecords);for(let N=0;N<M.length;N+=1)try{const C=(0,f.default)(this,T,x,v,k,_,E,A,N);M[N]=new d.default(Object.assign(Object.assign({},C),{uniqueId:v.contentPosition+v.parsedContent.recordCounter+N+1}))}catch(C){if(C instanceof w.CramBufferOverrunError){console.warn("read attempted beyond end of buffer, file seems truncated."),M=M.filter(B=>!!B);break}throw C}for(let N=0;N<M.length;N+=1){const{mateRecordNumber:C}=M[N];C!==void 0&&C>=0&&F(M,N,M[N],M[C])}return M})}getRecords(b){return a(this,void 0,void 0,function*(){const y=this.container.filePosition+this.containerPosition;let A=this.file.featureCache.get(y.toString());A||(A=this._fetchRecords(),this.file.featureCache.set(y.toString(),A));const x=(yield A).filter(b);if(x.length&&this.file.fetchReferenceSequenceCallback){const v=yield this.getHeader();if((0,p.isMappedSliceHeader)(v.parsedContent)&&(v.parsedContent.refSeqId>=0||v.parsedContent.refSeqId===-2)){const _=v.parsedContent.refSeqId>=0?v.parsedContent.refSeqId:void 0,k=yield this.container.getCompressionScheme();if(k===void 0)throw new Error("compression scheme undefined");const E={};for(const T of x){const M=_!==void 0?_:T.sequenceId;let N=E[M];N||(N={id:M,start:T.alignmentStart,end:-1/0,seq:null},E[M]=N);const C=T.alignmentStart+(T.lengthOnRef||T.readLength)-1;C>N.end&&(N.end=C),T.alignmentStart<N.start&&(N.start=T.alignmentStart)}yield Promise.all(Object.values(E).map(T=>a(this,void 0,void 0,function*(){T.id!==-1&&T.start<=T.end&&this.file.fetchReferenceSequenceCallback&&(T.seq=yield this.file.fetchReferenceSequenceCallback(T.id,T.start,T.end))})));for(const T of x){const M=E[_!==void 0?_:T.sequenceId];if(M!=null&&M.seq){const N=M.seq;T.addReferenceSequence(Object.assign(Object.assign({},M),{seq:N}),k)}}}}return x})}}s.default=g,"getHeader getBlocks _getBlocksContentIdIndex".split(" ").forEach(m=>(0,h.tinyMemoize)(g,m))},400:function(r,s,o){var a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.itf8Size=function(u){return-128&u?-16384&u?-2097152&u?-268435456&u?5:4:3:2:1},s.parseItf8=function(u,f){let d=f;const p=u[d];let w;if(p<128?(w=p,d+=1):p<192?(w=16383&(p<<8|u[d+1]),d+=2):p<224?(w=2097151&(p<<16|u[d+1]<<8|u[d+2]),d+=3):p<240?(w=268435455&(p<<24|u[d+1]<<16|u[d+2]<<8|u[d+3]),d+=4):(w=(15&p)<<28|u[d+1]<<20|u[d+2]<<12|u[d+3]<<4|15&u[d+4],d+=5),d>u.length)throw new h.CramBufferOverrunError("Attempted to read beyond end of buffer; this file seems truncated.");return[w,d-f]},s.parseLtf8=function(u,f){let d=f;const p=u[d];let w;if(p<128)w=p,d+=1;else if(p<192)w=16383&(u[d]<<8|u[d+1]),d+=2;else if(p<224)w=2097151&(u[d]<<16|u[d+1]<<8|u[d+2]),w=(63&p)<<16|u.readUInt16LE(d+1),d+=3;else if(p<240)w=268435455&(u[d]<<24|u[d+1]<<16|u[d+2]<<8|u[d+3]),d+=4;else if(p<248)w=(15&u[d])*Math.pow(2,32)+(u[d+1]<<24)|u[d+2]<<16|u[d+3]<<8|u[d+4],d+=5;else if(p<252)w=((7&u[d])<<8|u[d+1])*Math.pow(2,32)+(u[d+2]<<24)|u[d+3]<<16|u[d+4]<<8|u[d+5],d+=6;else if(p<254)w=((3&u[d])<<16|u[d+1]<<8|u[d+2])*Math.pow(2,32)+(u[d+3]<<24)|u[d+4]<<16|u[d+5]<<8|u[d+6],d+=7;else if(p<255){if(w=c.default.fromBytesBE(u.slice(d+1,d+8)),w.greaterThan(Number.MAX_SAFE_INTEGER)||w.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");w=w.toNumber(),d+=8}else{if(w=c.default.fromBytesBE(u.slice(d+1,d+9)),w.greaterThan(Number.MAX_SAFE_INTEGER)||w.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");w=w.toNumber(),d+=9}return[w,d-f]},s.parseItem=function(u,f,d=0,p=0){const{offset:w,value:F}=f(u,d);return Object.assign(Object.assign({},F),{_endPosition:w+p,_size:w-d})},s.tinyMemoize=function(u,f){const d=u.prototype[f],p=`_memo_${f}`;u.prototype[f]=function(){if(!(p in this)){const w=d.call(this);this[p]=w,Promise.resolve(w).catch(()=>{delete this[p]})}return this[p]}},s.sequenceMD5=function(u){return(0,l.default)(u.toUpperCase().replaceAll(/[^\u0021-\u007e]/g,""))};const l=a(o(3503)),c=a(o(8570)),h=o(612)},9747:(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CramArgumentError=s.CramSizeLimitError=s.CramMalformedError=s.CramUnimplementedError=s.CramError=void 0;class o extends Error{}s.CramError=o;class a extends Error{}s.CramUnimplementedError=a,s.CramMalformedError=class extends o{},s.CramSizeLimitError=class extends o{},s.CramArgumentError=class extends o{}},7806:function(r,s,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0}),s.IndexedCramFile=s.CraiIndex=s.CramRecord=s.CramFile=void 0;const l=o(8287);window.Buffer=l.Buffer;var c=o(7390);Object.defineProperty(s,"CramFile",{enumerable:!0,get:function(){return a(c).default}}),Object.defineProperty(s,"CramRecord",{enumerable:!0,get:function(){return c.CramRecord}});var h=o(4923);Object.defineProperty(s,"CraiIndex",{enumerable:!0,get:function(){return a(h).default}});var u=o(6014);Object.defineProperty(s,"IndexedCramFile",{enumerable:!0,get:function(){return a(u).default}})},6014:function(r,s,o){var a=this&&this.__awaiter||function(u,f,d,p){return new(d||(d=Promise))(function(w,F){function g(y){try{b(p.next(y))}catch(A){F(A)}}function m(y){try{b(p.throw(y))}catch(A){F(A)}}function b(y){var A;y.done?w(y.value):(A=y.value,A instanceof d?A:new d(function(x){x(A)})).then(g,m)}b((p=p.apply(u,f||[])).next())})},l=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0});const c=o(9747),h=l(o(7390));s.default=class{constructor(u){var f;if(this.cram=(f=u.cram)!==null&&f!==void 0?f:new h.default({url:u.cramUrl,path:u.cramPath,filehandle:u.cramFilehandle,seqFetch:u.seqFetch,checkSequenceMD5:u.checkSequenceMD5,cacheSize:u.cacheSize}),!(this.cram instanceof h.default))throw new Error("invalid arguments: no cramfile");if(this.index=u.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index")}getRecordsForRange(u,f,d){return a(this,arguments,void 0,function*(p,w,F,g={}){if(g.viewAsPairs=g.viewAsPairs||!1,g.pairAcrossChr=g.pairAcrossChr||!1,g.maxInsertSize=g.maxInsertSize||2e5,typeof p=="string")throw new c.CramUnimplementedError("string sequence names not yet supported");const m=p,b=yield this.index.getEntriesForRange(m,w,F),y=v=>v.sequenceId===p&&v.alignmentStart<=F&&v.lengthOnRef!==void 0&&v.alignmentStart+v.lengthOnRef-1>=w,A=yield Promise.all(b.map(v=>this.getRecordsInSlice(v,y)));let x=Array.prototype.concat(...A);if(g.viewAsPairs){const v={},_={};for(const B of x){const I=B.readName;if(I===void 0)throw new Error("readName undefined");const H=B.uniqueId;v[I]||(v[I]=0),v[I]+=1,_[H]=1}const k={};Object.entries(v).forEach(([B,I])=>{I===1&&(k[B]=!0)});const E=[];for(const B of x){const I=B.readName;if(I===void 0)throw new Error("readName undefined");if(k[I]&&B.mate&&(B.mate.sequenceId===m||g.pairAcrossChr)&&Math.abs(B.alignmentStart-B.mate.alignmentStart)<g.maxInsertSize){const H=this.index.getEntriesForRange(B.mate.sequenceId,B.mate.alignmentStart,B.mate.alignmentStart+1);E.push(H)}}const T=yield Promise.all(E);let M=[];for(const B of T)M.push(...B);M=M.sort((B,I)=>B.toString().localeCompare(I.toString())).filter((B,I,H)=>!I||B.toString()!==H[I-1].toString());const N=[];for(const B of M){let I=this.cram.featureCache.get(B.toString());I||(I=this.getRecordsInSlice(B,()=>!0),this.cram.featureCache.set(B.toString(),I));const H=I.then(L=>{const O=[];for(const $ of L){if($.readName===void 0)throw new Error("readName undefined");k[$.readName]&&!_[$.uniqueId]&&O.push($)}return O});N.push(H)}const C=yield Promise.all(N);if(C.length){const B=C.reduce((I,H)=>I.concat(H));x=x.concat(B)}}return x})}getRecordsInSlice({containerStart:u,sliceStart:f,sliceBytes:d},p){return this.cram.getContainerAtPosition(u).getSlice(f,d).getRecords(p)}hasDataForReferenceSequence(u){return this.index.hasDataForReferenceSequence(u)}}},5931:(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RemoteFile=s.LocalFile=void 0,s.open=function(c,h,u){if(u)return u;if(c)return new a.RemoteFile(c);if(h)return new a.LocalFile(h);throw new Error("no url, path, or filehandle provided, cannot open")};const a=o(1113);var l=o(1113);Object.defineProperty(s,"LocalFile",{enumerable:!0,get:function(){return l.LocalFile}}),Object.defineProperty(s,"RemoteFile",{enumerable:!0,get:function(){return l.RemoteFile}})},6476:(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RANS_BYTE_L=s.TOTFREQ=s.TF_SHIFT=void 0,s.TF_SHIFT=12,s.TOTFREQ=4096,s.RANS_BYTE_L=8388608},997:function(r,s,o){var a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u,f,d,p){let w=u.getInt(),F=u.getInt(),g=u.getInt(),m=u.getInt();const b=p.remaining(),y=-4&b;for(let x=0;x<y;x+=4){const v=f.R[h.default.get(w,c.TF_SHIFT)],_=f.R[h.default.get(F,c.TF_SHIFT)],k=f.R[h.default.get(g,c.TF_SHIFT)],E=f.R[h.default.get(m,c.TF_SHIFT)];p.putAt(x,v),p.putAt(x+1,_),p.putAt(x+2,k),p.putAt(x+3,E),w=h.default.advanceSymbolStep(w,d[255&v],c.TF_SHIFT),F=h.default.advanceSymbolStep(F,d[255&_],c.TF_SHIFT),g=h.default.advanceSymbolStep(g,d[255&k],c.TF_SHIFT),m=h.default.advanceSymbolStep(m,d[255&E],c.TF_SHIFT),w=h.default.renormalize(w,u),F=h.default.renormalize(F,u),g=h.default.renormalize(g,u),m=h.default.renormalize(m,u)}let A;switch(p.setPosition(y),3&b){case 0:break;case 1:A=f.R[h.default.get(w,c.TF_SHIFT)],h.default.advanceSymbol(w,u,d[255&A],c.TF_SHIFT),p.put(A);break;case 2:A=f.R[h.default.get(w,c.TF_SHIFT)],h.default.advanceSymbol(w,u,d[255&A],c.TF_SHIFT),p.put(A),A=f.R[h.default.get(F,c.TF_SHIFT)],h.default.advanceSymbol(F,u,d[255&A],c.TF_SHIFT),p.put(A);break;case 3:A=f.R[h.default.get(w,c.TF_SHIFT)],h.default.advanceSymbol(w,u,d[255&A],c.TF_SHIFT),p.put(A),A=f.R[h.default.get(F,c.TF_SHIFT)],h.default.advanceSymbol(F,u,d[255&A],c.TF_SHIFT),p.put(A),A=f.R[h.default.get(g,c.TF_SHIFT)],h.default.advanceSymbol(g,u,d[255&A],c.TF_SHIFT),p.put(A);break;default:throw new l.CramMalformedError("invalid output size encountered during rANS decoding")}p.setPosition(0)};const l=o(9747),c=o(6476),h=a(o(488))},7960:function(r,s,o){var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(h,u,f,d){const p=u.remaining();let w=h.getInt(),F=h.getInt(),g=h.getInt(),m=h.getInt();const b=p>>2;let y=0,A=b,x=2*b,v=3*b,_=0,k=0,E=0,T=0;for(;y<b;y+=1,A+=1,x+=1,v+=1){const M=255&f[_].R[c.default.get(w,l.TF_SHIFT)],N=255&f[k].R[c.default.get(F,l.TF_SHIFT)],C=255&f[E].R[c.default.get(g,l.TF_SHIFT)],B=255&f[T].R[c.default.get(m,l.TF_SHIFT)];u.putAt(y,M),u.putAt(A,N),u.putAt(x,C),u.putAt(v,B),w=c.default.advanceSymbolStep(w,d[_][M],l.TF_SHIFT),F=c.default.advanceSymbolStep(F,d[k][N],l.TF_SHIFT),g=c.default.advanceSymbolStep(g,d[E][C],l.TF_SHIFT),m=c.default.advanceSymbolStep(m,d[T][B],l.TF_SHIFT),w=c.default.renormalize(w,h),F=c.default.renormalize(F,h),g=c.default.renormalize(g,h),m=c.default.renormalize(m,h),_=M,k=N,E=C,T=B}for(;v<p;v+=1){const M=255&f[T].R[c.default.get(m,l.TF_SHIFT)];u.putAt(v,M),m=c.default.advanceSymbol(m,h,d[T][M],l.TF_SHIFT),T=M}};const l=o(6476),c=a(o(488))},488:(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0});const a=o(9747),l=o(6476);class c{constructor(){this.F=void 0,this.C=void 0}}function h(f,d,p,w){return p*(f>>w)+(f&(1<<w)-1)-d}const u={FC:c,AriDecoder:class{constructor(){this.fc=new Array(256);for(let f=0;f<this.fc.length;f+=1)this.fc[f]=new c;this.R=null}},Symbol:class{constructor(){this.start=void 0,this.freq=void 0}},symbolInit:function(f,d,p){if(!(d<=65536))throw new a.CramMalformedError("assertion failed: start <= 1<<16");if(!(p<=65536-d))throw new a.CramMalformedError("assertion failed: freq <= 1<<16");f.start=d,f.freq=p},advanceStep:h,advanceSymbolStep:function(f,d,p){return h(f,d.start,d.freq,p)},get:function(f,d){return f&(1<<d)-1},advanceSymbol:function(f,d,p,w){return function(F,g,m,b,y){if((F=b*(F>>y)+(F&(1<<y)-1)-m)<l.RANS_BYTE_L)do F=F<<8|255&g.get();while(F<l.RANS_BYTE_L);return F}(f,d,p.start,p.freq,w)},renormalize:function(f,d){if(f<l.RANS_BYTE_L)do f=f<<8|255&d.get();while(f<l.RANS_BYTE_L);return f}};s.default=u},1971:function(r,s,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(s,"__esModule",{value:!0}),s.readStatsO0=function(f,d,p){let w=0,F=0,g=255&f.get();do d.fc[g]==null&&(d.fc[g]=new h.default.FC),d.fc[g].F=255&f.get(),d.fc[g].F>=128&&(d.fc[g].F&=-129,d.fc[g].F=(127&d.fc[g].F)<<8|255&f.get()),d.fc[g].C=F,h.default.symbolInit(p[g],d.fc[g].C,d.fc[g].F),d.R||(d.R=new Array(c.TOTFREQ)),d.R.fill(g,F,F+d.fc[g].F),F+=d.fc[g].F,w===0&&g+1===(255&f.getByteAt(f.position()))?(g=255&f.get(),w=255&f.get()):w!==0?(w-=1,g+=1):g=255&f.get();while(g!==0);u(F<c.TOTFREQ)},s.readStatsO1=function(f,d,p){let w=0,F=255&f.get();do{let g=0,m=0,b=255&f.get();d[F]==null&&(d[F]=new h.default.AriDecoder);do d[F].fc[b]==null&&(d[F].fc[b]=new h.default.FC),d[F].fc[b].F=255&f.get(),d[F].fc[b].F>=128&&(d[F].fc[b].F&=-129,d[F].fc[b].F=(127&d[F].fc[b].F)<<8|255&f.get()),d[F].fc[b].C=m,d[F].fc[b].F===0&&(d[F].fc[b].F=c.TOTFREQ),p[F][b]==null&&(p[F][b]=new h.default.RansDecSymbol),h.default.symbolInit(p[F][b],d[F].fc[b].C,d[F].fc[b].F),d[F].R==null&&(d[F].R=new Array(c.TOTFREQ)),d[F].R.fill(b,m,m+d[F].fc[b].F),m+=d[F].fc[b].F,u(m<=c.TOTFREQ),g===0&&b+1===(255&f.getByteAt(f.position()))?(b=255&f.get(),g=255&f.get()):g!==0?(g-=1,b+=1):b=255&f.get();while(b!==0);w===0&&F+1===(255&f.getByteAt(f.position()))?(F=255&f.get(),w=255&f.get()):w!==0?(w-=1,F+=1):F=255&f.get()}while(F!==0)};const l=o(9747),c=o(6476),h=a(o(488));function u(f){if(!f)throw new l.CramMalformedError("assertion failed")}},9989:function(r,s,o){var a=o(8287).Buffer,l=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(F,g,m=0){if(F.length===0)return g.fill(0),g;const b=new w(F,m),y=b.get();if(y!==0&&y!==1)throw new c.CramMalformedError(`Invalid rANS order ${y}`);if(b.getInt()!==b.remaining()-p)throw new c.CramMalformedError("Incorrect input length.");const A=b.getInt(),x=new w(g||a.allocUnsafe(A));if(x.length<A)throw new c.CramMalformedError(`Output buffer too small to fit ${A} bytes.`);switch(y){case 0:return function(v,_){const k=new h.default.AriDecoder,E=new Array(256);for(let T=0;T<E.length;T+=1)E[T]=new h.default.Symbol;return(0,u.readStatsO0)(v,k,E),(0,f.default)(v,k,E,_),_}(b,x);case 1:return function(v,_){const k=new Array(256);for(let T=0;T<k.length;T+=1)k[T]=new h.default.AriDecoder;const E=new Array(256);for(let T=0;T<E.length;T+=1){E[T]=new Array(256);for(let M=0;M<E[T].length;M+=1)E[T][M]=new h.default.Symbol}return(0,u.readStatsO1)(v,k,E),(0,d.default)(v,_,k,E),_}(b,x);default:throw new c.CramMalformedError(`Invalid rANS order: ${y}`)}};const c=o(9747),h=l(o(488)),u=o(1971),f=l(o(997)),d=l(o(7960)),p=4;class w{constructor(g,m=0){this._buffer=g,this._position=m,this.length=g.length}get(){const g=this._buffer[this._position];return this._position+=1,g}getByte(){return this.get()}getByteAt(g){return this._buffer[g]}position(){return this._position}put(g){return this._buffer[this._position]=g,this._position+=1,g}putAt(g,m){return this._buffer[g]=m,m}setPosition(g){return this._position=g,g}getInt(){const g=this._buffer.readInt32LE(this._position);return this._position+=4,g}remaining(){return this._buffer.length-this._position}}},5417:(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseHeaderText=function(o){const a=o.split(/\r?\n/),l=[];for(const c of a){const[h,...u]=c.split(/\t/);h&&l.push({tag:h.slice(1),data:u.map(f=>{const d=f.indexOf(":");return d!==-1?{tag:f.slice(0,d),value:f.slice(d+1)}:{tag:f,value:""}})})}return l}},8712:(r,s,o)=>{var a=o(8287).Buffer;Object.defineProperty(s,"__esModule",{value:!0}),s.unzip=function(c){return a.from((0,l.inflate)(c))};const l=o(1668)},7430:(r,s,o)=>{o.r(s),o.d(s,{default:()=>h});class a{}class l{constructor(){this.signals=new Set,this.abortController=new AbortController}addSignal(f=new a){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(f),f.aborted?this.handleAborted(f):typeof f.addEventListener=="function"&&f.addEventListener("abort",()=>{this.handleAborted(f)})}handleAborted(f){this.signals.delete(f),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}class c{constructor(){this.callbacks=new Set}addCallback(f=()=>{}){this.callbacks.add(f),f(this.currentMessage)}callback(f){this.currentMessage=f;for(const d of this.callbacks)d(f)}}class h{constructor({fill:f,cache:d}){if(typeof f!="function")throw new TypeError("must pass a fill function");if(typeof d!="object")throw new TypeError("must pass a cache object");if(typeof d.get!="function"||typeof d.set!="function"||typeof d.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=d,this.fillCallback=f}static isAbortException(f){return f.name==="AbortError"||f.code==="ERR_ABORTED"||f.message==="AbortError: aborted"||f.message==="Error: aborted"}evict(f,d){this.cache.get(f)===d&&this.cache.delete(f)}fill(f,d,p,w){const F=new l,g=new c;g.addCallback(w);const m={aborter:F,promise:this.fillCallback(d,F.signal,b=>{g.callback(b)}),settled:!1,statusReporter:g,get aborted(){return this.aborter.signal.aborted}};m.aborter.addSignal(p),m.aborter.signal.addEventListener("abort",()=>{m.settled||this.evict(f,m)}),m.promise.then(()=>{m.settled=!0},()=>{m.settled=!0,this.evict(f,m)}).catch(b=>{throw console.error(b),b}),this.cache.set(f,m)}static checkSinglePromise(f,d){function p(){if(d!=null&&d.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return f.then(w=>(p(),w),w=>{throw p(),w})}has(f){return this.cache.has(f)}get(f,d,p,w){if(!p&&d instanceof AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const F=this.cache.get(f);return F?F.aborted&&!F.settled?(this.evict(f,F),this.get(f,d,p,w)):F.settled?F.promise:(F.aborter.addSignal(p),F.statusReporter.addCallback(w),h.checkSinglePromise(F.promise,p)):(this.fill(f,d,p,w),h.checkSinglePromise(this.cache.get(f).promise,p))}delete(f){const d=this.cache.get(f);d&&(d.settled||d.aborter.abort(),this.cache.delete(f))}clear(){const f=this.cache.keys();let d=0;for(let p=f.next();!p.done;p=f.next())this.delete(p.value),d+=1;return d}}},635:(r,s,o)=>{var a=o(8287).Buffer;const l=o(4646),c=o(8706),h=o(9614),u=o(235),f=128;r.exports=class{decode(d){return this.stream=new c(d),this.decodeStream(this.stream)}decodeStream(d,p=0){var w=this.stream.ReadByte();16&w||(p=this.stream.ReadUint7());var F,g=p,m=1&w;if(8&w)return this.decodeStripe(this.stream,p);if(w&f&&([F,g]=this.decodePackMeta(this.stream)),32&w)var b=this.decodeCat(this.stream,g);else b=4&w?this.decodeExt(this.stream,g):64&w?m?this.decodeRLE1(this.stream,g):this.decodeRLE0(this.stream,g):m?this.decode1(this.stream,g):this.decode0(this.stream,g);return w&f&&(b=this.decodePack(b,F,p)),b}encode(d,p){if(this.stream=new c("",0,1.1*d.length+100),this.stream.WriteByte(p),16&p||this.stream.WriteUint7(d.length),8&p)return a.concat([this.stream.buf.slice(0,this.stream.pos),this.encodeStripe(this.stream,d,p>>8)]);var w,F=1&p,g=d.length;return p&f&&([w,d,g]=this.encodePack(d)),p&f&&this.stream.WriteStream(w),64&p?F?this.encodeRLE1(d,g,this.stream):this.encodeRLE0(d,g,this.stream):F?this.encode1(d,g,this.stream):this.encode0(d,g,this.stream)}decode0(d,p){var w=new a.allocUnsafe(p),F=d.ReadByte();F==0&&(F=256);var g=new h(F),m=new l(d);m.RangeStartDecode(d);for(var b=0;b<p;b++)w[b]=g.ModelDecode(d,m);return w}encode0(d,p,w){for(var F=0,g=0;g<p;g++)F<d[g]&&(F=d[g]);F++;var m=new h(F);w.WriteByte(F);var b=new l(w);for(g=0;g<p;g++)m.ModelEncode(w,b,d[g]);return b.RangeFinishEncode(w),w.buf.slice(0,w.pos)}decode1(d,p){var w=new a.allocUnsafe(p),F=d.ReadByte();F==0&&(F=256);for(var g=new Array(F),m=0;m<F;m++)g[m]=new h(F);var b=new l(d);b.RangeStartDecode(d);var y=0;for(m=0;m<p;m++)w[m]=g[y].ModelDecode(d,b),y=w[m];return w}encode1(d,p,w){for(var F=0,g=0;g<p;g++)F<d[g]&&(F=d[g]);F++;var m=new Array(F);for(g=0;g<F;g++)m[g]=new h(F);w.WriteByte(F);var b=new l(w),y=0;for(g=0;g<p;g++)m[y].ModelEncode(w,b,d[g]),y=d[g];return b.RangeFinishEncode(w),w.buf.slice(0,w.pos)}decodeExt(d,p){var w=new a.allocUnsafe(p),F=u.array(d.buf.slice(d.pos)),g=u.header(F),m=0;do{var b=u.decompress(F,g);b!=-1&&(a.from(b).copy(w,m),m+=b.length,g-=b.length)}while(b!=-1);return w}encodeExt(d,p){}decodeRLE0(d,p){var w=new a.allocUnsafe(p),F=d.ReadByte();F==0&&(F=256);for(var g=new h(F),m=new Array(258),b=0;b<=257;b++)m[b]=new h(4);var y=new l(d);for(y.RangeStartDecode(d),b=0;b<p;){w[b]=g.ModelDecode(d,y);for(var A=m[w[b]].ModelDecode(d,y),x=A,v=256;A==3;)A=m[v].ModelDecode(d,y),v=257,x+=A;for(var _=1;_<=x;_++)w[b+_]=w[b];b+=x+1}return w}encodeRLE0(d,p,w){for(var F=0,g=0;g<p;g++)F<d[g]&&(F=d[g]);F++;var m=new h(F),b=new Array(258);for(g=0;g<=257;g++)b[g]=new h(4);w.WriteByte(F);var y=new l(w);for(g=0;g<p;){m.ModelEncode(w,y,d[g]);for(var A=1;g+A<p&&d[g+A]==d[g];)A++;A--;var x=d[g];d[g],g+=A+1;var v=A>=3?3:A;for(b[x].ModelEncode(w,y,v),A-=v,x=256;v==3;)v=A>=3?3:A,b[x].ModelEncode(w,y,v),x=257,A-=v}return y.RangeFinishEncode(w),w.buf.slice(0,w.pos)}decodeRLE1(d,p){var w=new a.allocUnsafe(p),F=d.ReadByte();F==0&&(F=256);for(var g=new Array(F),m=0;m<F;m++)g[m]=new h(F);var b=new Array(258);for(m=0;m<=257;m++)b[m]=new h(4);var y=new l(d);y.RangeStartDecode(d);var A=0;for(m=0;m<p;){w[m]=g[A].ModelDecode(d,y),A=w[m];for(var x=b[w[m]].ModelDecode(d,y),v=x,_=256;x==3;)x=b[_].ModelDecode(d,y),_=257,v+=x;for(var k=1;k<=v;k++)w[m+k]=w[m];m+=v+1}return w}encodeRLE1(d,p,w){for(var F=0,g=0;g<p;g++)F<d[g]&&(F=d[g]);F++;var m=new Array(F);for(g=0;g<F;g++)m[g]=new h(F);var b=new Array(258);for(g=0;g<=257;g++)b[g]=new h(4);w.WriteByte(F);for(var y=new l(w),A=(g=0,0);g<p;){m[A].ModelEncode(w,y,d[g]);for(var x=1;g+x<p&&d[g+x]==d[g];)x++;x--;var v=d[g];A=d[g],g+=x+1;var _=x>=3?3:x;for(b[v].ModelEncode(w,y,_),x-=_,v=256;_==3;)_=x>=3?3:x,b[v].ModelEncode(w,y,_),v=257,x-=_}return y.RangeFinishEncode(w),w.buf.slice(0,w.pos)}decodePackMeta(d){this.nsym=d.ReadByte();for(var p=new Array(this.nsym),w=0;w<this.nsym;w++)p[w]=d.ReadByte();return[p,d.ReadUint7()]}decodePack(d,p,w){var F=new a.allocUnsafe(w);if(this.nsym<=1)for(var g=0;g<w;g++)F[g]=p[0];else if(this.nsym<=2){g=0;for(var m=0;g<w;g++){if(g%8==0)var b=d[m++];F[g]=p[1&b],b>>=1}}else if(this.nsym<=4)for(g=0,m=0;g<w;g++)g%4==0&&(b=d[m++]),F[g]=p[3&b],b>>=2;else{if(!(this.nsym<=16))return d;for(g=0,m=0;g<w;g++)g%2==0&&(b=d[m++]),F[g]=p[15&b],b>>=4}return F}packMeta(d){for(var p=new c("",0,1024),w=new Array(256),F=0;F<d.length;F++)w[d[F]]=1;var g=0;for(F=0;F<256;F++)w[F]&&(w[F]=++g);for(p.WriteByte(g),F=0;F<256;F++)w[F]&&(p.WriteByte(F),w[F]--);return[p,w,g]}encodePack(d){var p,w,F;[p,w,F]=this.packMeta(d);var g=d.length,m=0;if(F<=1)return p.WriteUint7(0),[p,new a.allocUnsafe(0),0];if(F<=2){for(var b=new a.allocUnsafe(Math.floor((g+7)/8)),y=(m=0,0);m<(-8&g);m+=8,y++)b[y]=(0|w[d[m+0]])+(w[d[m+1]]<<1)+(w[d[m+2]]<<2)+(w[d[m+3]]<<3)+(w[d[m+4]]<<4)+(w[d[m+5]]<<5)+(w[d[m+6]]<<6)+(w[d[m+7]]<<7);if(m<g){b[y]=0;for(var A=0;m<g;)b[y]|=w[d[m++]]<<A,A++;y++}return p.WriteUint7(y),[p,b,b.length]}if(F<=4){for(b=new a.allocUnsafe(Math.floor((g+3)/4)),m=0,y=0;m<(-4&g);m+=4,y++)b[y]=(0|w[d[m+0]])+(w[d[m+1]]<<2)+(w[d[m+2]]<<4)+(w[d[m+3]]<<6);if(m<g){for(b[y]=0,A=0;m<g;)b[y]|=w[d[m++]]<<A,A+=2;y++}return p.WriteUint7(y),[p,b,b.length]}if(F<=16){for(b=new a.allocUnsafe(Math.floor((g+1)/2)),m=0,y=0;m<(-2&g);m+=2,y++)b[y]=(0|w[d[m+0]])+(w[d[m+1]]<<4);return m<g&&(b[y++]=w[d[m++]]),p.WriteUint7(y),[p,b,b.length]}return p.WriteUint7(d.length),[p,d,d.length]}encodeStripe(d,p,w){w==0&&(w=4);for(var F=new Array(w),g=new Array(w),m=0;m<w;m++)g[m]=Math.floor(p.length/w)+(p.length%w>m),F[m]=new Array(g[m]);for(var b=0,y=0;y<p.length;y+=w,b++)for(var A=0;A<w;A++)b<F[A].length&&(F[A][b]=p[y+A]);var x=new Array(w),v=0;for(m=0;m<w;m++){var _=this.encode(F[m],0),k=this.encode(F[m],1);x[m]=k.length<_.length?k:_,v+=x[m].length}var E=new c("",0,v+5*w+1);for(E.WriteByte(w),m=0;m<w;m++)E.WriteUint7(x[m].length);for(m=0;m<w;m++)E.WriteData(x[m],x[m].length);return E.buf.slice(0,E.buf.pos)}decodeStripe(d,p){for(var w=d.ReadByte(),F=new Array(w),g=new Array(w),m=0;m<w;m++)F[m]=d.ReadUint7();var b=new Array(w);for(m=0;m<w;m++)g[m]=Math.floor(p/w)+(p%w>m),b[m]=this.decodeStream(d,g[m]);var y=new a.allocUnsafe(p);for(m=0;m<w;m++)for(var A=0;A<g[m];A++)y[A*w+m]=b[m][A];return y}decodeCat(d,p){for(var w=new a.allocUnsafe(p),F=0;F<p;F++)w[F]=d.ReadByte();return w}}},4646:r=>{r.exports=class{constructor(s){this.low=0,this.range=4294967295,this.code=0,this.FFnum=0,this.carry=0,this.cache=0}RangeStartDecode(s){for(var o=0;o<5;o++)this.code=(this.code<<8)+s.ReadByte();this.code&=4294967295,this.code>>>=0}RangeGetFrequency(s){return this.range=Math.floor(this.range/s),Math.floor(this.code/this.range)}RangeDecode(s,o,a,l){for(this.code-=o*this.range,this.range*=a;this.range<16777216;)this.range*=256,this.code=256*this.code+s.ReadByte()}RangeShiftLow(s){if(this.low<4278190080|this.carry){for(s.WriteByte(this.cache+this.carry);this.FFnum;)s.WriteByte(this.carry-1),this.FFnum--;this.cache=this.low>>>24,this.carry=0}else this.FFnum++;this.low<<=8,this.low>>>=0}RangeEncode(s,o,a,l){var c=this.low;for(this.range=Math.floor(this.range/l),this.low+=o*this.range,this.low>>>=0,this.range*=a,this.low<c&&(this.carry!=0&&console.log("ERROR: Multiple carry"),this.carry=1);this.range<16777216;)this.range*=256,this.RangeShiftLow(s)}RangeFinishEncode(s){for(var o=0;o<5;o++)this.RangeShiftLow(s)}}},9614:r=>{r.exports=class{constructor(s=256){this.total_freq=s,this.max_sym=s-1,this.S=new Array,this.F=new Array;for(var o=0;o<=this.max_sym;o++)this.S[o]=o,this.F[o]=1}ModelDecode(s,o){for(var a=o.RangeGetFrequency(this.total_freq),l=0,c=0;l+this.F[c]<=a;)l+=this.F[c++];o.RangeDecode(s,l,this.F[c],this.total_freq),this.F[c]+=16,this.total_freq+=16,this.total_freq>65519&&this.ModelRenormalise();var h=this.S[c];if(c>0&&this.F[c]>this.F[c-1]){var u=this.F[c];this.F[c]=this.F[c-1],this.F[c-1]=u,u=this.S[c],this.S[c]=this.S[c-1],this.S[c-1]=u}return h}ModelRenormalise(){this.total_freq=0;for(var s=0;s<=this.max_sym;s++)this.F[s]-=Math.floor(this.F[s]/2),this.total_freq+=this.F[s]}ModelEncode(s,o,a){for(var l=0,c=0;this.S[c]!=a;c++)l+=this.F[c];if(o.RangeEncode(s,l,this.F[c],this.total_freq),this.F[c]+=16,this.total_freq+=16,this.total_freq>65519&&this.ModelRenormalise(),a=this.S[c],c>0&&this.F[c]>this.F[c-1]){var h=this.F[c];this.F[c]=this.F[c-1],this.F[c-1]=h,h=this.S[c],this.S[c]=this.S[c-1],this.S[c-1]=h}}}},6038:(r,s,o)=>{var a=o(8287).Buffer;const l=o(8706),c=o(9614),h=o(4646);function u(v,_,k){for(var E=0,T=0,M=-1,N=new Array(1024);T<k;){var C=v.ReadByte();if(N[E++]=C,T+=C,C==M){var B=v.ReadByte();for(T+=C*B;B--;)N[E++]=C}M=C}var I=0;for(E=0,T=0;T<k;){var H=0;do{var L=N[E++];H+=L}while(L==255);for(;H--;)_[T++]=I;I++}}const f=2,d=4,p=8,w=16,F=32,g=64,m=128;function b(v,_,k){var E=v.context;return _.qctx=(_.qctx<<v.qshift)+v.qtab[k],E+=(_.qctx&(1<<v.qbits)-1)<<v.qloc,v.do_pos&&(E+=v.ptab[Math.min(_.p,1023)]<<v.ploc),v.do_delta&&(E+=v.dtab[Math.min(_.delta,255)]<<v.dloc,_.delta+=_.prevq!=k?1:0,_.prevq=k),v.do_sel&&(E+=_.s<<v.sloc),_.p--,65535&E}function y(v){var _={};_.context=v.ReadUint16(),_.pflags=v.ReadByte(),_.do_dedup=_.pflags&f,_.fixed_len=_.pflags&d,_.do_sel=_.pflags&p,_.do_qmap=_.pflags&w,_.do_pos=_.pflags&F,_.do_delta=_.pflags&g,_.do_qtab=_.pflags&m,_.max_sym=v.ReadByte();var k=v.ReadByte();if(_.qbits=k>>4,_.qshift=15&k,k=v.ReadByte(),_.qloc=k>>4,_.sloc=15&k,k=v.ReadByte(),_.ploc=k>>4,_.dloc=15&k,_.qmap=new Array(256),_.pflags&w)for(var E=0;E<_.max_sym;E++)_.qmap[E]=v.ReadByte();else for(E=0;E<256;E++)_.qmap[E]=E;if(_.qtab=new Array(1024),_.qbits>0&&_.pflags&m)u(v,_.qtab,256);else for(E=0;E<256;E++)_.qtab[E]=E;return _.ptab=new Array(1024),_.pflags&F&&u(v,_.ptab,1024),_.dtab=new Array(256),_.pflags&g&&u(v,_.dtab,256),_}function A(v,_,k,E,T,M){k.max_sel>0?T.s=E.sel.ModelDecode(v,_):T.s=0,T.x=k.stab[T.s];var N=k.params[T.x];if(N.fixed_len>=0){var C=E.len[0].ModelDecode(v,_);C|=E.len[1].ModelDecode(v,_)<<8,C|=E.len[2].ModelDecode(v,_)<<16,C|=E.len[3].ModelDecode(v,_)<<24,N.fixed_len>0&&(N.fixed_len=-C)}else C=-N.fixed_len;T.len=C,k.do_rev&&(M[T.rec]=E.rev.ModelDecode(v,_)),T.is_dup=0,N.pflags&f&&E.dup.ModelDecode(v,_)&&(T.is_dup=1),T.p=C,T.delta=0,T.qctx=0,T.prevq=0,T.rec++}function x(v,_,k){for(var E=0,T=0,M=new Array(2*k),N=0;E<k;){for(var C=E;E<k&&_[E]==T;)E++;var B=E-C;do{var I=Math.min(255,B);M[N++]=I,B-=I}while(I==255);T++}var H=-1,L=new Array(2*k),O=0;for(E=0;E<N;){var $=M[E++];if(L[O++]=$,$==H){for(C=E;E<N&&M[E]==H&&E-C<255;)E++;L[O++]=E-C}else H=$}v.WriteData(L,O)}r.exports={decode:function(v,_){return function(k,E){var T=k.ReadUint7(),M=function(U){var G={max_sym:0};if(U.ReadByte()==5){var ne=U.ReadByte(),J=1&ne?U.ReadByte():1,Z=ne.nparam>1?ne.nparam-1:0,ye=new Array(256);if(2&ne)Z=U.ReadByte(),u(U,ye,256);else{for(var V=0;V<J;V++)ye[V]=V;for(;V<256;V++)ye[V]=J-1}G.do_rev=4&ne,G.stab=ye,G.max_sel=Z,G.params=new Array(G.nparam);for(var ee=0;ee<J;ee++)G.params[ee]=y(U),G.max_sym<G.params[ee].max_sym&&(G.max_sym=G.params[ee].max_sym);return G}console.error("Invalid FQZComp version number")}(k);if(M){var N=M.params,C=new Array(E.length),B=function(U){var G={};G.qual=new Array(65536);for(var ne=0;ne<65536;ne++)G.qual[ne]=new c(U.max_sym+1);for(G.len=new Array(4),ne=0;ne<4;ne++)G.len[ne]=new c(256);return G.rev=new c(2),G.dup=new c(2),U.max_sel>0&&(G.sel=new c(U.max_sel+1)),G}(M),I=new h(k);I.RangeStartDecode(k);for(var H=new a.allocUnsafe(T),L={qctx:0,prevq:0,delta:0,p:0,s:0,x:0,len:0,is_dup:0,rec:0},O=0;O<T;){if(L.p==0){if(A(k,I,M,B,L,C),L.is_dup>0&&B.dup.ModelDecode(k,I)){for(var $=0;$<len;$++)H[O+$]=H[O+$-L.len];O+=L.len,L.p=0;continue}E.push(L.len);var Q=(N=M.params[L.x]).context}var te=B.qual[Q].ModelDecode(k,I);H[O++]=N.qmap[te],Q=b(N,L,te)}return M.do_rev&&function(U,G,ne,J){for(var Z=0,ye=0;ye<G;){if(ne[Z])for(var V=0,ee=J[Z]-1;V<ee;){var R=U[ye+V];U[ye+V]=U[ye+ee],U[ye+ee]=R,V++,ee--}ye+=J[Z++]}}(H,T,C,E),H}}(new l(v),_)},encode:function(v,_,k){for(var E=new Array(2),T=new Array(2),M=new Array(2),N=new Array(2),C=new Array(256),B=0;B<2;B++)E[B]=new Array(256),T[B]=new Array(256),M[B]=new Array(1024),N[B]=new Array(256);(H=new l("",0,1.1*v.length+100)).WriteUint7(v.length);var I=function(L,O,$,Q){for(var te=$[0],U=0;U<$.length&&$[U]==te;U++);var G=U==$.length?1:0,ne=0,J=0;for(U=0;U<256;U++)Q[0][U]=0;var Z=0,ye=0;for(U=0;U<L.length;U++)ye==0&&(ye=O[Z<O.length-1?Z++:Z]),Q[0][L[U]]++,ye--;for(U=0;U<256;U++)Q[0][U]&&(J<U&&(J=U),ne++);var V=5,ee=0;return ne<=16&&(ee=1,V=ne<=2?1:ne<=4?2:ne<=8?3:4),[{qbits:8+(V>4),qshift:V,qloc:7,pbits:7,pshift:O[0]>128?1:0,ploc:0,dbits:V>4?0:1,dshift:3,dloc:15,sbits:0,sloc:15,do_stab:0,context:0,max_sym:J,nsym:ne,do_qmap:ee,do_dedup:0,fixed_len:O.length==1?1:0,do_sel:0,do_rev:0,do_pos:1,do_delta:V<=4?1:0,do_qtab:0,qbits:8+(V>4)-(G==0),sbits:1,sloc:15-(V<=4),do_stab:1,do_sel:1}]}(v,_,k,E),H=function(L,O,$,Q,te,U,G){for(var ne=[0,1,1,1,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],J=0;J<O.length;J++)G[J]=J;for(;J<256;J++)G[J]=O.length-1;L.WriteByte(5);var Z=(O.length>1?1:0)|(O[0].do_stab?2:0);if(L.WriteByte(Z),1&Z&&L.WriteByte(O.length),2&Z){var ye=1<<O[0].sbits;ye>0&&ye--,L.WriteByte(ye),x(L,G,256)}for(var V=0;V<O.length;V++){if(L.WriteUint16(O[V].context),L.WriteByte((O[V].do_qtab?m:0)|(O[V].do_delta?g:0)|(O[V].do_pos?F:0)|(O[V].do_qmap?w:0)|(O[V].do_sel?p:0)|(O[V].fixed_len?d:0)|(O[V].do_dedup?f:0)),O[V].do_qmap?L.WriteByte(O[V].nsym):L.WriteByte(O[V].max_sym),L.WriteByte(O[V].qbits<<4|O[V].qshift),L.WriteByte(O[V].qloc<<4|O[V].sloc),L.WriteByte(O[V].ploc<<4|O[V].dloc),O[V].do_qmap){O[V].max_sym=O[V].nsym;var ee=0;for(J=0;J<256;J++)$[V][J]&&(L.WriteByte(J),$[V][J]=ee++);for(;ee<O[V].nsym;ee++)L.WriteByte(0)}else for(J=0;J<256;J++)$[V][J]=J;if(O[V].qbits>0){for(J=0;J<256;J++)Q[V][J]=J;O[V].do_qtab&&x(L,Q[V],256)}if(O[V].pbits>0){for(J=0;J<1024;J++)te[V][J]=Math.min((1<<O[V].pbits)-1,J>>O[V].pshift);x(L,te[V],1024)}if(O[V].dbits>0){for(J=0;J<256;J++)ne[J]>(1<<O[V].dbits)-1&&(ne[J]=(1<<O[V].dbits)-1);for(J=0;J<256;J++)U[V][J]=ne[Math.min(ne.length-1,J>>O[V].dshift)];x(L,U[V],256)}}return L}(H,I,E,T,M,N,C);return function(L,O,$,Q,te,U,G,ne,J,Z){var ye=1<<te[0].sbits;ye>0&&ye--;for(var V=O.length,ee=0,R=0;R<te.length;R++)ee<te[R].max_sym&&(ee=te[R].max_sym);for(var Y=new Array(65536),W=0;W<65536;W++)Y[W]=new c(ee+1);var q=new Array(4);for(W=0;W<4;W++)q[W]=new c(256);new c(2),new c(2);for(var ge=new c(ye+1),le=new h(O),ue=(R=0,W=0,0);W<V;){if(R==0){var de=Q[ue];te[0].sbits>0&&ge.ModelEncode(L,le,de);var fe=Z[de],Ae=$[Math.min($.length-1,ue++)];te[fe].fixed_len?te[fe].fixed_len>0&&(q[0].ModelEncode(L,le,255&Ae),q[1].ModelEncode(L,le,Ae>>8&255),q[2].ModelEncode(L,le,Ae>>16&255),q[3].ModelEncode(L,le,Ae>>24&255),te[fe].fixed_len=-1):(q[0].ModelEncode(L,le,255&Ae),q[1].ModelEncode(L,le,Ae>>8&255),q[2].ModelEncode(L,le,Ae>>16&255),q[3].ModelEncode(L,le,Ae>>24&255)),te[fe].do_dedup&&process.exit(1),R=Ae;var Ne=0,S=te[fe].context,D=0,z=0}var K=O[W++],re=U[fe][K];Y[S].ModelEncode(L,le,re),D=(D<<te[fe].qshift)+G[fe][re],S=te[fe].context,S+=(D&(1<<te[fe].qbits)-1)<<te[fe].qloc,te[fe].pbits>0&&(S+=ne[fe][Math.min(R,1023)]<<te[fe].ploc),te[fe].dbits>0&&(S+=J[fe][Math.min(Ne,255)]<<te[fe].dloc,Ne+=z!=re?1:0,z=re),te[fe].do_sel&&(S+=de<<te[fe].sloc),S&=65535,R--}return le.RangeFinishEncode(L),L.buf.slice(0,L.pos)}(H,v,_,k,I,E,T,M,N,C)}}},6960:(r,s,o)=>{var a=o(8287).Buffer,l=o(5460),c=o(8223),h=o(635),u=o(6038),f=o(5997);r.exports={r4x8_uncompress:function(d,p){l.decode(d).copy(p,0,0)},r4x16_uncompress:function(d,p){c.decode(d).copy(p,0,0)},arith_uncompress:function(d,p){h.decode(d).copy(p,0,0)},fqzcomp_uncompress:function(d,p){var w=new Array;u.decode(d,w).copy(p,0,0)},tok3_uncompress:function(d,p){var w=f.decode(d,0,"\0");a.from(w,"binary").copy(p,0,0)}}},8706:(r,s,o)=>{var a=o(8287).Buffer;r.exports=class{constructor(l,c=0,h=0){h!=0?(this.buf=a.allocUnsafe(h),this.length=h):(this.buf=l,this.length=l.length),this.pos=c}EOF(){return this.pos>=this.length}ReadData(l){var c=this.buf.slice(this.pos,this.pos+l);return this.pos+=l,c}ReadByte(){const l=this.buf[this.pos];return this.pos++,l}ReadChar(){const l=this.buf[this.pos];return this.pos++,String.fromCharCode(l)}ReadUint16(){return this.ReadByte()|this.ReadByte()<<8}ReadUint32(){const l=this.buf.readInt32LE(this.pos);return this.pos+=4,l}ReadString(){var l="";do{var c=this.buf[this.pos++];c&&(l+=String.fromCharCode(c))}while(c);return l}ReadUint7(){var l=0;do{var c=this.ReadByte();l=l<<7|127&c}while(128&c);return l}ReadITF8(){var l=this.buf[this.pos];return this.pos++,l>=240?(l=(15&l)<<28,l+=(this.buf[this.pos+0]<<20)+(this.buf[this.pos+1]<<12)+(this.buf[this.pos+2]<<4)+(this.buf[this.pos+3]>>4),this.pos+=4):l>=224?(l=(15&l)<<24,l+=(this.buf[this.pos+0]<<16)+(this.buf[this.pos+1]<<8)+(0|this.buf[this.pos+2]),this.pos+=3):l>=192?(l=(31&l)<<16,l+=(this.buf[this.pos+0]<<8)+(0|this.buf[this.pos+1]),this.pos+=2):l>=128&&(l=(63&l)<<8,l+=this.buf[this.pos],this.pos++),l}WriteByte(l){this.buf[this.pos++]=l}WriteChar(l){this.buf[this.pos++]=l.charCodeAt(0)}WriteString(l){for(var c=0;c<l.length;c++)this.buf[this.pos++]=l.charCodeAt(c);this.buf[this.pos++]=0}WriteData(l,c){for(var h=0;h<c;h++)this.buf[this.pos++]=l[h]}WriteStream(l){this.WriteData(l.buf,l.pos)}WriteUint16(l){this.WriteByte(255&l),this.WriteByte(l>>8&255)}WriteUint32(l){this.buf.writeInt32LE(l,this.pos),this.pos+=4}WriteUint7(l){var c=0,h=l;do c+=7,h>>=7;while(h>0);do c-=7,this.WriteByte((l>>c&127)+((c>0)<<7));while(c>0)}WriteITF8(l){l<0&&(l=1+l),l<=127?this.buf[this.pos++]=l:l<=16383?(this.buf[this.pos++]=128|Math.floor(l/256),this.buf[this.pos++]=255&l):l<131071?(this.buf[this.pos++]=192|Math.floor(l/65536),this.buf[this.pos++]=255&Math.floor(l/256),this.buf[this.pos++]=255&l):l<268435455?(this.buf[this.pos++]=224|Math.floor(l/16777216),this.buf[this.pos++]=255&Math.floor(l/65536),this.buf[this.pos++]=255&Math.floor(l/256),this.buf[this.pos++]=255&l):(this.buf[this.pos++]=240|Math.floor(l/268435456),this.buf[this.pos++]=255&Math.floor(l/1048576),this.buf[this.pos++]=255&Math.floor(l/4096),this.buf[this.pos++]=255&Math.floor(l/4),this.buf[this.pos++]=15&l)}WriteByteNeg(l){this.buf[--this.pos]=l}}},5460:(r,s,o)=>{var a=o(8287).Buffer;const l=o(8706);function c(b){return 4095&b}function h(b,y){for(var A=0;y>=b[A+1];)A++;return A}function u(b){for(var y=new Array(4096),A=0,x=0;x<4096;x++){for(;x>=b[A+1];)A++;y[x]=A}return y}function f(b,y,A){return A*(b>>12)+(4095&b)-y}function d(b,y){for(;y<8388608;)y=(y<<8)+b.ReadByte();return y}function p(b,y){y.WriteByteNeg(b>>24&255),y.WriteByteNeg(b>>16&255),y.WriteByteNeg(b>>8&255),y.WriteByteNeg(255&b)}function w(b,y,A,x,v){return b=function(_,k,E,T){for(var M=(8388608>>T<<8)*E;_>=M;)k.WriteByteNeg(255&_),_>>=8;return _}(b,y,x,v),(Math.floor(b/x)<<v)+b%x+A}function F(b,y,A){for(var x=0;x<256;x++)y[x]=0;var v=b.ReadByte(),_=v,k=0;do{var E=b.ReadITF8();y[v]=E,k>0?(k--,v++):(v=b.ReadByte())==_+1&&(k=b.ReadByte()),_=v}while(v!=0);for(A[0]=0,x=0;x<=255;x++)A[x+1]=A[x]+y[x]}function g(b){for(var y=0,A=0;A<256;A++)y+=b[A];const x=4096;var v=x/y;do{var _=0,k=0,E=0;for(y=0,A=0;A<256;A++)b[A]!=0&&(_<b[A]&&(_=b[A],k=A),b[A]=Math.floor(b[A]*v),b[A]==0&&(b[A]=1),y+=b[A]);y<x?b[k]+=x-y:y-x<b[k]/2&&b[k]>2?b[k]-=y-x:y!=x&&(v*=.99,E=1)}while(E)}function m(b,y){for(var A=0,x=0;x<256;x++)if(y[x]){if(A>0)A--;else if(b.WriteByte(x),x>0&&y[x-1]>0){for(A=x+1;A<256&&y[A];A++);A-=x+1,b.WriteByte(A)}b.WriteITF8(y[x])}b.WriteByte(0)}r.exports={decode:function(b){var y=new l(b),A=y.ReadByte(),x=(y.ReadUint32(),y.ReadUint32());return A==0?function(v,_){var k=new Array(256),E=new Array(256);F(v,k,E);for(var T=u(E),M=new Array(4),N=0;N<4;N++)M[N]=v.ReadUint32();var C=new a.allocUnsafe(_);for(N=0;N<_;N++){var B=N%4,I=T[c(M[B])];C[N]=I,M[B]=f(M[B],E[I],k[I]),M[B]=d(v,M[B])}return C}(y,x):function(v,_){var k=new Array(256),E=new Array(256);(function($,Q,te){for(var U=0;U<256;U++){Q[U]=new Array(256),te[U]=new Array(256);for(var G=0;G<256;G++)Q[U][G]=0}var ne=$.ReadByte(),J=ne,Z=0;do F($,Q[ne],te[ne]),Z>0?(Z--,ne++):(ne=$.ReadByte())==J+1&&(Z=$.ReadByte()),J=ne;while(ne!=0)})(v,k,E);for(var T=new Array(256),M=0;M<256;M++)T[M]=u(E[M]);for(var N=new Array(4),C=new Array(4),B=0;B<4;B++)N[B]=v.ReadUint32(),C[B]=0;var I=new a.allocUnsafe(_),H=Math.floor(_/4);for(M=0;M<H;M++)for(B=0;B<4;B++){var L=c(N[B]),O=T[C[B]][L];I[M+B*H]=O,N[B]=f(N[B],E[C[B]][O],k[C[B]][O]),N[B]=d(v,N[B]),C[B]=O}for(M*=4;M<_;)L=c(N[3]),O=h(E[C[3]],L),I[M++]=O,N[3]=f(N[3],E[C[3]][O],k[C[3]][O]),N[3]=d(v,N[3]),C[3]=O;return I}(y,x)},encode:function(b,y){return y==0?function(A){const x=A.length;var v=new l("",0,780);v.WriteByte(0),v.WriteUint32(0),v.WriteUint32(0);var _=new Array(256);(function(B,I){for(var H=0;H<256;H++)I[H]=0;for(H=0;H<B.length;H++)I[B[H]]++})(A,_),g(_),m(v,_);var k=new Array(256);k[0]=0;for(var E=1;E<256;E++)k[E]=k[E-1]+_[E-1];var T=new Array(4);for(E=0;E<4;E++)T[E]=8388608;var M=Math.floor(1.05*x+100),N=new l("",M,M);for(E=x-1;E>=0;E--)T[E%4]=w(T[E%4],N,k[A[E]],_[A[E]],12);for(E=3;E>=0;E--)p(T[E],N);var C=v.pos;return v.buf.writeInt32LE(C-9+(N.length-N.pos),1),v.buf.writeInt32LE(x,5),a.concat([v.buf.slice(0,v.pos),N.buf.slice(N.pos,N.length)],v.pos+N.length-N.pos)}(b):function(A){const x=A.length;var v=new l("",0,198156);v.WriteByte(1),v.WriteUint32(0),v.WriteUint32(0);for(var _=new Array(256),k=new Array(256),E=new Array(256),T=0;T<256;T++)k[T]=new Array(256),E[T]=new Array(256);for(function(Q,te,U){for(var G=0;G<256;G++){U[G]=0;for(var ne=0;ne<256;ne++)te[G][ne]=0}var J=0;for(G=0;G<Q.length;G++)U[Q[G]]++,te[J][Q[G]]++,J=Q[G];te[0][Q[1*(Q.length>>2)]]++,te[0][Q[2*(Q.length>>2)]]++,te[0][Q[3*(Q.length>>2)]]++,U[0]+=3}(A,k,_),function(Q,te){for(var U=0;U<256;U++)te[U]&&g(Q[U])}(k,_),function(Q,te,U){for(var G=0,ne=0;ne<256;ne++)if(U[ne]){if(G>0)G--;else if(Q.WriteByte(ne),ne>0&&U[ne-1]>0){for(G=ne+1;G<256&&U[G];G++);G-=ne+1,Q.WriteByte(G)}m(Q,te[ne])}Q.WriteByte(0)}(v,k,_),T=0;T<256;T++)if(_[T]){E[T][0]=0;for(var M=1;M<256;M++)E[T][M]=E[T][M-1]+k[T][M-1]}var N=new Array(4),C=new Array(4);for(M=0;M<4;M++)N[M]=8388608,C[M]=0;var B=new l("",x,x),I=Math.floor(x/4),H=new Array(4),L=new Array(4);for(M=0;M<4;M++)H[M]=(M+1)*I-2,L[M]=A[H[M]+1];for(L[3]=A[x-1],T=x-2;T>4*I-2;T--)N[3]=w(N[3],B,E[A[T]][L[3]],k[A[T]][L[3]],12),L[3]=A[T];for(;H[0]>=0;)for(M=3;M>=0;M--){var O=A[H[M]];N[M]=w(N[M],B,E[O][L[M]],k[O][L[M]],12),L[M]=O,H[M]--}for(M=3;M>=0;M--)N[M]=w(N[M],B,E[0][L[M]],k[0][L[M]],12);for(T=3;T>=0;T--)p(N[T],B);var $=v.pos;return v.buf.writeInt32LE($-9+(B.length-B.pos),1),v.buf.writeInt32LE(x,5),a.concat([v.buf.slice(0,v.pos),B.buf.slice(B.pos,B.length)],v.pos+B.length-B.pos)}(b)}}},8223:(r,s,o)=>{var a=o(8287).Buffer;const l=o(8706);function c(k,E){return k&(1<<E)-1}function h(k,E){for(var T=0;E>=k[T+1];)T++;return T}function u(k,E){for(var T=1<<E,M=new Array(T),N=0,C=0;C<T;C++){for(;C>=k[N+1];)N++;M[C]=N}return M}function f(k,E,T,M){return T*(k>>M)+(k&(1<<M)-1)-E}function d(k,E){return E<32768&&(E=(E<<16)+k.ReadUint16()),E}function p(k,E){E.WriteByteNeg(k>>24&255),E.WriteByteNeg(k>>16&255),E.WriteByteNeg(k>>8&255),E.WriteByteNeg(255&k)}function w(k,E,T,M,N){return k=function(C,B,I,H){for(var L=(1<<31-H)*I;C>=L;)B.WriteByteNeg(C>>8&255),B.WriteByteNeg(255&C),C>>=16;return C}(k,E,M,N),(Math.floor(k/M)<<N)+k%M+T}function F(k,E,T){T==0&&(T=4);for(var M=new Array(T),N=new Array(T),C=0;C<T;C++)N[C]=Math.floor(E.length/T)+(E.length%T>C),M[C]=new Array(N[C]);for(var B=0,I=0;I<E.length;I+=T,B++)for(var H=0;H<T;H++)B<M[H].length&&(M[H][B]=E[I+H]);var L=new Array(T),O=0;for(C=0;C<T;C++){var $=m(M[C],0),Q=m(M[C],1);L[C]=Q.length<$.length?Q:$,O+=L[C].length}var te=new l("",0,O+5*T+1);for(te.WriteByte(T),C=0;C<T;C++)te.WriteUint7(L[C].length);for(C=0;C<T;C++)te.WriteData(L[C],L[C].length);return te.buf.slice(0,te.buf.pos)}function g(k,U){var T=k.ReadByte(),M=1&T,N=8&T,C=32&T,B=64&T,I=128&T;if(16&T||(U=k.ReadUint7()),N)return function(ne,J){for(var Z=ne.ReadByte(),ye=new Array(Z),V=new Array(Z),ee=0;ee<Z;ee++)ye[ee]=ne.ReadUint7();var R=new Array(Z);for(ee=0;ee<Z;ee++)V[ee]=Math.floor(J/Z)+(J%Z>ee),R[ee]=g(ne,V[ee]);var Y=new a.allocUnsafe(J);for(ee=0;ee<Z;ee++)for(var W=0;W<V[ee];W++)Y[W*Z+ee]=R[ee][W];return Y}(k,U);if(I)var H=U,[L,O,U]=function(ne){for(var J=ne.ReadByte(),Z=new Array(J),ye=0;ye<J;ye++)Z[ye]=ne.ReadByte();return[Z,J,ne.ReadUint7()]}(k);if(B)var $=U,[Q,te,U]=function(ne){var J=ne.ReadUint7(),Z=ne.ReadUint7();if(1&J)var ye=ne.ReadData((J-1)/2);else{var V=ne.ReadUint7();ye=ne.ReadData(V),ye=y(new l(ye),J/2)}ye=new l(ye);var ee=new Array(256),R=ye.ReadByte();R==0&&(R=256);for(var Y=0;Y<R;Y++)ee[ye.ReadByte()]=1;return[ee,ye,Z]}(k);if(C)var G=k.ReadData(U);else G=M==0?y(k,U):function(ne,J){var Z=(R=ne.ReadByte())>>4,ye=ne;if(1&R){var V=ne.ReadUint7(),ee=ne.ReadUint7(),R=new l(ne.ReadData(ee));ye=new l(y(R,V))}var Y=new Array(256),W=new Array(256);(function(D,z,K,re){for(var oe=0;oe<256;oe++){z[oe]=new Array(256),K[oe]=new Array(256);for(var Fe=0;Fe<256;Fe++)z[oe][Fe]=0}var je=b(D);for(oe=0;oe<256;oe++)if(je[oe]){var We=0;for(Fe=0;Fe<256;Fe++)je[Fe]&&(We>0?We--:(z[oe][Fe]=D.ReadUint7(),z[oe][Fe]==0&&(We=D.ReadByte())));for(x(z[oe],re),K[oe][0]=0,Fe=0;Fe<256;Fe++)K[oe][Fe+1]=K[oe][Fe]+z[oe][Fe]}})(ye,Y,W,Z);for(var q=new Array(256),ge=0;ge<256;ge++)q[ge]=u(W[ge],Z);for(var le=new Array(4),ue=new Array(4),de=0;de<4;de++)le[de]=ne.ReadUint32(),ue[de]=0;var fe=new a.allocUnsafe(J),Ae=Math.floor(J/4);for(ge=0;ge<Ae;ge++)for(de=0;de<4;de++){var Ne=c(le[de],Z),S=q[ue[de]][Ne];fe[ge+de*Ae]=S,le[de]=f(le[de],W[ue[de]][S],Y[ue[de]][S],Z),le[de]=d(ne,le[de]),ue[de]=S}for(ge*=4;ge<J;)Ne=c(le[3],Z),S=h(W[ue[3]],Ne),fe[ge++]=S,le[3]=f(le[3],W[ue[3]][S],Y[ue[3]][S],Z),le[3]=d(ne,le[3]),ue[3]=S;return fe}(k,U);return B&&(G=function(ne,J,Z,ye){new l(ne);for(var V=new a.allocUnsafe(ye),ee=0,R=0;ee<ye;R++){var Y=ne[R];if(J[Y])for(var W=Z.ReadUint7(),q=0;q<=W;q++)V[ee++]=Y;else V[ee++]=Y}return V}(G,Q,te,$)),I&&(G=function(ne,J,Z,ye){var V=new a.allocUnsafe(ye),ee=0;if(Z<=1)for(var R=0;R<ye;R++)V[R]=J[0];else if(Z<=2)for(R=0;R<ye;R++){if(R%8==0)var Y=ne[ee++];V[R]=J[1&Y],Y>>=1}else if(Z<=4)for(R=0;R<ye;R++)R%4==0&&(Y=ne[ee++]),V[R]=J[3&Y],Y>>=2;else if(Z<=16)for(R=0;R<ye;R++)R%2==0&&(Y=ne[ee++]),V[R]=J[15&Y],Y>>=4;return V}(G,L,O,H)),G}function m(k,E){var T=new l("",0,10);T.WriteByte(E);var M=1&E,N=8&E,C=32&E,B=64&E,I=128&E,H=E>>8;if(16&E||T.WriteUint7(k.length),N)return a.concat([T.buf.slice(0,T.pos),F(0,k,H)]);var L=new a.alloc(0);I&&([L,k]=function(Q){for(var te=new Array(256),U=0;U<256;U++)te[U]=0;for(U=0;U<Q.length;U++)te[Q[U]]++;var G=new Array(256),ne=0;for(U=0;U<256;U++)te[U]>0&&(G[U]=ne++);if(!(ne>16)){if(ne<=1)var J=new a.allocUnsafe(0);else if(ne<=2){J=new a.allocUnsafe(Math.ceil(Q.length/8));var Z=-1;for(U=0;U<Q.length;U++)U%8==0&&(J[++Z]=0),J[Z]+=G[Q[U]]<<U%8}else if(ne<=4)for(J=new a.allocUnsafe(Math.ceil(Q.length/4)),Z=-1,U=0;U<Q.length;U++)U%4==0&&(J[++Z]=0),J[Z]+=G[Q[U]]<<U%4*2;else for(J=new a.allocUnsafe(Math.ceil(Q.length/2)),Z=-1,U=0;U<Q.length;U++)U%2==0&&(J[++Z]=0),J[Z]+=G[Q[U]]<<U%2*4;var ye=new l("",0,ne+5);for(ye.WriteByte(ne),Z=0,U=0;U<256;U++)te[U]>0&&(te[U]=Z++,ye.WriteByte(U));return ye.WriteUint7(J.length),[ye.buf.slice(0,ye.pos),J]}}(k));var O=new a.alloc(0);if(B&&([O,k]=function(Q){for(var te=new Array(256),U=0;U<256;U++)te[U]=0;var G=-1;for(U=0;U<Q.length;U++)te[Q[U]]+=Q[U]==G?1:-1,G=Q[U];var ne=0;for(U=0;U<256;U++)te[U]>0&&ne++;for(ne||(ne=1,te[0]=1),(V=new l("",0,ne+1+Q.length)).WriteByte(ne),U=0;U<256;U++)te[U]>0&&V.WriteByte(U);var J=new a.allocUnsafe(Q.length),Z=0;for(U=0;U<Q.length;U++)if(J[Z++]=Q[U],te[Q[U]]>0){G=Q[U];for(var ye=0;U+ye+1<Q.length&&Q[U+ye+1]==G;)ye++;V.WriteUint7(ye),U+=ye}var V,ee=_(V.buf.slice(0,V.pos)),R=new l("",0,16);return R.WriteUint7(2*V.pos),R.WriteUint7(Z),R.WriteUint7(ee.length),[V=a.concat([R.buf.slice(0,R.pos),ee]),J.slice(0,Z)]}(k)),k.length<4&&M==1&&(M=0,T.buf[0]&=-2),C)var $=k;else $=M==0?_(k):function(Q){const te=Q.length;for(var U=new l("",0,198156),G=new Array(256),ne=new Array(256),J=new Array(256),Z=0;Z<256;Z++)ne[Z]=new Array(256),J[Z]=new Array(256);var ye=12;(function(fe,Ae,Ne){for(var S=0;S<256;S++){Ne[S]=0;for(var D=0;D<256;D++)Ae[S][D]=0}var z=0;for(S=0;S<fe.length;S++)Ne[z]++,Ae[z][fe[S]]++,z=fe[S];Ne[z]++,Ae[0][fe[1*(fe.length>>2)]]++,Ae[0][fe[2*(fe.length>>2)]]++,Ae[0][fe[3*(fe.length>>2)]]++,Ne[0]+=3})(Q,ne,G),function(fe,Ae){for(var Ne=0;Ne<256;Ne++)if(Ae[Ne]){var S=Math.ceil(Math.log2(Ae[Ne]));S>12&&(S=12),A(fe[Ne],S)}}(ne,G);var V=new l("",0,198156);(function(fe,Ae,Ne){v(fe,Ne);for(var S=0;S<256;S++)if(Ne[S]){for(var D=0,z=0;z<256;z++)if(Ne[z]){if(D)D--;else if(fe.WriteUint7(Ae[S][z]),!Ae[S][z]){for(var K=z+1;K<256;K++)if(Ne[K]){if(Ae[S][K]!=0)break;D++}fe.WriteByte(D)}}}})(V,ne,G);var ee=_(V.buf.slice(0,V.pos));for(ee.length<V.pos?(U.WriteByte(193),U.WriteUint7(V.pos),U.WriteUint7(ee.length),U.WriteData(ee,ee.length)):(U.WriteByte(192),U.WriteData(V.buf,V.pos)),function(fe,Ae){for(var Ne=0;Ne<256;Ne++)Ae[Ne]&&x(fe[Ne],12)}(ne,G),Z=0;Z<256;Z++)if(G[Z]){J[Z][0]=0;for(var R=1;R<256;R++)J[Z][R]=J[Z][R-1]+ne[Z][R-1]}var Y=new Array(4),W=new Array(4);for(R=0;R<4;R++)Y[R]=32768,W[R]=0;var q=new l("",1.05*te+100|0,1.05*te+100|0),ge=Math.floor(te/4),le=new Array(4),ue=new Array(4);for(R=0;R<4;R++)le[R]=(R+1)*ge-2,ue[R]=Q[le[R]+1];for(ue[3]=Q[te-1],Z=te-2;Z>4*ge-2;Z--)Y[3]=w(Y[3],q,J[Q[Z]][ue[3]],ne[Q[Z]][ue[3]],ye),ue[3]=Q[Z];for(;le[0]>=0;)for(R=3;R>=0;R--){var de=Q[le[R]];Y[R]=w(Y[R],q,J[de][ue[R]],ne[de][ue[R]],ye),ue[R]=de,le[R]--}for(R=3;R>=0;R--)Y[R]=w(Y[R],q,J[0][ue[R]],ne[0][ue[R]],ye);for(Z=3;Z>=0;Z--)p(Y[Z],q);return a.concat([U.buf.slice(0,U.pos),q.buf.slice(q.pos,q.length)],U.pos+q.length-q.pos)}(k);return a.concat([T.buf.slice(0,T.pos),L,O,$])}function b(k){for(var E=new Array(256),T=0;T<256;T++)E[T]=0;var M=0,N=k.ReadByte(),C=N;do E[N]=1,M>0?(M--,N++):(N=k.ReadByte())==C+1&&(M=k.ReadByte()),C=N;while(N!=0);return E}function y(k,E){var T=new Array(256),M=new Array(256);(function(O,$,Q){for(var te=0;te<256;te++)$[te]=0;var U=b(O);for(te=0;te<256;te++)U[te]>0&&($[te]=O.ReadUint7());for(x($,12),Q[0]=0,te=0;te<=255;te++)Q[te+1]=Q[te]+$[te]})(k,T,M);for(var N=u(M,12),C=new Array(4),B=0;B<4;B++)C[B]=k.ReadUint32();var I=new a.allocUnsafe(E);for(B=0;B<E;B++){var H=B%4,L=N[c(C[H],12)];I[B]=L,C[H]=f(C[H],M[L],T[L],12),C[H]=d(k,C[H])}return I}function A(k,E){for(var T=0,M=0;M<256;M++)T+=k[M];const N=1<<E;var C=N/T;do{var B=0,I=0,H=0;for(T=0,M=0;M<256;M++)k[M]!=0&&(B<k[M]&&(B=k[M],I=M),k[M]=Math.floor(k[M]*C),k[M]==0&&(k[M]=1),T+=k[M]);T<N?k[I]+=N-T:T-N<k[I]/2&&k[I]>2?k[I]-=T-N:T!=N&&(C=N/T,H=1)}while(H)}function x(k,E){for(var T=0,M=0;M<256;M++)T+=k[M];if(T!=0&&T!=1<<E){for(var N=0;T<1<<E;)T*=2,N++;for(M=0;M<256;M++)k[M]<<=N}}function v(k,E){for(var T=0,M=0;M<256;M++)if(E[M]){if(T>0)T--;else if(k.WriteByte(M),M>0&&E[M-1]>0){for(T=M+1;T<256&&E[T];T++);T-=M+1,k.WriteByte(T)}}k.WriteByte(0)}function _(k){const E=k.length;var T=new l("",0,780),M=new Array(256);(function(L,O){for(var $=0;$<256;$++)O[$]=0;for($=0;$<L.length;$++)O[L[$]]++})(k,M);var N=Math.ceil(Math.log2(E));N>12&&(N=12),A(M,N),function(L,O){v(L,O);for(var $=0;$<256;$++)O[$]&&L.WriteUint7(O[$])}(T,M),A(M,12);var C=new Array(256);C[0]=0;for(var B=1;B<256;B++)C[B]=C[B-1]+M[B-1];var I=new Array(4);for(B=0;B<4;B++)I[B]=32768;var H=new l("",1.05*E+100|0,1.05*E+100|0);for(B=E-1;B>=0;B--)I[B%4]=w(I[B%4],H,C[k[B]],M[k[B]],12);for(B=3;B>=0;B--)p(I[B],H);return a.concat([T.buf.slice(0,T.pos),H.buf.slice(H.pos,H.length)],T.pos+H.length-H.pos)}r.exports={decode:function(k){return g(new l(k),0)},encode:m}},5997:(r,s,o)=>{var a=o(8287).Buffer;const l=o(8706),c=o(8223);var h=new(o(635));function u(g,m){for(var b=g+"";b.length<m;)b="0"+b;return b}function f(g,m,b,y){var A=g[0][0].ReadByte(),x=y-g[0][A].ReadUint32();if(A==5)return m[y]=m[x],b[y]=b[x],m[y];var v=1;m[y]="",b[y]=new Array(256);do{switch(A=g[v][0].ReadByte()){case 2:b[y][v]=g[v][2].ReadChar();break;case 1:b[y][v]=g[v][1].ReadString();break;case 7:b[y][v]=g[v][7].ReadUint32();break;case 3:var _=g[v][3].ReadUint32(),k=g[v][4].ReadByte();b[y][v]=u(_,k);break;case 8:b[y][v]=(0|b[x][v])+g[v][8].ReadByte();break;case 9:_=(0|b[x][v])+g[v][9].ReadByte(),k=b[x][v].length,b[y][v]=u(_,k);break;case 10:b[y][v]=b[x][v];break;default:b[y][v]=""}m[y]+=b[y][v++]}while(A!=12);return m[y]}function d(g,m,b,y,A,x){for(var v=0;v<y.length;v++)if(!(b>0&&m[v][0].type==5)&&m[v][b])switch(g[0].WriteByte(m[v][b].type),m[v][b].type){case 6:g[6].WriteUint32(m[v][b].val);break;case 5:g[5].WriteUint32(m[v][b].val);break;case 1:g[1].WriteString(m[v][b].val);break;case 2:g[2].WriteChar(m[v][b].val);break;case 7:g[7].WriteUint32(m[v][b].val);break;case 3:g[3].WriteUint32(m[v][b].val),g[4].WriteByte(m[v][b].val.length);break;case 8:case 9:g[m[v][b].type].WriteByte(m[v][b].val)}}function p(g,m,b,y){for(var A=0;A<=12;A++)if(!(g[A].pos<=0)){y.WriteByte(A+(A==0?128:0)),g[A]=g[A].buf.slice(0,g[A].pos);var x=w(g[A],b);y.WriteUint7(x.length),y.WriteData(x,x.length)}}function w(g,m){var b,y=1073741824,A=[0,1,64,65,128,129,201];for(var x in A){var v=A[x];if(!(1&v&&g.length<100||8&v&&g.length%4!=0)){try{var _=m?h.encode(g,v):c.encode(g,v)}catch{_=0}_&&y>_.length&&(y=_.length,b=_)}}return b}function F(g,m,b,y,A){var x=0,v=A-1;g[A]=new Array(256),m[y]?g[A][0]={type:5,val:A-m[y]}:g[A][0]={type:6,val:A==0?0:1},m[y]=A;for(var _=y.match(/([a-zA-Z0-9]{1,9})|([^a-zA-Z0-9]+)/g),k=0;k<_.length;k++){var E=k+1,T=1,M=_[k];if(_[k].match(/^0+[0-9]*$/g)?T=3:_[k].match(/^[0-9]+$/g)?T=7:_[k].length==1&&(T=2),v>=0&&g[v][E])if(g[v][E].str==_[k])T=10,M="";else if(g[v][E].type==7||g[v][E].type==8){var N=M-g[v][E].str;b[E]++,N>=0&&N<256&&b[E]>A/2&&(T=8,M=N)}else g[v][E].type!=3&&g[v][E].type!=9||g[v][E].str.length!=M.length||(N=M-g[v][E].str,b[E]++,N>=0&&N<256&&b[E]>A/2&&(T=9,M=N));g[A][E]={str:_[k],val:M,type:T},x<g[A][E].val.length+3&&(x=g[A][E].val.length+3)}return g[A][++E]={type:12},[E+1,x]}r.exports={encode:function(g,m){var b=g.toString();b[b.length-1]==`
`&&(b=b.substring(0,b.length-1));var y=b.split(`
`),A=new l("",0,2*b.length+1e4);A.WriteUint32(b.length),A.WriteUint32(y.length),A.WriteByte(m);for(var x=new Array(y.length),v={},_=new Array(256).fill(0),k=0,E=0,T=0;T<y.length;T++){var[M,N]=F(x,v,_,y[T],T);k<M&&(k=M),E<N&&(E=N)}for(var C=0;C<k;C++){for(var B=new Array(13),I=0;I<=12;I++)B[I]=new l("",0,y.length*E);d(B,x,C,y),p(B,0,m,A)}return A.buf.slice(0,A.pos)},decode:function(g,m,b){(g=new l(g)).ReadUint32();var y=g.ReadUint32(),A=g.ReadByte(),x=function(T,M,N,C){for(var B=-1,I=new Array(256);!T.EOF();){var H=T.ReadByte(),L=128&H,O=64&H,$=63&H;if(L&&(I[++B]=new Array(13)),$!=0&&L){var Q=new Array(C-1).fill(10);I[B][0]=new l(a.from([$].concat(Q)))}if(O){var te=T.ReadByte(),U=T.ReadByte();I[B][$]=new l(I[te][U].buf)}else{var G=T.ReadUint7(),ne=T.ReadData(G);I[B][$]=N?h.decode(ne):c.decode(ne),I[B][$]=new l(I[B][$])}}return I}(g,0,A,y),v=new Array(y),_=new Array(y),k="";b===void 0&&(b=`
`);for(var E=0;E<y;E++)k+=f(x,v,_,E)+b;return k}}},7526:(r,s)=>{s.byteLength=function(d){var p=u(d),w=p[0],F=p[1];return 3*(w+F)/4-F},s.toByteArray=function(d){var p,w,F=u(d),g=F[0],m=F[1],b=new l(function(x,v,_){return 3*(v+_)/4-_}(0,g,m)),y=0,A=m>0?g-4:g;for(w=0;w<A;w+=4)p=a[d.charCodeAt(w)]<<18|a[d.charCodeAt(w+1)]<<12|a[d.charCodeAt(w+2)]<<6|a[d.charCodeAt(w+3)],b[y++]=p>>16&255,b[y++]=p>>8&255,b[y++]=255&p;return m===2&&(p=a[d.charCodeAt(w)]<<2|a[d.charCodeAt(w+1)]>>4,b[y++]=255&p),m===1&&(p=a[d.charCodeAt(w)]<<10|a[d.charCodeAt(w+1)]<<4|a[d.charCodeAt(w+2)]>>2,b[y++]=p>>8&255,b[y++]=255&p),b},s.fromByteArray=function(d){for(var p,w=d.length,F=w%3,g=[],m=16383,b=0,y=w-F;b<y;b+=m)g.push(f(d,b,b+m>y?y:b+m));return F===1?(p=d[w-1],g.push(o[p>>2]+o[p<<4&63]+"==")):F===2&&(p=(d[w-2]<<8)+d[w-1],g.push(o[p>>10]+o[p>>4&63]+o[p<<2&63]+"=")),g.join("")};for(var o=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0;h<64;++h)o[h]=c[h],a[c.charCodeAt(h)]=h;function u(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=d.indexOf("=");return w===-1&&(w=p),[w,w===p?0:4-w%4]}function f(d,p,w){for(var F,g,m=[],b=p;b<w;b+=3)F=(d[b]<<16&16711680)+(d[b+1]<<8&65280)+(255&d[b+2]),m.push(o[(g=F)>>18&63]+o[g>>12&63]+o[g>>6&63]+o[63&g]);return m.join("")}a[45]=62,a[95]=63},8287:(r,s,o)=>{const a=o(7526),l=o(251),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=f,s.SlowBuffer=function(S){return+S!=S&&(S=0),f.alloc(+S)},s.INSPECT_MAX_BYTES=50;const h=2147483647;function u(S){if(S>h)throw new RangeError('The value "'+S+'" is invalid for option "size"');const D=new Uint8Array(S);return Object.setPrototypeOf(D,f.prototype),D}function f(S,D,z){if(typeof S=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(S)}return d(S,D,z)}function d(S,D,z){if(typeof S=="string")return function(oe,Fe){if(typeof Fe=="string"&&Fe!==""||(Fe="utf8"),!f.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);const je=0|b(oe,Fe);let We=u(je);const rt=We.write(oe,Fe);return rt!==je&&(We=We.slice(0,rt)),We}(S,D);if(ArrayBuffer.isView(S))return function(oe){if(ue(oe,Uint8Array)){const Fe=new Uint8Array(oe);return g(Fe.buffer,Fe.byteOffset,Fe.byteLength)}return F(oe)}(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(ue(S,ArrayBuffer)||S&&ue(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ue(S,SharedArrayBuffer)||S&&ue(S.buffer,SharedArrayBuffer)))return g(S,D,z);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=S.valueOf&&S.valueOf();if(K!=null&&K!==S)return f.from(K,D,z);const re=function(oe){if(f.isBuffer(oe)){const Fe=0|m(oe.length),je=u(Fe);return je.length===0||oe.copy(je,0,0,Fe),je}return oe.length!==void 0?typeof oe.length!="number"||de(oe.length)?u(0):F(oe):oe.type==="Buffer"&&Array.isArray(oe.data)?F(oe.data):void 0}(S);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return f.from(S[Symbol.toPrimitive]("string"),D,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}function p(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function w(S){return p(S),u(S<0?0:0|m(S))}function F(S){const D=S.length<0?0:0|m(S.length),z=u(D);for(let K=0;K<D;K+=1)z[K]=255&S[K];return z}function g(S,D,z){if(D<0||S.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<D+(z||0))throw new RangeError('"length" is outside of buffer bounds');let K;return K=D===void 0&&z===void 0?new Uint8Array(S):z===void 0?new Uint8Array(S,D):new Uint8Array(S,D,z),Object.setPrototypeOf(K,f.prototype),K}function m(S){if(S>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|S}function b(S,D){if(f.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||ue(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const z=S.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&z===0)return 0;let re=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return q(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return ge(S).length;default:if(re)return K?-1:q(S).length;D=(""+D).toLowerCase(),re=!0}}function y(S,D,z){let K=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0)<=(D>>>=0))return"";for(S||(S="utf8");;)switch(S){case"hex":return L(this,D,z);case"utf8":case"utf-8":return C(this,D,z);case"ascii":return I(this,D,z);case"latin1":case"binary":return H(this,D,z);case"base64":return N(this,D,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,D,z);default:if(K)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),K=!0}}function A(S,D,z){const K=S[D];S[D]=S[z],S[z]=K}function x(S,D,z,K,re){if(S.length===0)return-1;if(typeof z=="string"?(K=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),de(z=+z)&&(z=re?0:S.length-1),z<0&&(z=S.length+z),z>=S.length){if(re)return-1;z=S.length-1}else if(z<0){if(!re)return-1;z=0}if(typeof D=="string"&&(D=f.from(D,K)),f.isBuffer(D))return D.length===0?-1:v(S,D,z,K,re);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(S,D,z):Uint8Array.prototype.lastIndexOf.call(S,D,z):v(S,[D],z,K,re);throw new TypeError("val must be string, number or Buffer")}function v(S,D,z,K,re){let oe,Fe=1,je=S.length,We=D.length;if(K!==void 0&&((K=String(K).toLowerCase())==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(S.length<2||D.length<2)return-1;Fe=2,je/=2,We/=2,z/=2}function rt(Ke,st){return Fe===1?Ke[st]:Ke.readUInt16BE(st*Fe)}if(re){let Ke=-1;for(oe=z;oe<je;oe++)if(rt(S,oe)===rt(D,Ke===-1?0:oe-Ke)){if(Ke===-1&&(Ke=oe),oe-Ke+1===We)return Ke*Fe}else Ke!==-1&&(oe-=oe-Ke),Ke=-1}else for(z+We>je&&(z=je-We),oe=z;oe>=0;oe--){let Ke=!0;for(let st=0;st<We;st++)if(rt(S,oe+st)!==rt(D,st)){Ke=!1;break}if(Ke)return oe}return-1}function _(S,D,z,K){z=Number(z)||0;const re=S.length-z;K?(K=Number(K))>re&&(K=re):K=re;const oe=D.length;let Fe;for(K>oe/2&&(K=oe/2),Fe=0;Fe<K;++Fe){const je=parseInt(D.substr(2*Fe,2),16);if(de(je))return Fe;S[z+Fe]=je}return Fe}function k(S,D,z,K){return le(q(D,S.length-z),S,z,K)}function E(S,D,z,K){return le(function(re){const oe=[];for(let Fe=0;Fe<re.length;++Fe)oe.push(255&re.charCodeAt(Fe));return oe}(D),S,z,K)}function T(S,D,z,K){return le(ge(D),S,z,K)}function M(S,D,z,K){return le(function(re,oe){let Fe,je,We;const rt=[];for(let Ke=0;Ke<re.length&&!((oe-=2)<0);++Ke)Fe=re.charCodeAt(Ke),je=Fe>>8,We=Fe%256,rt.push(We),rt.push(je);return rt}(D,S.length-z),S,z,K)}function N(S,D,z){return D===0&&z===S.length?a.fromByteArray(S):a.fromByteArray(S.slice(D,z))}function C(S,D,z){z=Math.min(S.length,z);const K=[];let re=D;for(;re<z;){const oe=S[re];let Fe=null,je=oe>239?4:oe>223?3:oe>191?2:1;if(re+je<=z){let We,rt,Ke,st;switch(je){case 1:oe<128&&(Fe=oe);break;case 2:We=S[re+1],(192&We)==128&&(st=(31&oe)<<6|63&We,st>127&&(Fe=st));break;case 3:We=S[re+1],rt=S[re+2],(192&We)==128&&(192&rt)==128&&(st=(15&oe)<<12|(63&We)<<6|63&rt,st>2047&&(st<55296||st>57343)&&(Fe=st));break;case 4:We=S[re+1],rt=S[re+2],Ke=S[re+3],(192&We)==128&&(192&rt)==128&&(192&Ke)==128&&(st=(15&oe)<<18|(63&We)<<12|(63&rt)<<6|63&Ke,st>65535&&st<1114112&&(Fe=st))}}Fe===null?(Fe=65533,je=1):Fe>65535&&(Fe-=65536,K.push(Fe>>>10&1023|55296),Fe=56320|1023&Fe),K.push(Fe),re+=je}return function(oe){const Fe=oe.length;if(Fe<=B)return String.fromCharCode.apply(String,oe);let je="",We=0;for(;We<Fe;)je+=String.fromCharCode.apply(String,oe.slice(We,We+=B));return je}(K)}s.kMaxLength=h,f.TYPED_ARRAY_SUPPORT=function(){try{const S=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(S,D),S.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(S,D,z){return d(S,D,z)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(S,D,z){return function(K,re,oe){return p(K),K<=0?u(K):re!==void 0?typeof oe=="string"?u(K).fill(re,oe):u(K).fill(re):u(K)}(S,D,z)},f.allocUnsafe=function(S){return w(S)},f.allocUnsafeSlow=function(S){return w(S)},f.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==f.prototype},f.compare=function(S,D){if(ue(S,Uint8Array)&&(S=f.from(S,S.offset,S.byteLength)),ue(D,Uint8Array)&&(D=f.from(D,D.offset,D.byteLength)),!f.isBuffer(S)||!f.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===D)return 0;let z=S.length,K=D.length;for(let re=0,oe=Math.min(z,K);re<oe;++re)if(S[re]!==D[re]){z=S[re],K=D[re];break}return z<K?-1:K<z?1:0},f.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(S,D){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return f.alloc(0);let z;if(D===void 0)for(D=0,z=0;z<S.length;++z)D+=S[z].length;const K=f.allocUnsafe(D);let re=0;for(z=0;z<S.length;++z){let oe=S[z];if(ue(oe,Uint8Array))re+oe.length>K.length?(f.isBuffer(oe)||(oe=f.from(oe)),oe.copy(K,re)):Uint8Array.prototype.set.call(K,oe,re);else{if(!f.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(K,re)}re+=oe.length}return K},f.byteLength=b,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const S=this.length;if(S%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<S;D+=2)A(this,D,D+1);return this},f.prototype.swap32=function(){const S=this.length;if(S%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<S;D+=4)A(this,D,D+3),A(this,D+1,D+2);return this},f.prototype.swap64=function(){const S=this.length;if(S%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<S;D+=8)A(this,D,D+7),A(this,D+1,D+6),A(this,D+2,D+5),A(this,D+3,D+4);return this},f.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?C(this,0,S):y.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(S){if(!f.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S||f.compare(this,S)===0},f.prototype.inspect=function(){let S="";const D=s.INSPECT_MAX_BYTES;return S=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(S+=" ... "),"<Buffer "+S+">"},c&&(f.prototype[c]=f.prototype.inspect),f.prototype.compare=function(S,D,z,K,re){if(ue(S,Uint8Array)&&(S=f.from(S,S.offset,S.byteLength)),!f.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(D===void 0&&(D=0),z===void 0&&(z=S?S.length:0),K===void 0&&(K=0),re===void 0&&(re=this.length),D<0||z>S.length||K<0||re>this.length)throw new RangeError("out of range index");if(K>=re&&D>=z)return 0;if(K>=re)return-1;if(D>=z)return 1;if(this===S)return 0;let oe=(re>>>=0)-(K>>>=0),Fe=(z>>>=0)-(D>>>=0);const je=Math.min(oe,Fe),We=this.slice(K,re),rt=S.slice(D,z);for(let Ke=0;Ke<je;++Ke)if(We[Ke]!==rt[Ke]){oe=We[Ke],Fe=rt[Ke];break}return oe<Fe?-1:Fe<oe?1:0},f.prototype.includes=function(S,D,z){return this.indexOf(S,D,z)!==-1},f.prototype.indexOf=function(S,D,z){return x(this,S,D,z,!0)},f.prototype.lastIndexOf=function(S,D,z){return x(this,S,D,z,!1)},f.prototype.write=function(S,D,z,K){if(D===void 0)K="utf8",z=this.length,D=0;else if(z===void 0&&typeof D=="string")K=D,z=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(z)?(z>>>=0,K===void 0&&(K="utf8")):(K=z,z=void 0)}const re=this.length-D;if((z===void 0||z>re)&&(z=re),S.length>0&&(z<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let oe=!1;for(;;)switch(K){case"hex":return _(this,S,D,z);case"utf8":case"utf-8":return k(this,S,D,z);case"ascii":case"latin1":case"binary":return E(this,S,D,z);case"base64":return T(this,S,D,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,S,D,z);default:if(oe)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),oe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function I(S,D,z){let K="";z=Math.min(S.length,z);for(let re=D;re<z;++re)K+=String.fromCharCode(127&S[re]);return K}function H(S,D,z){let K="";z=Math.min(S.length,z);for(let re=D;re<z;++re)K+=String.fromCharCode(S[re]);return K}function L(S,D,z){const K=S.length;(!D||D<0)&&(D=0),(!z||z<0||z>K)&&(z=K);let re="";for(let oe=D;oe<z;++oe)re+=fe[S[oe]];return re}function O(S,D,z){const K=S.slice(D,z);let re="";for(let oe=0;oe<K.length-1;oe+=2)re+=String.fromCharCode(K[oe]+256*K[oe+1]);return re}function $(S,D,z){if(S%1!=0||S<0)throw new RangeError("offset is not uint");if(S+D>z)throw new RangeError("Trying to access beyond buffer length")}function Q(S,D,z,K,re,oe){if(!f.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>re||D<oe)throw new RangeError('"value" argument is out of bounds');if(z+K>S.length)throw new RangeError("Index out of range")}function te(S,D,z,K,re){ee(D,K,re,S,z,7);let oe=Number(D&BigInt(4294967295));S[z++]=oe,oe>>=8,S[z++]=oe,oe>>=8,S[z++]=oe,oe>>=8,S[z++]=oe;let Fe=Number(D>>BigInt(32)&BigInt(4294967295));return S[z++]=Fe,Fe>>=8,S[z++]=Fe,Fe>>=8,S[z++]=Fe,Fe>>=8,S[z++]=Fe,z}function U(S,D,z,K,re){ee(D,K,re,S,z,7);let oe=Number(D&BigInt(4294967295));S[z+7]=oe,oe>>=8,S[z+6]=oe,oe>>=8,S[z+5]=oe,oe>>=8,S[z+4]=oe;let Fe=Number(D>>BigInt(32)&BigInt(4294967295));return S[z+3]=Fe,Fe>>=8,S[z+2]=Fe,Fe>>=8,S[z+1]=Fe,Fe>>=8,S[z]=Fe,z+8}function G(S,D,z,K,re,oe){if(z+K>S.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function ne(S,D,z,K,re){return D=+D,z>>>=0,re||G(S,0,z,4),l.write(S,D,z,K,23,4),z+4}function J(S,D,z,K,re){return D=+D,z>>>=0,re||G(S,0,z,8),l.write(S,D,z,K,52,8),z+8}f.prototype.slice=function(S,D){const z=this.length;(S=~~S)<0?(S+=z)<0&&(S=0):S>z&&(S=z),(D=D===void 0?z:~~D)<0?(D+=z)<0&&(D=0):D>z&&(D=z),D<S&&(D=S);const K=this.subarray(S,D);return Object.setPrototypeOf(K,f.prototype),K},f.prototype.readUintLE=f.prototype.readUIntLE=function(S,D,z){S>>>=0,D>>>=0,z||$(S,D,this.length);let K=this[S],re=1,oe=0;for(;++oe<D&&(re*=256);)K+=this[S+oe]*re;return K},f.prototype.readUintBE=f.prototype.readUIntBE=function(S,D,z){S>>>=0,D>>>=0,z||$(S,D,this.length);let K=this[S+--D],re=1;for(;D>0&&(re*=256);)K+=this[S+--D]*re;return K},f.prototype.readUint8=f.prototype.readUInt8=function(S,D){return S>>>=0,D||$(S,1,this.length),this[S]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(S,D){return S>>>=0,D||$(S,2,this.length),this[S]|this[S+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(S,D){return S>>>=0,D||$(S,2,this.length),this[S]<<8|this[S+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(S,D){return S>>>=0,D||$(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+16777216*this[S+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(S,D){return S>>>=0,D||$(S,4,this.length),16777216*this[S]+(this[S+1]<<16|this[S+2]<<8|this[S+3])},f.prototype.readBigUInt64LE=Ae(function(S){R(S>>>=0,"offset");const D=this[S],z=this[S+7];D!==void 0&&z!==void 0||Y(S,this.length-8);const K=D+256*this[++S]+65536*this[++S]+this[++S]*2**24,re=this[++S]+256*this[++S]+65536*this[++S]+z*2**24;return BigInt(K)+(BigInt(re)<<BigInt(32))}),f.prototype.readBigUInt64BE=Ae(function(S){R(S>>>=0,"offset");const D=this[S],z=this[S+7];D!==void 0&&z!==void 0||Y(S,this.length-8);const K=D*2**24+65536*this[++S]+256*this[++S]+this[++S],re=this[++S]*2**24+65536*this[++S]+256*this[++S]+z;return(BigInt(K)<<BigInt(32))+BigInt(re)}),f.prototype.readIntLE=function(S,D,z){S>>>=0,D>>>=0,z||$(S,D,this.length);let K=this[S],re=1,oe=0;for(;++oe<D&&(re*=256);)K+=this[S+oe]*re;return re*=128,K>=re&&(K-=Math.pow(2,8*D)),K},f.prototype.readIntBE=function(S,D,z){S>>>=0,D>>>=0,z||$(S,D,this.length);let K=D,re=1,oe=this[S+--K];for(;K>0&&(re*=256);)oe+=this[S+--K]*re;return re*=128,oe>=re&&(oe-=Math.pow(2,8*D)),oe},f.prototype.readInt8=function(S,D){return S>>>=0,D||$(S,1,this.length),128&this[S]?-1*(255-this[S]+1):this[S]},f.prototype.readInt16LE=function(S,D){S>>>=0,D||$(S,2,this.length);const z=this[S]|this[S+1]<<8;return 32768&z?4294901760|z:z},f.prototype.readInt16BE=function(S,D){S>>>=0,D||$(S,2,this.length);const z=this[S+1]|this[S]<<8;return 32768&z?4294901760|z:z},f.prototype.readInt32LE=function(S,D){return S>>>=0,D||$(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},f.prototype.readInt32BE=function(S,D){return S>>>=0,D||$(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},f.prototype.readBigInt64LE=Ae(function(S){R(S>>>=0,"offset");const D=this[S],z=this[S+7];D!==void 0&&z!==void 0||Y(S,this.length-8);const K=this[S+4]+256*this[S+5]+65536*this[S+6]+(z<<24);return(BigInt(K)<<BigInt(32))+BigInt(D+256*this[++S]+65536*this[++S]+this[++S]*16777216)}),f.prototype.readBigInt64BE=Ae(function(S){R(S>>>=0,"offset");const D=this[S],z=this[S+7];D!==void 0&&z!==void 0||Y(S,this.length-8);const K=(D<<24)+65536*this[++S]+256*this[++S]+this[++S];return(BigInt(K)<<BigInt(32))+BigInt(this[++S]*16777216+65536*this[++S]+256*this[++S]+z)}),f.prototype.readFloatLE=function(S,D){return S>>>=0,D||$(S,4,this.length),l.read(this,S,!0,23,4)},f.prototype.readFloatBE=function(S,D){return S>>>=0,D||$(S,4,this.length),l.read(this,S,!1,23,4)},f.prototype.readDoubleLE=function(S,D){return S>>>=0,D||$(S,8,this.length),l.read(this,S,!0,52,8)},f.prototype.readDoubleBE=function(S,D){return S>>>=0,D||$(S,8,this.length),l.read(this,S,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(S,D,z,K){S=+S,D>>>=0,z>>>=0,K||Q(this,S,D,z,Math.pow(2,8*z)-1,0);let re=1,oe=0;for(this[D]=255&S;++oe<z&&(re*=256);)this[D+oe]=S/re&255;return D+z},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(S,D,z,K){S=+S,D>>>=0,z>>>=0,K||Q(this,S,D,z,Math.pow(2,8*z)-1,0);let re=z-1,oe=1;for(this[D+re]=255&S;--re>=0&&(oe*=256);)this[D+re]=S/oe&255;return D+z},f.prototype.writeUint8=f.prototype.writeUInt8=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,1,255,0),this[D]=255&S,D+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,2,65535,0),this[D]=255&S,this[D+1]=S>>>8,D+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,2,65535,0),this[D]=S>>>8,this[D+1]=255&S,D+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,4,4294967295,0),this[D+3]=S>>>24,this[D+2]=S>>>16,this[D+1]=S>>>8,this[D]=255&S,D+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,4,4294967295,0),this[D]=S>>>24,this[D+1]=S>>>16,this[D+2]=S>>>8,this[D+3]=255&S,D+4},f.prototype.writeBigUInt64LE=Ae(function(S,D=0){return te(this,S,D,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Ae(function(S,D=0){return U(this,S,D,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(S,D,z,K){if(S=+S,D>>>=0,!K){const je=Math.pow(2,8*z-1);Q(this,S,D,z,je-1,-je)}let re=0,oe=1,Fe=0;for(this[D]=255&S;++re<z&&(oe*=256);)S<0&&Fe===0&&this[D+re-1]!==0&&(Fe=1),this[D+re]=(S/oe|0)-Fe&255;return D+z},f.prototype.writeIntBE=function(S,D,z,K){if(S=+S,D>>>=0,!K){const je=Math.pow(2,8*z-1);Q(this,S,D,z,je-1,-je)}let re=z-1,oe=1,Fe=0;for(this[D+re]=255&S;--re>=0&&(oe*=256);)S<0&&Fe===0&&this[D+re+1]!==0&&(Fe=1),this[D+re]=(S/oe|0)-Fe&255;return D+z},f.prototype.writeInt8=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,1,127,-128),S<0&&(S=255+S+1),this[D]=255&S,D+1},f.prototype.writeInt16LE=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,2,32767,-32768),this[D]=255&S,this[D+1]=S>>>8,D+2},f.prototype.writeInt16BE=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,2,32767,-32768),this[D]=S>>>8,this[D+1]=255&S,D+2},f.prototype.writeInt32LE=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,4,2147483647,-2147483648),this[D]=255&S,this[D+1]=S>>>8,this[D+2]=S>>>16,this[D+3]=S>>>24,D+4},f.prototype.writeInt32BE=function(S,D,z){return S=+S,D>>>=0,z||Q(this,S,D,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[D]=S>>>24,this[D+1]=S>>>16,this[D+2]=S>>>8,this[D+3]=255&S,D+4},f.prototype.writeBigInt64LE=Ae(function(S,D=0){return te(this,S,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Ae(function(S,D=0){return U(this,S,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeFloatLE=function(S,D,z){return ne(this,S,D,!0,z)},f.prototype.writeFloatBE=function(S,D,z){return ne(this,S,D,!1,z)},f.prototype.writeDoubleLE=function(S,D,z){return J(this,S,D,!0,z)},f.prototype.writeDoubleBE=function(S,D,z){return J(this,S,D,!1,z)},f.prototype.copy=function(S,D,z,K){if(!f.isBuffer(S))throw new TypeError("argument should be a Buffer");if(z||(z=0),K||K===0||(K=this.length),D>=S.length&&(D=S.length),D||(D=0),K>0&&K<z&&(K=z),K===z||S.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),S.length-D<K-z&&(K=S.length-D+z);const re=K-z;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,z,K):Uint8Array.prototype.set.call(S,this.subarray(z,K),D),re},f.prototype.fill=function(S,D,z,K){if(typeof S=="string"){if(typeof D=="string"?(K=D,D=0,z=this.length):typeof z=="string"&&(K=z,z=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!f.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(S.length===1){const oe=S.charCodeAt(0);(K==="utf8"&&oe<128||K==="latin1")&&(S=oe)}}else typeof S=="number"?S&=255:typeof S=="boolean"&&(S=Number(S));if(D<0||this.length<D||this.length<z)throw new RangeError("Out of range index");if(z<=D)return this;let re;if(D>>>=0,z=z===void 0?this.length:z>>>0,S||(S=0),typeof S=="number")for(re=D;re<z;++re)this[re]=S;else{const oe=f.isBuffer(S)?S:f.from(S,K),Fe=oe.length;if(Fe===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(re=0;re<z-D;++re)this[re+D]=oe[re%Fe]}return this};const Z={};function ye(S,D,z){Z[S]=class extends z{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}function V(S){let D="",z=S.length;const K=S[0]==="-"?1:0;for(;z>=K+4;z-=3)D=`_${S.slice(z-3,z)}${D}`;return`${S.slice(0,z)}${D}`}function ee(S,D,z,K,re,oe){if(S>z||S<D){const Fe=typeof D=="bigint"?"n":"";let je;throw je=D===0||D===BigInt(0)?`>= 0${Fe} and < 2${Fe} ** ${8*(oe+1)}${Fe}`:`>= -(2${Fe} ** ${8*(oe+1)-1}${Fe}) and < 2 ** ${8*(oe+1)-1}${Fe}`,new Z.ERR_OUT_OF_RANGE("value",je,S)}(function(Fe,je,We){R(je,"offset"),Fe[je]!==void 0&&Fe[je+We]!==void 0||Y(je,Fe.length-(We+1))})(K,re,oe)}function R(S,D){if(typeof S!="number")throw new Z.ERR_INVALID_ARG_TYPE(D,"number",S)}function Y(S,D,z){throw Math.floor(S)!==S?(R(S,z),new Z.ERR_OUT_OF_RANGE("offset","an integer",S)):D<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,S)}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(S,D){return`The "${S}" argument must be of type number. Received type ${typeof D}`},TypeError),ye("ERR_OUT_OF_RANGE",function(S,D,z){let K=`The value of "${S}" is out of range.`,re=z;return Number.isInteger(z)&&Math.abs(z)>4294967296?re=V(String(z)):typeof z=="bigint"&&(re=String(z),(z>BigInt(2)**BigInt(32)||z<-(BigInt(2)**BigInt(32)))&&(re=V(re)),re+="n"),K+=` It must be ${D}. Received ${re}`,K},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function q(S,D){let z;D=D||1/0;const K=S.length;let re=null;const oe=[];for(let Fe=0;Fe<K;++Fe){if(z=S.charCodeAt(Fe),z>55295&&z<57344){if(!re){if(z>56319){(D-=3)>-1&&oe.push(239,191,189);continue}if(Fe+1===K){(D-=3)>-1&&oe.push(239,191,189);continue}re=z;continue}if(z<56320){(D-=3)>-1&&oe.push(239,191,189),re=z;continue}z=65536+(re-55296<<10|z-56320)}else re&&(D-=3)>-1&&oe.push(239,191,189);if(re=null,z<128){if((D-=1)<0)break;oe.push(z)}else if(z<2048){if((D-=2)<0)break;oe.push(z>>6|192,63&z|128)}else if(z<65536){if((D-=3)<0)break;oe.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;oe.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return oe}function ge(S){return a.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(S))}function le(S,D,z,K){let re;for(re=0;re<K&&!(re+z>=D.length||re>=S.length);++re)D[re+z]=S[re];return re}function ue(S,D){return S instanceof D||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===D.name}function de(S){return S!=S}const fe=function(){const S="0123456789abcdef",D=new Array(256);for(let z=0;z<16;++z){const K=16*z;for(let re=0;re<16;++re)D[K+re]=S[z]+S[re]}return D}();function Ae(S){return typeof BigInt>"u"?Ne:S}function Ne(){throw new Error("BigInt not supported")}},235:r=>{var s={array:function(o){var a=0,l=0,c=[0,1,3,7,15,31,63,127,255];return function(h){for(var u=0;h>0;){var f=8-a;h>=f?(u<<=f,u|=c[f]&o[l++],a=0,h-=f):(u<<=h,u|=(o[l]&c[h]<<8-h-a)>>8-h-a,a+=h,h=0)}return u}},simple:function(o){var a,l,c=s.header(o),h=[],u=0;do(l=s.decompress(o,c))!=-1&&(h.push(l),u+=l.byteLength);while(l!=-1);a=new Uint8Array(u),u=0;for(var f=0;f<h.length;++f)l=h[f],a.set(l,u),u+=l.byteLength;return a},header:function(o){if(o(24)!=4348520)throw"No magic number found";var a=o(8)-48;if(a<1||a>9)throw"Not a BZIP archive";return a},decompress:function(o,a,l){for(var c=9e5,h="",u=0;u<6;u++)h+=o(8).toString(16);if(h=="177245385090")return-1;if(h!="314159265359")throw"eek not valid bzip data";if(o(32),o(1))throw"unsupported obsolete version";var f=o(24);if(f>c)throw"Initial position larger than buffer size";var d=o(16),p=new Uint8Array(256),w=0;for(u=0;u<16;u++)if(d&1<<15-u){var F=o(16);for(A=0;A<16;A++)F&1<<15-A&&(p[w++]=16*u+A)}var g=o(3);if(g<2||g>6)throw"another error";var m=o(15);if(m==0)throw"meh";var b=[];for(u=0;u<g;u++)b[u]=u;var y=new Uint8Array(32768);for(u=0;u<m;u++){for(var A=0;o(1);A++)if(A>=g)throw"whoops another error";var x=b[A];b.splice(A,1),b.splice(0,0,x),y[u]=x}var v=w+2,_=[];for(A=0;A<g;A++){var k,E,T,M=new Uint8Array(258),N=new Uint8Array(21);for(d=o(5),u=0;u<v;u++){for(;;){if(d<1||d>20)throw"I gave up a while ago on writing error messages";if(!o(1))break;o(1)?d--:d++}M[u]=d}for(k=E=M[0],u=1;u<v;u++)M[u]>E?E=M[u]:M[u]<k&&(k=M[u]);(T=_[A]={}).permute=new Uint32Array(258),T.limit=new Uint32Array(21),T.base=new Uint32Array(21),T.minLen=k,T.maxLen=E;var C=T.base.subarray(1),B=T.limit.subarray(1),I=0;for(u=k;u<=E;u++)for(d=0;d<v;d++)M[d]==u&&(T.permute[I++]=d);for(u=k;u<=E;u++)N[u]=B[u]=0;for(u=0;u<v;u++)N[M[u]]++;for(I=d=0,u=k;u<E;u++)I+=N[u],B[u]=I-1,I<<=1,C[u+1]=I-(d+=N[u]);B[E]=I+N[E]-1,C[k]=0}var H,L,O,$=new Uint32Array(256);for(u=0;u<256;u++)b[u]=u;H=L=v=O=0;for(var Q=new Uint32Array(c);;){if(!v--){if(v=49,O>=m)throw"meow i'm a kitty, that's an error";C=(T=_[y[O++]]).base.subarray(1),B=T.limit.subarray(1)}for(A=o(u=T.minLen);;){if(u>T.maxLen)throw"rawr i'm a dinosaur";if(A<=B[u])break;u++,A=A<<1|o(1)}if((A-=C[u])<0||A>=258)throw"moo i'm a cow";var te=T.permute[A];if(te!=0&&te!=1){if(H){if(H=0,L+d>=c)throw"Boom.";for($[x=p[b[0]]]+=d;d--;)Q[L++]=x}if(te>w)break;if(L>=c)throw"I can't think of anything. Error";x=b[u=te-1],b.splice(u,1),b.splice(0,0,x),$[x=p[x]]++,Q[L++]=x}else H||(H=1,d=0),d+=te==0?H:2*H,H<<=1}if(f<0||f>=L)throw"I'm a monkey and I'm throwing something at someone, namely you";for(A=0,u=0;u<256;u++)F=A+$[u],$[u]=A,A=F;for(u=0;u<L;u++)Q[$[x=255&Q[u]]]|=u<<8,$[x]++;var U=0,G=0,ne=0;L&&(G=255&(U=Q[f]),U>>=8,ne=-1);var J,Z,ye,V=new Uint8Array(c),ee=0;for(l||(l=1/0);L;){for(L--,Z=G,G=255&(U=Q[U]),U>>=8,ne++==3?(J=G,ye=Z,G=-1):(J=1,ye=G);J--;)if(V[ee++]=ye,!--l)return V;G!=Z&&(ne=0)}return V.subarray(0,ee)}};r.exports=s},2151:r=>{var s={utf8:{stringToBytes:function(o){return s.bin.stringToBytes(unescape(encodeURIComponent(o)))},bytesToString:function(o){return decodeURIComponent(escape(s.bin.bytesToString(o)))}},bin:{stringToBytes:function(o){for(var a=[],l=0;l<o.length;l++)a.push(255&o.charCodeAt(l));return a},bytesToString:function(o){for(var a=[],l=0;l<o.length;l++)a.push(String.fromCharCode(o[l]));return a.join("")}}};r.exports=s},3939:r=>{var s,o;s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(a,l){return a<<l|a>>>32-l},rotr:function(a,l){return a<<32-l|a>>>l},endian:function(a){if(a.constructor==Number)return 16711935&o.rotl(a,8)|4278255360&o.rotl(a,24);for(var l=0;l<a.length;l++)a[l]=o.endian(a[l]);return a},randomBytes:function(a){for(var l=[];a>0;a--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(a){for(var l=[],c=0,h=0;c<a.length;c++,h+=8)l[h>>>5]|=a[c]<<24-h%32;return l},wordsToBytes:function(a){for(var l=[],c=0;c<32*a.length;c+=8)l.push(a[c>>>5]>>>24-c%32&255);return l},bytesToHex:function(a){for(var l=[],c=0;c<a.length;c++)l.push((a[c]>>>4).toString(16)),l.push((15&a[c]).toString(16));return l.join("")},hexToBytes:function(a){for(var l=[],c=0;c<a.length;c+=2)l.push(parseInt(a.substr(c,2),16));return l},bytesToBase64:function(a){for(var l=[],c=0;c<a.length;c+=3)for(var h=a[c]<<16|a[c+1]<<8|a[c+2],u=0;u<4;u++)8*c+6*u<=8*a.length?l.push(s.charAt(h>>>6*(3-u)&63)):l.push("=");return l.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],c=0,h=0;c<a.length;h=++c%4)h!=0&&l.push((s.indexOf(a.charAt(c-1))&Math.pow(2,-2*h+8)-1)<<2*h|s.indexOf(a.charAt(c))>>>6-2*h);return l}},r.exports=o},1113:(r,s,o)=>{o.r(s),o.d(s,{BlobFile:()=>d,LocalFile:()=>l(),RemoteFile:()=>u,fromUrl:()=>p,open:()=>w});var a=o(3617),l=o.n(a),c=o(8287);function h(F){return(typeof F=="object"&&F!==null&&"message"in F?F.message:`${F}`).replace(/\.$/,"")}class u{async getBufferFromResponse(g){const m=await g.arrayBuffer();return c.Buffer.from(m)}constructor(g,m={}){this.baseOverrides={},this.url=g;const b=m.fetch||globalThis.fetch.bind(globalThis);if(!b)throw new TypeError("no fetch function supplied, and none found in global environment");m.overrides&&(this.baseOverrides=m.overrides),this.fetchImplementation=b}async fetch(g,m){let b;try{b=await this.fetchImplementation(g,m)}catch(y){if(!`${y}`.includes("Failed to fetch"))throw new Error(`${h(y)} fetching ${g}`,{cause:y});console.warn(`generic-filehandle: refetching ${g} to attempt to work around chrome CORS header caching bug`);try{b=await this.fetchImplementation(g,{...m,cache:"reload"})}catch(A){throw new Error(`${h(A)} fetching ${g}`,{cause:A})}}return b}async read(g,m=0,b,y=0,A={}){const{headers:x={},signal:v,overrides:_={}}=A;b<1/0?x.range=`bytes=${y}-${y+b}`:b===1/0&&y!==0&&(x.range=`bytes=${y}-`);const k=await this.fetch(this.url,{...this.baseOverrides,..._,headers:{...x,..._.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:v});if(!k.ok)throw new Error(`HTTP ${k.status} fetching ${this.url}`);if(k.status===200&&y===0||k.status===206){const E=await this.getBufferFromResponse(k),T=E.copy(g,m,0,Math.min(b,E.length)),M=k.headers.get("content-range"),N=/\/(\d+)$/.exec(M||"");return N!=null&&N[1]&&(this._stat={size:parseInt(N[1],10)}),{bytesRead:T,buffer:g}}throw k.status===200?new Error(`${this.url} fetch returned status 200, expected 206`):new Error(`HTTP ${k.status} fetching ${this.url}`)}async readFile(g={}){let m,b;typeof g=="string"?(m=g,b={}):(m=g.encoding,b=g,delete b.encoding);const{headers:y={},signal:A,overrides:x={}}=b,v=await this.fetch(this.url,{headers:y,method:"GET",redirect:"follow",mode:"cors",signal:A,...this.baseOverrides,...x});if(v.status!==200)throw new Error(`HTTP ${v.status} fetching ${this.url}`);if(m==="utf8")return v.text();if(m)throw new Error(`unsupported encoding: ${m}`);return this.getBufferFromResponse(v)}async stat(){if(!this._stat){const g=c.Buffer.allocUnsafe(10);if(await this.read(g,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}function f(F){const g=new FileReader;return new Promise((m,b)=>{g.onerror=()=>{g.abort(),b(new Error("problem reading blob"))},g.onabort=()=>{b(new Error("blob reading was aborted"))},g.onload=()=>{g.result&&typeof g.result!="string"?m(g.result):b(new Error("unknown error reading blob"))},g.readAsArrayBuffer(F)})}class d{constructor(g){this.blob=g,this.size=g.size}async read(g,m=0,b,y=0){if(!b)return{bytesRead:0,buffer:g};const A=y,x=A+b,v=await f(this.blob.slice(A,x)),_=c.Buffer.from(v);return{bytesRead:_.copy(g,m),buffer:_}}async readFile(g){const m=typeof g=="string"?g:g==null?void 0:g.encoding;if(m==="utf8")return function(y){const A=new FileReader;return new Promise((x,v)=>{A.onerror=()=>{A.abort(),v(new Error("problem reading blob"))},A.onabort=()=>{v(new Error("blob reading was aborted"))},A.onload=()=>{A.result&&typeof A.result=="string"?x(A.result):v(new Error("unknown error reading blob"))},A.readAsText(y)})}(this.blob);if(m)throw new Error(`unsupported encoding: ${m}`);const b=await f(this.blob);return c.Buffer.from(b)}async stat(){return{size:this.size}}async close(){}}function p(F,g={}){return new u(F,g)}function w(F,g,m,b={}){if(m!==void 0)return m;if(F!==void 0)return p(F,b);if(g!==void 0)return new(l())(g,b);throw new Error("no url, path, or filehandle provided, cannot open")}},251:(r,s)=>{s.read=function(o,a,l,c,h){var u,f,d=8*h-c-1,p=(1<<d)-1,w=p>>1,F=-7,g=l?h-1:0,m=l?-1:1,b=o[a+g];for(g+=m,u=b&(1<<-F)-1,b>>=-F,F+=d;F>0;u=256*u+o[a+g],g+=m,F-=8);for(f=u&(1<<-F)-1,u>>=-F,F+=c;F>0;f=256*f+o[a+g],g+=m,F-=8);if(u===0)u=1-w;else{if(u===p)return f?NaN:1/0*(b?-1:1);f+=Math.pow(2,c),u-=w}return(b?-1:1)*f*Math.pow(2,u-c)},s.write=function(o,a,l,c,h,u){var f,d,p,w=8*u-h-1,F=(1<<w)-1,g=F>>1,m=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=c?0:u-1,y=c?1:-1,A=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(d=isNaN(a)?1:0,f=F):(f=Math.floor(Math.log(a)/Math.LN2),a*(p=Math.pow(2,-f))<1&&(f--,p*=2),(a+=f+g>=1?m/p:m*Math.pow(2,1-g))*p>=2&&(f++,p/=2),f+g>=F?(d=0,f=F):f+g>=1?(d=(a*p-1)*Math.pow(2,h),f+=g):(d=a*Math.pow(2,g-1)*Math.pow(2,h),f=0));h>=8;o[l+b]=255&d,b+=y,d/=256,h-=8);for(f=f<<h|d,w+=h;w>0;o[l+b]=255&f,b+=y,f/=256,w-=8);o[l+b-y]|=128*A}},8570:r=>{r.exports=o;var s=null;try{s=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function o(N,C,B){this.low=0|N,this.high=0|C,this.unsigned=!!B}function a(N){return(N&&N.__isLong__)===!0}o.prototype.__isLong__,Object.defineProperty(o.prototype,"__isLong__",{value:!0}),o.isLong=a;var l={},c={};function h(N,C){var B,I,H;return C?(H=0<=(N>>>=0)&&N<256)&&(I=c[N])?I:(B=f(N,(0|N)<0?-1:0,!0),H&&(c[N]=B),B):(H=-128<=(N|=0)&&N<128)&&(I=l[N])?I:(B=f(N,N<0?-1:0,!1),H&&(l[N]=B),B)}function u(N,C){if(isNaN(N))return C?A:y;if(C){if(N<0)return A;if(N>=g)return E}else{if(N<=-m)return T;if(N+1>=m)return k}return N<0?u(-N,C).neg():f(N%F|0,N/F|0,C)}function f(N,C,B){return new o(N,C,B)}o.fromInt=h,o.fromNumber=u,o.fromBits=f;var d=Math.pow;function p(N,C,B){if(N.length===0)throw Error("empty string");if(N==="NaN"||N==="Infinity"||N==="+Infinity"||N==="-Infinity")return y;if(typeof C=="number"?(B=C,C=!1):C=!!C,(B=B||10)<2||36<B)throw RangeError("radix");var I;if((I=N.indexOf("-"))>0)throw Error("interior hyphen");if(I===0)return p(N.substring(1),C,B).neg();for(var H=u(d(B,8)),L=y,O=0;O<N.length;O+=8){var $=Math.min(8,N.length-O),Q=parseInt(N.substring(O,O+$),B);if($<8){var te=u(d(B,$));L=L.mul(te).add(u(Q))}else L=(L=L.mul(H)).add(u(Q))}return L.unsigned=C,L}function w(N,C){return typeof N=="number"?u(N,C):typeof N=="string"?p(N,C):f(N.low,N.high,typeof C=="boolean"?C:N.unsigned)}o.fromString=p,o.fromValue=w;var F=4294967296,g=F*F,m=g/2,b=h(1<<24),y=h(0);o.ZERO=y;var A=h(0,!0);o.UZERO=A;var x=h(1);o.ONE=x;var v=h(1,!0);o.UONE=v;var _=h(-1);o.NEG_ONE=_;var k=f(-1,2147483647,!1);o.MAX_VALUE=k;var E=f(-1,-1,!0);o.MAX_UNSIGNED_VALUE=E;var T=f(0,-2147483648,!1);o.MIN_VALUE=T;var M=o.prototype;M.toInt=function(){return this.unsigned?this.low>>>0:this.low},M.toNumber=function(){return this.unsigned?(this.high>>>0)*F+(this.low>>>0):this.high*F+(this.low>>>0)},M.toString=function(N){if((N=N||10)<2||36<N)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var C=u(N),B=this.div(C),I=B.mul(C).sub(this);return B.toString(N)+I.toInt().toString(N)}return"-"+this.neg().toString(N)}for(var H=u(d(N,6),this.unsigned),L=this,O="";;){var $=L.div(H),Q=(L.sub($.mul(H)).toInt()>>>0).toString(N);if((L=$).isZero())return Q+O;for(;Q.length<6;)Q="0"+Q;O=""+Q+O}},M.getHighBits=function(){return this.high},M.getHighBitsUnsigned=function(){return this.high>>>0},M.getLowBits=function(){return this.low},M.getLowBitsUnsigned=function(){return this.low>>>0},M.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var N=this.high!=0?this.high:this.low,C=31;C>0&&!(N&1<<C);C--);return this.high!=0?C+33:C+1},M.isZero=function(){return this.high===0&&this.low===0},M.eqz=M.isZero,M.isNegative=function(){return!this.unsigned&&this.high<0},M.isPositive=function(){return this.unsigned||this.high>=0},M.isOdd=function(){return!(1&~this.low)},M.isEven=function(){return!(1&this.low)},M.equals=function(N){return a(N)||(N=w(N)),(this.unsigned===N.unsigned||this.high>>>31!=1||N.high>>>31!=1)&&this.high===N.high&&this.low===N.low},M.eq=M.equals,M.notEquals=function(N){return!this.eq(N)},M.neq=M.notEquals,M.ne=M.notEquals,M.lessThan=function(N){return this.comp(N)<0},M.lt=M.lessThan,M.lessThanOrEqual=function(N){return this.comp(N)<=0},M.lte=M.lessThanOrEqual,M.le=M.lessThanOrEqual,M.greaterThan=function(N){return this.comp(N)>0},M.gt=M.greaterThan,M.greaterThanOrEqual=function(N){return this.comp(N)>=0},M.gte=M.greaterThanOrEqual,M.ge=M.greaterThanOrEqual,M.compare=function(N){if(a(N)||(N=w(N)),this.eq(N))return 0;var C=this.isNegative(),B=N.isNegative();return C&&!B?-1:!C&&B?1:this.unsigned?N.high>>>0>this.high>>>0||N.high===this.high&&N.low>>>0>this.low>>>0?-1:1:this.sub(N).isNegative()?-1:1},M.comp=M.compare,M.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(x)},M.neg=M.negate,M.add=function(N){a(N)||(N=w(N));var C=this.high>>>16,B=65535&this.high,I=this.low>>>16,H=65535&this.low,L=N.high>>>16,O=65535&N.high,$=N.low>>>16,Q=0,te=0,U=0,G=0;return U+=(G+=H+(65535&N.low))>>>16,te+=(U+=I+$)>>>16,Q+=(te+=B+O)>>>16,Q+=C+L,f((U&=65535)<<16|(G&=65535),(Q&=65535)<<16|(te&=65535),this.unsigned)},M.subtract=function(N){return a(N)||(N=w(N)),this.add(N.neg())},M.sub=M.subtract,M.multiply=function(N){if(this.isZero())return y;if(a(N)||(N=w(N)),s)return f(s.mul(this.low,this.high,N.low,N.high),s.get_high(),this.unsigned);if(N.isZero())return y;if(this.eq(T))return N.isOdd()?T:y;if(N.eq(T))return this.isOdd()?T:y;if(this.isNegative())return N.isNegative()?this.neg().mul(N.neg()):this.neg().mul(N).neg();if(N.isNegative())return this.mul(N.neg()).neg();if(this.lt(b)&&N.lt(b))return u(this.toNumber()*N.toNumber(),this.unsigned);var C=this.high>>>16,B=65535&this.high,I=this.low>>>16,H=65535&this.low,L=N.high>>>16,O=65535&N.high,$=N.low>>>16,Q=65535&N.low,te=0,U=0,G=0,ne=0;return G+=(ne+=H*Q)>>>16,U+=(G+=I*Q)>>>16,G&=65535,U+=(G+=H*$)>>>16,te+=(U+=B*Q)>>>16,U&=65535,te+=(U+=I*$)>>>16,U&=65535,te+=(U+=H*O)>>>16,te+=C*Q+B*$+I*O+H*L,f((G&=65535)<<16|(ne&=65535),(te&=65535)<<16|(U&=65535),this.unsigned)},M.mul=M.multiply,M.divide=function(N){if(a(N)||(N=w(N)),N.isZero())throw Error("division by zero");var C,B,I;if(s)return this.unsigned||this.high!==-2147483648||N.low!==-1||N.high!==-1?f((this.unsigned?s.div_u:s.div_s)(this.low,this.high,N.low,N.high),s.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?A:y;if(this.unsigned){if(N.unsigned||(N=N.toUnsigned()),N.gt(this))return A;if(N.gt(this.shru(1)))return v;I=A}else{if(this.eq(T))return N.eq(x)||N.eq(_)?T:N.eq(T)?x:(C=this.shr(1).div(N).shl(1)).eq(y)?N.isNegative()?x:_:(B=this.sub(N.mul(C)),I=C.add(B.div(N)));if(N.eq(T))return this.unsigned?A:y;if(this.isNegative())return N.isNegative()?this.neg().div(N.neg()):this.neg().div(N).neg();if(N.isNegative())return this.div(N.neg()).neg();I=y}for(B=this;B.gte(N);){C=Math.max(1,Math.floor(B.toNumber()/N.toNumber()));for(var H=Math.ceil(Math.log(C)/Math.LN2),L=H<=48?1:d(2,H-48),O=u(C),$=O.mul(N);$.isNegative()||$.gt(B);)$=(O=u(C-=L,this.unsigned)).mul(N);O.isZero()&&(O=x),I=I.add(O),B=B.sub($)}return I},M.div=M.divide,M.modulo=function(N){return a(N)||(N=w(N)),s?f((this.unsigned?s.rem_u:s.rem_s)(this.low,this.high,N.low,N.high),s.get_high(),this.unsigned):this.sub(this.div(N).mul(N))},M.mod=M.modulo,M.rem=M.modulo,M.not=function(){return f(~this.low,~this.high,this.unsigned)},M.and=function(N){return a(N)||(N=w(N)),f(this.low&N.low,this.high&N.high,this.unsigned)},M.or=function(N){return a(N)||(N=w(N)),f(this.low|N.low,this.high|N.high,this.unsigned)},M.xor=function(N){return a(N)||(N=w(N)),f(this.low^N.low,this.high^N.high,this.unsigned)},M.shiftLeft=function(N){return a(N)&&(N=N.toInt()),(N&=63)==0?this:N<32?f(this.low<<N,this.high<<N|this.low>>>32-N,this.unsigned):f(0,this.low<<N-32,this.unsigned)},M.shl=M.shiftLeft,M.shiftRight=function(N){return a(N)&&(N=N.toInt()),(N&=63)==0?this:N<32?f(this.low>>>N|this.high<<32-N,this.high>>N,this.unsigned):f(this.high>>N-32,this.high>=0?0:-1,this.unsigned)},M.shr=M.shiftRight,M.shiftRightUnsigned=function(N){if(a(N)&&(N=N.toInt()),(N&=63)==0)return this;var C=this.high;return N<32?f(this.low>>>N|C<<32-N,C>>>N,this.unsigned):f(N===32?C:C>>>N-32,0,this.unsigned)},M.shru=M.shiftRightUnsigned,M.shr_u=M.shiftRightUnsigned,M.toSigned=function(){return this.unsigned?f(this.low,this.high,!1):this},M.toUnsigned=function(){return this.unsigned?this:f(this.low,this.high,!0)},M.toBytes=function(N){return N?this.toBytesLE():this.toBytesBE()},M.toBytesLE=function(){var N=this.high,C=this.low;return[255&C,C>>>8&255,C>>>16&255,C>>>24,255&N,N>>>8&255,N>>>16&255,N>>>24]},M.toBytesBE=function(){var N=this.high,C=this.low;return[N>>>24,N>>>16&255,N>>>8&255,255&N,C>>>24,C>>>16&255,C>>>8&255,255&C]},o.fromBytes=function(N,C,B){return B?o.fromBytesLE(N,C):o.fromBytesBE(N,C)},o.fromBytesLE=function(N,C){return new o(N[0]|N[1]<<8|N[2]<<16|N[3]<<24,N[4]|N[5]<<8|N[6]<<16|N[7]<<24,C)},o.fromBytesBE=function(N,C){return new o(N[4]<<24|N[5]<<16|N[6]<<8|N[7],N[0]<<24|N[1]<<16|N[2]<<8|N[3],C)}},3503:(r,s,o)=>{var a,l,c,h,u;a=o(3939),l=o(2151).utf8,c=o(652),h=o(2151).bin,(u=function(f,d){f.constructor==String?f=d&&d.encoding==="binary"?h.stringToBytes(f):l.stringToBytes(f):c(f)?f=Array.prototype.slice.call(f,0):Array.isArray(f)||f.constructor===Uint8Array||(f=f.toString());for(var p=a.bytesToWords(f),w=8*f.length,F=1732584193,g=-271733879,m=-1732584194,b=271733878,y=0;y<p.length;y++)p[y]=16711935&(p[y]<<8|p[y]>>>24)|4278255360&(p[y]<<24|p[y]>>>8);p[w>>>5]|=128<<w%32,p[14+(w+64>>>9<<4)]=w;var A=u._ff,x=u._gg,v=u._hh,_=u._ii;for(y=0;y<p.length;y+=16){var k=F,E=g,T=m,M=b;F=A(F,g,m,b,p[y+0],7,-680876936),b=A(b,F,g,m,p[y+1],12,-389564586),m=A(m,b,F,g,p[y+2],17,606105819),g=A(g,m,b,F,p[y+3],22,-1044525330),F=A(F,g,m,b,p[y+4],7,-176418897),b=A(b,F,g,m,p[y+5],12,1200080426),m=A(m,b,F,g,p[y+6],17,-1473231341),g=A(g,m,b,F,p[y+7],22,-45705983),F=A(F,g,m,b,p[y+8],7,1770035416),b=A(b,F,g,m,p[y+9],12,-1958414417),m=A(m,b,F,g,p[y+10],17,-42063),g=A(g,m,b,F,p[y+11],22,-1990404162),F=A(F,g,m,b,p[y+12],7,1804603682),b=A(b,F,g,m,p[y+13],12,-40341101),m=A(m,b,F,g,p[y+14],17,-1502002290),F=x(F,g=A(g,m,b,F,p[y+15],22,1236535329),m,b,p[y+1],5,-165796510),b=x(b,F,g,m,p[y+6],9,-1069501632),m=x(m,b,F,g,p[y+11],14,643717713),g=x(g,m,b,F,p[y+0],20,-373897302),F=x(F,g,m,b,p[y+5],5,-701558691),b=x(b,F,g,m,p[y+10],9,38016083),m=x(m,b,F,g,p[y+15],14,-660478335),g=x(g,m,b,F,p[y+4],20,-405537848),F=x(F,g,m,b,p[y+9],5,568446438),b=x(b,F,g,m,p[y+14],9,-1019803690),m=x(m,b,F,g,p[y+3],14,-187363961),g=x(g,m,b,F,p[y+8],20,1163531501),F=x(F,g,m,b,p[y+13],5,-1444681467),b=x(b,F,g,m,p[y+2],9,-51403784),m=x(m,b,F,g,p[y+7],14,1735328473),F=v(F,g=x(g,m,b,F,p[y+12],20,-1926607734),m,b,p[y+5],4,-378558),b=v(b,F,g,m,p[y+8],11,-2022574463),m=v(m,b,F,g,p[y+11],16,1839030562),g=v(g,m,b,F,p[y+14],23,-35309556),F=v(F,g,m,b,p[y+1],4,-1530992060),b=v(b,F,g,m,p[y+4],11,1272893353),m=v(m,b,F,g,p[y+7],16,-155497632),g=v(g,m,b,F,p[y+10],23,-1094730640),F=v(F,g,m,b,p[y+13],4,681279174),b=v(b,F,g,m,p[y+0],11,-358537222),m=v(m,b,F,g,p[y+3],16,-722521979),g=v(g,m,b,F,p[y+6],23,76029189),F=v(F,g,m,b,p[y+9],4,-640364487),b=v(b,F,g,m,p[y+12],11,-421815835),m=v(m,b,F,g,p[y+15],16,530742520),F=_(F,g=v(g,m,b,F,p[y+2],23,-995338651),m,b,p[y+0],6,-198630844),b=_(b,F,g,m,p[y+7],10,1126891415),m=_(m,b,F,g,p[y+14],15,-1416354905),g=_(g,m,b,F,p[y+5],21,-57434055),F=_(F,g,m,b,p[y+12],6,1700485571),b=_(b,F,g,m,p[y+3],10,-1894986606),m=_(m,b,F,g,p[y+10],15,-1051523),g=_(g,m,b,F,p[y+1],21,-2054922799),F=_(F,g,m,b,p[y+8],6,1873313359),b=_(b,F,g,m,p[y+15],10,-30611744),m=_(m,b,F,g,p[y+6],15,-1560198380),g=_(g,m,b,F,p[y+13],21,1309151649),F=_(F,g,m,b,p[y+4],6,-145523070),b=_(b,F,g,m,p[y+11],10,-1120210379),m=_(m,b,F,g,p[y+2],15,718787259),g=_(g,m,b,F,p[y+9],21,-343485551),F=F+k>>>0,g=g+E>>>0,m=m+T>>>0,b=b+M>>>0}return a.endian([F,g,m,b])})._ff=function(f,d,p,w,F,g,m){var b=f+(d&p|~d&w)+(F>>>0)+m;return(b<<g|b>>>32-g)+d},u._gg=function(f,d,p,w,F,g,m){var b=f+(d&w|p&~w)+(F>>>0)+m;return(b<<g|b>>>32-g)+d},u._hh=function(f,d,p,w,F,g,m){var b=f+(d^p^w)+(F>>>0)+m;return(b<<g|b>>>32-g)+d},u._ii=function(f,d,p,w,F,g,m){var b=f+(p^(d|~w))+(F>>>0)+m;return(b<<g|b>>>32-g)+d},u._blocksize=16,u._digestsize=16,r.exports=function(f,d){if(f==null)throw new Error("Illegal argument "+f);var p=a.wordsToBytes(u(f,d));return d&&d.asBytes?p:d&&d.asString?h.bytesToString(p):a.bytesToHex(p)}},652:r=>{function s(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}r.exports=function(o){return o!=null&&(s(o)||function(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&s(a.slice(0,0))}(o)||!!o._isBuffer)}},1668:(r,s,o)=>{var a={};(0,o(9805).assign)(a,o(3303),o(7083),o(9681)),r.exports=a},3303:(r,s,o)=>{var a=o(8411),l=o(9805),c=o(1996),h=o(4674),u=o(4442),f=Object.prototype.toString,d=0,p=-1,w=0,F=8;function g(b){if(!(this instanceof g))return new g(b);this.options=l.assign({level:p,method:F,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},b||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var A=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(A!==d)throw new Error(h[A]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var x;if(x=typeof y.dictionary=="string"?c.string2buf(y.dictionary):f.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(A=a.deflateSetDictionary(this.strm,x))!==d)throw new Error(h[A]);this._dict_set=!0}}function m(b,y){var A=new g(y);if(A.push(b,!0),A.err)throw A.msg||h[A.err];return A.result}g.prototype.push=function(b,y){var A,x,v=this.strm,_=this.options.chunkSize;if(this.ended)return!1;x=y===~~y?y:y===!0?4:0,typeof b=="string"?v.input=c.string2buf(b):f.call(b)==="[object ArrayBuffer]"?v.input=new Uint8Array(b):v.input=b,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new l.Buf8(_),v.next_out=0,v.avail_out=_),(A=a.deflate(v,x))!==1&&A!==d)return this.onEnd(A),this.ended=!0,!1;v.avail_out!==0&&(v.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(v.output,v.next_out))):this.onData(l.shrinkBuf(v.output,v.next_out)))}while((v.avail_in>0||v.avail_out===0)&&A!==1);return x===4?(A=a.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===d):x!==2||(this.onEnd(d),v.avail_out=0,!0)},g.prototype.onData=function(b){this.chunks.push(b)},g.prototype.onEnd=function(b){b===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Deflate=g,s.deflate=m,s.deflateRaw=function(b,y){return(y=y||{}).raw=!0,m(b,y)},s.gzip=function(b,y){return(y=y||{}).gzip=!0,m(b,y)}},7083:(r,s,o)=>{var a=o(1447),l=o(9805),c=o(1996),h=o(9681),u=o(4674),f=o(4442),d=o(7414),p=Object.prototype.toString;function w(g){if(!(this instanceof w))return new w(g);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&m.windowBits>=0&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(m.windowBits>=0&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),m.windowBits>15&&m.windowBits<48&&(15&m.windowBits||(m.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var b=a.inflateInit2(this.strm,m.windowBits);if(b!==h.Z_OK)throw new Error(u[b]);if(this.header=new d,a.inflateGetHeader(this.strm,this.header),m.dictionary&&(typeof m.dictionary=="string"?m.dictionary=c.string2buf(m.dictionary):p.call(m.dictionary)==="[object ArrayBuffer]"&&(m.dictionary=new Uint8Array(m.dictionary)),m.raw&&(b=a.inflateSetDictionary(this.strm,m.dictionary))!==h.Z_OK))throw new Error(u[b])}function F(g,m){var b=new w(m);if(b.push(g,!0),b.err)throw b.msg||u[b.err];return b.result}w.prototype.push=function(g,m){var b,y,A,x,v,_=this.strm,k=this.options.chunkSize,E=this.options.dictionary,T=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof g=="string"?_.input=c.binstring2buf(g):p.call(g)==="[object ArrayBuffer]"?_.input=new Uint8Array(g):_.input=g,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new l.Buf8(k),_.next_out=0,_.avail_out=k),(b=a.inflate(_,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&E&&(b=a.inflateSetDictionary(this.strm,E)),b===h.Z_BUF_ERROR&&T===!0&&(b=h.Z_OK,T=!1),b!==h.Z_STREAM_END&&b!==h.Z_OK)return this.onEnd(b),this.ended=!0,!1;_.next_out&&(_.avail_out!==0&&b!==h.Z_STREAM_END&&(_.avail_in!==0||y!==h.Z_FINISH&&y!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=c.utf8border(_.output,_.next_out),x=_.next_out-A,v=c.buf2string(_.output,A),_.next_out=x,_.avail_out=k-x,x&&l.arraySet(_.output,_.output,A,x,0),this.onData(v)):this.onData(l.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(T=!0)}while((_.avail_in>0||_.avail_out===0)&&b!==h.Z_STREAM_END);return b===h.Z_STREAM_END&&(y=h.Z_FINISH),y===h.Z_FINISH?(b=a.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h.Z_OK):y!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),_.avail_out=0,!0)},w.prototype.onData=function(g){this.chunks.push(g)},w.prototype.onEnd=function(g){g===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Inflate=w,s.inflate=F,s.inflateRaw=function(g,m){return(m=m||{}).raw=!0,F(g,m)},s.ungzip=F},9805:(r,s)=>{var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function a(h,u){return Object.prototype.hasOwnProperty.call(h,u)}s.assign=function(h){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var d in f)a(f,d)&&(h[d]=f[d])}}return h},s.shrinkBuf=function(h,u){return h.length===u?h:h.subarray?h.subarray(0,u):(h.length=u,h)};var l={arraySet:function(h,u,f,d,p){if(u.subarray&&h.subarray)h.set(u.subarray(f,f+d),p);else for(var w=0;w<d;w++)h[p+w]=u[f+w]},flattenChunks:function(h){var u,f,d,p,w,F;for(d=0,u=0,f=h.length;u<f;u++)d+=h[u].length;for(F=new Uint8Array(d),p=0,u=0,f=h.length;u<f;u++)w=h[u],F.set(w,p),p+=w.length;return F}},c={arraySet:function(h,u,f,d,p){for(var w=0;w<d;w++)h[p+w]=u[f+w]},flattenChunks:function(h){return[].concat.apply([],h)}};s.setTyped=function(h){h?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,c))},s.setTyped(o)},1996:(r,s,o)=>{var a=o(9805),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var h=new a.Buf8(256),u=0;u<256;u++)h[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;function f(d,p){if(p<65534&&(d.subarray&&c||!d.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(d,p));for(var w="",F=0;F<p;F++)w+=String.fromCharCode(d[F]);return w}h[254]=h[254]=1,s.string2buf=function(d){var p,w,F,g,m,b=d.length,y=0;for(g=0;g<b;g++)(64512&(w=d.charCodeAt(g)))==55296&&g+1<b&&(64512&(F=d.charCodeAt(g+1)))==56320&&(w=65536+(w-55296<<10)+(F-56320),g++),y+=w<128?1:w<2048?2:w<65536?3:4;for(p=new a.Buf8(y),m=0,g=0;m<y;g++)(64512&(w=d.charCodeAt(g)))==55296&&g+1<b&&(64512&(F=d.charCodeAt(g+1)))==56320&&(w=65536+(w-55296<<10)+(F-56320),g++),w<128?p[m++]=w:w<2048?(p[m++]=192|w>>>6,p[m++]=128|63&w):w<65536?(p[m++]=224|w>>>12,p[m++]=128|w>>>6&63,p[m++]=128|63&w):(p[m++]=240|w>>>18,p[m++]=128|w>>>12&63,p[m++]=128|w>>>6&63,p[m++]=128|63&w);return p},s.buf2binstring=function(d){return f(d,d.length)},s.binstring2buf=function(d){for(var p=new a.Buf8(d.length),w=0,F=p.length;w<F;w++)p[w]=d.charCodeAt(w);return p},s.buf2string=function(d,p){var w,F,g,m,b=p||d.length,y=new Array(2*b);for(F=0,w=0;w<b;)if((g=d[w++])<128)y[F++]=g;else if((m=h[g])>4)y[F++]=65533,w+=m-1;else{for(g&=m===2?31:m===3?15:7;m>1&&w<b;)g=g<<6|63&d[w++],m--;m>1?y[F++]=65533:g<65536?y[F++]=g:(g-=65536,y[F++]=55296|g>>10&1023,y[F++]=56320|1023&g)}return f(y,F)},s.utf8border=function(d,p){var w;for((p=p||d.length)>d.length&&(p=d.length),w=p-1;w>=0&&(192&d[w])==128;)w--;return w<0||w===0?p:w+h[d[w]]>p?w:p}},3269:r=>{r.exports=function(s,o,a,l){for(var c=65535&s,h=s>>>16&65535,u=0;a!==0;){a-=u=a>2e3?2e3:a;do h=h+(c=c+o[l++]|0)|0;while(--u);c%=65521,h%=65521}return c|h<<16}},9681:r=>{r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},4823:r=>{var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,c){var h=s,u=c+l;o^=-1;for(var f=c;f<u;f++)o=o>>>8^h[255&(o^a[f])];return~o}},8411:(r,s,o)=>{var a,l=o(9805),c=o(3665),h=o(3269),u=o(4823),f=o(4674),d=0,p=0,w=-2,F=2,g=8,m=286,b=30,y=19,A=2*m+1,x=15,v=3,_=258,k=_+v+1,E=42,T=103,M=113,N=666;function C(R,Y){return R.msg=f[Y],Y}function B(R){return(R<<1)-(R>4?9:0)}function I(R){for(var Y=R.length;--Y>=0;)R[Y]=0}function H(R){var Y=R.state,W=Y.pending;W>R.avail_out&&(W=R.avail_out),W!==0&&(l.arraySet(R.output,Y.pending_buf,Y.pending_out,W,R.next_out),R.next_out+=W,Y.pending_out+=W,R.total_out+=W,R.avail_out-=W,Y.pending-=W,Y.pending===0&&(Y.pending_out=0))}function L(R,Y){c._tr_flush_block(R,R.block_start>=0?R.block_start:-1,R.strstart-R.block_start,Y),R.block_start=R.strstart,H(R.strm)}function O(R,Y){R.pending_buf[R.pending++]=Y}function $(R,Y){R.pending_buf[R.pending++]=Y>>>8&255,R.pending_buf[R.pending++]=255&Y}function Q(R,Y,W,q){var ge=R.avail_in;return ge>q&&(ge=q),ge===0?0:(R.avail_in-=ge,l.arraySet(Y,R.input,R.next_in,ge,W),R.state.wrap===1?R.adler=h(R.adler,Y,ge,W):R.state.wrap===2&&(R.adler=u(R.adler,Y,ge,W)),R.next_in+=ge,R.total_in+=ge,ge)}function te(R,Y){var W,q,ge=R.max_chain_length,le=R.strstart,ue=R.prev_length,de=R.nice_match,fe=R.strstart>R.w_size-k?R.strstart-(R.w_size-k):0,Ae=R.window,Ne=R.w_mask,S=R.prev,D=R.strstart+_,z=Ae[le+ue-1],K=Ae[le+ue];R.prev_length>=R.good_match&&(ge>>=2),de>R.lookahead&&(de=R.lookahead);do if(Ae[(W=Y)+ue]===K&&Ae[W+ue-1]===z&&Ae[W]===Ae[le]&&Ae[++W]===Ae[le+1]){le+=2,W++;do;while(Ae[++le]===Ae[++W]&&Ae[++le]===Ae[++W]&&Ae[++le]===Ae[++W]&&Ae[++le]===Ae[++W]&&Ae[++le]===Ae[++W]&&Ae[++le]===Ae[++W]&&Ae[++le]===Ae[++W]&&Ae[++le]===Ae[++W]&&le<D);if(q=_-(D-le),le=D-_,q>ue){if(R.match_start=Y,ue=q,q>=de)break;z=Ae[le+ue-1],K=Ae[le+ue]}}while((Y=S[Y&Ne])>fe&&--ge!=0);return ue<=R.lookahead?ue:R.lookahead}function U(R){var Y,W,q,ge,le,ue=R.w_size;do{if(ge=R.window_size-R.lookahead-R.strstart,R.strstart>=ue+(ue-k)){l.arraySet(R.window,R.window,ue,ue,0),R.match_start-=ue,R.strstart-=ue,R.block_start-=ue,Y=W=R.hash_size;do q=R.head[--Y],R.head[Y]=q>=ue?q-ue:0;while(--W);Y=W=ue;do q=R.prev[--Y],R.prev[Y]=q>=ue?q-ue:0;while(--W);ge+=ue}if(R.strm.avail_in===0)break;if(W=Q(R.strm,R.window,R.strstart+R.lookahead,ge),R.lookahead+=W,R.lookahead+R.insert>=v)for(le=R.strstart-R.insert,R.ins_h=R.window[le],R.ins_h=(R.ins_h<<R.hash_shift^R.window[le+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[le+v-1])&R.hash_mask,R.prev[le&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=le,le++,R.insert--,!(R.lookahead+R.insert<v)););}while(R.lookahead<k&&R.strm.avail_in!==0)}function G(R,Y){for(var W,q;;){if(R.lookahead<k){if(U(R),R.lookahead<k&&Y===d)return 1;if(R.lookahead===0)break}if(W=0,R.lookahead>=v&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+v-1])&R.hash_mask,W=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),W!==0&&R.strstart-W<=R.w_size-k&&(R.match_length=te(R,W)),R.match_length>=v)if(q=c._tr_tally(R,R.strstart-R.match_start,R.match_length-v),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=v){R.match_length--;do R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+v-1])&R.hash_mask,W=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart;while(--R.match_length!=0);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else q=c._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(q&&(L(R,!1),R.strm.avail_out===0))return 1}return R.insert=R.strstart<v-1?R.strstart:v-1,Y===4?(L(R,!0),R.strm.avail_out===0?3:4):R.last_lit&&(L(R,!1),R.strm.avail_out===0)?1:2}function ne(R,Y){for(var W,q,ge;;){if(R.lookahead<k){if(U(R),R.lookahead<k&&Y===d)return 1;if(R.lookahead===0)break}if(W=0,R.lookahead>=v&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+v-1])&R.hash_mask,W=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=v-1,W!==0&&R.prev_length<R.max_lazy_match&&R.strstart-W<=R.w_size-k&&(R.match_length=te(R,W),R.match_length<=5&&(R.strategy===1||R.match_length===v&&R.strstart-R.match_start>4096)&&(R.match_length=v-1)),R.prev_length>=v&&R.match_length<=R.prev_length){ge=R.strstart+R.lookahead-v,q=c._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-v),R.lookahead-=R.prev_length-1,R.prev_length-=2;do++R.strstart<=ge&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+v-1])&R.hash_mask,W=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart);while(--R.prev_length!=0);if(R.match_available=0,R.match_length=v-1,R.strstart++,q&&(L(R,!1),R.strm.avail_out===0))return 1}else if(R.match_available){if((q=c._tr_tally(R,0,R.window[R.strstart-1]))&&L(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return 1}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(q=c._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<v-1?R.strstart:v-1,Y===4?(L(R,!0),R.strm.avail_out===0?3:4):R.last_lit&&(L(R,!1),R.strm.avail_out===0)?1:2}function J(R,Y,W,q,ge){this.good_length=R,this.max_lazy=Y,this.nice_length=W,this.max_chain=q,this.func=ge}function Z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*A),this.dyn_dtree=new l.Buf16(2*(2*b+1)),this.bl_tree=new l.Buf16(2*(2*y+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(x+1),this.heap=new l.Buf16(2*m+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*m+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ye(R){var Y;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=F,(Y=R.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?E:M,R.adler=Y.wrap===2?0:1,Y.last_flush=d,c._tr_init(Y),p):C(R,w)}function V(R){var Y,W=ye(R);return W===p&&((Y=R.state).window_size=2*Y.w_size,I(Y.head),Y.max_lazy_match=a[Y.level].max_lazy,Y.good_match=a[Y.level].good_length,Y.nice_match=a[Y.level].nice_length,Y.max_chain_length=a[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=v-1,Y.match_available=0,Y.ins_h=0),W}function ee(R,Y,W,q,ge,le){if(!R)return w;var ue=1;if(Y===-1&&(Y=6),q<0?(ue=0,q=-q):q>15&&(ue=2,q-=16),ge<1||ge>9||W!==g||q<8||q>15||Y<0||Y>9||le<0||le>4)return C(R,w);q===8&&(q=9);var de=new Z;return R.state=de,de.strm=R,de.wrap=ue,de.gzhead=null,de.w_bits=q,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=ge+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+v-1)/v),de.window=new l.Buf8(2*de.w_size),de.head=new l.Buf16(de.hash_size),de.prev=new l.Buf16(de.w_size),de.lit_bufsize=1<<ge+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new l.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=Y,de.strategy=le,de.method=W,V(R)}a=[new J(0,0,0,0,function(R,Y){var W=65535;for(W>R.pending_buf_size-5&&(W=R.pending_buf_size-5);;){if(R.lookahead<=1){if(U(R),R.lookahead===0&&Y===d)return 1;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var q=R.block_start+W;if((R.strstart===0||R.strstart>=q)&&(R.lookahead=R.strstart-q,R.strstart=q,L(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-k&&(L(R,!1),R.strm.avail_out===0))return 1}return R.insert=0,Y===4?(L(R,!0),R.strm.avail_out===0?3:4):(R.strstart>R.block_start&&(L(R,!1),R.strm.avail_out),1)}),new J(4,4,8,4,G),new J(4,5,16,8,G),new J(4,6,32,32,G),new J(4,4,16,16,ne),new J(8,16,32,32,ne),new J(8,16,128,128,ne),new J(8,32,128,256,ne),new J(32,128,258,1024,ne),new J(32,258,258,4096,ne)],s.deflateInit=function(R,Y){return ee(R,Y,g,15,8,0)},s.deflateInit2=ee,s.deflateReset=V,s.deflateResetKeep=ye,s.deflateSetHeader=function(R,Y){return R&&R.state?R.state.wrap!==2?w:(R.state.gzhead=Y,p):w},s.deflate=function(R,Y){var W,q,ge,le;if(!R||!R.state||Y>5||Y<0)return R?C(R,w):w;if(q=R.state,!R.output||!R.input&&R.avail_in!==0||q.status===N&&Y!==4)return C(R,R.avail_out===0?-5:w);if(q.strm=R,W=q.last_flush,q.last_flush=Y,q.status===E)if(q.wrap===2)R.adler=0,O(q,31),O(q,139),O(q,8),q.gzhead?(O(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),O(q,255&q.gzhead.time),O(q,q.gzhead.time>>8&255),O(q,q.gzhead.time>>16&255),O(q,q.gzhead.time>>24&255),O(q,q.level===9?2:q.strategy>=2||q.level<2?4:0),O(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(O(q,255&q.gzhead.extra.length),O(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(R.adler=u(R.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(O(q,0),O(q,0),O(q,0),O(q,0),O(q,0),O(q,q.level===9?2:q.strategy>=2||q.level<2?4:0),O(q,3),q.status=M);else{var ue=g+(q.w_bits-8<<4)<<8;ue|=(q.strategy>=2||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(ue|=32),ue+=31-ue%31,q.status=M,$(q,ue),q.strstart!==0&&($(q,R.adler>>>16),$(q,65535&R.adler)),R.adler=1}if(q.status===69)if(q.gzhead.extra){for(ge=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>ge&&(R.adler=u(R.adler,q.pending_buf,q.pending-ge,ge)),H(R),ge=q.pending,q.pending!==q.pending_buf_size));)O(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>ge&&(R.adler=u(R.adler,q.pending_buf,q.pending-ge,ge)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){ge=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ge&&(R.adler=u(R.adler,q.pending_buf,q.pending-ge,ge)),H(R),ge=q.pending,q.pending===q.pending_buf_size)){le=1;break}le=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,O(q,le)}while(le!==0);q.gzhead.hcrc&&q.pending>ge&&(R.adler=u(R.adler,q.pending_buf,q.pending-ge,ge)),le===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){ge=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ge&&(R.adler=u(R.adler,q.pending_buf,q.pending-ge,ge)),H(R),ge=q.pending,q.pending===q.pending_buf_size)){le=1;break}le=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,O(q,le)}while(le!==0);q.gzhead.hcrc&&q.pending>ge&&(R.adler=u(R.adler,q.pending_buf,q.pending-ge,ge)),le===0&&(q.status=T)}else q.status=T;if(q.status===T&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&H(R),q.pending+2<=q.pending_buf_size&&(O(q,255&R.adler),O(q,R.adler>>8&255),R.adler=0,q.status=M)):q.status=M),q.pending!==0){if(H(R),R.avail_out===0)return q.last_flush=-1,p}else if(R.avail_in===0&&B(Y)<=B(W)&&Y!==4)return C(R,-5);if(q.status===N&&R.avail_in!==0)return C(R,-5);if(R.avail_in!==0||q.lookahead!==0||Y!==d&&q.status!==N){var de=q.strategy===2?function(fe,Ae){for(var Ne;;){if(fe.lookahead===0&&(U(fe),fe.lookahead===0)){if(Ae===d)return 1;break}if(fe.match_length=0,Ne=c._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,Ne&&(L(fe,!1),fe.strm.avail_out===0))return 1}return fe.insert=0,Ae===4?(L(fe,!0),fe.strm.avail_out===0?3:4):fe.last_lit&&(L(fe,!1),fe.strm.avail_out===0)?1:2}(q,Y):q.strategy===3?function(fe,Ae){for(var Ne,S,D,z,K=fe.window;;){if(fe.lookahead<=_){if(U(fe),fe.lookahead<=_&&Ae===d)return 1;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=v&&fe.strstart>0&&(S=K[D=fe.strstart-1])===K[++D]&&S===K[++D]&&S===K[++D]){z=fe.strstart+_;do;while(S===K[++D]&&S===K[++D]&&S===K[++D]&&S===K[++D]&&S===K[++D]&&S===K[++D]&&S===K[++D]&&S===K[++D]&&D<z);fe.match_length=_-(z-D),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=v?(Ne=c._tr_tally(fe,1,fe.match_length-v),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(Ne=c._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),Ne&&(L(fe,!1),fe.strm.avail_out===0))return 1}return fe.insert=0,Ae===4?(L(fe,!0),fe.strm.avail_out===0?3:4):fe.last_lit&&(L(fe,!1),fe.strm.avail_out===0)?1:2}(q,Y):a[q.level].func(q,Y);if(de!==3&&de!==4||(q.status=N),de===1||de===3)return R.avail_out===0&&(q.last_flush=-1),p;if(de===2&&(Y===1?c._tr_align(q):Y!==5&&(c._tr_stored_block(q,0,0,!1),Y===3&&(I(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),H(R),R.avail_out===0))return q.last_flush=-1,p}return Y!==4?p:q.wrap<=0?1:(q.wrap===2?(O(q,255&R.adler),O(q,R.adler>>8&255),O(q,R.adler>>16&255),O(q,R.adler>>24&255),O(q,255&R.total_in),O(q,R.total_in>>8&255),O(q,R.total_in>>16&255),O(q,R.total_in>>24&255)):($(q,R.adler>>>16),$(q,65535&R.adler)),H(R),q.wrap>0&&(q.wrap=-q.wrap),q.pending!==0?p:1)},s.deflateEnd=function(R){var Y;return R&&R.state?(Y=R.state.status)!==E&&Y!==69&&Y!==73&&Y!==91&&Y!==T&&Y!==M&&Y!==N?C(R,w):(R.state=null,Y===M?C(R,-3):p):w},s.deflateSetDictionary=function(R,Y){var W,q,ge,le,ue,de,fe,Ae,Ne=Y.length;if(!R||!R.state||(le=(W=R.state).wrap)===2||le===1&&W.status!==E||W.lookahead)return w;for(le===1&&(R.adler=h(R.adler,Y,Ne,0)),W.wrap=0,Ne>=W.w_size&&(le===0&&(I(W.head),W.strstart=0,W.block_start=0,W.insert=0),Ae=new l.Buf8(W.w_size),l.arraySet(Ae,Y,Ne-W.w_size,W.w_size,0),Y=Ae,Ne=W.w_size),ue=R.avail_in,de=R.next_in,fe=R.input,R.avail_in=Ne,R.next_in=0,R.input=Y,U(W);W.lookahead>=v;){q=W.strstart,ge=W.lookahead-(v-1);do W.ins_h=(W.ins_h<<W.hash_shift^W.window[q+v-1])&W.hash_mask,W.prev[q&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=q,q++;while(--ge);W.strstart=q,W.lookahead=v-1,U(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=v-1,W.match_available=0,R.next_in=de,R.input=fe,R.avail_in=ue,W.wrap=le,p},s.deflateInfo="pako deflate (from Nodeca project)"},7414:r=>{r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},7293:r=>{r.exports=function(s,o){var a,l,c,h,u,f,d,p,w,F,g,m,b,y,A,x,v,_,k,E,T,M,N,C,B;a=s.state,l=s.next_in,C=s.input,c=l+(s.avail_in-5),h=s.next_out,B=s.output,u=h-(o-s.avail_out),f=h+(s.avail_out-257),d=a.dmax,p=a.wsize,w=a.whave,F=a.wnext,g=a.window,m=a.hold,b=a.bits,y=a.lencode,A=a.distcode,x=(1<<a.lenbits)-1,v=(1<<a.distbits)-1;e:do{b<15&&(m+=C[l++]<<b,b+=8,m+=C[l++]<<b,b+=8),_=y[m&x];t:for(;;){if(m>>>=k=_>>>24,b-=k,(k=_>>>16&255)==0)B[h++]=65535&_;else{if(!(16&k)){if(64&k){if(32&k){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}_=y[(65535&_)+(m&(1<<k)-1)];continue t}for(E=65535&_,(k&=15)&&(b<k&&(m+=C[l++]<<b,b+=8),E+=m&(1<<k)-1,m>>>=k,b-=k),b<15&&(m+=C[l++]<<b,b+=8,m+=C[l++]<<b,b+=8),_=A[m&v];;){if(m>>>=k=_>>>24,b-=k,16&(k=_>>>16&255)){if(T=65535&_,b<(k&=15)&&(m+=C[l++]<<b,(b+=8)<k&&(m+=C[l++]<<b,b+=8)),(T+=m&(1<<k)-1)>d){s.msg="invalid distance too far back",a.mode=30;break e}if(m>>>=k,b-=k,T>(k=h-u)){if((k=T-k)>w&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(M=0,N=g,F===0){if(M+=p-k,k<E){E-=k;do B[h++]=g[M++];while(--k);M=h-T,N=B}}else if(F<k){if(M+=p+F-k,(k-=F)<E){E-=k;do B[h++]=g[M++];while(--k);if(M=0,F<E){E-=k=F;do B[h++]=g[M++];while(--k);M=h-T,N=B}}}else if(M+=F-k,k<E){E-=k;do B[h++]=g[M++];while(--k);M=h-T,N=B}for(;E>2;)B[h++]=N[M++],B[h++]=N[M++],B[h++]=N[M++],E-=3;E&&(B[h++]=N[M++],E>1&&(B[h++]=N[M++]))}else{M=h-T;do B[h++]=B[M++],B[h++]=B[M++],B[h++]=B[M++],E-=3;while(E>2);E&&(B[h++]=B[M++],E>1&&(B[h++]=B[M++]))}break}if(64&k){s.msg="invalid distance code",a.mode=30;break e}_=A[(65535&_)+(m&(1<<k)-1)]}}break}}while(l<c&&h<f);l-=E=b>>3,m&=(1<<(b-=E<<3))-1,s.next_in=l,s.next_out=h,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=h<f?f-h+257:257-(h-f),a.hold=m,a.bits=b}},1447:(r,s,o)=>{var a=o(9805),l=o(3269),c=o(4823),h=o(7293),u=o(1998),f=0,d=-2,p=1,w=12,F=30,g=852,m=592;function b(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(C){var B;return C&&C.state?(B=C.state,C.total_in=C.total_out=B.total=0,C.msg="",B.wrap&&(C.adler=1&B.wrap),B.mode=p,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new a.Buf32(g),B.distcode=B.distdyn=new a.Buf32(m),B.sane=1,B.back=-1,f):d}function x(C){var B;return C&&C.state?((B=C.state).wsize=0,B.whave=0,B.wnext=0,A(C)):d}function v(C,B){var I,H;return C&&C.state?(H=C.state,B<0?(I=0,B=-B):(I=1+(B>>4),B<48&&(B&=15)),B&&(B<8||B>15)?d:(H.window!==null&&H.wbits!==B&&(H.window=null),H.wrap=I,H.wbits=B,x(C))):d}function _(C,B){var I,H;return C?(H=new y,C.state=H,H.window=null,(I=v(C,B))!==f&&(C.state=null),I):d}var k,E,T=!0;function M(C){if(T){var B;for(k=new a.Buf32(512),E=new a.Buf32(32),B=0;B<144;)C.lens[B++]=8;for(;B<256;)C.lens[B++]=9;for(;B<280;)C.lens[B++]=7;for(;B<288;)C.lens[B++]=8;for(u(1,C.lens,0,288,k,0,C.work,{bits:9}),B=0;B<32;)C.lens[B++]=5;u(2,C.lens,0,32,E,0,C.work,{bits:5}),T=!1}C.lencode=k,C.lenbits=9,C.distcode=E,C.distbits=5}function N(C,B,I,H){var L,O=C.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new a.Buf8(O.wsize)),H>=O.wsize?(a.arraySet(O.window,B,I-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):((L=O.wsize-O.wnext)>H&&(L=H),a.arraySet(O.window,B,I-H,L,O.wnext),(H-=L)?(a.arraySet(O.window,B,I-H,H,0),O.wnext=H,O.whave=O.wsize):(O.wnext+=L,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=L))),0}s.inflateReset=x,s.inflateReset2=v,s.inflateResetKeep=A,s.inflateInit=function(C){return _(C,15)},s.inflateInit2=_,s.inflate=function(C,B){var I,H,L,O,$,Q,te,U,G,ne,J,Z,ye,V,ee,R,Y,W,q,ge,le,ue,de,fe,Ae=0,Ne=new a.Buf8(4),S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return d;(I=C.state).mode===w&&(I.mode=13),$=C.next_out,L=C.output,te=C.avail_out,O=C.next_in,H=C.input,Q=C.avail_in,U=I.hold,G=I.bits,ne=Q,J=te,ue=f;e:for(;;)switch(I.mode){case p:if(I.wrap===0){I.mode=13;break}for(;G<16;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(2&I.wrap&&U===35615){I.check=0,Ne[0]=255&U,Ne[1]=U>>>8&255,I.check=c(I.check,Ne,2,0),U=0,G=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&U)<<8)+(U>>8))%31){C.msg="incorrect header check",I.mode=F;break}if((15&U)!=8){C.msg="unknown compression method",I.mode=F;break}if(G-=4,le=8+(15&(U>>>=4)),I.wbits===0)I.wbits=le;else if(le>I.wbits){C.msg="invalid window size",I.mode=F;break}I.dmax=1<<le,C.adler=I.check=1,I.mode=512&U?10:w,U=0,G=0;break;case 2:for(;G<16;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(I.flags=U,(255&I.flags)!=8){C.msg="unknown compression method",I.mode=F;break}if(57344&I.flags){C.msg="unknown header flags set",I.mode=F;break}I.head&&(I.head.text=U>>8&1),512&I.flags&&(Ne[0]=255&U,Ne[1]=U>>>8&255,I.check=c(I.check,Ne,2,0)),U=0,G=0,I.mode=3;case 3:for(;G<32;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}I.head&&(I.head.time=U),512&I.flags&&(Ne[0]=255&U,Ne[1]=U>>>8&255,Ne[2]=U>>>16&255,Ne[3]=U>>>24&255,I.check=c(I.check,Ne,4,0)),U=0,G=0,I.mode=4;case 4:for(;G<16;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}I.head&&(I.head.xflags=255&U,I.head.os=U>>8),512&I.flags&&(Ne[0]=255&U,Ne[1]=U>>>8&255,I.check=c(I.check,Ne,2,0)),U=0,G=0,I.mode=5;case 5:if(1024&I.flags){for(;G<16;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}I.length=U,I.head&&(I.head.extra_len=U),512&I.flags&&(Ne[0]=255&U,Ne[1]=U>>>8&255,I.check=c(I.check,Ne,2,0)),U=0,G=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&((Z=I.length)>Q&&(Z=Q),Z&&(I.head&&(le=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),a.arraySet(I.head.extra,H,O,Z,le)),512&I.flags&&(I.check=c(I.check,H,Z,O)),Q-=Z,O+=Z,I.length-=Z),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(Q===0)break e;Z=0;do le=H[O+Z++],I.head&&le&&I.length<65536&&(I.head.name+=String.fromCharCode(le));while(le&&Z<Q);if(512&I.flags&&(I.check=c(I.check,H,Z,O)),Q-=Z,O+=Z,le)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(Q===0)break e;Z=0;do le=H[O+Z++],I.head&&le&&I.length<65536&&(I.head.comment+=String.fromCharCode(le));while(le&&Z<Q);if(512&I.flags&&(I.check=c(I.check,H,Z,O)),Q-=Z,O+=Z,le)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;G<16;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(U!==(65535&I.check)){C.msg="header crc mismatch",I.mode=F;break}U=0,G=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),C.adler=I.check=0,I.mode=w;break;case 10:for(;G<32;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}C.adler=I.check=b(U),U=0,G=0,I.mode=11;case 11:if(I.havedict===0)return C.next_out=$,C.avail_out=te,C.next_in=O,C.avail_in=Q,I.hold=U,I.bits=G,2;C.adler=I.check=1,I.mode=w;case w:if(B===5||B===6)break e;case 13:if(I.last){U>>>=7&G,G-=7&G,I.mode=27;break}for(;G<3;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}switch(I.last=1&U,G-=1,3&(U>>>=1)){case 0:I.mode=14;break;case 1:if(M(I),I.mode=20,B===6){U>>>=2,G-=2;break e}break;case 2:I.mode=17;break;case 3:C.msg="invalid block type",I.mode=F}U>>>=2,G-=2;break;case 14:for(U>>>=7&G,G-=7&G;G<32;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if((65535&U)!=(U>>>16^65535)){C.msg="invalid stored block lengths",I.mode=F;break}if(I.length=65535&U,U=0,G=0,I.mode=15,B===6)break e;case 15:I.mode=16;case 16:if(Z=I.length){if(Z>Q&&(Z=Q),Z>te&&(Z=te),Z===0)break e;a.arraySet(L,H,O,Z,$),Q-=Z,O+=Z,te-=Z,$+=Z,I.length-=Z;break}I.mode=w;break;case 17:for(;G<14;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(I.nlen=257+(31&U),U>>>=5,G-=5,I.ndist=1+(31&U),U>>>=5,G-=5,I.ncode=4+(15&U),U>>>=4,G-=4,I.nlen>286||I.ndist>30){C.msg="too many length or distance symbols",I.mode=F;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;G<3;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}I.lens[S[I.have++]]=7&U,U>>>=3,G-=3}for(;I.have<19;)I.lens[S[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,de={bits:I.lenbits},ue=u(0,I.lens,0,19,I.lencode,0,I.work,de),I.lenbits=de.bits,ue){C.msg="invalid code lengths set",I.mode=F;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;R=(Ae=I.lencode[U&(1<<I.lenbits)-1])>>>16&255,Y=65535&Ae,!((ee=Ae>>>24)<=G);){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(Y<16)U>>>=ee,G-=ee,I.lens[I.have++]=Y;else{if(Y===16){for(fe=ee+2;G<fe;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(U>>>=ee,G-=ee,I.have===0){C.msg="invalid bit length repeat",I.mode=F;break}le=I.lens[I.have-1],Z=3+(3&U),U>>>=2,G-=2}else if(Y===17){for(fe=ee+3;G<fe;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}G-=ee,le=0,Z=3+(7&(U>>>=ee)),U>>>=3,G-=3}else{for(fe=ee+7;G<fe;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}G-=ee,le=0,Z=11+(127&(U>>>=ee)),U>>>=7,G-=7}if(I.have+Z>I.nlen+I.ndist){C.msg="invalid bit length repeat",I.mode=F;break}for(;Z--;)I.lens[I.have++]=le}}if(I.mode===F)break;if(I.lens[256]===0){C.msg="invalid code -- missing end-of-block",I.mode=F;break}if(I.lenbits=9,de={bits:I.lenbits},ue=u(1,I.lens,0,I.nlen,I.lencode,0,I.work,de),I.lenbits=de.bits,ue){C.msg="invalid literal/lengths set",I.mode=F;break}if(I.distbits=6,I.distcode=I.distdyn,de={bits:I.distbits},ue=u(2,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,de),I.distbits=de.bits,ue){C.msg="invalid distances set",I.mode=F;break}if(I.mode=20,B===6)break e;case 20:I.mode=21;case 21:if(Q>=6&&te>=258){C.next_out=$,C.avail_out=te,C.next_in=O,C.avail_in=Q,I.hold=U,I.bits=G,h(C,J),$=C.next_out,L=C.output,te=C.avail_out,O=C.next_in,H=C.input,Q=C.avail_in,U=I.hold,G=I.bits,I.mode===w&&(I.back=-1);break}for(I.back=0;R=(Ae=I.lencode[U&(1<<I.lenbits)-1])>>>16&255,Y=65535&Ae,!((ee=Ae>>>24)<=G);){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(R&&!(240&R)){for(W=ee,q=R,ge=Y;R=(Ae=I.lencode[ge+((U&(1<<W+q)-1)>>W)])>>>16&255,Y=65535&Ae,!(W+(ee=Ae>>>24)<=G);){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}U>>>=W,G-=W,I.back+=W}if(U>>>=ee,G-=ee,I.back+=ee,I.length=Y,R===0){I.mode=26;break}if(32&R){I.back=-1,I.mode=w;break}if(64&R){C.msg="invalid literal/length code",I.mode=F;break}I.extra=15&R,I.mode=22;case 22:if(I.extra){for(fe=I.extra;G<fe;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}I.length+=U&(1<<I.extra)-1,U>>>=I.extra,G-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;R=(Ae=I.distcode[U&(1<<I.distbits)-1])>>>16&255,Y=65535&Ae,!((ee=Ae>>>24)<=G);){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(!(240&R)){for(W=ee,q=R,ge=Y;R=(Ae=I.distcode[ge+((U&(1<<W+q)-1)>>W)])>>>16&255,Y=65535&Ae,!(W+(ee=Ae>>>24)<=G);){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}U>>>=W,G-=W,I.back+=W}if(U>>>=ee,G-=ee,I.back+=ee,64&R){C.msg="invalid distance code",I.mode=F;break}I.offset=Y,I.extra=15&R,I.mode=24;case 24:if(I.extra){for(fe=I.extra;G<fe;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}I.offset+=U&(1<<I.extra)-1,U>>>=I.extra,G-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){C.msg="invalid distance too far back",I.mode=F;break}I.mode=25;case 25:if(te===0)break e;if(Z=J-te,I.offset>Z){if((Z=I.offset-Z)>I.whave&&I.sane){C.msg="invalid distance too far back",I.mode=F;break}Z>I.wnext?(Z-=I.wnext,ye=I.wsize-Z):ye=I.wnext-Z,Z>I.length&&(Z=I.length),V=I.window}else V=L,ye=$-I.offset,Z=I.length;Z>te&&(Z=te),te-=Z,I.length-=Z;do L[$++]=V[ye++];while(--Z);I.length===0&&(I.mode=21);break;case 26:if(te===0)break e;L[$++]=I.length,te--,I.mode=21;break;case 27:if(I.wrap){for(;G<32;){if(Q===0)break e;Q--,U|=H[O++]<<G,G+=8}if(J-=te,C.total_out+=J,I.total+=J,J&&(C.adler=I.check=I.flags?c(I.check,L,J,$-J):l(I.check,L,J,$-J)),J=te,(I.flags?U:b(U))!==I.check){C.msg="incorrect data check",I.mode=F;break}U=0,G=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;G<32;){if(Q===0)break e;Q--,U+=H[O++]<<G,G+=8}if(U!==(4294967295&I.total)){C.msg="incorrect length check",I.mode=F;break}U=0,G=0}I.mode=29;case 29:ue=1;break e;case F:ue=-3;break e;case 31:return-4;default:return d}return C.next_out=$,C.avail_out=te,C.next_in=O,C.avail_in=Q,I.hold=U,I.bits=G,(I.wsize||J!==C.avail_out&&I.mode<F&&(I.mode<27||B!==4))&&N(C,C.output,C.next_out,J-C.avail_out)?(I.mode=31,-4):(ne-=C.avail_in,J-=C.avail_out,C.total_in+=ne,C.total_out+=J,I.total+=J,I.wrap&&J&&(C.adler=I.check=I.flags?c(I.check,L,J,C.next_out-J):l(I.check,L,J,C.next_out-J)),C.data_type=I.bits+(I.last?64:0)+(I.mode===w?128:0)+(I.mode===20||I.mode===15?256:0),(ne===0&&J===0||B===4)&&ue===f&&(ue=-5),ue)},s.inflateEnd=function(C){if(!C||!C.state)return d;var B=C.state;return B.window&&(B.window=null),C.state=null,f},s.inflateGetHeader=function(C,B){var I;return C&&C.state&&2&(I=C.state).wrap?(I.head=B,B.done=!1,f):d},s.inflateSetDictionary=function(C,B){var I,H=B.length;return C&&C.state?(I=C.state).wrap!==0&&I.mode!==11?d:I.mode===11&&l(1,B,H,0)!==I.check?-3:N(C,B,H,H)?(I.mode=31,-4):(I.havedict=1,f):d},s.inflateInfo="pako inflate (from Nodeca project)"},1998:(r,s,o)=>{var a=o(9805),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,d,p,w,F,g,m,b){var y,A,x,v,_,k,E,T,M,N=b.bits,C=0,B=0,I=0,H=0,L=0,O=0,$=0,Q=0,te=0,U=0,G=null,ne=0,J=new a.Buf16(16),Z=new a.Buf16(16),ye=null,V=0;for(C=0;C<=15;C++)J[C]=0;for(B=0;B<w;B++)J[d[p+B]]++;for(L=N,H=15;H>=1&&J[H]===0;H--);if(L>H&&(L=H),H===0)return F[g++]=20971520,F[g++]=20971520,b.bits=1,0;for(I=1;I<H&&J[I]===0;I++);for(L<I&&(L=I),Q=1,C=1;C<=15;C++)if(Q<<=1,(Q-=J[C])<0)return-1;if(Q>0&&(f===0||H!==1))return-1;for(Z[1]=0,C=1;C<15;C++)Z[C+1]=Z[C]+J[C];for(B=0;B<w;B++)d[p+B]!==0&&(m[Z[d[p+B]]++]=B);if(f===0?(G=ye=m,k=19):f===1?(G=l,ne-=257,ye=c,V-=257,k=256):(G=h,ye=u,k=-1),U=0,B=0,C=I,_=g,O=L,$=0,x=-1,v=(te=1<<L)-1,f===1&&te>852||f===2&&te>592)return 1;for(;;){E=C-$,m[B]<k?(T=0,M=m[B]):m[B]>k?(T=ye[V+m[B]],M=G[ne+m[B]]):(T=96,M=0),y=1<<C-$,I=A=1<<O;do F[_+(U>>$)+(A-=y)]=E<<24|T<<16|M;while(A!==0);for(y=1<<C-1;U&y;)y>>=1;if(y!==0?(U&=y-1,U+=y):U=0,B++,--J[C]==0){if(C===H)break;C=d[p+m[B]]}if(C>L&&(U&v)!==x){for($===0&&($=L),_+=I,Q=1<<(O=C-$);O+$<H&&!((Q-=J[O+$])<=0);)O++,Q<<=1;if(te+=1<<O,f===1&&te>852||f===2&&te>592)return 1;F[x=U&v]=L<<24|O<<16|_-g}}return U!==0&&(F[_+U]=C-$<<24|4194304),b.bits=L,0}},4674:r=>{r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},3665:(r,s,o)=>{var a=o(9805);function l(V){for(var ee=V.length;--ee>=0;)V[ee]=0}var c=256,h=286,u=30,f=15,d=16,p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],g=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],m=new Array(576);l(m);var b=new Array(60);l(b);var y=new Array(512);l(y);var A=new Array(256);l(A);var x=new Array(29);l(x);var v,_,k,E=new Array(u);function T(V,ee,R,Y,W){this.static_tree=V,this.extra_bits=ee,this.extra_base=R,this.elems=Y,this.max_length=W,this.has_stree=V&&V.length}function M(V,ee){this.dyn_tree=V,this.max_code=0,this.stat_desc=ee}function N(V){return V<256?y[V]:y[256+(V>>>7)]}function C(V,ee){V.pending_buf[V.pending++]=255&ee,V.pending_buf[V.pending++]=ee>>>8&255}function B(V,ee,R){V.bi_valid>d-R?(V.bi_buf|=ee<<V.bi_valid&65535,C(V,V.bi_buf),V.bi_buf=ee>>d-V.bi_valid,V.bi_valid+=R-d):(V.bi_buf|=ee<<V.bi_valid&65535,V.bi_valid+=R)}function I(V,ee,R){B(V,R[2*ee],R[2*ee+1])}function H(V,ee){var R=0;do R|=1&V,V>>>=1,R<<=1;while(--ee>0);return R>>>1}function L(V,ee,R){var Y,W,q=new Array(f+1),ge=0;for(Y=1;Y<=f;Y++)q[Y]=ge=ge+R[Y-1]<<1;for(W=0;W<=ee;W++){var le=V[2*W+1];le!==0&&(V[2*W]=H(q[le]++,le))}}function O(V){var ee;for(ee=0;ee<h;ee++)V.dyn_ltree[2*ee]=0;for(ee=0;ee<u;ee++)V.dyn_dtree[2*ee]=0;for(ee=0;ee<19;ee++)V.bl_tree[2*ee]=0;V.dyn_ltree[512]=1,V.opt_len=V.static_len=0,V.last_lit=V.matches=0}function $(V){V.bi_valid>8?C(V,V.bi_buf):V.bi_valid>0&&(V.pending_buf[V.pending++]=V.bi_buf),V.bi_buf=0,V.bi_valid=0}function Q(V,ee,R,Y){var W=2*ee,q=2*R;return V[W]<V[q]||V[W]===V[q]&&Y[ee]<=Y[R]}function te(V,ee,R){for(var Y=V.heap[R],W=R<<1;W<=V.heap_len&&(W<V.heap_len&&Q(ee,V.heap[W+1],V.heap[W],V.depth)&&W++,!Q(ee,Y,V.heap[W],V.depth));)V.heap[R]=V.heap[W],R=W,W<<=1;V.heap[R]=Y}function U(V,ee,R){var Y,W,q,ge,le=0;if(V.last_lit!==0)do Y=V.pending_buf[V.d_buf+2*le]<<8|V.pending_buf[V.d_buf+2*le+1],W=V.pending_buf[V.l_buf+le],le++,Y===0?I(V,W,ee):(I(V,(q=A[W])+c+1,ee),(ge=p[q])!==0&&B(V,W-=x[q],ge),I(V,q=N(--Y),R),(ge=w[q])!==0&&B(V,Y-=E[q],ge));while(le<V.last_lit);I(V,256,ee)}function G(V,ee){var R,Y,W,q=ee.dyn_tree,ge=ee.stat_desc.static_tree,le=ee.stat_desc.has_stree,ue=ee.stat_desc.elems,de=-1;for(V.heap_len=0,V.heap_max=573,R=0;R<ue;R++)q[2*R]!==0?(V.heap[++V.heap_len]=de=R,V.depth[R]=0):q[2*R+1]=0;for(;V.heap_len<2;)q[2*(W=V.heap[++V.heap_len]=de<2?++de:0)]=1,V.depth[W]=0,V.opt_len--,le&&(V.static_len-=ge[2*W+1]);for(ee.max_code=de,R=V.heap_len>>1;R>=1;R--)te(V,q,R);W=ue;do R=V.heap[1],V.heap[1]=V.heap[V.heap_len--],te(V,q,1),Y=V.heap[1],V.heap[--V.heap_max]=R,V.heap[--V.heap_max]=Y,q[2*W]=q[2*R]+q[2*Y],V.depth[W]=(V.depth[R]>=V.depth[Y]?V.depth[R]:V.depth[Y])+1,q[2*R+1]=q[2*Y+1]=W,V.heap[1]=W++,te(V,q,1);while(V.heap_len>=2);V.heap[--V.heap_max]=V.heap[1],function(fe,Ae){var Ne,S,D,z,K,re,oe=Ae.dyn_tree,Fe=Ae.max_code,je=Ae.stat_desc.static_tree,We=Ae.stat_desc.has_stree,rt=Ae.stat_desc.extra_bits,Ke=Ae.stat_desc.extra_base,st=Ae.stat_desc.max_length,Qt=0;for(z=0;z<=f;z++)fe.bl_count[z]=0;for(oe[2*fe.heap[fe.heap_max]+1]=0,Ne=fe.heap_max+1;Ne<573;Ne++)(z=oe[2*oe[2*(S=fe.heap[Ne])+1]+1]+1)>st&&(z=st,Qt++),oe[2*S+1]=z,S>Fe||(fe.bl_count[z]++,K=0,S>=Ke&&(K=rt[S-Ke]),re=oe[2*S],fe.opt_len+=re*(z+K),We&&(fe.static_len+=re*(je[2*S+1]+K)));if(Qt!==0){do{for(z=st-1;fe.bl_count[z]===0;)z--;fe.bl_count[z]--,fe.bl_count[z+1]+=2,fe.bl_count[st]--,Qt-=2}while(Qt>0);for(z=st;z!==0;z--)for(S=fe.bl_count[z];S!==0;)(D=fe.heap[--Ne])>Fe||(oe[2*D+1]!==z&&(fe.opt_len+=(z-oe[2*D+1])*oe[2*D],oe[2*D+1]=z),S--)}}(V,ee),L(q,de,V.bl_count)}function ne(V,ee,R){var Y,W,q=-1,ge=ee[1],le=0,ue=7,de=4;for(ge===0&&(ue=138,de=3),ee[2*(R+1)+1]=65535,Y=0;Y<=R;Y++)W=ge,ge=ee[2*(Y+1)+1],++le<ue&&W===ge||(le<de?V.bl_tree[2*W]+=le:W!==0?(W!==q&&V.bl_tree[2*W]++,V.bl_tree[32]++):le<=10?V.bl_tree[34]++:V.bl_tree[36]++,le=0,q=W,ge===0?(ue=138,de=3):W===ge?(ue=6,de=3):(ue=7,de=4))}function J(V,ee,R){var Y,W,q=-1,ge=ee[1],le=0,ue=7,de=4;for(ge===0&&(ue=138,de=3),Y=0;Y<=R;Y++)if(W=ge,ge=ee[2*(Y+1)+1],!(++le<ue&&W===ge)){if(le<de)do I(V,W,V.bl_tree);while(--le!=0);else W!==0?(W!==q&&(I(V,W,V.bl_tree),le--),I(V,16,V.bl_tree),B(V,le-3,2)):le<=10?(I(V,17,V.bl_tree),B(V,le-3,3)):(I(V,18,V.bl_tree),B(V,le-11,7));le=0,q=W,ge===0?(ue=138,de=3):W===ge?(ue=6,de=3):(ue=7,de=4)}}l(E);var Z=!1;function ye(V,ee,R,Y){B(V,0+(Y?1:0),3),function(W,q,ge){$(W),C(W,ge),C(W,~ge),a.arraySet(W.pending_buf,W.window,q,ge,W.pending),W.pending+=ge}(V,ee,R)}s._tr_init=function(V){Z||(function(){var ee,R,Y,W,q,ge=new Array(f+1);for(Y=0,W=0;W<28;W++)for(x[W]=Y,ee=0;ee<1<<p[W];ee++)A[Y++]=W;for(A[Y-1]=W,q=0,W=0;W<16;W++)for(E[W]=q,ee=0;ee<1<<w[W];ee++)y[q++]=W;for(q>>=7;W<u;W++)for(E[W]=q<<7,ee=0;ee<1<<w[W]-7;ee++)y[256+q++]=W;for(R=0;R<=f;R++)ge[R]=0;for(ee=0;ee<=143;)m[2*ee+1]=8,ee++,ge[8]++;for(;ee<=255;)m[2*ee+1]=9,ee++,ge[9]++;for(;ee<=279;)m[2*ee+1]=7,ee++,ge[7]++;for(;ee<=287;)m[2*ee+1]=8,ee++,ge[8]++;for(L(m,287,ge),ee=0;ee<u;ee++)b[2*ee+1]=5,b[2*ee]=H(ee,5);v=new T(m,p,257,h,f),_=new T(b,w,0,u,f),k=new T(new Array(0),F,0,19,7)}(),Z=!0),V.l_desc=new M(V.dyn_ltree,v),V.d_desc=new M(V.dyn_dtree,_),V.bl_desc=new M(V.bl_tree,k),V.bi_buf=0,V.bi_valid=0,O(V)},s._tr_stored_block=ye,s._tr_flush_block=function(V,ee,R,Y){var W,q,ge=0;V.level>0?(V.strm.data_type===2&&(V.strm.data_type=function(le){var ue,de=4093624447;for(ue=0;ue<=31;ue++,de>>>=1)if(1&de&&le.dyn_ltree[2*ue]!==0)return 0;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return 1;for(ue=32;ue<c;ue++)if(le.dyn_ltree[2*ue]!==0)return 1;return 0}(V)),G(V,V.l_desc),G(V,V.d_desc),ge=function(le){var ue;for(ne(le,le.dyn_ltree,le.l_desc.max_code),ne(le,le.dyn_dtree,le.d_desc.max_code),G(le,le.bl_desc),ue=18;ue>=3&&le.bl_tree[2*g[ue]+1]===0;ue--);return le.opt_len+=3*(ue+1)+5+5+4,ue}(V),W=V.opt_len+3+7>>>3,(q=V.static_len+3+7>>>3)<=W&&(W=q)):W=q=R+5,R+4<=W&&ee!==-1?ye(V,ee,R,Y):V.strategy===4||q===W?(B(V,2+(Y?1:0),3),U(V,m,b)):(B(V,4+(Y?1:0),3),function(le,ue,de,fe){var Ae;for(B(le,ue-257,5),B(le,de-1,5),B(le,fe-4,4),Ae=0;Ae<fe;Ae++)B(le,le.bl_tree[2*g[Ae]+1],3);J(le,le.dyn_ltree,ue-1),J(le,le.dyn_dtree,de-1)}(V,V.l_desc.max_code+1,V.d_desc.max_code+1,ge+1),U(V,V.dyn_ltree,V.dyn_dtree)),O(V),Y&&$(V)},s._tr_tally=function(V,ee,R){return V.pending_buf[V.d_buf+2*V.last_lit]=ee>>>8&255,V.pending_buf[V.d_buf+2*V.last_lit+1]=255&ee,V.pending_buf[V.l_buf+V.last_lit]=255&R,V.last_lit++,ee===0?V.dyn_ltree[2*R]++:(V.matches++,ee--,V.dyn_ltree[2*(A[R]+c+1)]++,V.dyn_dtree[2*N(ee)]++),V.last_lit===V.lit_bufsize-1},s._tr_align=function(V){B(V,2,3),I(V,256,m),function(ee){ee.bi_valid===16?(C(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):ee.bi_valid>=8&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(V)}},4442:r=>{r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},7392:r=>{class s{constructor(a={}){if(!(a.maxSize&&a.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=a.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(a,l){this.cache.set(a,l),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(a){if(this.cache.has(a))return this.cache.get(a);if(this.oldCache.has(a)){const l=this.oldCache.get(a);return this.oldCache.delete(a),this._set(a,l),l}}set(a,l){return this.cache.has(a)?this.cache.set(a,l):this._set(a,l),this}has(a){return this.cache.has(a)||this.oldCache.has(a)}peek(a){return this.cache.has(a)?this.cache.get(a):this.oldCache.has(a)?this.oldCache.get(a):void 0}delete(a){const l=this.cache.delete(a);return l&&this._size--,this.oldCache.delete(a)||l}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[a]of this)yield a}*values(){for(const[,a]of this)yield a}*[Symbol.iterator](){for(const a of this.cache)yield a;for(const a of this.oldCache){const[l]=a;this.cache.has(l)||(yield a)}}get size(){let a=0;for(const l of this.oldCache.keys())this.cache.has(l)||a++;return this._size+a}}r.exports=s},1307:function(r,s,o){var a;a=l=>(()=>{var c=[,d=>{d.exports="data:application/wasm;base64,AGFzbQEAAAABOApgAX8Bf2ABfwBgAABgA39/fwF/YAABf2ACf38AYAN/f34BfmACf38Bf2AEf39/fwF/YAN/f38AAyEgAAABAgMDAwMEAQUAAgMCBgcIBwUDAAMHAQcABwcBAwkFAwEAAgYIAX8BQfCgBAsHTgUGbWVtb3J5AgAOY3JlYXRlX2NvbnRleHQACA9kZXN0cm95X2NvbnRleHQACQxzdXBwbHlfaW5wdXQACg9nZXRfbmV4dF9vdXRwdXQACwqNYCDfAgEFf0EAIQECQCAAQQdqIgJBEEkNAEEBIQEgAkEDdiIDQQJGDQBBAiEBIAJBIEkNAEEDIQEgA0EERg0AQQQhASACQTBJDQBBBSEBIANBBkYNAEEGIQEgAkHIAEkNAEEHIQEgAkHYAEkNAEEIIQEgAkGIAUkNAEEJIQEgAkGIAkkNACAAEIGAgIAAIgBBCGpBACAAGw8LAkACQCABQQJ0QcCIgIAAaiIEKAIAIgANAEEAIQACQAJAQQAoAuSIgIAAIgJFDQBBACACKAIANgLkiICAAAwBC0EAEIGAgIAAIgJFDQILIAJBgIB8cSIAIAJBCHZB/wFxIgJyIAE6AAAgAkEIdCAAckGAAmohAEEAIQJBACABQQJ0QYCIgIAAaigCACIDayEFIAMhAQNAIAAgBWoiACACNgIAIAAhAiABIANqIgFBgQJJDQALIAQgADYCAAsgBCAAKAIANgIACyAAC+4HAQd/AkACQAJAAkACQEEALQC0iICAAEUNAEEAQQA6ALSIgIAAQQAoArCIgIAAIgFFDQFBsIiAgAAhAgNAAkACQCABQQhqIgMgASgCBCIEaiIFQQh2Qf8BcSIGDQAgASECDAELAkADQCAFQYCAfHEgBmotAABB/gFHDQFBsIiAgAAhBgNAIAYiBygCACIGIAVHDQALIAcgBSgCADYCACABIAQgBSgCBGpBCGoiBDYCBCAHIAIgAiAFRhshAiADIARqIgVBCHZB/wFxIgYNAAsLIAIoAgAhAgsgAigCACIBDQALC0EAKAKwiICAACIFRQ0AIABBhwJqQYB+cSEDQX8hAkGwiICAACEEQQAhAUGwiICAACEGA0AgBiEHAkAgBSIGKAIEIgUgAEkNACAFIAJPDQAgBSECIAchBCAGIQEgBUEIaiADRw0AIAchBCAFIQIgBiEBDAQLIAYoAgAiBQ0ACyABDQIMAQtBsIiAgAAhBAs/AEEQdCEBIABBiAJqIQdBACEDAkACQEEAKAK4iICAACICRQ0AQQAhBSABIQYMAQtBACABQfCghIAAQf//A2pBgIB8cSIGayICNgK4iICAACACIQULAkAgByAFTQ0AIAcgBWsiByACQQF2IgIgAiAHSRtB//8DaiIHQRB2QABBf0YNAkEAQQAoAriIgIAAIAdBgIB8cSIDajYCuIiAgAALIAZFDQEgBkH/AToAASAGQQAoArCIgIAANgKAAiAGQYQCaiADIAVqQYCAfHFB+H1qIgI2AgAgBkGAAmohAQsgAUGAgHxxIgYgAUEIdkH/AXFyQf8BOgAAIAQgASgCADYCAAJAIAIgAGtBgH5xIgUNACABDwsgASEDAkAgBiABQQhqIgQgAmoiByAFQX9zakGAgHxxRg0AIARB//8DcSEFAkAgAEH3/QNLDQAgBiAEQQh2Qf8BcWpB/gE6AAAgAUEAKAKwiICAADYCACABQYCABCAFayIFNgIEQQAgATYCsIiAgAAQg4CAgAAgBkGEggRqIAIgBWtB+H1qIgU2AgAgBkGBgARqQf8BOgAAIAZBgIIEaiEDIAUgAGtBgH5xIQUMAQsgAiAFaiAAIAVqQX9qQYCAfHFrQYCAfGohBSABIQMLIAMgAygCBCAFazYCBCAFQfgBaiEGIAcgBWtBCHZB/wFxIQUCQANAIAYiB0GAfmohBiAFIgQNAUEBIQUgB0H4AUcNAAsLAkAgB0H4AUYNACACIAFqIAZrQYCAfHEiBSAEakH+AToAACAFIARBCHRqIgVBACgCsIiAgAA2AgAgBSAGNgIEQQAgBTYCsIiAgAAQg4CAgAALIAMPC0EAC3wBAn8CQCAARQ0AAkAgAEGAgHxxIABBCHZB/wFxciIBLQAAIgJB/wFHDQAgAEF4aiIAQQAoArCIgIAANgIAQQAgADYCsIiAgAAgAUH+AToAAEEAQQE6ALSIgIAADwsgACACQQJ0QcCIgIAAaiICKAIANgIAIAIgADYCAAsLawECfwJAQQAoArCIgIAAIgAoAgRB/wFLDQAgAEGAgHxxIgEgAEEIdkH/AXEiAHJBCToAAEEAQQAoArCIgIAAKAIANgKwiICAACABIABBCHRyIgBBACgC5IiAgAA2AgBBACAANgLkiICAAAsLTgECfwJAIAAgAUYNACACRQ0AA0ACQCAALQAAIgMgAS0AACIERg0AQQFBfyADIARLGw8LIAFBAWohASAAQQFqIQAgAkF/aiICDQALC0EAC3gBAX8CQAJAIAAgAU8NACACRQ0BIAAhAwNAIAMgAS0AADoAACABQQFqIQEgA0EBaiEDIAJBf2oiAg0ADAILCyAAIAFNDQAgAkUNACABQX9qIQEgAEF/aiEDA0AgAyACaiABIAJqLQAAOgAAIAJBf2oiAg0ACwsgAAssAQF/AkAgAkUNACAAIQMDQCADIAE6AAAgA0EBaiEDIAJBf2oiAg0ACwsgAAuCAQEBfwJAAkAgAEEDcQ0AIAEgAnJBA3ENACACQQRJDQEgAkECdiECIAAhAwNAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIAJBf2oiAg0ADAILCyACRQ0AIAAhAwNAIAMgAS0AADoAACABQQFqIQEgA0EBaiEDIAJBf2oiAg0ACwsgAAuIAQECfwJAQQAtAOiIgIAADQBBAEEBOgDoiICAABCMgICAABCOgICAAAtBoIAIEICAgIAAIgBBgIAENgIAQQJBgICAIBCXgICAACEBIABBFGpCgICAgICAwAA3AgAgAEEQaiAAQaCABGo2AgAgAEEIakIANwMAIAAgAEEgajYCBCAAIAE2AhwgAAsVACAAKAIcEJiAgIAAIAAQgoCAgAALFgAgAEEMaiABNgIAIABBCGpBADYCAAsbACAAKAIcIABBBGogAEEMaigCAEUQloCAgAALVAEDf0EAIQADQEEIIQEgACECA0BBACACQQFxa0GghuLtfnEgAkEBdnMhAiABQX9qIgENAAsgAEECdEHwiICAAGogAjYCACAAQQFqIgBBgAJHDQALC0oAIAJBf3MhAgJAIAFFDQADQCACQf8BcSAALQAAc0ECdEHwiICAAGooAgAgAkEIdnMhAiAAQQFqIQAgAUF/aiIBDQALCyACQX9zC10DAX4BfwF+QgAhAANAQQghASAAIQIDQEIAIAJCAYN9QsKenLzd8pW2SYMgAkIBiIUhAiABQX9qIgENAAsgAKdBA3RB8JCAgABqIAI3AwAgAEIBfCIAQoACUg0ACwtLACACQn+FIQICQCABRQ0AA0AgAkL/AYMgADEAAIWnQQN0QfCQgIAAaikDACACQgiIhSECIABBAWohACABQX9qIgENAAsLIAJCf4UL1RACDH8CfgJAAkAgACgCJEUNACAAKAIAIQIMAQtBACECIABBADoAKCAAQgA3AwAgAEIANwMYIABByABqQQBB5AAQhoCAgAAaIABBrAFqQQw2AgALIAAgASgCBCIDNgIQIABBsAFqIQQgAEHgAGohBSAAQcgAaiEGIABBtgFqIQcgAEGoAWohCCABKAIQIQkCQAJAAkACQANAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIOCgECAAQFBgcICQoPCyABKAIAIQogACgCqAEhAiAAKAKsASELIAEoAgQhDCABKAIIIQ0MAgsgCCAAKAKoASIMakEIaiABKAIAIAEoAgQiAmogASgCCCACayICIAAoAqwBIAxrIgwgAiAMSRsiAhCHgICAABogASABKAIEIAJqNgIEQQAhDCAAQQAgACgCqAEgAmoiAiACIAAoAqwBIgtGGzYCqAEgAiALRw0RIABBATYCAAJAIARBqIiAgABBBhCEgICAAEUNAEEFIQwMEgsgB0ECQQAQjYCAgAAgACgAuAFHDRBBBiEMIActAAANESAAIAAtALcBIgI2AiAgAkEESw0RQQEgAnRBE3FFDRELIAEoAgQiDCABKAIIIg1GDQ4CQCABKAIAIgogDGotAAAiCw0AIAAgDDYCECABIAxBAWo2AgRBBiECDAwLQQAhAiAAQQA2AqgBIABBAjYCACAAIAtBAnRBBGoiCzYCrAEgACALNgJACyAIIAJqQQhqIAogDGogDSAMayIMIAsgAmsiAiAMIAJJGyICEIeAgIAAGiABIAIgASgCBGo2AgRBACEMIABBACAAKAKoASACaiICIAIgACgCrAEiC0YbNgKoASACIAtHDQ8gACACQXxqIgI2AqwBQQchDCAEIAJBABCNgICAACAAIAAoAqwBIgtqQbABaigAAEcNDyAAQQI2AqgBIAAtALEBIgJBP3ENDAJAAkAgAkHAAHFFDQAgACAEIAggCxCRgICAAEEBRw0RIAAgACkDCDcDMCAALQCxASECDAELIABCfzcDMAtCfyEOAkAgAkEYdEEYdUF/Sg0AIAAgBCAIIAAoAqwBEJGAgIAAQQFHDRAgACkDCCEOCyAAIA43AzggACgCrAEiDSAAKAKoASICa0ECSQ0PIAAgAkEBaiIKNgKoASAIIAJqQQhqLQAAQSFHDQwgACACQQJqIgs2AqgBIAggCmpBCGotAABBAUcNDCANIAtGDQ8gACACQQNqNgKoASAAKAKwCSAIIAtqQQhqLQAAEJyAgIAAIgwNDyAAKAKoASIMIAAoAqwBIgIgDCACSxshDQJAA0AgDSAMRg0BIAggDEEBaiICNgIAIAQgDGohCyACIQwgCy0AAA0ODAALCyAGQgA3AwAgAEEANgKoASAAQQM2AgAgBkEIakIANwMACyAAIAEoAgQ2AhAgACABKAIQNgIUIAAoArAJIAEQmYCAgAAhDCAAIAApA0ggASgCBCAAKAIQa618Ig43A0ggACAAKQNQIAEoAhAgACgCFCICayILrXwiDzcDUCAOIAApAzBWDQ0gDyAAKQM4Vg0NAkACQAJAAkAgACgCIEF/ag4EAAMDAQMLIAEoAgwgAmogCyAAKAIYEI2AgIAArSEODAELIAEoAgwgAmogCyAAKQMYEI+AgIAAIQ4LIAAgDjcDGAsgDEEBRw0OAkAgACkDMCIOQn9RDQAgDiAGKQMAUg0OCwJAIAApAzgiDkJ/UQ0AQQchDCAOIAApA1BSDQ8LIAAgACkDSCAANQJAfCAAKQNgfCIPNwNgQgQhDgJAAkACQCAAKAIgQX9qDgQBAgIAAgtCCCEOCyAFIA4gD3w3AwALIAAgACkDaCAAKQNQfDcDaCAAIAVBGCAAKAJwEI2AgIAANgJwIABBBDYCACAAIAApA1hCAXw3A1gLAkAgBikDACIOQgODUA0AIA5CAXwhDiABKAIEIQwgASgCCCELA0AgCyAMRg0NIAEgDEEBaiICNgIEIAEoAgAgDGotAAANDiAGIA43AwAgDkIDgyEPIA5CAXwhDiACIQwgD0IAUg0ACwsgAEEFNgIAC0EBIQIgACgCIEF/ag4EBgcHBQcLIAAgARCSgICAACIMQQFHDQsgAEEHNgIAC0EAIAAoAhBrIQggAEGAAWopAwAhDiABKAIEIQwCQANAIA4gCCAMaq18QgODUA0BAkAgDCABKAIIRw0AIAAgARCTgICAAAwLCyABIAxBAWoiAjYCBCABKAIAIAxqIQsgAiEMIAstAAANCwwACwsgACABEJOAgIAAQQchDCAFIABBkAFqQRgQhICAgAANCiAAQQg2AgALIAAgAUEgEJSAgIAAIgxBAUcNCSAAQQk2AgBBDCELIABBDDYCrAEMAQsgACgCrAEhCwsgAEGoAWogACgCqAEiDGpBCGogASgCACABKAIEIgJqIAEoAgggAmsiAiALIAxrIgwgAiAMSRsiAhCHgICAABogASABKAIEIAJqNgIEQQAhDCAAQQAgACgCqAEgAmoiAiACIAAoAqwBIgtGGzYCqAEgAiALRw0HIAAQlYCAgAAhDAwHC0EBIQIgACABQcAAEJSAgIAAIgxBAUcNBgwBC0EBIQIgACABQSAQlICAgAAiDEEBRw0FCyAAIAI2AgAMAAsLQQYhDAwCC0EAIQwMAQtBByEMCwJAAkAgACgCJA0AAkACQCAMDgIAAwELQQdBCCABKAIEIAEoAghGGyEMCyABIAk2AhAgASADNgIEIAwPCwJAIAwNACADIAEoAgRHDQAgCSABKAIQRw0AIAAtACghASAAQQE6ACggAUEDdA8LIABBADoAKAsgDAuaAQEDfwJAIAAoAgQiBA0AIABCADcDCAsgAigCACEFA0ACQCAFIANJDQBBAA8LIAEgBWotAAAhBiACIAVBAWoiBTYCACAAIAZB/wBxrSAErYYgACkDCIQ3AwgCQAJAIAZBgAFxDQACQCAGDQBBByEGIAQNAgsgAEEANgIEQQEPC0EHIQYgACAEQQdqIgQ2AgQgBEE/Rw0BCwsgBguhAgIDfwF+IABBkAFqIQIgAUEEaiEDA0ACQCAAIAEoAgAgAyABKAIIEJGAgIAAIgRBAUYNACAAQYABaiIDIAMpAwAgASgCBCAAKAIQIgNrIgKtfDcDACAAIAMgASgCAGogAiAAKAIYEI2AgIAArTcDGCAEDwsCQAJAAkACQAJAIAAoAngOAwACAQMLIAAgACkDCCIFNwOIAQJAIAUgACkDWFENAEEHDwsgAEEBNgJ4DAMLIAAgACkDmAEgACkDCHw3A5gBIAAgAkEYIAAoAqABEI2AgIAANgKgASAAQQE2AnggACAAKQOIAUJ/fCIFNwOIAQwCCyAAQQI2AnggACAAKQOQASAAKQMIfDcDkAELIAApA4gBIQULIAVCAFINAAtBAQtAAQJ/IABBgAFqIgIgAikDACABKAIEIAAoAhAiAmsiA618NwMAIAAgAiABKAIAaiADIAAoAhgQjYCAgACtNwMYC3wBBH8gASgCBCEDIAEoAgghBANAAkAgBCADRw0AQQAPCyABIANBAWoiBTYCBAJAIAEoAgAgA2otAAAgACkDGCAAKAIEIgOtiKdB/wFxRg0AQQcPCyAAIANBCGoiBjYCBCAFIQMgBiACSQ0ACyAAQQA2AgQgAEIANwMYQQELbwEBf0EHIQECQCAAQboBai8AAEHZtAFHDQAgAEG0AWpBBkEAEI2AgIAAIABBsAFqKAAARw0AIABBgAFqKQMAQgKIIAA1ALQBUg0AIABBuAFqLQAADQBBAUEHIAAoAiAgAEG5AWotAABGGyEBCyABC7QCAQR/AkACQCAAKAIkRQ0AIAAoAgAhAwwBC0EAIQMgAEEAOgAoIABCADcDACAAQgA3AxggAEHIAGpBAEHkABCGgICAABogAEGsAWpBDDYCAEEBIQILIABByABqIQQCQAJAA0ACQCADQQpHDQAgASgCBCIDIAEoAggiBUYNAiABKAIAIQYCQANAIAYgA2otAAANASABIANBAWoiAzYCBCAAIAAoAgRBAWpBA3E2AgQgBSADRg0EDAALCwJAIAAoAgRFDQBBBw8LIAAoAiRFDQAgAEEAOgAoIABCADcDACAAQgA3AxggBEEAQeQAEIaAgIAAGiAAQQw2AqwBCyAAIAEQkICAgAAiA0EBRw0CQQohAyAAQQo2AgAMAAsLAkAgAg0AQQAPC0EHQQEgACgCBBshAwsgAwt1AQF/AkBBuAkQgICAgAAiAkUNACACIAA2AiQgAiAAIAEQm4CAgAAiADYCsAkCQCAARQ0AIAJBADoAKCACQgA3AwAgAkIANwMYIAJByABqQQBB5AAQhoCAgAAaIAJBrAFqQQw2AgAgAg8LIAIQgoCAgAALQQALHgACQCAARQ0AIAAoArAJEJ2AgIAAIAAQgoCAgAALC4ARAQx/IABB6N0BaiECIABB1ABqIQMgAEEcaiIEQQhqIQUCQAJAA0AgACgCQCEGAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgASgCBCIHIAEoAggiCEkNACAGQQdGDQEMEgsgBg4JAQIDBAUGBwAJDwsgACgCTCEGDAcLQQEhCSABIAdBAWo2AgQgASgCACAHai0AACIHRQ0IAkACQCAHQd8BSw0AIAdBAUcNAQsgAEGAAjsBUAJAIAAoAjwNACAAIAEoAgwgASgCECIGajYCGCAAIAEoAhQgBms2AiwLIARCADcCACAFQgA3AgAMCwsgAC0AUEUNCgwOCyABIAdBAWo2AgQgASgCACAHai0AACEHIABBAjYCQCAAIAdBCHQgACgCSGo2AkgMDAsgASAHQQFqNgIEIAEoAgAgB2otAAAhByAAQQM2AkAgACAHIAAoAkhqQQFqNgJIDAsLIAEgB0EBajYCBCABKAIAIAdqLQAAIQcgAEEENgJAIAAgB0EIdDYCTAwKCyABIAdBAWo2AgQgASgCACAHai0AACEHIAAgACgCRDYCQCAAIAcgACgCTGpBAWo2AkwMCQsgASAHQQFqNgIEQQchCSABKAIAIAdqLQAAIgdB4AFLDQNBACEGAkACQCAHQS1PDQBBACEIDAELIAdBU2oiByAHQf8BcUEtbiIIQS1sayEHIAhBAWohCAsgAEF/IAh0QX9zNgJ0AkAgB0H/AXFBCUkNACAHQXdqIgcgB0H/AXFBCW4iBkEJbGshByAGQQFqIQYLIAAgBjYCcCAAIAdB/wFxIgc2AmwgBiAHakEESw0DIANCADcCACADQQhqQgA3AgAgA0EQakEANgIAIABBfyAGdEF/czYCcEH4ACEHA0AgACAHakGACDsBACAHQQJqIgdB5N0BRw0ACyAAQQY2AkAgAEEFNgIIIABC/////w83AgALIAAoAkwiCUEFSQ0IAkAgACgCCCIHRQ0AIAdBf2ohBiABKAIEIQcgASgCCCEKA0AgCiAHRg0LIAEgB0EBaiIINgIEIAEoAgAgB2otAAAhByAAIAY2AgggACAHIAAoAgRBCHRyNgIEIAghByAGQX9qIgZBf0cNAAsLIABBBzYCQCAAIAlBe2oiBjYCTAsgACAAKAIgIgcgASgCFCABKAIQayIIIAAoAkgiCiAIIApJGyIIaiAAKAIsIgogCiAHayAISxs2AiggASgCCCIJIAEoAgQiCGshBwJAAkACQCAAKALk3QEiCg0AIAYNAUEAIQYLIABB5N0BaiILIApqQQRqIAEoAgAgCGogByAGIAprIgZBKiAKayIIIAggBksbIgYgBiAHSxsiBxCHgICAABoCQAJAIAcgACgC5N0BIghqIgYgACgCTEcNACALIAhqIAdqQQRqQQBBPyAGaxCGgICAABogACgC5N0BIAdqIQYMAQsCQCAGQRRLDQAgACAGNgLk3QEgASABKAIEIAdqNgIEDAMLIAZBa2ohBgsgAEEANgIQIAAgAjYCDCAAIAY2AhRBByEJIAAQmoCAgABFDQMgACgCECIIIAAoAuTdASIKIAdqSw0DIAAgACgCTCAIayIGNgJMAkAgCiAITQ0AIAAgCiAIayIHNgLk3QEgAiALIAhqQQRqIAcQhYCAgAAaDAILIABBADYC5N0BIAEgASgCBCAIIApraiIINgIEIAEoAggiCSAIayEHCwJAIAdBFUkNACAAIAg2AhAgACABKAIANgIMIAAgCUFraiAIIAZqIAcgBkEVakkbNgIUQQchCSAAEJqAgIAARQ0DIAAoAkwiByAAKAIQIgggASgCBGsiBkkNAyABIAg2AgQgACAHIAZrIgY2AkwgASgCCCAIayIHQRRLDQELIAIgASgCACAIaiAGIAcgByAGSxsiBxCHgICAABogACAHNgLk3QEgASABKAIEIAdqNgIECyAAKAIgIgYgACgCHCIIayEHAkAgACgCPEUNAAJAIAYgACgCLEcNACAAQQA2AiALIAEoAgwgASgCEGogACgCGCAIaiAHEIeAgIAAGiAAKAIgIQYLIAAgBjYCHCABIAEoAhAgB2oiBjYCECAAIAAoAkggB2siBzYCSAJAIAcNAEEHIQkgACgCTA0CIAAoAmgNAiAAKAIEDQIgAEEANgJADAULQQAhCSAGIAEoAhRGDQEgASgCBCABKAIIRw0GIAAoAuTdASAAKAJMTw0GDAELIAAoAkwiCkUNAUEAIQkgCCAHTQ0AA0AgASgCFCIGIAEoAhAiC00NASAAIAogCiAAKAIsIAAoAiAiDGsiDSAIIAdrIgggBiALayIGIAggBkkbIgYgBiANSxsiBiAGIApLGyIGazYCTCAMIAAoAhhqIAEoAgAgB2ogBhCFgICAABogACAAKAIgIAZqIgc2AiACQCAAKAIkIAdPDQAgACAHNgIkCwJAIAAoAjxFDQACQCAHIAAoAixHDQAgAEEANgIgCyABKAIMIAEoAhBqIAEoAgAgASgCBGogBhCFgICAABogACgCICEHCyAAIAc2AhwgASABKAIQIAZqNgIQIAEgASgCBCAGaiIHNgIEIAAoAkwiCkUNAiABKAIIIgggB0sNAAsLIAkPCyAAQQA2AkAMAwsgB0EYdEEYdUF/Sg0BIABBATYCQCAAIAdBEHRBgID8AHE2AkgCQCAHQcABSQ0AIABBBTYCRCAAQQA6AFEMAwsgAC0AUQ0DIABBBjYCRCAHQaABSQ0CIANCADcCACADQRBqQQA2AgAgA0EIakIANwIAQfgAIQcDQCAAIAdqQYAIOwEAIAdBAmoiB0Hk3QFHDQALCyAAQQU2AgggAEL/////DzcCAAwBCyAHQQJLDQEgAEKDgICAgAE3AkAMAAsLQQcPC0EAC/8XARJ/IABBGGohAQJAIABBIGooAgAiAiAAQShqKAIAIgNPDQAgAEHoAGoiBCgCAEUNACABIAQgACgCVBCegICAABogACgCKCEDIAAoAiAhAgsCQCACIANPDQAgAEHcDWohBSAAQegAaiEGIABB4BVqIQcgAEHUAGohCANAIAAoAhAiCSAAKAIUSw0BIAAgACgCZCIKQQV0aiAAKAJ0IAJxIgtBAXRqIgxB+ABqIQ0CQAJAIAAoAgAiBEGAgIAISQ0AIAAoAgQhDgwBCyAAIARBCHQiBDYCACAAIAlBAWoiAzYCECAAIAAoAgRBCHQgACgCDCAJai0AAHIiDjYCBCADIQkLAkACQCAOIARBC3YgDS8BACIPbCIDTw0AIAAgAzYCACANIA9BgBAgD2tBBXZqOwEAIAJBf2ohBAJAIAINACAAKAIsIARqIQQLAkACQCAAKAIkIg8NAEEAIQQMAQsgACgCGCAEai0AACEECyAAKAJwIAJxIAAoAmwiDXQgBEEIIA1rdmohDAJAAkAgCkEGSw0AQQEhBANAIAAgDEGADGxqIARBAXQiBGpB5B1qIQ0CQAJAIANB////B00NACADIQoMAQsgACADQQh0Igo2AgAgACAJQQFqIgM2AhAgACAOQQh0IAAoAgwgCWotAAByIg42AgQgAyEJCwJAAkAgDiAKQQt2IA0vAQAiD2wiA0kNACAAIA4gA2siDjYCBCAAIAogA2siAzYCACANIA8gD0EFdms7AQAgBEEBciEEDAELIAAgAzYCACANIA9BgBAgD2tBBXZqOwEACyAEQYACSQ0ADAILCyACIAAoAlQiDUF/c2ohBAJAIAIgDUsNACAAKAIsIARqIQQLAkACQCAPDQBBACEQDAELIAAoAhggBGotAAAhEAtBASEEQYACIQ0DQCAAIAxBgAxsaiAQQQF0IhAgDXEiESANaiAEakEBdGpB5B1qIQ8CQAJAIANB////B00NACADIQsMAQsgACADQQh0Igs2AgAgACAJQQFqIgM2AhAgACAOQQh0IAAoAgwgCWotAAByIg42AgQgAyEJCwJAAkAgDiALQQt2IA8vAQAiCmwiA08iEg0AIAAgAzYCACAKQYAQIAprQQV2aiEKDAELIAAgDiADayIONgIEIAAgCyADayIDNgIAIAogCkEFdmshCkEAIQ0LIA8gCjsBACANIBFzIQ0gBEEBdCASciIEQYACSQ0ACwsgACACQQFqNgIgIAAoAhggAmogBDoAAAJAIAAoAiQgACgCICICTw0AIAAgAjYCJAtBACEDAkAgACgCZCIEQQRJDQACQCAEQQlLDQAgBEF9aiEDDAELIARBemohAwsgACADNgJkDAELIAAgDiADayIONgIEIAAgBCADayIDNgIAIA0gDyAPQQV2azsBACAAIApBAXRqIg9B+ANqIQQCQAJAIANB////B00NACAJIQoMAQsgACADQQh0IgM2AgAgACAJQQFqIgo2AhAgACAOQQh0IAAoAgwgCWotAAByIg42AgQLAkACQCAOIANBC3YgBC8BACINbCIJSQ0AIAAgDiAJayIONgIEIAAgAyAJayIDNgIAIAQgDSANQQV2azsBACAPQZAEaiENAkACQCADQf///wdNDQAgCiEQDAELIAAgA0EIdCIDNgIAIAAgCkEBaiIQNgIQIAAgDkEIdCAAKAIMIApqLQAAciIONgIECwJAAkAgDiADQQt2IA0vAQAiCWwiBE8NACANIAlBgBAgCWtBBXZqOwEAIAxB2ARqIQMCQCAEQf///wdLDQAgACAEQQh0IgQ2AgAgACAQQQFqNgIQIAAgDkEIdCAAKAIMIBBqLQAAciIONgIECwJAIA4gBEELdiADLwEAIg1sIglJDQAgACAOIAlrNgIEIAAgBCAJazYCACADIA0gDUEFdms7AQAMAgsgAyANQYAQIA1rQQV2ajsBACAAIAk2AgAgAEEBNgJoIABBCUELIAAoAmRBB0kbNgJkDAMLIAAgDiAEayIONgIEIA0gCSAJQQV2azsBACAPQagEaiENAkACQCADIARrIgNB////B00NACAQIQoMAQsgACADQQh0IgM2AgAgACAQQQFqIgo2AhAgACAOQQh0IAAoAgwgEGotAAByIg42AgQLAkACQCAOIANBC3YgDS8BACIEbCIJTw0AIAAgCTYCACANIARBgBAgBGtBBXZqOwEAIAAoAlghAwwBCyAAIA4gCWsiDjYCBCANIAQgBEEFdms7AQAgD0HABGohBAJAIAMgCWsiA0H///8HSw0AIAAgA0EIdCIDNgIAIAAgCkEBajYCECAAIA5BCHQgACgCDCAKai0AAHIiDjYCBAsCQAJAIA4gA0ELdiAELwEAIg1sIglPDQAgACAJNgIAIAQgDUGAECANa0EFdmo7AQAgACgCXCEDDAELIAAgDiAJazYCBCAAIAMgCWs2AgAgACgCYCEDIAAgACgCXDYCYCAEIA0gDUEFdms7AQALIAAgACgCWDYCXAsgACAAKAJUNgJYIAAgAzYCVAsgAEEIQQsgACgCZEEHSRs2AmQgACAHIAsQn4CAgAAMAQsgBCANQYAQIA1rQQV2ajsBACAAIAk2AgAgACAAKAJcNgJgIAAgACkCVDcCWCAAQQdBCiAAKAJkQQdJGzYCZCAAIAUgCxCfgICAACAAKAJoIgNBfmpBAyADQQZJGyEKIAAoAgAhA0EBIQ4DQCAAIApBB3RqIA5BAXQiDmpB2AdqIQ0CQAJAIANBgICACEkNACAAKAIEIQQMAQsgACADQQh0IgM2AgAgACAAKAIQIgRBAWo2AhAgACAAKAIEQQh0IAQgACgCDGotAAByIgQ2AgQLAkACQCAEIANBC3YgDS8BACIJbCIPSQ0AIAAgBCAPayIENgIEIAAgAyAPayIDNgIAIA0gCSAJQQV2azsBACAOQQFyIQ4MAQsgACAPNgIAIA0gCUGAECAJa0EFdmo7AQAgDyEDCyAOQcAASQ0ACwJAIA5BQGoiCUEDSw0AIAAgCTYCVAwBCyAAIA5BAXFBAnIiDTYCVCAJQQF2IQ8CQCAJQQ1LDQAgACANIA9Bf2oiDHQiCzYCVEEBIQ0gCCALQQF0akGEC2ohEEE/IA5rIRFBACEPA0AgECARIA1qQQF0aiEOAkACQCADQf///wdNDQAgAyEKDAELIAAgA0EIdCIKNgIAIAAgACgCECIDQQFqNgIQIAAgBEEIdCADIAAoAgxqLQAAciIENgIECwJAAkAgBCAKQQt2IA4vAQAiCWwiA0kNACAAIAQgA2siBDYCBCAAIAogA2siAzYCACAOIAkgCUEFdms7AQAgAEEBIA90IAtqIgs2AlQgDUEBdEEBciENDAELIAAgAzYCACAOIAlBgBAgCWtBBXZqOwEAIA1BAXQhDQsgDCAPQQFqIg9HDQAMAgsLIA9Be2ohDgNAAkAgA0H///8HSw0AIAAgA0EIdCIDNgIAIAAgACgCECIJQQFqNgIQIARBCHQgCSAAKAIMai0AAHIhBAsgACADQQF2IgM2AgAgACAEIANrIgRBH3UiCSANQQF0akEBaiINNgJUIAAgCSADcSAEaiIENgIEIA5Bf2oiDg0ACyAAIA1BBHQiCzYCVEEAIQ9BASEOA0AgACAOQQF0Ig5qQbwNaiENAkACQCADQf///wdNDQAgAyEKDAELIAAgA0EIdCIKNgIAIAAgACgCECIDQQFqNgIQIAAgBEEIdCADIAAoAgxqLQAAciIENgIECwJAAkAgBCAKQQt2IA0vAQAiCWwiA0kNACAAIAQgA2siBDYCBCAAIAogA2siAzYCACANIAkgCUEFdms7AQAgAEEBIA90IAtqIgs2AlQgDkEBciEODAELIAAgAzYCACANIAlBgBAgCWtBBXZqOwEACyAPQQFqIg9BBEcNAAsLAkAgASAGIAAoAlQQnoCAgAANAEEADwsgACgCICECCyACIAAoAihJDQALC0EBIQMCQCAAKAIAIgRB////B0sNACAAIARBCHQ2AgBBASEDIAAgACgCECIEQQFqNgIQIAAgACgCBEEIdCAEIAAoAgxqLQAAcjYCBAsgAwtwAQF/AkBBqN4BEICAgIAAIgJFDQAgAkE0aiABNgIAIAJBPGogADYCAAJAAkACQCAAQX9qDgIAAQILIAIgARCAgICAACIANgIYIAANASACEIKAgIAADAILIAJBADYCGCACQThqQQA2AgALIAIPC0EAC9IBAQJ/QQYhAgJAIAFBJ0sNACAAQTBqIAFBAXFBAnIgAUEBdkELanQiATYCAAJAAkAgAEE8aigCACIDRQ0AQQQhAiABIABBNGooAgBLDQIgAEEsaiABNgIAIANBAkcNACAAQThqIgMoAgAgAU8NACAAIAE2AjggACgCGBCCgICAACAAIAAoAjAQgICAgAAiATYCGCABDQBBAyECDAELQQAhAiAAQQA2AkAgAEHQAGpBAToAACAAQegAakEANgIAIABB5N0BaiEDCyADQQA2AgALIAILIwACQCAAQTxqKAIARQ0AIAAoAhgQgoCAgAALIAAQgoCAgAAL9QEBBH9BACEDAkAgACgCDCACTQ0AIAAoAhggAk0NACABIAEoAgAiBCAAKAIQIAAoAggiBWsiBiAEIAYgBEkbIgRrNgIAIAUgAkF/c2ohAQJAIAUgAksNACAAKAIUIAFqIQELIAAoAgAiAiABai0AACEGQQEhAyAAIAVBAWo2AgggAiAFaiAGOgAAAkAgBEF/aiICRQ0AA0AgACgCACIFQQAgAUEBaiIBIAEgACgCFEYbIgFqLQAAIQQgACAAKAIIIgZBAWo2AgggBSAGaiAEOgAAIAJBf2oiAg0ACwsgACgCDCAAKAIIIgFPDQAgACABNgIMCyADC8gEAQd/AkACQCAAKAIAIgNBgICACEkNACAAKAIEIQQMAQsgACADQQh0IgM2AgAgACAAKAIQIgVBAWo2AhAgACAAKAIEQQh0IAUgACgCDGotAAByIgQ2AgQLAkACQCAEIANBC3YgAS8BACIGbCIFTw0AIAEgBkGAECAGa0EFdmo7AQAgASACQQR0akEEaiEHQQghCEECIQkMAQsgACAEIAVrIgQ2AgQgASAGIAZBBXZrOwEAAkAgAyAFayIDQf///wdLDQAgACADQQh0IgM2AgAgACAAKAIQIgVBAWo2AhAgACAEQQh0IAUgACgCDGotAAByIgQ2AgQLAkAgBCADQQt2IAEvAQIiBmwiBU8NACABIAZBgBAgBmtBBXZqOwECIAEgAkEEdGpBhAJqIQdBCCEIQQohCQwBCyAAIAQgBWsiBDYCBCABIAYgBkEFdms7AQIgAUGEBGohByADIAVrIQVBgAIhCEESIQkLIABB6ABqIAk2AgBBASEBA0AgByABQQF0IgFqIQMCQAJAIAVB////B00NACAFIQIMAQsgACAFQQh0IgI2AgAgACAAKAIQIgVBAWo2AhAgACAEQQh0IAUgACgCDGotAAByIgQ2AgQLAkACQCAEIAJBC3YgAy8BACIGbCIFSQ0AIAAgBCAFayIENgIEIAAgAiAFayIFNgIAIAMgBiAGQQV2azsBACABQQFyIQEMAQsgACAFNgIAIAMgBkGAECAGa0EFdmo7AQALIAEgCEkNAAsgAEHoAGogASAIayAJajYCAAsLNQEAQYAICy4IAAAAEAAAABgAAAAgAAAAKAAAADAAAABAAAAAUAAAAIAAAAAAAQAA/Td6WFoA"},d=>{d.exports=l}],h={};function u(d){var p=h[d];if(p!==void 0)return p.exports;var w=h[d]={exports:{}};return c[d](w,w.exports,u),w.exports}u.d=(d,p)=>{for(var w in p)u.o(p,w)&&!u.o(d,w)&&Object.defineProperty(d,w,{enumerable:!0,get:p[w]})},u.o=(d,p)=>Object.prototype.hasOwnProperty.call(d,p),u.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var f={};return(()=>{u.r(f),u.d(f,{XzReadableStream:()=>F});var d=u(1);const p=globalThis.ReadableStream||u(2).ReadableStream;class w{constructor(b){this.exports=b.exports,this.memory=this.exports.memory,this.ptr=this.exports.create_context(),this._refresh(),this.bufSize=this.mem32[0],this.inStart=this.mem32[1]-this.ptr,this.inEnd=this.inStart+this.bufSize,this.outStart=this.mem32[4]-this.ptr}supplyInput(b){this._refresh(),this.mem8.subarray(this.inStart,this.inEnd).set(b,0),this.exports.supply_input(this.ptr,b.byteLength),this._refresh()}getNextOutput(){const b=this.exports.get_next_output(this.ptr);if(this._refresh(),b!==0&&b!==1)throw new Error(`get_next_output failed with error code ${b}`);return{outChunk:this.mem8.slice(this.outStart,this.outStart+this.mem32[5]),finished:b===1}}needsMoreInput(){return this.mem32[2]===this.mem32[3]}outputBufferIsFull(){return this.mem32[5]===this.bufSize}resetOutputBuffer(){this.outPos=this.mem32[5]=0}dispose(){this.exports.destroy_context(this.ptr),this.exports=null}_refresh(){var b;this.memory.buffer!==((b=this.mem8)==null?void 0:b.buffer)&&(this.mem8=new Uint8Array(this.memory.buffer,this.ptr),this.mem32=new Uint32Array(this.memory.buffer,this.ptr))}}const g=class g extends p{static async _getModuleInstance(){const b=d.replace("data:application/wasm;base64,",""),y=Uint8Array.from(atob(b),x=>x.charCodeAt(0)).buffer,A=await WebAssembly.instantiate(y,{});g._moduleInstance=A.instance}constructor(b){let y,A=null;const x=b.getReader();super({async start(v){g._moduleInstance||await(g._moduleInstancePromise||(g._moduleInstancePromise=g._getModuleInstance())),y=new w(g._moduleInstance)},async pull(v){if(y.needsMoreInput()){if(A===null||A.byteLength===0){const{done:E,value:T}=await x.read();E||(A=T)}const k=Math.min(y.bufSize,A.byteLength);y.supplyInput(A.subarray(0,k)),A=A.subarray(k)}const _=y.getNextOutput();v.enqueue(_.outChunk),y.resetOutputBuffer(),_.finished&&(y.dispose(),v.close())},cancel:()=>(y.dispose(),x.cancel())})}};Re(g,"_moduleInstancePromise"),Re(g,"_moduleInstance");let F=g})(),f})(),r.exports=a(o(772))},3617:()=>{},772:()=>{},4132:(r,s,o)=>{var a=o(8287).Buffer;function l(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}const c=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function h(p){if(a.isBuffer(p))return p;if(typeof p=="number")return a.alloc(p);if(typeof p=="string")return a.from(p);throw new Error("input must be buffer, number, or string, received "+typeof p)}function u(p,w){p=h(p),a.isBuffer(w)&&(w=w.readUInt32BE(0));let F=~w;for(var g=0;g<p.length;g++)F=c[255&(F^p[g])]^F>>>8;return~F}function f(){return function(p){const w=h(4);return w.writeInt32BE(p,0),w}(u.apply(null,arguments))}f.signed=function(){return u.apply(null,arguments)},f.unsigned=function(){return u.apply(null,arguments)>>>0};const d=l(f);r.exports=d}},e={};function t(r){var s=e[r];if(s!==void 0)return s.exports;var o=e[r]={exports:{}};return n[r].call(o.exports,o,o.exports,t),o.exports}t.n=r=>{var s=r&&r.__esModule?()=>r.default:()=>r;return t.d(s,{a:s}),s},t.d=(r,s)=>{for(var o in s)t.o(s,o)&&!t.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:s[o]})},t.o=(r,s)=>Object.prototype.hasOwnProperty.call(r,s),t.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var i=t(7806);return i})(),Ji=[],hi=[],gP=typeof Uint8Array<"u"?Uint8Array:Array,e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ra=0,mP=e0.length;ra<mP;++ra)Ji[ra]=e0[ra],hi[e0.charCodeAt(ra)]=ra;hi[45]=62;hi[95]=63;function ax(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function wP(n){var e=ax(n),t=e[0],i=e[1];return(t+i)*3/4-i}function bP(n,e,t){return(e+t)*3/4-t}function FP(n){var e,t=ax(n),i=t[0],r=t[1],s=new gP(bP(n,i,r)),o=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)e=hi[n.charCodeAt(l)]<<18|hi[n.charCodeAt(l+1)]<<12|hi[n.charCodeAt(l+2)]<<6|hi[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return r===2&&(e=hi[n.charCodeAt(l)]<<2|hi[n.charCodeAt(l+1)]>>4,s[o++]=e&255),r===1&&(e=hi[n.charCodeAt(l)]<<10|hi[n.charCodeAt(l+1)]<<4|hi[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function yP(n){return Ji[n>>18&63]+Ji[n>>12&63]+Ji[n>>6&63]+Ji[n&63]}function vP(n,e,t){for(var i,r=[],s=e;s<t;s+=3)i=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),r.push(yP(i));return r.join("")}function AP(n){for(var e,t=n.length,i=t%3,r=[],s=16383,o=0,a=t-i;o<a;o+=s)r.push(vP(n,o,o+s>a?a:o+s));return i===1?(e=n[t-1],r.push(Ji[e>>2]+Ji[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(Ji[e>>10]+Ji[e>>4&63]+Ji[e<<2&63]+"=")),r.join("")}var a2={byteLength:wP,toByteArray:FP,fromByteArray:AP};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function _P(n,e,t,i,r){var s,o,a=r*8-i-1,l=(1<<a)-1,c=l>>1,h=-7,u=t?r-1:0,f=t?-1:1,d=n[e+u];for(u+=f,s=d&(1<<-h)-1,d>>=-h,h+=a;h>0;s=s*256+n[e+u],u+=f,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=o*256+n[e+u],u+=f,h-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-c}return(d?-1:1)*o*Math.pow(2,s-i)}function CP(n,e,t,i,r,s){var o,a,l,c=s*8-r-1,h=(1<<c)-1,u=h>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:s-1,p=i?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?e+=f/l:e+=f*Math.pow(2,1-u),e*l>=2&&(o++,l/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o=o+u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;n[t+d]=a&255,d+=p,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;n[t+d]=o&255,d+=p,o/=256,c-=8);n[t+d-p]|=w*128}var Nl={read:_P,write:CP};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const Kv=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,l2=2147483647;we.TYPED_ARRAY_SUPPORT=xP();!we.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function xP(){try{const n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(we.prototype,"parent",{enumerable:!0,get:function(){if(we.isBuffer(this))return this.buffer}});Object.defineProperty(we.prototype,"offset",{enumerable:!0,get:function(){if(we.isBuffer(this))return this.byteOffset}});function Ir(n){if(n>l2)throw new RangeError('The value "'+n+'" is invalid for option "size"');const e=new Uint8Array(n);return Object.setPrototypeOf(e,we.prototype),e}function we(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Fw(n)}return lx(n,e,t)}we.poolSize=8192;function lx(n,e,t){if(typeof n=="string")return EP(n,e);if(ArrayBuffer.isView(n))return SP(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(tr(n,ArrayBuffer)||n&&tr(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(tr(n,SharedArrayBuffer)||n&&tr(n.buffer,SharedArrayBuffer)))return h2(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=n.valueOf&&n.valueOf();if(i!=null&&i!==n)return we.from(i,e,t);const r=IP(n);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return we.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}we.from=function(n,e,t){return lx(n,e,t)};Object.setPrototypeOf(we.prototype,Uint8Array.prototype);Object.setPrototypeOf(we,Uint8Array);function cx(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function kP(n,e,t){return cx(n),n<=0?Ir(n):e!==void 0?typeof t=="string"?Ir(n).fill(e,t):Ir(n).fill(e):Ir(n)}we.alloc=function(n,e,t){return kP(n,e,t)};function Fw(n){return cx(n),Ir(n<0?0:yw(n)|0)}we.allocUnsafe=function(n){return Fw(n)};we.allocUnsafeSlow=function(n){return Fw(n)};function EP(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!we.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=hx(n,e)|0;let i=Ir(t);const r=i.write(n,e);return r!==t&&(i=i.slice(0,r)),i}function c2(n){const e=n.length<0?0:yw(n.length)|0,t=Ir(e);for(let i=0;i<e;i+=1)t[i]=n[i]&255;return t}function SP(n){if(tr(n,Uint8Array)){const e=new Uint8Array(n);return h2(e.buffer,e.byteOffset,e.byteLength)}return c2(n)}function h2(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(n):t===void 0?i=new Uint8Array(n,e):i=new Uint8Array(n,e,t),Object.setPrototypeOf(i,we.prototype),i}function IP(n){if(we.isBuffer(n)){const e=yw(n.length)|0,t=Ir(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||Aw(n.length)?Ir(0):c2(n);if(n.type==="Buffer"&&Array.isArray(n.data))return c2(n.data)}function yw(n){if(n>=l2)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l2.toString(16)+" bytes");return n|0}we.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==we.prototype};we.compare=function(e,t){if(tr(e,Uint8Array)&&(e=we.from(e,e.offset,e.byteLength)),tr(t,Uint8Array)&&(t=we.from(t,t.offset,t.byteLength)),!we.isBuffer(e)||!we.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,r=t.length;for(let s=0,o=Math.min(i,r);s<o;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0};we.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};we.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return we.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const r=we.allocUnsafe(t);let s=0;for(i=0;i<e.length;++i){let o=e[i];if(tr(o,Uint8Array))s+o.length>r.length?(we.isBuffer(o)||(o=we.from(o)),o.copy(r,s)):Uint8Array.prototype.set.call(r,o,s);else if(we.isBuffer(o))o.copy(r,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return r};function hx(n,e){if(we.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||tr(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const t=n.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return u2(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Fx(n).length;default:if(r)return i?-1:u2(n).length;e=(""+e).toLowerCase(),r=!0}}we.byteLength=hx;function NP(n,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return HP(this,e,t);case"utf8":case"utf-8":return fx(this,e,t);case"ascii":return PP(this,e,t);case"latin1":case"binary":return OP(this,e,t);case"base64":return LP(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return UP(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}we.prototype._isBuffer=!0;function ao(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}we.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)ao(this,t,t+1);return this};we.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)ao(this,t,t+3),ao(this,t+1,t+2);return this};we.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)ao(this,t,t+7),ao(this,t+1,t+6),ao(this,t+2,t+5),ao(this,t+3,t+4);return this};we.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?fx(this,0,e):NP.apply(this,arguments)};we.prototype.toLocaleString=we.prototype.toString;we.prototype.equals=function(e){if(!we.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:we.compare(this,e)===0};we.prototype.inspect=function(){let e="";const t=C9.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Kv&&(we.prototype[Kv]=we.prototype.inspect);we.prototype.compare=function(e,t,i,r,s){if(tr(e,Uint8Array)&&(e=we.from(e,e.offset,e.byteLength)),!we.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),r===void 0&&(r=0),s===void 0&&(s=this.length),t<0||i>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=i)return 0;if(r>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,s>>>=0,this===e)return 0;let o=s-r,a=i-t;const l=Math.min(o,a),c=this.slice(r,s),h=e.slice(t,i);for(let u=0;u<l;++u)if(c[u]!==h[u]){o=c[u],a=h[u];break}return o<a?-1:a<o?1:0};function ux(n,e,t,i,r){if(n.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Aw(t)&&(t=r?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(r)return-1;t=n.length-1}else if(t<0)if(r)t=0;else return-1;if(typeof e=="string"&&(e=we.from(e,i)),we.isBuffer(e))return e.length===0?-1:Yv(n,e,t,i,r);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):Yv(n,[e],t,i,r);throw new TypeError("val must be string, number or Buffer")}function Yv(n,e,t,i,r){let s=1,o=n.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(n.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function l(h,u){return s===1?h[u]:h.readUInt16BE(u*s)}let c;if(r){let h=-1;for(c=t;c<o;c++)if(l(n,c)===l(e,h===-1?0:c-h)){if(h===-1&&(h=c),c-h+1===a)return h*s}else h!==-1&&(c-=c-h),h=-1}else for(t+a>o&&(t=o-a),c=t;c>=0;c--){let h=!0;for(let u=0;u<a;u++)if(l(n,c+u)!==l(e,u)){h=!1;break}if(h)return c}return-1}we.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};we.prototype.indexOf=function(e,t,i){return ux(this,e,t,i,!0)};we.prototype.lastIndexOf=function(e,t,i){return ux(this,e,t,i,!1)};function TP(n,e,t,i){t=Number(t)||0;const r=n.length-t;i?(i=Number(i),i>r&&(i=r)):i=r;const s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){const a=parseInt(e.substr(o*2,2),16);if(Aw(a))return o;n[t+o]=a}return o}function RP(n,e,t,i){return Fp(u2(e,n.length-t),n,t,i)}function MP(n,e,t,i){return Fp(QP(e),n,t,i)}function BP(n,e,t,i){return Fp(Fx(e),n,t,i)}function DP(n,e,t,i){return Fp($P(e,n.length-t),n,t,i)}we.prototype.write=function(e,t,i,r){if(t===void 0)r="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")r=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,r===void 0&&(r="utf8")):(r=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return TP(this,e,t,i);case"utf8":case"utf-8":return RP(this,e,t,i);case"ascii":case"latin1":case"binary":return MP(this,e,t,i);case"base64":return BP(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return DP(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}};we.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function LP(n,e,t){return e===0&&t===n.length?a2.fromByteArray(n):a2.fromByteArray(n.slice(e,t))}function fx(n,e,t){t=Math.min(n.length,t);const i=[];let r=e;for(;r<t;){const s=n[r];let o=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a<=t){let l,c,h,u;switch(a){case 1:s<128&&(o=s);break;case 2:l=n[r+1],(l&192)===128&&(u=(s&31)<<6|l&63,u>127&&(o=u));break;case 3:l=n[r+1],c=n[r+2],(l&192)===128&&(c&192)===128&&(u=(s&15)<<12|(l&63)<<6|c&63,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:l=n[r+1],c=n[r+2],h=n[r+3],(l&192)===128&&(c&192)===128&&(h&192)===128&&(u=(s&15)<<18|(l&63)<<12|(c&63)<<6|h&63,u>65535&&u<1114112&&(o=u))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),r+=a}return zP(i)}const Xv=4096;function zP(n){const e=n.length;if(e<=Xv)return String.fromCharCode.apply(String,n);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,n.slice(i,i+=Xv));return t}function PP(n,e,t){let i="";t=Math.min(n.length,t);for(let r=e;r<t;++r)i+=String.fromCharCode(n[r]&127);return i}function OP(n,e,t){let i="";t=Math.min(n.length,t);for(let r=e;r<t;++r)i+=String.fromCharCode(n[r]);return i}function HP(n,e,t){const i=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let r="";for(let s=e;s<t;++s)r+=GP[n[s]];return r}function UP(n,e,t){const i=n.slice(e,t);let r="";for(let s=0;s<i.length-1;s+=2)r+=String.fromCharCode(i[s]+i[s+1]*256);return r}we.prototype.slice=function(e,t){const i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,we.prototype),r};function on(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}we.prototype.readUintLE=we.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||on(e,t,this.length);let r=this[e],s=1,o=0;for(;++o<t&&(s*=256);)r+=this[e+o]*s;return r};we.prototype.readUintBE=we.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||on(e,t,this.length);let r=this[e+--t],s=1;for(;t>0&&(s*=256);)r+=this[e+--t]*s;return r};we.prototype.readUint8=we.prototype.readUInt8=function(e,t){return e=e>>>0,t||on(e,1,this.length),this[e]};we.prototype.readUint16LE=we.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||on(e,2,this.length),this[e]|this[e+1]<<8};we.prototype.readUint16BE=we.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||on(e,2,this.length),this[e]<<8|this[e+1]};we.prototype.readUint32LE=we.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||on(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};we.prototype.readUint32BE=we.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||on(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};we.prototype.readBigUInt64LE=Vs(function(e){e=e>>>0,Tl(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Xh(e,this.length-8);const r=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(r)+(BigInt(s)<<BigInt(32))});we.prototype.readBigUInt64BE=Vs(function(e){e=e>>>0,Tl(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Xh(e,this.length-8);const r=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(r)<<BigInt(32))+BigInt(s)});we.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||on(e,t,this.length);let r=this[e],s=1,o=0;for(;++o<t&&(s*=256);)r+=this[e+o]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r};we.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||on(e,t,this.length);let r=t,s=1,o=this[e+--r];for(;r>0&&(s*=256);)o+=this[e+--r]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};we.prototype.readInt8=function(e,t){return e=e>>>0,t||on(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};we.prototype.readInt16LE=function(e,t){e=e>>>0,t||on(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};we.prototype.readInt16BE=function(e,t){e=e>>>0,t||on(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};we.prototype.readInt32LE=function(e,t){return e=e>>>0,t||on(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};we.prototype.readInt32BE=function(e,t){return e=e>>>0,t||on(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};we.prototype.readBigInt64LE=Vs(function(e){e=e>>>0,Tl(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Xh(e,this.length-8);const r=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});we.prototype.readBigInt64BE=Vs(function(e){e=e>>>0,Tl(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Xh(e,this.length-8);const r=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});we.prototype.readFloatLE=function(e,t){return e=e>>>0,t||on(e,4,this.length),Nl.read(this,e,!0,23,4)};we.prototype.readFloatBE=function(e,t){return e=e>>>0,t||on(e,4,this.length),Nl.read(this,e,!1,23,4)};we.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||on(e,8,this.length),Nl.read(this,e,!0,52,8)};we.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||on(e,8,this.length),Nl.read(this,e,!1,52,8)};function Gn(n,e,t,i,r,s){if(!we.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>n.length)throw new RangeError("Index out of range")}we.prototype.writeUintLE=we.prototype.writeUIntLE=function(e,t,i,r){if(e=+e,t=t>>>0,i=i>>>0,!r){const a=Math.pow(2,8*i)-1;Gn(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};we.prototype.writeUintBE=we.prototype.writeUIntBE=function(e,t,i,r){if(e=+e,t=t>>>0,i=i>>>0,!r){const a=Math.pow(2,8*i)-1;Gn(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};we.prototype.writeUint8=we.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,1,255,0),this[t]=e&255,t+1};we.prototype.writeUint16LE=we.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};we.prototype.writeUint16BE=we.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};we.prototype.writeUint32LE=we.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};we.prototype.writeUint32BE=we.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function dx(n,e,t,i,r){bx(e,i,r,n,t,7);let s=Number(e&BigInt(4294967295));n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o,t}function px(n,e,t,i,r){bx(e,i,r,n,t,7);let s=Number(e&BigInt(4294967295));n[t+7]=s,s=s>>8,n[t+6]=s,s=s>>8,n[t+5]=s,s=s>>8,n[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=o,o=o>>8,n[t+2]=o,o=o>>8,n[t+1]=o,o=o>>8,n[t]=o,t+8}we.prototype.writeBigUInt64LE=Vs(function(e,t=0){return dx(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});we.prototype.writeBigUInt64BE=Vs(function(e,t=0){return px(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});we.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t=t>>>0,!r){const l=Math.pow(2,8*i-1);Gn(this,e,t,i,l-1,-l)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};we.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t=t>>>0,!r){const l=Math.pow(2,8*i-1);Gn(this,e,t,i,l-1,-l)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};we.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};we.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};we.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};we.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};we.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Gn(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};we.prototype.writeBigInt64LE=Vs(function(e,t=0){return dx(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});we.prototype.writeBigInt64BE=Vs(function(e,t=0){return px(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function gx(n,e,t,i,r,s){if(t+i>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function mx(n,e,t,i,r){return e=+e,t=t>>>0,r||gx(n,e,t,4),Nl.write(n,e,t,i,23,4),t+4}we.prototype.writeFloatLE=function(e,t,i){return mx(this,e,t,!0,i)};we.prototype.writeFloatBE=function(e,t,i){return mx(this,e,t,!1,i)};function wx(n,e,t,i,r){return e=+e,t=t>>>0,r||gx(n,e,t,8),Nl.write(n,e,t,i,52,8),t+8}we.prototype.writeDoubleLE=function(e,t,i){return wx(this,e,t,!0,i)};we.prototype.writeDoubleBE=function(e,t,i){return wx(this,e,t,!1,i)};we.prototype.copy=function(e,t,i,r){if(!we.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!r&&r!==0&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);const s=r-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,r):Uint8Array.prototype.set.call(e,this.subarray(i,r),t),s};we.prototype.fill=function(e,t,i,r){if(typeof e=="string"){if(typeof t=="string"?(r=t,t=0,i=this.length):typeof i=="string"&&(r=i,i=this.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!we.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(e.length===1){const o=e.charCodeAt(0);(r==="utf8"&&o<128||r==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{const o=we.isBuffer(e)?e:we.from(e,r),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};const za={};function vw(n,e,t){za[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(r){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:r,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}vw("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);vw("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError);vw("ERR_OUT_OF_RANGE",function(n,e,t){let i=`The value of "${n}" is out of range.`,r=t;return Number.isInteger(t)&&Math.abs(t)>2**32?r=Zv(String(t)):typeof t=="bigint"&&(r=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(r=Zv(r)),r+="n"),i+=` It must be ${e}. Received ${r}`,i},RangeError);function Zv(n){let e="",t=n.length;const i=n[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function VP(n,e,t){Tl(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&Xh(e,n.length-(t+1))}function bx(n,e,t,i,r,s){if(n>t||n<e){const o=typeof e=="bigint"?"n":"";let a;throw e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`,new za.ERR_OUT_OF_RANGE("value",a,n)}VP(i,r,s)}function Tl(n,e){if(typeof n!="number")throw new za.ERR_INVALID_ARG_TYPE(e,"number",n)}function Xh(n,e,t){throw Math.floor(n)!==n?(Tl(n,t),new za.ERR_OUT_OF_RANGE("offset","an integer",n)):e<0?new za.ERR_BUFFER_OUT_OF_BOUNDS:new za.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,n)}const qP=/[^+/0-9A-Za-z-_]/g;function jP(n){if(n=n.split("=")[0],n=n.trim().replace(qP,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function u2(n,e){e=e||1/0;let t;const i=n.length;let r=null;const s=[];for(let o=0;o<i;++o){if(t=n.charCodeAt(o),t>55295&&t<57344){if(!r){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),r=t;continue}t=(r-55296<<10|t-56320)+65536}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function QP(n){const e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function $P(n,e){let t,i,r;const s=[];for(let o=0;o<n.length&&!((e-=2)<0);++o)t=n.charCodeAt(o),i=t>>8,r=t%256,s.push(r),s.push(i);return s}function Fx(n){return a2.toByteArray(jP(n))}function Fp(n,e,t,i){let r;for(r=0;r<i&&!(r+t>=e.length||r>=n.length);++r)e[r+t]=n[r];return r}function tr(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function Aw(n){return n!==n}const GP=function(){const n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const i=t*16;for(let r=0;r<16;++r)e[i+r]=n[t]+n[r]}return e}();function Vs(n){return typeof BigInt>"u"?WP:n}function WP(){throw new Error("BigInt not supported")}class Jv{constructor(e,t){this.position=0,this.url=e,this.config=t,Rs(e)||t.cacheFetches===!1?this.useCache=!1:(this.useCache=!0,this.cache=new KP({fetch:(i,r)=>this._fetch(i,r),fetchSize:t.fetchSize||1e4}))}async _fetch(e,t){const i={start:e,size:t};this._stat={size:void 0};const r=await Be.loadArrayBuffer(this.url,Qe(this.config,{range:i}));return we.from(r)}async read(e,t=0,i=1/0,r=0){return this.useCache?await this.cache.get(e,t,r,i):(await this._fetch(r,i)).copy(e,t),{bytesRead:i,buffer:e}}async readFile(){const e=await Be.loadArrayBuffer(this.url,Qe(this.config));return we.from(e)}async stat(){if(!this._stat){const e=we.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}}class KP{constructor({fetch:e,fetchSize:t=3e4}){this.fetch=e,this.position=0,this.buffer=we.allocUnsafe(0),this.fetchSize=t}async get(e,t,i,r){if(e.length<t+r)throw new Error("output buffer not big enough for request");if(!(i>=this.position&&i+r<=this.position+this.buffer.length)){const l=Math.max(r,this.fetchSize);this.buffer=await this.fetch(i,l),this.position=i}const s=t,o=i-this.position,a=o+r;this.buffer.copy(e,s,o,a)}}const YP=16,XP=32,ZP=1;var jd,yx;class JP{constructor(e,t,i){Pe(this,jd);Re(this,"chrAliasTable",new Map);this.config=e,this.browser=i,this.genome=t,this.cramFile=new Jg.CramFile({filehandle:e.fileHandle?e.fileHandle:new Jv(e.url,e),seqFetch:e.seqFetch||s.bind(this),checkSequenceMD5:e.checkSequenceMD5!==void 0?e.checkSequenceMD5:!0});const r=e.indexFileHandle?e.indexFileHandle:new Jv(e.indexURL,e);this.indexedCramFile=new Jg.IndexedCramFile({cram:this.cramFile,index:new Jg.CraiIndex({filehandle:r}),fetchSizeLimit:e.fetchSizeLimit||1e9}),rn.setReaderDefaults(this,e);async function s(o,a,l){const c=this.genome,h=await this.getHeader(),u=c.getChromosomeName(h.indexToChr[o]);return this.genome.getSequence(u,a-1,l)}}async getHeader(){if(!this.header){const e=await this.cramFile.getSamHeader(),t={},i=[],r=[];for(let s of e)if(s.tag==="SQ"){for(let o of s.data)if(o.tag==="SN"){const a=o.value;t[a]=i.length,i.push(a);break}}else s.tag==="RG"&&r.push(s.data);this.header={indexToChr:i,chrToIndex:t,chrNames:Object.keys(t),readGroups:r}}return this.header}async readAlignments(e,t,i){const r=await this.getHeader(),s=await $e(this,jd,yx).call(this,e),o=new Il(e,t,i,this.config);if(s===void 0)return o;try{const c=await this.indexedCramFile.getRecordsForRange(s,t,i);for(let h of c){const u=h.sequenceId,f=h.alignmentStart,d=f+h.lengthOnRef;if(u<0)continue;if(u>s||f>i)return;if(u<s||d<t)continue;const p=a(h,r.chrNames);this.filter.pass(p)&&o.push(p)}return o.finish(),o}catch(c){let h=c.message;throw h&&h.indexOf("MD5")>=0&&(h="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),this.browser.alert.present(new Error(h)),c}function a(c,h){const u=new o2;if(u.chr=h[c.sequenceId],u.start=c.alignmentStart-1,u.lengthOnRef=c.lengthOnRef,u.flags=c.flags,u.strand=!(c.flags&YP),u.fragmentLength=c.templateLength||c.templateSize,u.mq=c.mappingQuality,u.end=c.alignmentStart+c.lengthOnRef,u.readGroupId=c.readGroupId,c.mate&&c.mate.sequenceId!==void 0){const f=c.mate.flags!==void 0?!(c.mate.flags&ZP):!(c.flags&XP);u.mate={chr:h[c.mate.sequenceId],position:c.mate.alignmentStart,strand:f}}return u.seq=c.getReadBases(),u.qual=c.qualityScores,u.tagDict=c.tags,u.readName=c.readName,l(c,u),u.mate&&u.start>u.mate.position&&u.fragmentLength>0&&(u.fragmentLength=-u.fragmentLength),rn.setPairOrientation(u),u}function l(c,h){const u=[];let f,d,p=0,w="";if(h.scStart=h.start,h.scLengthOnRef=h.lengthOnRef,c.readFeatures)for(let g of c.readFeatures){const m=g.code,b=g.data,y=g.pos-1,A=g.refPos-1;switch(m){case"S":case"I":case"i":case"N":case"D":if(y>p){const x=y-p;u.push(new oo({start:A-x,seqOffset:p,len:x,type:"M"})),p+=x,w+=x+"M"}if(m==="S"){let x=A;h.scLengthOnRef+=b.length,y===0&&(h.scStart-=b.length,x-=b.length);const v=b.length;u.push(new oo({start:x,seqOffset:p,len:v,type:"S"})),p+=v,w+=v+m}else if(m==="I"||m==="i"){f===void 0&&(f=[]);const x=m==="i"?1:b.length;f.push(new oo({start:A,len:x,seqOffset:p,type:"I"})),p+=x,w+=x+m}else(m==="D"||m==="N")&&(d||(d=[]),d.push({start:A,len:b,type:m}),w+=b+m);break;case"H":case"P":w+=b+m;break}}const F=c.readLength-p;F>0&&(u.push(new oo({start:c.alignmentStart+c.lengthOnRef-F-1,seqOffset:p,len:F,type:"M"})),w+=F+"M"),h.blocks=u,h.insertions=f,h.gaps=d,h.cigar=w}}}jd=new WeakSet,yx=async function(e){if(await this.getHeader(),this.chrAliasTable.has(e)&&(e=this.chrAliasTable.get(e),e===void 0))return;let t=this.header.chrToIndex[e];if(t===void 0){const i=await this.genome.getAliasRecord(e);let r;if(i){const s=Object.keys(i).filter(o=>o!=="start"&&o!=="end").map(o=>i[o]).filter(o=>this.header.chrToIndex[o]!==void 0);s.length>0&&(r=s[0],t=this.header.chrToIndex[s[0]])}this.chrAliasTable.set(e,r)}return t};const eO=2291137574,tO=2273964779,nO=[84,68,70,52],iO=new Uint8Array([66,65,77,1]),rO=[67,82,65,77],sO=[31,139],oO=4,aO=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","bedMethyl","vcf","bb","bigbed","biginteract","biggenepred","bignarrowpeak","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram","gwas","maf","mut","hiccups","fasta","fa","fna","pytor","hic","qtl"]);function Vu(n,e){const t=Math.min(n.length,e.length);if(t==0)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}async function vx(n){let e;const t=n.filename||await gp(n.url);return t&&(e=await lO(t)),e||(e=await hO(n)),e}function lO(n){if(!n)return;if(n=n.toLowerCase(),n.endsWith("refgene.txt.gz")||n.endsWith("refgene.txt.bgz")||n.endsWith("refgene.txt")||n.endsWith("refgene.sorted.txt.gz")||n.endsWith("refgene.sorted.txt.bgz"))return"refgene";n.endsWith(".gz")&&(n=n.substring(0,n.length-3)),n.endsWith(".bgz")&&(n=n.substring(0,n.length-4)),(n.endsWith(".txt")||n.endsWith(".tab")||n.endsWith(".tsv"))&&(n=n.substring(0,n.length-4));const e=n.lastIndexOf("."),t=e<0?n:n.substring(e+1);switch(t){case"bw":return"bigwig";case"bb":return"bigbed";case"fasta":case"fa":case"fna":return"fasta";default:return aO.has(t)?t:void 0}}function cO(n,e){if(St(n))if(n.includes("?")){const t=n.indexOf("?");return n.substring(0,t)+"."+e+n.substring(t)}else return n+"."+e;else return}async function hO(n){const e=n.url;let t=Qe(n,{range:{start:0,size:1e3}}),i=await Be.loadArrayBuffer(e,t),r=new Uint8Array(i);if(Vu(r,sO))if((r[3]&oO)!==0&&r[12]===66&&r[13]===67){const p=Z1(i);t=Qe(n,{range:{start:0,size:p}}),i=await Be.loadArrayBuffer(e,t),r=cr(i)}else t=Qe(n,{}),i=await Be.loadArrayBuffer(e,t),r=bh(i),n._filecontents=r;if(Vu(r,iO))return"bam";if(Vu(r,rO))return"cram";const s=!0;let a=new Vt(new DataView(i),s).getUInt();if(a===eO)return"bigwig";if(a===tO)return"bigbed";if(Vu(r,nO))return"tdf";const u=new TextDecoder("utf-8").decode(r).split(/\r?\n/)[0];if(u.startsWith("##fileformat=VCF"))return"vcf";if(u.startsWith("##gff-version 3"))return"gff3";if(u.startsWith("##gff-version"))return"gff";if(S6.isQTL(u))return"qtl";if(v6.isGWAS(u))return"gwas";const f=u.split("	");return o6(f)?"hiccups":null}class uO{constructor(e,t){const i=t.genome;if(this.config=e,this.genome=i,qr(e.url)&&(this.config.indexed=!1),e.sourceType==="ga4gh")throw Error("Unsupported source type 'ga4gh'");if(e.sourceType==="pysam")this.bamReader=new ox(e,i);else if(e.sourceType==="htsget")this.bamReader=new pP(e,i);else if(e.sourceType==="shardedBam")this.bamReader=new uP(e,i);else if(e.format==="cram")this.bamReader=new JP(e,i,t);else{if(!this.config.indexURL&&e.indexed!==!1)if(St(this.config.url)){const r=cO(this.config.url,"bai");r?(console.warn(`Warning: no indexURL specified for ${this.config.url}.  Guessing ${r}`),this.config.indexURL=r):(console.warning(`Warning: no indexURL specified for ${this.config.url}.`),this.config.indexed=!1)}else console.warning(`Warning: no indexURL specified for ${this.config.name}.`),this.config.indexed=!1;this.config.indexed!==!1?this.bamReader=new rx(e,i):this.bamReader=new cP(e,i)}}async getAlignments(e,t,i){const r=this.genome,s=await this.bamReader.readAlignments(e,t,i);if(s.hasAlignments){const o=await r.getSequence(e,s.start,s.end);if(o)return s.coverageMap.refSeq=o,s.sequence=o,s;console.error("No sequence for: "+e+":"+s.start+"-"+s.end)}return s}}class Ed{constructor({chr:e,start:t,end:i}){this.chr=e,this.start=t,this.end=i}contains(e){return e.chr===this.chr&&e.start>=this.start&&e.end<=this.end}overlaps(e){return e.chr===this.chr&&!(e.end<this.start||e.start>this.end)}extend(e){e.chr===this.chr&&(this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}getLocusString(){if(this.chr==="all")return"all";{const e=Ge(Math.floor(this.start)+1),t=Ge(Math.round(this.end));return`${this.chr}:${e}-${t}`}}static fromLocusString(e){if(e==="all")return new Ed({chr:"all"});const t=e.split(":"),i=t[0],r=t[1].split("-"),s=Number.parseInt(r[0].replace(/,/g,""))-1,o=Number.parseInt(r[1].replace(/,/g,""));return new Ed({chr:i,start:s,end:o})}}/*!
 * vanilla-picker v2.12.1
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var _w=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},Cw=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),qu=function(){function n(e,t){var i=[],r=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(i.push(l.value),!(t&&i.length===t));r=!0);}catch(c){s=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(s)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(n){return this.indexOf(n)===0};String.prototype.padStart=String.prototype.padStart||function(n,e){for(var t=this;t.length<n;)t=e+t;return t};var fO={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function e4(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=e>0?n.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):n.toString();return t||"0"}var dO=function(){function n(e,t,i,r){_w(this,n);var s=this;function o(l){if(l.startsWith("hsl")){var c=l.match(/([\-\d\.e]+)/g).map(Number),h=qu(c,4),u=h[0],f=h[1],d=h[2],p=h[3];p===void 0&&(p=1),u/=360,f/=100,d/=100,s.hsla=[u,f,d,p]}else if(l.startsWith("rgb")){var w=l.match(/([\-\d\.e]+)/g).map(Number),F=qu(w,4),g=F[0],m=F[1],b=F[2],y=F[3];y===void 0&&(y=1),s.rgba=[g,m,b,y]}else l.startsWith("#")?s.rgba=n.hexToRgb(l):s.rgba=n.nameToRgb(l)||n.hexToRgb(l)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(i===void 0){var a=e&&""+e;a&&o(a.toLowerCase())}else this.rgba=[e,t,i,r===void 0?1:r]}return Cw(n,[{key:"printRGB",value:function(t){var i=t?this.rgba:this.rgba.slice(0,3),r=i.map(function(s,o){return e4(s,o===3?3:0)});return t?"rgba("+r+")":"rgb("+r+")"}},{key:"printHSL",value:function(t){var i=[360,100,100,1],r=["","%","%",""],s=t?this.hsla:this.hsla.slice(0,3),o=s.map(function(a,l){return e4(a*i[l],l===3?3:1)+r[l]});return t?"hsla("+o+")":"hsl("+o+")"}},{key:"printHex",value:function(t){var i=this.hex;return t?i:i.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=n.hslToRgb(this._hsla)},set:function(t){t.length===3&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=n.rgbToHsl(this._rgba)},set:function(t){t.length===3&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var t=this.rgba,i=t.map(function(r,s){return s<3?r.toString(16):Math.round(r*255).toString(16)});return"#"+i.map(function(r){return r.padStart(2,"0")}).join("")},set:function(t){this.rgba=n.hexToRgb(t)}}],[{key:"hexToRgb",value:function(t){var i=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!i.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+t);var r=i.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(s){return parseInt(s,16)});return r[3]=r[3]/255,r}},{key:"nameToRgb",value:function(t){var i=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=fO[i];return r===void 0?r:n.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(t){var i=qu(t,4),r=i[0],s=i[1],o=i[2],a=i[3];r/=255,s/=255,o/=255;var l=Math.max(r,s,o),c=Math.min(r,s,o),h=void 0,u=void 0,f=(l+c)/2;if(l===c)h=u=0;else{var d=l-c;switch(u=f>.5?d/(2-l-c):d/(l+c),l){case r:h=(s-o)/d+(s<o?6:0);break;case s:h=(o-r)/d+2;break;case o:h=(r-s)/d+4;break}h/=6}return[h,u,f,a]}},{key:"hslToRgb",value:function(t){var i=qu(t,4),r=i[0],s=i[1],o=i[2],a=i[3],l=void 0,c=void 0,h=void 0;if(s===0)l=c=h=o;else{var u=function(F,g,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?F+(g-F)*6*m:m<.5?g:m<.6666666666666666?F+(g-F)*(.6666666666666666-m)*6:F},f=o<.5?o*(1+s):o+s-o*s,d=2*o-f;l=u(d,f,r+1/3),c=u(d,f,r),h=u(d,f,r-1/3)}var p=[l*255,c*255,h*255].map(Math.round);return p[3]=a,p}}]),n}(),pO=function(){function n(){_w(this,n),this._events=[]}return Cw(n,[{key:"add",value:function(t,i,r){t.addEventListener(i,r,!1),this._events.push({target:t,type:i,handler:r})}},{key:"remove",value:function(t,i,r){this._events=this._events.filter(function(s){var o=!0;return t&&t!==s.target&&(o=!1),i&&i!==s.type&&(o=!1),r&&r!==s.handler&&(o=!1),o&&n._doRemove(s.target,s.type,s.handler),!o})}},{key:"destroy",value:function(){this._events.forEach(function(t){return n._doRemove(t.target,t.type,t.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(t,i,r){t.removeEventListener(i,r,!1)}}]),n}();function gO(n){var e=document.createElement("div");return e.innerHTML=n,e.firstElementChild}function t0(n,e,t){var i=!1;function r(l,c,h){return Math.max(c,Math.min(l,h))}function s(l,c,h){if(h&&(i=!0),!!i){l.preventDefault();var u=e.getBoundingClientRect(),f=u.width,d=u.height,p=c.clientX,w=c.clientY,F=r(p-u.left,0,f),g=r(w-u.top,0,d);t(F/f,g/d)}}function o(l,c){var h=l.buttons===void 0?l.which:l.buttons;h===1?s(l,l,c):i=!1}function a(l,c){l.touches.length===1?s(l,l.touches[0],c):i=!1}n.add(e,"mousedown",function(l){o(l,!0)}),n.add(e,"touchstart",function(l){a(l,!0)}),n.add(window,"mousemove",o),n.add(e,"touchmove",a),n.add(window,"mouseup",function(l){i=!1}),n.add(e,"touchend",function(l){i=!1}),n.add(e,"touchcancel",function(l){i=!1})}var mO=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,wO=360,Ax="keydown",ju="mousedown",n0="focusin";function ji(n,e){return(e||document).querySelector(n)}function bO(n){n.preventDefault(),n.stopPropagation()}function i0(n,e,t,i,r){n.add(e,Ax,function(s){t.indexOf(s.key)>=0&&i(s)})}var _x=function(){function n(e){_w(this,n),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new pO,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return Cw(n,[{key:"setOptions",value:function(t){var i=this;if(!t)return;var r=this.settings;function s(c,h,u){for(var f in c)h[f]=c[f]}if(t instanceof HTMLElement)r.parent=t;else{r.parent&&t.parent&&r.parent!==t.parent&&(this._events.remove(r.parent),this._popupInited=!1),s(t,r),t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose);var o=t.color||t.colour;o&&this._setColor(o)}var a=r.parent;if(a&&r.popup&&!this._popupInited){var l=function(h){return i.openHandler(h)};this._events.add(a,"click",l),i0(this._events,a,[" ","Spacebar","Enter"],l),this._popupInited=!0}else t.parent&&!r.popup&&this.show()}},{key:"openHandler",value:function(t){if(this.show()){t&&t.preventDefault(),this.settings.parent.style.pointerEvents="none";var i=t&&t.type===Ax?this._domEdit:this.domElement;setTimeout(function(){return i.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(t){var i=t&&t.type,r=!1;if(!t)r=!0;else if(i===ju||i===n0){var s=(this.__containedEvent||0)+100;t.timeStamp>s&&(r=!0)}else bO(t),r=!0;r&&this.hide()&&(this.settings.parent.style.pointerEvents="",i!==ju&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(t,i){this.closeHandler(),this.setOptions(t),i&&this.openHandler()}},{key:"setColor",value:function(t,i){this._setColor(t,{silent:i})}},{key:"_setColor",value:function(t,i){if(typeof t=="string"&&(t=t.trim()),!!t){i=i||{};var r=void 0;try{r=new dO(t)}catch(o){if(i.failSilently)return;throw o}if(!this.settings.alpha){var s=r.hsla;s[3]=1,r.hsla=s}this.colour=this.color=r,this._setHSLA(null,null,null,null,i)}}},{key:"setColour",value:function(t,i){this.setColor(t,i)}},{key:"show",value:function(){var t=this.settings.parent;if(!t)return!1;if(this.domElement){var i=this._toggleDOM(!0);return this._setPosition(),i}var r=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',s=gO(r);return this.domElement=s,this._domH=ji(".picker_hue",s),this._domSL=ji(".picker_sl",s),this._domA=ji(".picker_alpha",s),this._domEdit=ji(".picker_editor input",s),this._domSample=ji(".picker_sample",s),this._domOkay=ji(".picker_done button",s),this._domCancel=ji(".picker_cancel button",s),s.classList.add("layout_"+this.settings.layout),this.settings.alpha||s.classList.add("no_alpha"),this.settings.editor||s.classList.add("no_editor"),this.settings.cancelButton||s.classList.add("no_cancel"),this._ifPopup(function(){return s.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var t=this,i=this,r=this.domElement,s=this._events;function o(c,h,u){s.add(c,h,u)}o(r,"click",function(c){return c.preventDefault()}),t0(s,this._domH,function(c,h){return i._setHSLA(c)}),t0(s,this._domSL,function(c,h){return i._setHSLA(null,c,1-h)}),this.settings.alpha&&t0(s,this._domA,function(c,h){return i._setHSLA(null,null,null,1-h)});var a=this._domEdit;o(a,"input",function(c){i._setColor(this.value,{fromEditor:!0,failSilently:!0})}),o(a,"focus",function(c){var h=this;h.selectionStart===h.selectionEnd&&h.select()}),this._ifPopup(function(){var c=function(f){return t.closeHandler(f)};o(window,ju,c),o(window,n0,c),i0(s,r,["Esc","Escape"],c);var h=function(f){t.__containedEvent=f.timeStamp};o(r,ju,h),o(r,n0,h),o(t._domCancel,"click",c)});var l=function(h){t._ifPopup(function(){return t.closeHandler(h)}),t.onDone&&t.onDone(t.colour)};o(this._domOkay,"click",l),i0(s,r,["Enter"],l)}},{key:"_setPosition",value:function(){var t=this.settings.parent,i=this.domElement;t!==i.parentNode&&t.appendChild(i),this._ifPopup(function(r){getComputedStyle(t).position==="static"&&(t.style.position="relative");var s=r===!0?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(o){o===s?i.classList.add(o):i.classList.remove(o)}),i.classList.add(s)})}},{key:"_setHSLA",value:function(t,i,r,s,o){o=o||{};var a=this.colour,l=a.hsla;[t,i,r,s].forEach(function(c,h){(c||c===0)&&(l[h]=c)}),a.hsla=l,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(a)}},{key:"_updateUI",value:function(t){if(!this.domElement)return;t=t||{};var i=this.colour,r=i.hsla,s="hsl("+r[0]*wO+", 100%, 50%)",o=i.hslString,a=i.hslaString,l=this._domH,c=this._domSL,h=this._domA,u=ji(".picker_selector",l),f=ji(".picker_selector",c),d=ji(".picker_selector",h);function p(x,v,_){v.style.left=_*100+"%"}function w(x,v,_){v.style.top=_*100+"%"}p(l,u,r[0]),this._domSL.style.backgroundColor=this._domH.style.color=s,p(c,f,r[1]),w(c,f,1-r[2]),c.style.color=o,w(h,d,1-r[3]);var F=o,g=F.replace("hsl","hsla").replace(")",", 0)"),m="linear-gradient("+[F,g]+")";if(this._domA.style.background=m+", "+mO,!t.fromEditor){var b=this.settings.editorFormat,y=this.settings.alpha,A=void 0;switch(b){case"rgb":A=i.printRGB(y);break;case"hsl":A=i.printHSL(y);break;default:A=i.printHex(y)}this._domEdit.value=A}this._domSample.style.color=a}},{key:"_ifPopup",value:function(t,i){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):i&&i()}},{key:"_toggleDOM",value:function(t){var i=this.domElement;if(!i)return!1;var r=t?"":"none",s=i.style.display!==r;return s&&(i.style.display=r),s}}]),n}();{var r0=document.createElement("style");r0.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(r0),_x.StyleElement=r0}function FO(n){if(sa[n])return sa[n];if(sa["chr"+n]){const e=sa["chr"+n];return sa[n]=e,e}else{const e=yO();return sa[n]=e,e}}function yO(n,e){var t=Math.round(Math.random()*255).toString(10),i=Math.round(Math.random()*255).toString(10),r=Math.round(Math.random()*255).toString(10);return"rgb("+t+","+i+","+r+")"}const sa={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"};class vO{constructor(e){this.tracks=[],this.chordSets=[]}addChordSet(e){this.chordSets=this.chordSets.filter(i=>i.name!==e.name),this.chordSets.push(e);let t=this.tracks.find(i=>e.trackName===i.name);t&&(t.chordSets=t.chordSets.filter(i=>i.name!==e.name),t.chordSets.push(e)),t||(t=new AO(e),this.tracks.push(t))}clearChords(){this.tracks=[],this.chordSets=[]}getTrack(e){return this.tracks.find(t=>e===t.name)}getChordSet(e){return this.chordSets.find(t=>e===t.name)}}class AO{constructor(e){this.name=e.trackName,this.color=e.trackColor,this.visible=!0,this.chordSets=[e],this.id=_O()}get chords(){if(this.chordSets.length===1)return this.chordSets[0].chords;const e=[];for(let t of this.chordSets)for(let i of t.chords)e.push(i);return e}}function _O(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}const t4=Math.exp(5);class xw{static isInstalled(){return window.JBrowseReactCircularGenomeView!==void 0&&window.React!==void 0&&window.ReactDOM!==void 0}constructor(e,t){if(t=t||{},this.config=t,xw.isInstalled()){this.parent=e,this.groupByTrack=t.groupByTrack===!0,this.chordManager=new vO(t);const i=document.createElement("div");i.className="igv-circview-container",e.appendChild(i),this.createControls(i),this.resetControlPanel();const r=document.createElement("div");r.className="igv-circview-circular-genome-view",i.appendChild(r),this.container=r,t.assembly&&this.setAssembly(t.assembly),this.width=t.width||500,this.height=t.height||500,this.setSize(this.width,this.height)}else console.error("JBrowse circular view is not installed")}createControls(e){const t=document.createElement("div");t.className="igv-circview-toolbar",e.appendChild(t),this.toolbar=t;const i=document.createElement("div");i.className="igv-circview-track-panel",e.appendChild(i),this.controlPanel=i,this.controlPanel.style.display="none";const r=document.createElement("div");r.className="igv-circview-toolbar-button-container",this.toolbar.appendChild(r),this.showControlsButton=document.createElement("div"),this.showControlsButton.className="igv-circview-button",r.appendChild(this.showControlsButton),this.showControlsButton.innerText=this.controlPanel.style.display==="none"?"Show Controls":"Hide Controls",this.showControlsButton.addEventListener("click",o=>{this.controlPanel.querySelectorAll("div").length>0&&(this.controlPanel.style.display==="none"?(this.controlPanel.style.display="flex",o.target.innerText="Hide Controls"):(this.controlPanel.style.display="none",o.target.innerText="Show Controls"))});let s=document.createElement("div");s.className="igv-circview-button",r.appendChild(s),s.innerText="Clear All",s.addEventListener("click",()=>{this.clearChords()}),this.config.showCloseButton!==!1&&(s=document.createElement("div"),s.className="igv-circview-button",r.appendChild(s),s.innerText="Close",s.addEventListener("click",()=>{this.visible=!1}))}resetControlPanel(){this.controlPanel.innerHTML="",this.controlPanel.appendChild(this.createGroupByCB());const e=this.groupByTrack?this.chordManager.tracks:this.chordManager.chordSets;for(let t of e)this.addToControlPanel(t)}createGroupByCB(){const e=document.createElement("input");e.type="checkbox",e.id="groupByCB",e.style.width="1.4em",e.style.height="1.4em",e.checked=this.groupByTrack,e.onclick=r=>{this.groupByTrack=r.target.checked,this.resetControlPanel(),this.render()};const t=document.createElement("label");t.for="groupByCB",t.innerText="Group by track",t.style.color="black",t.style.paddingLeft="10px";const i=document.createElement("div");return i.style.width="100%",i.style.paddingTop="5px",i.style.paddingBottom="5px",i.style.background="rgb(216, 230, 234)",i.appendChild(e),i.appendChild(t),i}addToControlPanel(e){const t=document.createElement("div");this.controlPanel.appendChild(t);const i=document.createElement("div");i.className="igv-circview-button",t.appendChild(i),i.innerText=e.visible===!0?"Hide":"Show",i.addEventListener("click",u=>{e.visible===!0?(this.hideChordSet(e.name),u.target.innerText="Show"):(this.showChordSet(e.name),u.target.innerText="Hide")});const r=document.createElement("input"),s=u=>Math.exp(u/200)/t4,o=u=>200*Math.log(u*t4),a=document.createElement("div");a.className="igv-circview-button",a.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;",t.appendChild(a),a.style.backgroundColor=s0(e.color,1);const l={parent:a,popup:"right",editorFormat:"rgb",color:e.color,onChange:({rgbaString:u})=>{a.style.backgroundColor=s0(u,1),this.setColor(e.name,u),r.value=o(n4(e.color))}},c=new _x(l);r.setAttribute("title","Adjust transparency of arcs"),r.type="range",r.style.width="100px",r.style.marginRight="10px",r.setAttribute("class","range"),r.setAttribute("min","0"),r.setAttribute("max","1000"),r.value=o(n4(e.color)),r.oninput=()=>{const u=s(r.value);this.setColor(e.name,s0(e.color,u)),c.setColor(e.color)},t.appendChild(r);const h=document.createElement("div");h.style.color="black",t.appendChild(h),h.innerText=h.title=e.name}setAssembly(e){const t=this.genomeId||r4();if(this.genomeId===t)return;this.chordManager.clearChords(),this.genomeId=t,this.chrNames=new Set(e.chromosomes.map(s=>i4(s.name)));const i=[],r=[];for(let s of e.chromosomes){const o=i4(s.name);r.push(s.color||FO(o)),i.push({refName:o,uniqueId:o,start:0,end:s.bpLength})}this.assembly={name:e.name,sequence:{trackId:t,type:"ReferenceSequenceTrack",adapter:{type:"FromConfigSequenceAdapter",features:i}},refNameColors:r},this.render()}addChords(e,t={}){const i=t.name||t.track||"*",r=i.split(" ")[0].replaceAll("%20"," "),o={name:i.replaceAll("%20"," "),trackName:r,chords:e,color:t.color||"black",trackColor:t.trackColor||t.color||"black",visible:!0,id:t.id||r4()};this.chordManager.addChordSet(o),this.resetControlPanel(),this.render()}setSize(e,t){if(t=t||e,this.width=e,this.height=t,this.viewState){const i=this.viewState.session.view;i.setWidth(e),i.setHeight(t),i.setBpPerPx(i.minBpPerPx)}}getSize(){return Math.min(this.width,this.height)}clearChords(){this.chordManager.clearChords(),this.resetControlPanel(),this.render()}clearSelection(){this.viewState.pluginManager.rootModel.session.clearSelection()}show(){this.parent.style.display="block"}hide(){this.parent.style.display="none"}get visible(){return this.parent.style.display!=="none"}set visible(e){this.parent.style.display=e?"block":"none"}hideChordSet(e){let t=this.getChordSet(e);t?(t.visible=!1,this.render()):console.warn(`No track with name: ${name}`)}showChordSet(e){let t=this.getChordSet(e);t?(t.visible=!0,this.render()):console.warn(`No track with name: ${e}`)}deleteTrack(e){let t=this.tracks.findIndex(i=>e===i.name);t>=0&&this.tracks.splice(t,1),this.render()}getChordSet(e){return this.groupByTrack?this.chordManager.getTrack(e):this.chordManager.getChordSet(e)}setColor(e,t){const i=this.getChordSet(e);if(i){i.color=t;const r=i.id;for(let s of this.viewState.config.tracks)if(r===s.trackId){s.displays[0].renderer.strokeColor.set(t);break}}}render(){const{createViewState:e,JBrowseCircularGenomeView:t}=JBrowseReactCircularGenomeView;ReactDOM.unmountComponentAtNode(this.container);const i=(this.groupByTrack?this.chordManager.tracks:this.chordManager.chordSets).filter(a=>a.visible),r=[],s=[];for(let a of i)r.push({trackId:a.id,name:a.name,assemblyNames:["forIGV"],type:"VariantTrack",adapter:{type:"FromConfigAdapter",features:a.chords}}),s.push(a.color);this.viewState=e({assembly:this.assembly,tracks:r});for(let a=0;a<i.length;a++)this.viewState.config.tracks[a].displays[0].renderer.strokeColor.set(s[a]);this.element=React.createElement(t,{viewState:this.viewState}),this.setSize(this.width,this.height),ReactDOM.render(this.element,this.container);const o=this.config.onChordClick||CO;for(let a=0;a<i.length;a++)this.viewState.session.view.showTrack(this.viewState.config.tracks[a].trackId),o&&(this.viewState.pluginManager.jexl.addFunction("onChordClick",o),this.viewState.config.tracks[a].displays[0].onChordClick.set("jexl:onChordClick(feature, track, pluginManager)"))}}function s0(n,e){const[t,i,r,s]=n.split(",");return`${t},${i},${r},${e})`}function n4(n){return n.startsWith("rgba(")?Number(n.split(",")[3].replace(")","")):1}function i4(n){return n.startsWith("chr")?n.substring(3):n}function CO(n,e,t){console.log(n)}function r4(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}function xO(){const n=`.igv-circview-container {
  width: fit-content;
  height: fit-content;
  box-sizing: content-box;
  color: dimgray;
  font-family: "Open Sans", sans-serif;
  font-size: 12px;
  background-color: white;
  border-color: dimgray;
  border-style: solid;
  border-width: thin;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
}

.igv-circview-toolbar {
  position: relative;
  width: 100%;
  height: 32px;
  background-color: lightgrey;
  border-bottom-style: solid;
  border-bottom-color: dimgray;
  border-bottom-width: thin;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
}

.igv-circview-toolbar-button-container {
  height: 100%;
  width: fit-content;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-circview-toolbar-button-container > div {
  margin: 4px;
}

.igv-circview-track-panel {
  z-index: 1024;
  position: absolute;
  top: 33px;
  left: 0;
  width: 100%;
  height: fit-content;
  border-bottom-style: solid;
  border-bottom-color: dimgray;
  border-bottom-width: thin;
  background-color: white;
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
}
.igv-circview-track-panel > div {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-circview-track-panel > div > div {
  margin: 4px;
}

.igv-circview-swatch-button {
  cursor: pointer;
  padding: 5px;
  width: 8px;
  height: 8px;
  border: 1px solid #8d8b8b;
  border-radius: 16px;
}

.igv-circview-button {
  cursor: pointer;
  padding: 5px;
  color: #444;
  vertical-align: middle;
  text-align: center;
  font-family: "Open Sans", sans-serif;
  font-size: 12px;
  border: 1px solid #8d8b8b;
  border-radius: 4px;
  background: #efefef;
  box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.2);
}

.igv-circview-button:hover {
  background: #efefef;
  box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.6);
}

.igv-circview-button:active {
  color: #007bff;
  box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.6);
}

/*# sourceMappingURL=circular-view.css.map */
`,e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n,document.head.insertBefore(e,document.head.childNodes[document.head.childNodes.length-1])}if(typeof document<"u"){let n=function(e){for(let t of document.styleSheets)if(t=t.href?t.href.replace(/^.*[\\\/]/,""):"",t===e)return!0;return!1};var NY=n;n("circular-view.css")||xO()}const kO=1e6,nr=n=>n.startsWith("chr")?n.substring(3):n,EO=n=>{const e=[];for(let t of n)if(t.paired)t.firstAlignment&&t.secondAlignment&&e.push({uniqueId:t.readName,refName:nr(t.firstAlignment.chr),start:t.firstAlignment.start,end:t.firstAlignment.end,mate:{refName:nr(t.secondAlignment.chr),start:t.secondAlignment.start,end:t.secondAlignment.end}});else{const i=t.mate;i&&i.chr&&i.position&&e.push({uniqueId:t.readName,refName:nr(t.chr),start:t.start,end:t.end,mate:{refName:nr(i.chr),start:i.position-1,end:i.position}})}return e},SO=n=>{const e=i=>{const r=i.tags().SA,s=tx(r);let o=0;for(let a of s)a.start!==i.start&&t.push({uniqueId:`${i.readName}_${o++}`,refName:nr(i.chr),start:i.start,end:i.end,mate:{refName:nr(a.chr),start:a.start,end:a.start+a.lenOnRef}})},t=[];for(let i of n)i.paired?(e(i.firstAlignment),i.secondAlignment&&e(i.secondAlignment)):e(i);return t},IO=n=>n.map(e=>{const t=e._f||e;return{uniqueId:`${t.chr1}:${t.start1}-${t.end1}_${t.chr2}:${t.start2}-${t.end2}`,refName:nr(t.chr1),start:t.start1,end:t.end1,mate:{refName:nr(t.chr2),start:t.start2,end:t.end2}}}),NO=n=>n.filter(t=>{const i=t._f||t;return i.info&&i.info.CHR2&&i.info.END&&(i.info.CHR2!==i.chr||Math.abs(Number.parseInt(i.info.END)-i.pos)>kO)}).map(t=>{const i=t._f||t,r=Number.parseInt(i.info.END),s=r-100,o=r+100;return{uniqueId:`${i.chr}:${i.start}-${i.end}_${i.info.CHR2}:${i.info.END}`,refName:nr(i.chr),start:i.start,end:i.end,mate:{refName:nr(i.info.CHR2),start:s,end:o}}});function s4(n){const e=[],t=[];if(n.wgChromosomeNames)for(let i of n.wgChromosomeNames){const r=n.getChromosome(i);t.push(fl(r.name)),e.push({name:r.name,bpLength:r.bpLength})}return e}function Sd(n,e,t,i){const r=e.color||"rgb(0,0,255)",s=Xe.addAlpha(t.chr==="all"?r:fl(t.chr),i),o=Xe.addAlpha(r,i),a=e.name.replaceAll(" ","%20"),l=t.chr==="all"?a:`${a}  ${t.chr}:${t.start}-${t.end}`;e.browser.circularView.addChords(n,{track:l,color:s,trackColor:o}),e.browser.circularViewVisible||(e.browser.circularViewVisible=!0)}function TO(n,e){return new xw(n,{onChordClick:(i,r,s)=>{const o=i.data,a=o.mate;l(o),l(a);function l(c){c.chr=e.genome.getChromosomeName(c.refName);let h=!1;for(let u of e.referenceFrameList){const f=Ed.fromLocusString(u.getLocusString());if(f.contains(c)){h=!0;break}else if(f.overlaps(c)){u.extend(c),h=!0;break}}if(!h){const f=(c.start+c.end)/2;e.addMultiLocusPanel(c.chr,f-2e3,f+2e3)}}}})}class RO{constructor(e,{minTLENPercentile:t,maxTLENPercentile:i}){this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0,this.lp=t===void 0?.1:t,this.up=i===void 0?99.5:i,this.isizes=[],this.compute(e)}compute(e){for(let s of e)if(s.isProperPair()){var t=Math.abs(s.fragmentLength);this.sumF+=t,this.sumF2+=t*t,this.isizes.push(t);var i=s.pairOrientation;if(typeof i=="string"&&i.length===4){var r=""+i.charAt(0)+i.charAt(2);switch(r){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}}this.totalCount++}this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf"),this.minTLEN=this.lp===0?0:o4(this.isizes,this.lp),this.maxTLEN=o4(this.isizes,this.up)}}function o4(n,e){if(n.length!==0){var t=Math.floor(n.length*(e/100));return n.sort(function(i,r){return i-r}),n[t]}}const MO="rgb(255,0,0)",Cx="rgb(255,0,255)",BO="rgb(51,0,111)",DO="rgb(111, 78, 129)",LO="rgb(246, 200, 95)",zO="rgb(157, 216, 102)",PO="rgb(255, 160, 86)",OO="rgb(141, 221, 208)",HO="rgb(202, 71, 47)",Zh="rgb(0,0,255)",UO="rgb(132, 178, 158)",dn=new Map;dn.set("m",MO);dn.set("h",Cx);dn.set("o",DO);dn.set("f",LO);dn.set("c",zO);dn.set("g",PO);dn.set("e",OO);dn.set("b",HO);dn.set("h",Cx);dn.set("a",BO);dn.set("NONE_A",Zh);dn.set("NONE_C",Zh);dn.set("NONE_T",Zh);dn.set("NONE_G",Zh);dn.set("NONE_N",Zh);const o0=new Map;function f2(n,e,t){let i=VO(n),r=La(e);if(r>255)return i;const s=n+r+t,o=256*0;if(r<o&&(r=0),!o0.has(s)){const a=t==="basemod2"?Math.max(20,Math.min(255,20+(r*r/50-4*r+200))):Math.max(20,Math.min(255,.006127*r*r)),[l,c,h]=Xe.rgbComponents(i);o0.set(s,`rgba(${l},${c},${h},${a/255})`)}return o0.get(s)}function VO(n,e){return dn.has(n)?dn.get(n):UO}class qO{constructor(e){this.alignmentTrack=e}updateContext(e){this.context=e}drawModifications(e,t,i,r,s,o){const{ctx:a,pixelEnd:l,bpStart:c,bpPerPixel:h}=r,u=e.getBaseModificationSets();if(u){let f;const d=s.split(":");d.length==2&&(s=d[0],f=d[1]);for(let p of e.blocks){if(p.type==="S")continue;const w=t,F=i;let g=Math.max(1,1/h);for(let m=p.seqOffset;m<p.seqOffset+p.len;m++){let b=(p.start+(m-p.seqOffset)-c)/h;if(b>l)break;if(b+g<0)continue;let y=-1,A=255,x,v=0;for(let _ of u)if(!(f&&_.modification!==f)&&_.containsPosition(m)){const k=La(_.likelihoods.get(m));A-=k,(!x||k>y)&&(x=_.modification,v=_.canonicalBase,y=k)}if(x){const _=o*255;let k;A>y&&s==="basemod2"&&A>=_?k=f2("NONE_"+v,A,s):y>=_&&(k=f2(x,y,s)),a.fillStyle=k,g<3&&(g=3,b--),a.fillRect(b,w,g,Math.max(1,F-2))}}}}}}const a4=5,a0=10,l4=10,jO="rgb(185, 185, 185)",QO="rgb(200, 200, 200)",$O="#00ff00",c4=20,GO=new Set(["firstOfPairStrand"]);class xx extends Bt{constructor(t,i){super(t,i);Re(this,"_colorTables",new Map);Re(this,"_baseModifications",new Set);(t.colorTable||t.tagColorTable)&&(this.colorTable=new To(t.tagColorTable)),t.largeFragmentLengthColor&&(this.largeTLENColor=t.largeFragmentLengthColor),t.pairOrienation&&(this.expectedPairOrientation=t.pairOrientation),t.smallFragmentLengthColor&&(this.smallTLENColor=t.smallFragmentLengthColor),t.largeFragmentLengthColor&&(this.largeTLENColor=t.largeFragmentLengthColor),t.minFragmentLength&&(this.minTLEN=t.minFragmentLength),t.maxFragmentLength&&(this.maxTLEN=t.maxFragmentLength),t.displayMode&&(this.displayMode=t.displayMode.toUpperCase()),t.colorBy&&t.colorByTag&&(this.colorBy=t.colorBy+":"+t.colorByTag),this.featureSource=this.parent.featureSource,this.top=t.coverageTrackHeight===0?0:t.coverageTrackHeight+5,this.pairColors={RL:this.rlColor,RR:this.rrColor,LL:this.llColor},t.highlightedReads&&this.setHighlightedReads(t.highlightedReads),this.hasPairs=!1,this.hasSupplemental=!1,this._groupByTags=[],this._groupByPositions=[],t.groupBy&&(this.groupBy=t.groupBy,t.groupBy.startsWith("base:")&&this._groupByPositions.push(t.groupBy.substring(5)),t.groupBy.startsWith("tag:")&&this._groupByTags.push(t.groupBy.substring(4))),this._locusChange=KO.bind(this),this.browser.on("locuschange",this._locusChange)}init(t){this.parent=t.parent,delete t.parent,super.init(t)}dispose(){this.browser.off("locuschage",this._locusChange)}get baseModRenderer(){return this._baseModRenderer||(this._baseModRenderer=new qO(this)),this._baseModRenderer}get baseModificationThreshold(){return this.parent.baseModificationThreshold}setTop(t,i){this.top=t.height===0||i===!1?0:5+t.height}setHighlightedReads(t,i){if(!Array.isArray(t)||!t.every(r=>typeof r=="string"))throw new Error("AlignmentTrack.setHighlightedReads() only accept array of strings");i&&(this.highlightColor=i),this.highlightedReads=new Set(t)}computePixelHeight(t){if(t.packedGroups){let i=t.hasDownsampledIntervals()?a0+a4:0;const r=this.displayMode==="SQUISHED"?this.squishedRowHeight:this.alignmentRowHeight;for(let s of t.packedGroups.values())i+=r*s.length+l4;return i+5}else return 0}draw(t){const i=t.features,r=t.context,s=t.bpPerPixel,o=t.bpStart,a=t.pixelWidth,l=o+a*s+1,c=this.showSoftClips,h=this.showAllBases,u=this.browser.nucleotideColors;r.save();for(let y of i.baseModificationKeys)this._baseModifications.add(y.modification);let f=i.sequence;f&&(f=f.toUpperCase());let d=0;this.colorBy||(this.colorBy=this.hasPairs?"unexpectedPair":"none");let p=t.pixelTop;this.top&&r.translate(0,this.top);const w=p+t.pixelHeight;i.hasDownsampledIntervals()?(d=a0+a4,i.downsampledIntervals.forEach(function(y){var A=(y.start-o)/s,x=(y.end-o)/s;x-A>5&&(A+=1,x-=1),pe.fillRect(r,A,2,x-A,a0-2,{fillStyle:"black"})})):d=0,this.alignmentsYOffset=d;const F=this.displayMode==="SQUISHED"?this.squishedRowHeight:this.alignmentRowHeight,g=i.packedGroups;if(g){let y=d;for(let A of g.keys()){const x=g.get(A),v=x.rows,_=v.length;x.pixelTop=y;for(let k=0;k<_;k++){const E=v[k],T=F<=4?F:F-2;if(y>w)break;if(y+T<p){y+=F;continue}for(let M of E.alignments)if(this.browser.circularView&&(this.hasSupplemental=this.hasSupplemental||M.hasTag("SA")),!(M.start+M.lengthOnRef<o)){if(M.start>l)break;M.hidden!==!0&&(M instanceof _h?(m.call(this,M,y,T),b.call(this,M.firstAlignment,y,T),M.secondAlignment&&b.call(this,M.secondAlignment,y,T)):b.call(this,M,y,T))}y+=F}if(x.pixelBottom=y,this.groupBy&&A){r.save(),r.font="400 12px sans-serif";const k=r.measureText(A),E=k.width+10,T=-t.pixelShift+t.viewportWidth-E-10,M=k.actualBoundingBoxAscent+k.actualBoundingBoxDescent+10,N=Math.min(x.pixelTop+M-1,x.pixelBottom);r.textAlign="center",r.fillStyle="white",r.strokeStyle="lightGray",r.beginPath(),r.roundRect(T,N-k.actualBoundingBoxAscent-5,E,M,2),r.fill(),r.stroke(),r.fillStyle="black",r.fillText(A,T+E/2,N),pe.dashedLine(r,0,y,a,y),r.restore(),y+=l4}}}r.restore();function m(y,A,x){var v=this.getConnectorColor(y.firstAlignment),_=(y.connectingStart-o)/s,k=(y.connectingEnd-o)/s,E=A+x/2;y.connectingEnd<o||y.connectingStart>l||(y.mq<=0&&(v=Xe.addAlpha(v,.15)),pe.setProperties(r,{fillStyle:v,strokeStyle:v}),pe.strokeLine(r,_,E,k,E))}function b(y,A,x){if(y.start+y.lengthOnRef<o||y.start>l)return;const v=c?y.blocks:y.blocks.filter(M=>M.type!=="S");let _=this.getAlignmentColor(y);const k=_;y.mq<=0&&(_=Xe.addAlpha(_,.15)),pe.setProperties(r,{fillStyle:_,strokeStyle:k});const E=[];for(let M=0;M<v.length;M++){const N=v[M];if(!(M!==v.length-1&&v[M+1].start<o)&&(E.push(...T.call(this,N,M)),N.start+N.len>l))break}if(y.gaps){const M=A+x/2;for(let N of y.gaps){const C=(N.start-o)/s,B=(N.start+N.len-o)/s,I=B-C,H=N.len.toString(),L=H.length*6,O=C+I/2,$=N.type==="D"?this.deletionColor:this.skippedColor;if(pe.strokeLine(r,C,M,B,M,{strokeStyle:$,lineWidth:2}),this.showDeletionText&&N.len>1&&I>=L+8){const Q=O-L/2;pe.fillRect(r,Q-1,A-1,L+2,12,{fillStyle:"white"}),pe.fillText(r,H,Q,A+10,{font:"normal 10px monospace",fillStyle:this.deletionTextColor})}}}if(y.insertions&&this.showInsertions){let M=-1;for(let N of y.insertions){if(this.hideSmallIndels&&N.len<=this.indelSizeThreshold||N.start<o)continue;if(N.start>l)break;const C=N.start-o,B=N.len.toString(),I=2+B.length*6,H=!this.showInsertionText||N.len===1?2:Math.round(N.len/s),L=Math.max(Math.min(I,H),2),O=C/s-L/2;if(O-M>2){const $={fillStyle:this.insertionColor};pe.fillRect(r,O-2,A,L+4,2,$),pe.fillRect(r,O,A+2,L,x-4,$),pe.fillRect(r,O-2,A+x-2,L+4,2,$),this.showInsertionText&&N.len>1&&H>I&&pe.fillText(r,B,O+1,A+10,{font:"normal 10px monospace",fillStyle:this.insertionTextColor}),M=O}}}for(let{bbox:M,baseColor:N,readChar:C}of E)if(s<=.1&&M.height>=8){const I=Math.min(10,M.height);r.font=""+I+"px sans-serif";const H=M.x+M.width/2;pe.strokeText(r,C,H-r.measureText(C).width/2,I-1+M.y,{strokeStyle:N})}else pe.fillRect(r,M.x,M.y,M.width,M.height,{fillStyle:N});if(this.colorBy&&this.colorBy.startsWith("basemod")){const M={ctx:r,bpPerPixel:s,bpStart:o,bpEnd:l,pixelEnd:a};this.baseModRenderer.drawModifications(y,A,x,M,this.colorBy,this.baseModificationThreshold)}function T(M,N){const C=[],B=M.start-i.start,I=(M.start-o)/s,H=(M.start+M.len-o)/s,L=Math.max(1,H-I),O=100/s,$=Math.min(F/2,O/6),Q=M.type==="S",te=y.mq<=0||this.selectedReadName===y.readName||Q||this.highlightedReads&&this.highlightedReads.has(y.readName);let U=k;this.selectedReadName===y.readName?U="red":Q?U="rgb(50,50,50)":this.highlightedReads&&this.highlightedReads.has(y.readName)&&(U=this.highlightColor||$O);const G=y.strand===!0&&N===v.length-1,ne=y.strand===!1&&N===0;if(G|ne){let Z,ye;G?(Z=[I,H,H+$,H,I,I],ye=[A,A,A+x/2,A+x,A+x,A]):ne&&(Z=[H,I,I-$,I,H,H],ye=[A,A,A+x/2,A+x,A+x,A]),pe.fillPolygon(r,Z,ye,{fillStyle:_}),te&&pe.strokePolygon(r,Z,ye,{strokeStyle:U})}else pe.fillRect(r,I,A,L,x,{fillStyle:_}),te&&(r.save(),r.strokeStyle=U,r.strokeRect(I,A,L,x),r.restore());if(Q||h||this.showMismatches&&f&&y.seq&&y.seq!=="*"){const Z=y.seq?y.seq.toUpperCase():void 0,ye=y.qual,V=M.seqOffset,ee=Math.max(1,1/s);for(let R=0,Y=M.len;R<Y;R++){const W=(M.start+R-o)/s;if(W+ee<0)continue;if(W>a)break;let q=Z?Z.charAt(V+R):"";const ge=B+R>=0?f.charAt(B+R):"";if(q==="="&&(q=ge),q==="X"||ge!==q||Q||h){let le=u[q]||"rgb(0,0,0)";if(!Q&&ye!==void 0&&ye.length>V+R){const ue=ye[V+R];le=WO(ue,le)}C.push({bbox:{x:W,y:A,width:ee,height:x},baseColor:le,readChar:q})}}}return C}}}popupData(t){const i=this.getClickedObject(t);return i?i.popupData(t.genomicLocation):void 0}menuItemList(){let t=[];t.push("<hr/>");const i=ke('<div class="igv-track-menu-category">');i.text("Color by:"),t.push({name:void 0,object:i,click:void 0,init:void 0});const r=[];r.push({key:"none",label:"none"}),r.push({key:"strand",label:"read strand"}),this.hasPairs&&(r.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),r.push({key:"pairOrientation",label:"pair orientation"}),r.push({key:"tlen",label:"insert size (TLEN)"}),r.push({key:"unexpectedPair",label:"pair orientation & insert size (TLEN)"})),r.push({key:"tag",label:"tag"});for(let c of r){const h=this.colorBy===void 0&&c.key==="none"||this.colorBy===c.key;t.push(this.colorByCB(c,h))}const s=this._baseModifications.size;if(s>0){t.push('<hr style="border-top:1px dotted;border-bottom: none;">');let c=s===1?"base modification":"base modification (all)";if(t.push(this.basemodColorByCB({key:"basemod",label:c})),s>1)for(let h of this._baseModifications)t.push(this.basemodColorByCB({key:"basemod:"+h,label:`base modification (${s2(h)})`}));if(t.push('<hr style="border-top:1px dotted;border-bottom: none;">'),c=s===1?"base modification 2-color":"base modification 2-color (all)",t.push(this.basemodColorByCB({key:"basemod2",label:c})),s>1)for(let h of this._baseModifications)t.push(this.basemodColorByCB({key:"basemod2:"+h,label:`base modification 2-color (${s2(h)})`}))}t.push("<hr/>");const o=ke('<div class="igv-track-menu-category">');o.text("Group by:"),t.push({name:void 0,object:o,click:void 0,init:void 0});const a=[];a.push({key:"none",label:"none"}),a.push({key:"strand",label:"read strand"}),this.hasPairs&&(a.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),a.push({key:"pairOrientation",label:"pair orientation"}),a.push({key:"mateChr",label:"chromosome of mate"})),a.push({key:"chimeric",label:"chimeric"}),a.push({key:"supplementary",label:"supplementary flag"}),a.push({key:"readOrder",label:"read order"});for(let c of this._groupByTags)a.push({key:`tag:${c}`,label:`tag:${c}`});for(let c of this._groupByPositions)a.push({key:`base:${c}`,label:`base:${c}`});a.push({key:"tag",label:"tag..."});for(let c of a){const h=this.groupBy===void 0&&c.key==="none"||this.groupBy===c.key;t.push(this.groupByCB(c,h))}t.push("<hr/>"),t.push({object:ke(Ct("Show all bases",this.showAllBases)),click:function(){this.alignmentTrack.showAllBases=!this.alignmentTrack.showAllBases,this.trackView.repaintViews()}}),t.push({object:ke(Ct("Show mismatches",this.showMismatches)),click:function(){this.alignmentTrack.showMismatches=!this.alignmentTrack.showMismatches,this.trackView.repaintViews()}}),t.push({object:ke(Ct("Show insertions",this.showInsertions)),click:function(){this.alignmentTrack.showInsertions=!this.alignmentTrack.showInsertions,this.trackView.repaintViews()}}),t.push({object:ke(Ct("Show soft clips",this.showSoftClips)),click:function(){this.alignmentTrack.showSoftClips=!this.alignmentTrack.showSoftClips;const h=this.getCachedAlignmentContainers();for(let u of h)u.pack(this);this.trackView.repaintViews()}}),this.hasPairs&&(t.push("<hr/>"),t.push({object:ke(Ct("View as pairs",this.viewAsPairs)),click:function(){const h=!this.alignmentTrack.viewAsPairs;if(h&&this.groupBy&&!GO.has(this.groupBy)){this.browser.alert.present(`'View as Pairs' is incompatible with 'Group By ${this.groupBy}'`);return}this.alignmentTrack.viewAsPairs=h;const u=this.getCachedAlignmentContainers();for(let f of u)f.pack(this);this.trackView.checkContentHeight(),this.trackView.repaintViews()}})),this.browser.circularView&&(this.hasPairs||this.hasSupplemental)&&(t.push("<hr/>"),this.hasPairs&&t.push({label:"Add discordant pairs to circular view",click:function(){for(let h of this.trackView.viewports)this.addPairedChordsForViewport(h)}}),this.hasSupplemental&&t.push({label:"Add split reads to circular view",click:function(){for(let h of this.trackView.viewports)this.addSplitChordsForViewport(h)}})),t.push("<hr/>");const l=ke('<div class="igv-track-menu-category">');l.text("Display mode:"),t.push({name:void 0,object:l,click:void 0,init:void 0});for(let c of["EXPANDED","SQUISHED","FULL"])t.push({object:ke(Ct(c.toLowerCase(),this.displayMode===c)),click:function(){this.alignmentTrack.setDisplayMode(c)}});return t}setDisplayMode(t){const i=this.displayMode==="FULL"||t==="FULL";if(this.displayMode=t,i){const r=this.getCachedAlignmentContainers();for(let s of r)s.pack(this)}this.trackView.checkContentHeight(),this.trackView.repaintViews()}colorByCB(t,i){const r=ke(Ct(t.label,i));if(t.key!=="tag"){let a=function(){this.alignmentTrack.colorBy=t.key,this.trackView.repaintViews()};var s=a;return{name:void 0,object:r,click:a,init:void 0}}else{let a=function(l){const c=this.alignmentTrack.colorBy.startsWith("tag:")?this.alignmentTrack.colorBy.substring(4):"";this.browser.inputDialog.present({label:"Tag Name",value:c,callback:h=>{const u=this.alignmentTrack;h?(u.colorBy="tag:"+h,u.colorTable||(u.colorTable=new yh("Set1"))):u.colorBy=void 0,this.trackView.repaintViews()}},l)};var o=a;return{name:void 0,object:r,dialog:a,init:void 0}}}basemodColorByCB(t){const i=this.colorBy===t.key,r=ke(Ct(t.label,i));function s(){this.alignmentTrack.colorBy=t.key,this.alignmentTrack.groupBy!=="strand"&&(this.alignmentTrack.groupBy="strand",this.alignmentTrack.repackAlignments()),this.trackView.repaintViews()}return{name:void 0,object:r,click:s,init:void 0}}groupByCB(t,i){const r=ke(Ct(t.label,i));function s(o){const a=()=>this.alignmentTrack.repackAlignments();if(t.key==="tag"){let l="";this.alignmentTrack.groupBy&&this.alignmentTrack.groupBy.startsWith("tag:")&&(l=this.alignmentTrack.groupBy.substring(4)),this.browser.inputDialog.present({label:"Tag Name",value:l,callback:c=>{c&&(this.alignmentTrack.groupBy="tag:"+c,this.alignmentTrack._groupByTags.push(c),a())}},o)}else t.key==="none"?this.alignmentTrack.groupBy=void 0:this.alignmentTrack.groupBy=t.key,a()}return{name:void 0,object:r,dialog:s,init:void 0}}repackAlignments(){const t=this.getCachedAlignmentContainers();for(let i of t)typeof i.pack=="function"&&i.pack(this);this.trackView.checkContentHeight(),this.trackView.repaintViews()}contextMenuItemList(t){const i=t.viewport,r=[],s=l=>{const c=this.sortObject,h=c&&c.position===Math.floor(t.genomicLocation)?!c.direction:!0,u={chr:i.referenceFrame.chr,position:Math.floor(t.genomicLocation),option:l,direction:h,sortAsPairs:i.trackView.track.viewAsPairs};this.sortObject=u,i.cachedFeatures.sortRows(u),i.repaint()};r.push("<b>Sort by...</b>"),r.push({label:"&nbsp; base",click:()=>s("BASE")}),r.push({label:"&nbsp; read strand",click:()=>s("strand")}),r.push({label:"&nbsp; start location",click:()=>s("START")}),r.push({label:"&nbsp; insert size",click:()=>s("INSERT_SIZE")}),r.push({label:"&nbsp; gap size",click:()=>s("GAP_SIZE")}),r.push({label:"&nbsp; chromosome of mate",click:()=>s("MATE_CHR")}),r.push({label:"&nbsp; mapping quality",click:()=>s("MQ")}),r.push({label:"&nbsp; read name",click:()=>s("READ_NAME")}),r.push({label:"&nbsp; aligned read length",click:()=>s("ALIGNED_READ_LENGTH")}),r.push({label:"&nbsp; tag",click:()=>{const l=this.sortObject,c=l&&l.position===Math.floor(t.genomicLocation)?!l.direction:!0,h={label:"Tag Name",value:this.sortByTag?this.sortByTag:"",callback:u=>{if(u){const f={chr:i.referenceFrame.chr,position:Math.floor(t.genomicLocation),option:"TAG",tag:u,direction:c};this.sortByTag=u,this.sortObject=f,i.cachedFeatures.sortRows(f),i.repaint()}}};this.browser.inputDialog.present(h,t.event)}}),r.push("<hr/>");const o=`${i.referenceFrame.chr}:${Ge(Math.floor(t.genomicLocation)+1)}`;r.push({label:`Group by base @${o}`,click:()=>{this._groupByPositions.push(o),this.groupBy=`base:${o}`;const l=this.getCachedAlignmentContainers();for(let c of l)c.pack(this);this.trackView.checkContentHeight(),this.trackView.repaintViews()}}),r.push("<hr/>");const a=this.getClickedObject(t);if(a){const l=this.showSoftClips,c=typeof a.alignmentContaining=="function"?a.alignmentContaining(t.genomicLocation,l):a;if(c){c.isPaired()&&c.isMateMapped()&&r.push({label:"View mate in split screen",click:()=>{if(c.mate){const u=t.viewport.referenceFrame,f=this.browser.genome.getChromosome(c.mate.chr);if(f){this.selectedReadName=c.readName;const d=u.bpPerPixel*t.viewport.getWidth(),p=c.mate.position-d/2,w=c.mate.position+d/2;this.browser.addMultiLocusPanel(f.name,p,w,u)}else this.browser.alert.present(`Reference does not contain chromosome: ${c.mate.chr}`)}},init:void 0}),r.push({label:"View read sequence",click:()=>{const u=c.seq;!u||u==="*"?this.browser.alert.present("Read sequence: *"):this.browser.alert.present(u)}}),mp()&&r.push({label:"Copy read sequence",click:async()=>{const u=c.seq;try{await navigator.clipboard.writeText(u)}catch(f){console.error(f),this.browser.alert.present(`error copying sequence to clipboard ${f}`)}}});const h=c.seq;if(h&&h!=="*"){h.length<zc&&r.push({label:"BLAT read sequence",click:()=>{const f=c.isNegativeStrand()?Tr(h):h,d=`${c.readName} - blat`,p=`${this.name} - ${d}`;Pc({sequence:f,browser:this.browser,name:d,title:p})}});const u=c.softClippedBlocks();u.left&&u.left.len>c4&&u.left.len<zc&&r.push({label:"BLAT left soft-clipped sequence",click:()=>{const f=h.substr(u.left.seqOffset,u.left.len),d=c.isNegativeStrand()?Tr(f):f,p=`${c.readName} - blat left clip`,w=`${this.name} - ${p}`;Pc({sequence:d,browser:this.browser,name:p,title:w})}}),u.right&&u.right.len>c4&&u.right.len<zc&&r.push({label:"BLAT right soft-clipped sequence",click:()=>{const f=h.substr(u.right.seqOffset,u.right.len),d=c.isNegativeStrand()?Tr(f):f,p=`${c.readName} - blat right clip`,w=`${this.name} - ${p}`;Pc({sequence:d,browser:this.browser,name:p,title:w})}})}r.push("<hr/>")}}return this.browser.circularView&&(this.hasPairs||this.hasSupplemental)&&(this.hasPairs&&r.push({label:"Add discordant pairs to circular view",click:()=>{this.addPairedChordsForViewport(i)}}),this.hasSupplemental&&r.push({label:"Add split reads to circular view",click:()=>{this.addSplitChordsForViewport(i)}}),r.push("<hr/>")),r}getClickedObject(t){let r=t.viewport.cachedFeatures;if(!r)return;const o=t.y-this.top,a=t.genomicLocation;if(r.packedGroups){let l=Number.MAX_VALUE;for(let c of r.packedGroups.values())if(l=Math.min(l,c.pixelTop),o>c.pixelTop&&o<=c.pixelBottom){const h=this.displayMode==="SQUISHED"?this.squishedRowHeight:this.alignmentRowHeight;let u=Math.floor((o-c.pixelTop)/h);if(u>=0&&u<c.length){const d=c.rows[u].alignments.filter(p=>p.containsLocation(a,this.showSoftClips));if(d.length>0)return d[0]}}}if(o<minGroupY&&r.downsampledIntervals){for(const l of r.downsampledIntervals)if(l.start<=a&&l.end>=a)return l}}getConnectorColor(t){if(this.pairConnectorColor)return this.pairConnectorColor;let i=this.colorBy;switch(i&&i.startsWith("tag:")&&(i.substring(4),i="tag"),i){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.color?typeof this.color=="function"?this.color(t):this.color:QO;default:return this.getAlignmentColor(t)}}getAlignmentColor(t){let i;this.color?i=typeof this.color=="function"?this.color(t):this.color:i=jO;let r=this.colorBy,s;switch(r&&r.startsWith("tag:")&&(s=r.substring(4),r="tag"),r){case"basemod":case"basemod2":i=t.strand?this.baseModPosStrandColor:this.baseModNegStrandColor;break;case"strand":i=t.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":const o=t.firstOfPairStrand;o!==void 0&&(i=o?this.posStrandColor:this.negStrandColor);break;case"unexpectedPair":case"pairOrientation":if(t.pairOrientation){const l=bw[this.expectedPairOrientation];if(l){const c=this.pairColors[l[t.pairOrientation]];if(c){i=c;break}}}if(r==="pairOrientation")break;case"tlen":case"fragmentLength":t.mate&&t.isMateMapped()&&(t.mate.chr!==t.chr?i=fl(t.mate.chr):this.minTemplateLength&&Math.abs(t.fragmentLength)<this.minTemplateLength?i=this.smallTLENColor:this.maxTemplateLength&&Math.abs(t.fragmentLength)>this.maxTemplateLength&&(i=this.largeTLENColor));break;case"tag":const a=t.tags()[s];a!==void 0&&(this.bamColorTag===s&&(i=Xe.createColorStringSafe(a)),this.colorTable||(this.colorTable=new yh(this.tagColorPallete)),i=this.colorTable.getColor(a));break}return i}get nucleotideColors(){return this.browser.nucleotideColors}get minTemplateLength(){return this.minTLEN!==void 0?this.minTLEN:this.parent._pairedEndStats?this.parent._pairedEndStats.minTLEN:0}get maxTemplateLength(){return this.maxTLEN!==void 0?this.maxTLEN:this.parent._pairedEndStats?this.parent._pairedEndStats.maxTLEN:1e3}getState(){const t=super.getState();return this.highlightedReads&&(t.highlightedReads=Array.from(this.highlightedReads)),t}get name(){return this.parent.name}set name(t){this.parent.name=t}get color(){return this.parent.color}set color(t){this.parent.color=t}get trackView(){return this.parent.trackView}get getCachedAlignmentContainers(){return this.parent.getCachedAlignmentContainers}get sortObject(){return this.parent.sortObject}set sortObject(t){this.parent.sortObject=t}addPairedChordsForViewport(t){return this.parent.addPairedChordsForViewport(t)}addSplitChordsForViewport(t){return this.parent.addSplitChordsForViewport(t)}}Re(xx,"defaults",{viewAsPairs:!1,showSoftClips:!1,showAllBases:!1,showInsertions:!0,showMismatches:!0,colorBy:void 0,groupBy:void 0,displayMode:"EXPANDED",alignmentRowHeight:14,squishedRowHeight:3,negStrandColor:"rgba(150, 150, 230, 0.75)",posStrandColor:"rgba(230, 150, 150, 0.75)",baseModPosStrandColor:"rgb(195, 195, 195)",baseModNegStrandColor:"rgb(195, 210, 195)",insertionColor:"rgb(138, 94, 161)",insertionTextColor:"white",showInsertionText:!1,deletionColor:"black",deletionTextColor:"black",showDeletionText:!1,skippedColor:"rgb(150, 170, 170)",pairConnectorColor:void 0,smallTLENColor:"rgb(0, 0, 150)",largeTLENColor:"rgb(200, 0, 0)",expectedPairOrientation:"fr",rlColor:"rgb(0, 150, 0)",rrColor:"rgb(20, 50, 200)",llColor:"rgb(0, 150, 150)",bamColorTag:"YC",hideSmallIndels:!1,indelSizeThreshold:1,highlightColor:void 0,minTLEN:void 0,maxTLEN:void 0,tagColorPallete:"Set1"});function WO(n,e){let r;return n<5?r=.1:r=Math.max(.1,Math.min(1,.1+.9*(n-5)/15)),r=Math.round(r*10)/10,r<1&&(e=Xe.addAlpha(e,r)),e}function KO(){this.displayMode==="FULL"&&!this.browser.isTrackPanning()&&this.repackAlignments()}function YO(n,e,t,i,r,s,o,a,l){const c=o.baseModCounts,h=o.coverageMap;if(c){let u;const f=a.split(":");f.length==2&&(a=f[0],u=f[1]);const d=Array.from(c.allModifications);d.sort(pl.compare);const p=h.getTotalCount(s);if(!d.filter(F=>u?u===F.modification:!F.modification.startsWith("NONE_")).find(F=>c.getCount(s,F,0,!1)>0))return;for(let F of d){if(F.modification.startsWith("NONE_")&&a!=="basemod2"||u&&u!==F.modification&&!F.modification.startsWith("NONE_"))continue;const g=F.base,m=nw(g),b=h.getCount(s,g)+h.getCount(s,m),y=c.simplexModifications.has(F.modification)?h.getPosCount(s,g)+h.getNegCount(s,m):b;if(y==0)continue;const A=a==="basemod2",x=c.getCount(s,F,l,A);if(x==0)continue;const v=b/p*(x/y),_=Math.round(v*r),E=c.getLikelihoodSum(s,F,l,A)/x,T=t-_,M=f2(F.modification,E,a);n.fillStyle=M,n.fillRect(e,T,i,_),t=T}}}const XO="rgb(150, 150, 150)";class ZO{constructor(e,t){this.featureType="numeric",this.parent=t,this.featureSource=t.featureSource,this.paintAxis=Yh,this.top=0,this.autoscale=e.autoscale||e.max===void 0,e.coverageColor&&(this.color=e.coverageColor),this.autoscale||(this.dataRange={min:e.min||0,max:e.max})}get height(){return this.parent.coverageTrackHeight}draw(e){const t=e.pixelTop;t+e.pixelHeight;const i=this.parent.browser.nucleotideColors;if(t>this.height)return;const r=e.context,s=e.features,o=s.coverageMap;let a;o.refSeq&&(a=o.refSeq.toUpperCase());const l=e.bpPerPixel,c=e.bpStart,h=e.pixelWidth,u=c+h*l+1;let f;this.color?f=this.color:this.parent.color&&typeof this.parent.color!="function"?f=Xe.darkenLighten(this.parent.color,-35):f=XO,pe.setProperties(r,{fillStyle:f,strokeStyle:f});const d=Math.max(1,1/l);for(let p=0,w=o.coverage.length;p<w;p++){const F=o.bpStart+p;if(F<c)continue;if(F>u)break;const g=o.coverage[p];if(!g)continue;const m=g.total/this.dataRange.max*this.height,b=this.height-m,y=(F-c)/l;pe.fillRect(r,y,b,d,m)}if(a)for(let p=0,w=o.coverage.length;p<w;p++){const F=o.bpStart+p;if(F<c)continue;if(F>u)break;const g=o.coverage[p];if(!g)continue;const m=g.total/this.dataRange.max*this.height;let b=this.height-m;const y=Math.floor((F-c)/l),A=a[p];if(this.parent.colorBy&&this.parent.colorBy.startsWith("basemod"))YO(r,y,this.height,d,m,F,s,this.parent.colorBy,this.parent.baseModificationThreshold);else if(g.isMismatch(A)){pe.setProperties(r,{fillStyle:i[A]}),pe.fillRect(r,y,b,d,m);let x=0;for(let v of["A","C","T","G"]){const k=(g["pos"+v]+g["neg"+v])/this.dataRange.max*this.height;b=this.height-k-x,x+=k,pe.setProperties(r,{fillStyle:i[v]}),pe.fillRect(r,y,b,d,k)}}}}getClickedObject(e){let t=e.viewport.cachedFeatures;if(!t||t.length===0)return;const i=Math.floor(e.genomicLocation),r=t.coverageMap,s=Math.floor(i-r.bpStart),o=r.coverage[s];if(o)return{coverage:o,baseModCounts:t.baseModCounts,hoverText:()=>r.coverage[s].hoverText()}}popupData(e){const t=[],{coverage:i,baseModCounts:r}=this.getClickedObject(e);if(i){const s=Math.floor(e.genomicLocation),o=e.viewport.referenceFrame;t.push(o.chr+":"+Ge(1+s)),t.push({name:"Total Count",value:i.total});let a=i.posA+i.negA;a>0&&(a=a.toString()+" ("+Math.round(a/i.total*100)+"%, "+i.posA+"+, "+i.negA+"- )"),t.push({name:"A",value:a}),a=i.posC+i.negC,a>0&&(a=a.toString()+" ("+Math.round(a/i.total*100)+"%, "+i.posC+"+, "+i.negC+"- )"),t.push({name:"C",value:a}),a=i.posG+i.negG,a>0&&(a=a.toString()+" ("+Math.round(a/i.total*100)+"%, "+i.posG+"+, "+i.negG+"- )"),t.push({name:"G",value:a}),a=i.posT+i.negT,a>0&&(a=a.toString()+" ("+Math.round(a/i.total*100)+"%, "+i.posT+"+, "+i.negT+"- )"),t.push({name:"T",value:a}),a=i.posN+i.negN,a>0&&(a=a.toString()+" ("+Math.round(a/i.total*100)+"%, "+i.posN+"+, "+i.negN+"- )"),t.push({name:"N",value:a}),t.push("<HR/>"),t.push({name:"DEL",value:i.del.toString()}),t.push({name:"INS",value:i.ins.toString()}),r&&(t.push("<hr/>"),t.push(...r.popupData(s,this.parent.colorBy)))}return t}}class kx extends Bt{constructor(e,t){super(e,t)}init(e){this.type="alignment",this.featureSource=new uO(e,this.browser);const t=Object.assign({parent:this},e);this.coverageTrack=new ZO(t,this);const i=Object.assign({parent:this},e);this.alignmentTrack=new xx(i,this.browser),super.init(e),this.showAlignments||(this._height=this.coverageTrackHeight),e.sort&&(Array.isArray(e.sort)?this.assignSort(e.sort[0]):this.assignSort(e.sort))}dispose(){this.alignmentTrack.dispose()}setHighlightedReads(e,t){this.alignmentTrack.setHighlightedReads(e,t),this.updateViews()}get expectedPairOrientation(){return this.alignmentTrack.expectedPairOrientation}get viewAsPairs(){return this.alignmentTrack.viewAsPairs}get colorBy(){return this.alignmentTrack.colorBy}set height(e){this._height=e,this.showAlignments&&(this.alignmentTrack.height=this.showCoverage?e-this.coverageTrackHeight:e)}get height(){return this._height}sort(e){e=this.assignSort(e);for(let t of this.trackView.viewports)if(t.containsPosition(e.chr,e.position)){const i=t.cachedFeatures;i&&(i.sortRows(e),t.repaint())}}assignSort(e){if(e.locus){const t=XS(e.locus);e.chr=t.chr,e.position=t.start}else e.position--;return e.direction=e.direction==="ASC"||e.direction===!0,e.chr=this.browser.genome.getChromosomeName(e.chr),this.sortObject=e,this.sortObject}async getFeatures(e,t,i,r,s){const o=await this.featureSource.getAlignments(e,t,i);if(o.viewport=s,o.hasPairs&&!this._pairedEndStats&&!this.config.maxFragmentLength){const l=new RO(o.allAlignments(),this.config);l.totalCount>99&&(this._pairedEndStats=l)}o.pack(this.alignmentTrack);const a=this.sortObject;return a&&a.chr===e&&a.position>=t&&a.position<=i&&o.sortRows(a),this.alignmentTrack.hasPairs=this.alignmentTrack.hasPairs||o.hasPairs,o}computePixelHeight(e){return(this.showCoverage?this.coverageTrackHeight:0)+(this.showAlignments?this.alignmentTrack.computePixelHeight(e):0)}draw(e){pe.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),this.showCoverage===!0&&this.coverageTrackHeight>0?(this.trackView.axisCanvas.style.display="block",this.coverageTrack.draw(e)):this.trackView.axisCanvas.style.display="none",this.showAlignments===!0&&(this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.alignmentTrack.draw(e))}paintAxis(e,t,i){this.coverageTrack.paintAxis(e,t,this.coverageTrackHeight)}contextMenuItemList(e){return this.alignmentTrack.contextMenuItemList(e)}popupData(e){return this.showCoverage===!0&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrackHeight?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)}clickedFeatures(e){let t;return this.showCoverage===!0&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrackHeight?t=this.coverageTrack.getClickedObject(e):t=this.alignmentTrack.getClickedObject(e),t?[t]:void 0}hoverText(e){if(this.showCoverage===!0&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrackHeight){const t=this.coverageTrack.getClickedObject(e);if(t)return t.hoverText()}}menuItemList(){let e=[];e=e.concat(this.numericDataMenuItems()),e=e.concat(this.alignmentTrack.menuItemList());const t=()=>{if(!this.autoHeight){const s=(this.showCoverage?this.coverageTrackHeight:0)+(this.showAlignments?this.alignmentTrack.height:0);this.trackView.setTrackHeight(s)}};e.push("<hr/>");function i(){this.showCoverage=!this.showCoverage,t(),this.trackView.checkContentHeight(),this.trackView.repaintViews()}e.push({object:ke(Ct("Show Coverage",this.showCoverage)),click:i});function r(){this.showAlignments=!this.showAlignments,t(),this.trackView.checkContentHeight(),this.trackView.repaintViews()}return e.push({object:ke(Ct("Show Alignments",this.showAlignments)),click:r}),e}getState(){const e=super.getState();return this.sortObject&&(e.sort={chr:this.sortObject.chr,position:this.sortObject.position+1,option:this.sortObject.option,direction:this.sortObject.direction?"ASC":"DESC"}),Object.assign(e,this.alignmentTrack.getState()),e}getCachedAlignmentContainers(){return this.trackView.viewports.map(e=>e.cachedFeatures)}get dataRange(){return this.coverageTrack.dataRange}set dataRange(e){this.coverageTrack.dataRange=e}get logScale(){return this.coverageTrack.logScale}set logScale(e){this.coverageTrack.logScale=e}get autoscale(){return this.coverageTrack.autoscale}set autoscale(e){this.coverageTrack.autoscale=e}addPairedChordsForViewport(e){const t=this.maxTemplateLength,i=[],r=e.referenceFrame;for(let o of e.cachedFeatures.allAlignments())o.end>=r.start&&o.start<=r.end&&(o.paired?o.end-o.start>t&&i.push(o):o.mate&&o.mate.chr&&(o.mate.chr!==o.chr||Math.max(o.fragmentLength)>t)&&i.push(o));const s=EO(i);Sd(s,this,r,.02)}addSplitChordsForViewport(e){const t=[],i=e.referenceFrame;for(let s of e.cachedFeatures.allAlignments()){const o=s.hasTag("SA");s.end>=i.start&&s.start<=i.end&&o&&t.push(s)}const r=SO(t);Sd(r,this,i,.02)}}Re(kx,"defaults",{alleleFreqThreshold:.2,visibilityWindow:3e4,showCoverage:!0,showAlignments:!0,height:300,coverageTrackHeight:50,baseModificationThreshold:0});function JO(n){if(!n.arcType)return"nested";switch(n.arcType){case"chiapet":return"inView";case"chiapetoutbound":return"partialInView";default:return n.arcType}}const eH="rgb(180,25,137)";class d2 extends Bt{constructor(e,t){super(e,t)}init(e){super.init(e),e.arcOrientation===!1?this.arcOrientation="DOWN":e.arcOrientation===!0?this.arcOrientation="UP":e.arcOrientation?this.arcOrientation=e.arcOrientation.toUpperCase():this.arcOrientation="UP",this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.arcType=JO(e),this.painter={flipAxis:this.arcOrientation==="DOWN",dataRange:this.dataRange,paintAxis:Yh},e.valueColumn?(this.valueColumn=e.valueColumn,this.hasValue=!0):e.useScore&&(this.hasValue=!0,this.valueColumn="score"),e.max?(this.dataRange={min:e.min||0,max:e.max},this.autoscale=!1):this.autoscale=!0,e.featureSource?(this.featureSource=e.featureSource,delete e._featureSource):(this.featureSource=$n(e,this.browser.genome),this.featureSource.getWGFeatures=nH)}async postInit(){if(!(typeof this.featureSource.getHeader=="function"&&(this.header=await this.featureSource.getHeader(),this.disposed)))return this.header&&this.setTrackProperties(this.header),this.visibilityWindow===void 0&&typeof this.featureSource.defaultVisibilityWindow=="function"&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow(),this.featureSource.visibilityWindow=this.visibilityWindow),this}get supportsWholeGenome(){return!0}async getFeatures(e,t,i){const r=this.visibilityWindow,s=await this.featureSource.getFeatures({chr:e,start:t,end:i,visibilityWindow:r});return this.hasValue===void 0&&s&&s.length>0&&(this.hasValue=s[0].score!==void 0),s}draw(e){this.arcType==="proportional"?this.drawProportional(e):this.arcType==="inView"||this.arcType==="partialInView"?this.drawProportional(e):this.drawNested(e)}drawNested(e){const t=e.context,i=e.pixelWidth,r=e.pixelHeight,s=e.viewportWidth,o=e.bpPerPixel,a=e.bpStart,l=o;pe.fillRect(t,0,e.pixelTop,i,r,{fillStyle:"rgb(255, 255, 255)"});const c=e.features;if(c){h.call(this);const u=this.arcOrientation==="UP",f=u?e.pixelHeight:0;t.font="8px sans-serif",t.textAlign="center";for(let d of c){d.drawState=void 0;let p;if(typeof this.color=="function"?p=this.color(d):(p=this.color||d.color||eH,p&&this.config.useScore&&(p=lc(p,cD(d.score)))),t.lineWidth=d.thickness||this.thickness||1,d.chr1===d.chr2||d.chr==="all"){const{m1:w,m2:F}=h4(d,this.browser.genome);let g=Math.round((w-a)/l),m=Math.round((F-a)/l);if(m<0||g>i)continue;let b=m-g;b<3&&(b=3,g--);const y=b/2,A=y/this.sinTheta,x=this.cosTheta*A,v=g+y;let _,k,E;if(u?(_=this.height+x,k=Math.PI+Math.PI/2-this.theta,E=Math.PI+Math.PI/2+this.theta):(_=-x,k=Math.PI/2-this.theta,E=Math.PI/2+this.theta),this.showBlocks&&d.chr!=="all"){const T=(d.start1-a)/l,M=(d.end1-a)/l,N=(d.start2-a)/l,C=(d.end2-a)/l,B=u?-this.blockHeight:this.blockHeight;t.fillRect(T,f,M-T,B),t.fillRect(N,f,C-N,B)}p&&!this.config.useScore&&b>s&&(p=lc(p,this.alpha)),t.strokeStyle=p,t.fillStyle=p,t.beginPath(),t.arc(v,_,A,k,E,!1),t.stroke(),d.drawState={xc:v,yc:_,r:A}}else{let w=Math.round((d.start-a)/l),F=Math.round((d.end-a)/l);if(F<0||w>i)continue;let g=F-w;g<3&&(g=3,w--);const m=d.chr===d.chr1?d.chr2:d.chr1;t.strokeStyle=p,t.fillStyle=lc(fl(m),.5),u?(t.fillRect(w,this.height/2,g,this.height/2),t.fillText(m,w+g/2,this.height/2-5),d.drawState={x:w,y:this.height/2,w:g,h:this.height/2}):(t.fillRect(w,0,g,this.height/2),t.fillText(m,w+g/2,this.height/2+13),d.drawState={x:w,y:0,w:g,h:this.height/2})}}}function h(){let u=0;for(let d of c){let p=(d.start-a)/l,w=(d.end-a)/l;p>=0&&w<=i&&(u=Math.max(u,w-p))}let f=Math.min(s,u)/2;if(u>0){let d=(r-10)/f;this.theta=tH(d),this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta)}}}getScaleFactor(e,t,i,r){return r?i/(Math.log10(t+1)-(e<=0?0:Math.log10(e+1))):i/(t-e)}drawProportional(e){const t=e.context,i=e.pixelWidth,r=e.pixelHeight,s=e.bpPerPixel,o=e.bpStart,a=s,l=e.referenceFrame.start,c=e.referenceFrame.end,h=this.arcOrientation==="UP";pe.fillRect(t,0,e.pixelTop,i,r,{fillStyle:"rgb(255, 255, 255)"});const u=e.features;if(u&&u.length>0){const d=this.getScaleFactor(0,this.dataRange.max,e.pixelHeight-1,this.logScale),p=h?e.pixelHeight:0;for(let w of u){w.drawState=void 0;const F=this.valueColumn?w[this.valueColumn]:w.score;if(F===void 0||Number.isNaN(F))continue;const g=Math.round((this.logScale?Math.log10(F+1):F)*d);if(w.chr1===w.chr2||w.chr==="all"){const{m1:m,m2:b}=h4(w,this.browser.genome);let y=Math.round((m-o)/a),x=Math.round((b-o)/a)-y;if(x<3&&(x=3,y--),F<this.dataRange.min||F>this.dataRange.max)continue;if(this.arcType!=="proportional"){const T=this.arcType==="partialInView",M=m>=l&&b<=c;let N=!1,C=!1;if(!M&&T&&(N=l<=m&&m<=c,N||(C=l<=b&&b<=c)),!(M||N||C))continue}const v=x/2,_=y+x/2;w.drawState={xc:_,yc:p,radiusX:v,radiusY:g};const k=h,E=w.color||this.color;if(t.strokeStyle=E,t.lineWidth=w.thickness||this.thickness||1,t.isSVG===!0?t.strokeEllipse(_,p,v,g,0,0,Math.PI,k):(t.beginPath(),t.ellipse(_,p,v,g,0,0,Math.PI,k),t.stroke()),this.alpha&&(t.fillStyle=lc(E,this.alpha),t.isSVG===!0?t.fillEllipse(_,p,v,g,0,0,Math.PI,k):t.fill()),this.showBlocks&&w.chr!=="all"){t.fillStyle=E;const T=(w.start1-o)/a,M=(w.end1-o)/a,N=(w.start2-o)/a,C=(w.end2-o)/a,B=h?-this.blockHeight:this.blockHeight;t.fillRect(T,p,M-T,B),t.fillRect(N,p,C-N,B)}}else{let m=Math.round((w.start-o)/a),b=Math.round((w.end-o)/a);if(b<0||m>i||F<this.dataRange.min||F>this.dataRange.max)continue;const y=Math.min(g,this.height-13);let A=b-m;A<3&&(A=3,m--);const x=w.chr===w.chr1?w.chr2:w.chr1;if(t.font="8px sans-serif",t.textAlign="center",t.fillStyle=lc(fl(x),.5),h){const v=this.height-y;t.fillRect(m,v,A,y),t.fillText(x,m+A/2,v-5),w.drawState={x:m,y:v,w:A,h:y}}else t.fillRect(m,0,A,y),t.fillText(x,m+A/2,y+13),w.drawState={x:m,y:0,w:A,h:y}}}}}clearAxis(e,t,i){pe.fillRect(e,0,0,t,i,{fillStyle:"rgb(255, 255, 255)"})}paintAxis(e,t,i){const r={min:0,max:this.dataRange.max};this.arcType==="proportional"?(this.painter.flipAxis=this.arcOrientation==="DOWN",this.painter.dataRange=r,this.painter.paintAxis(e,t,i)):this.arcType==="inView"||this.arcType==="partialInView"?(this.painter.flipAxis=this.arcOrientation==="DOWN",this.painter.dataRange=r,this.painter.paintAxis(e,t,i)):this.clearAxis(e,t,i)}menuItemList(){let e=[];if(this.hasValue){e.push("<hr/>");const t={nested:"Nested",proportional:"Proportional - All",inView:"Proportional - Both Ends in View",partialInView:"Proportional - One End in View"};e.push("<b>Arc Type</b>");for(let i of["nested","proportional","inView","partialInView"])e.push({object:ke(Ct(t[i],i===this.arcType)),click:function(){this.arcType=i,this.trackView.repaintViews()}})}return e.push("<hr/>"),e.push({name:"Toggle arc direction",click:function(){this.arcOrientation=this.arcOrientation==="UP"?"DOWN":"UP",this.trackView.repaintViews()}}),e.push({name:this.showBlocks?"Hide Blocks":"Show Blocks",click:function(){this.showBlocks=!this.showBlocks,this.trackView.repaintViews()}}),(this.arcType==="proportional"||this.arcType==="inView"||this.arcType==="partialInView")&&(e=e.concat(this.numericDataMenuItems())),this.browser.circularView&&(e.push("<hr/>"),e.push({label:"Add interactions to circular view",click:function(){for(let i of this.trackView.viewports)this.addChordsForViewport(i.referenceFrame)}})),e}contextMenuItemList(e){if(this.browser.circularView){const t=e.viewport,i=[];return i.push({label:"Add interactions to circular view",click:()=>{const r=t.referenceFrame;this.addChordsForViewport(r)}}),i.push("<hr/>"),i}}addChordsForViewport(e){let t;if(e.chr==="all"?t=Object.values(this.featureSource.getAllFeatures()).flat():t=this.featureSource.featureCache.queryFeatures(e.chr,e.start,e.end).filter(s=>s.drawState),t.length===0)return;const i=IO(t);Sd(i,this,e,.5)}doAutoscale(e){let t=0;if(e)for(let i of e){const r=this.valueColumn?i[this.valueColumn]:i.score;Number.isNaN(r)||(t=Math.max(t,r))}return{min:0,max:t}}popupData(e,t){t===void 0&&(t=this.clickedFeatures(e));const i=[];for(let r of t){const s=r._||r;if(i.push({name:"Region 1",value:u4(s.chr1,s.start1,s.end1,s.strand1)}),i.push({name:"Region 2",value:u4(s.chr2,s.start2,s.end2,s.strand2)}),s.name&&i.push({name:"Name",value:s.name}),s.value!==void 0&&i.push({name:"Value",value:s.value}),s.score!==void 0&&i.push({name:"Score",value:s.score}),s.extras&&this.header&&this.header.columnNames){const o=this.header.columnNames,a=this.header.hiccups?6:10;for(let l=a;l<o.length;l++)this.header.colorColumn!==l&&(o[l]==="info"?iH(i,s.extras[l-a]):i.push({name:o[l],value:s.extras[l-a]}))}break}return i}clickedFeatures(e){const t=e.viewport.cachedFeatures,i=[];if(t){const r=this.arcType==="proportional"||this.arcType==="inView"||this.arcType==="partialInView";for(let s of t)if(s.drawState)if(s.chr1===s.chr2||s.chr==="all")if(r){const{xc:o,yc:a,radiusX:l,radiusY:c}=s.drawState,h=e.canvasX-o,u=e.canvasY-a,f=h/l*(h/l)+u/c*(u/c);f<=1&&i.push({score:1/f,feature:s})}else{const{xc:o,yc:a,r:l}=s.drawState,c=e.canvasX-o,h=e.canvasY-a,u=Math.abs(Math.sqrt(c*c+h*h)-l);u<5&&i.push({score:u,feature:s})}else{const{x:o,y:a,w:l,h:c}=s.drawState,h=5;if(e.canvasX>=o-h&&e.canvasX<=o+l+h&&e.canvasY>=a&&e.canvasY<=a+c){const u=-Math.abs(e.canvasX-(o+l/2));i.push({score:u,feature:s});break}}}return i.length>1&&i.sort((r,s)=>r.score-s.score),i.map(r=>r.feature)}}Re(d2,"defaults",{height:250,theta:Math.PI/4,arcOrientation:"UP",showBlocks:!0,blockHeight:3,thickness:1,color:"rgb(180,25,137)",alpha:.02,logScale:!0});function h4(n,e){let t=(n.start1+n.end1)/2,i=(n.start2+n.end2)/2;if(n.chr==="all"&&(t=e.getGenomeCoordinate(n.chr1,t),i=e.getGenomeCoordinate(n.chr2,i)),t>i){const r=t;t=i,i=r}return{m1:t,m2:i}}function u4(n,e,t,i){return i&&i!=="."?`${n}:${Ge(e+1)}-${Ge(t)} (${i})`:`${n}:${Ge(e+1)}-${Ge(t)}`}function tH(n){let e=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],t=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966],i;for(i=0;i<e.length&&!(e[i]>n);i++);let r=i===0?0:e[i-1],s=i<e.length?e[i]:1,o=(n-r)/(s-r),a=i===0?0:t[i-1],l=i<t.length?t[i]:Math.PI/2;return Math.min(Math.PI/2,a+o*(l-a))}const f4=new Map;function lc(n,e){const t=`${n}_${e}`;let i=f4.get(t);return i||(i=Xe.addAlpha(n,e),f4.set(t,i)),i}function nH(n){const e=f=>{const d=Object.assign({},f);return d.chr="all",d.start=t.getGenomeCoordinate(f.chr1,f.start1),d.end=t.getGenomeCoordinate(f.chr2,f.end2),d},t=this.genome;let i,r=0;for(let f of t.wgChromosomeNames){let d=n[f];if(d)for(let p of d)p.dup||(r++,p.score&&(!i||p.score>i.score)&&(i=p))}const s=this.maxWGCount,o=i&&i.score>0&&r>s?5:1,a=Math.floor(s/o),l=i&&i.score>0?Math.log(i.score)/o:Number.MAX_SAFE_INTEGER;let c=[],h=[];for(let f=0;f<o;f++)h.push([0]),c.push([]);for(let f of t.wgChromosomeNames){let d=n[f];if(d){for(let p of d)if(!p.dup){const w=p.score?Math.max(0,Math.min(o-1,Math.floor(Math.log(p.score)/l))):0;if(c[w].length<a)c[w].push(e(p));else{const F=a/(h[w]+1);if(Math.random()<F){const g=Math.floor(Math.random()*(a-1));c[w][g]=e(p)}}h[w]++}}}let u;if(o===1)u=c[0];else{u=[];for(let f of c)for(let d of f)u.push(d);i&&u.push(e(i)),u.sort(function(f,d){return f.start-d.start}),console.log(u.length)}return u}function iH(n,e){const t=e.split(";");for(let i of t){const r=i.split("=");r.length===2&&n.push({name:r[0],value:r[1]})}}class Ex{constructor(e){this.config=e,this.url=rH(e.path||e.url)}async read(e,t){const i=this.config.headers||{};if(e!==void 0&&t){const l="bytes="+e+"-"+(e+t-1);i.Range=l}let r=this.url.slice();if(this.config.oauthToken){const l=a(this.config.oauthToken);i.Authorization=`Bearer ${l}`}this.config.apiKey&&(r=sH(r,"key",this.config.apiKey));const s=await fetch(r,{method:"GET",headers:i,redirect:"follow",mode:"cors"}),o=s.status;if(o>=400){const l=Error(s.statusText);throw l.code=o,l}else return s.arrayBuffer();async function a(l){return typeof l=="function"?await Promise.resolve(l()):l}}}function rH(n){return n.includes("//www.dropbox.com")?n.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):n.startsWith("ftp://ftp.ncbi.nlm.nih.gov")?n.replace("ftp://","https://"):n}function sH(n,e,t){const i=n.includes("?")?"&":"?";return n+i+e+"="+t}class oH{constructor(e){this.file=e.file,this.fetchSize=e.fetchSize||16e3,this.maxSize=e.maxSize||1e6,this.buffers=[]}async read(e,t){let i=this.buffers.filter(r=>r.overlaps(e,e+t));for(let r of i)if(r.contains(e,e+t))return r.slice(e,e+t);if(i.length===0){let r=Math.max(t,this.fetchSize);this.buffers.sort((c,h)=>c.start-h.start);const s=lH(this.buffers,c=>c.start>e,0);s<this.buffers.length&&(r=Math.min(r,this.buffers[s].start-e));const o=e,a=await this.file.read(o,r),l=new Qu(o,a);return this.addBuffer(l),l.slice(e,e+t)}else{i.sort((u,f)=>u.start-f.start);const r=[];let s=e;for(let u of i){if(s<u.start){const f=s,d=u.start-s,p=await this.file.read(f,d),w=new Qu(f,p);r.push(w)}r.push(u),s=u.end}const o=e+t;if(o>s){const u=s,f=o-u,d=await this.file.read(u,f),p=new Qu(u,d);r.push(p)}const a=r[0].start,l=aH(r.map(u=>u.buffer)),c=new Qu(a,l),h=new Set(i);return this.buffers=this.buffers.filter(u=>!h.has(u)),this.addBuffer(c),c.slice(e,e+t)}}addBuffer(e){const t=this.buffers.reduce((i,r)=>i+r.size,0)+e.size;if(t>this.maxSize){const i=t-this.maxSize;this.buffers.sort((o,a)=>o.creationTime-a.creationTime);let r=0,s;for(s=0;s<this.buffers.length&&(r+=this.buffers[s].size,!(r>i));s++);this.buffers=s<this.buffers.length-1?this.buffers.slice(s):[]}e.size<=this.maxSize&&this.buffers.push(e)}}class Qu{constructor(e,t){this.creationTime=Date.now(),this.start=e,this.buffer=t}slice(e,t){if(e<this.start||t-e>this.buffer.byteLength)throw Error("buffer bounds error");return this.buffer.slice(e-this.start,t-this.start)}get end(){return this.start+this.buffer.byteLength}get size(){return this.buffer.byteLength}contains(e,t){return e>=this.start&&t<=this.end}overlaps(e,t){return e>this.start&&e<this.end||t>this.start&&t<this.end}toString(){return`Buffer ${this.creationTime}   ${this.start} - ${this.end}`}}function aH(n){const e=n.reduce((r,s)=>r+s.byteLength,0),t=new Uint8Array(e);let i=0;for(let r of n)t.set(new Uint8Array(r),i),i+=r.byteLength;return t.buffer}function lH(n,e,t){let i=t-1,r=n.length;for(;1+i<r;){const s=i+(r-i>>1);e(n[s])?r=s:i=s}return r}class Sx{constructor(e){this.file=e}async read(e,t){return t===0?new ArrayBuffer:(e!=null&&t?this.file.slice(e,e+t):this.file).arrayBuffer()}}var cH=Object.defineProperty,hH=(n,e,t)=>e in n?cH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Mo=(n,e,t)=>(hH(n,typeof e!="symbol"?e+"":e,t),t);async function gt(n,e,t=0){var i=new Map;for(let[r,s]of n.entries()){let o=await Me.unpack_from_async("<"+s,e,t);t+=Me.calcsize(s),o.length==1&&(o=o[0]),i.set(r,o)}return i}function Ix(n,e,t=0){var i=new Map;for(let[r,s]of n.entries()){let o=Me.unpack_from("<"+s,e,t);t+=Me.calcsize(s),o.length==1&&(o=o[0]),i.set(r,o)}return i}function pt(n){n||n()}function vt(n){var e="<"+Array.from(n.values()).join("");return Me.calcsize(e)}function Cc(n,e=8){return Math.ceil(n/e)*e}var uH={u:"Uint",i:"Int",f:"Float"};function Ef(n){var e=Me._is_big_endian(n),t,i;if(/S/.test(n))t="getString",i=((n.match(/S(\d*)/)||[])[1]||1)|0;else{let[r,s,o]=n.match(/[<>=!@]?(i|u|f)(\d*)/);i=parseInt(o||4,10);let a=i*8;t="get"+uH[s]+a.toFixed()}return[t,e,i]}var fH=class{constructor(){this.big_endian=dH(),this.getters={s:"getUint8",b:"getInt8",B:"getUint8",h:"getInt16",H:"getUint16",i:"getInt32",I:"getUint32",l:"getInt32",L:"getUint32",q:"getInt64",Q:"getUint64",f:"getFloat32",d:"getFloat64"},this.byte_lengths={s:1,b:1,B:1,h:2,H:2,i:4,I:4,l:4,L:4,q:8,Q:8,f:4,d:8};let n=Object.keys(this.byte_lengths).join("");this.fmt_size_regex="(\\d*)(["+n+"])"}calcsize(n){for(var e=0,t,i=new RegExp(this.fmt_size_regex,"g");(t=i.exec(n))!==null;){let r=parseInt(t[1]||1,10),s=t[2],o=this.byte_lengths[s];e+=r*o}return e}_is_big_endian(n){var e;return/^</.test(n)?e=!1:/^(!|>)/.test(n)?e=!0:e=this.big_endian,e}async unpack_from_async(n,e,t){t=Number.parseInt(t||0);const i=this.calcsize(n),r=await e.slice(t,t+i);let s=0;for(var o=new Pa(r),a=[],l=this._is_big_endian(n),c,h=new RegExp(this.fmt_size_regex,"g");(c=h.exec(n))!==null;){let f=parseInt(c[1]||1,10),d=c[2],p=this.getters[d],w=this.byte_lengths[d];if(d=="s")a.push(new TextDecoder().decode(r.slice(s,s+f))),s+=f;else for(var u=0;u<f;u++)a.push(o[p](s,!l)),s+=w}return a}unpack_from(n,e,t){t=Number.parseInt(t||0);const i=this.calcsize(n),r=e.slice(t,t+i);let s=0;for(var o=new Pa(r),a=[],l=this._is_big_endian(n),c,h=new RegExp(this.fmt_size_regex,"g");(c=h.exec(n))!==null;){let f=parseInt(c[1]||1,10),d=c[2],p=this.getters[d],w=this.byte_lengths[d];if(d=="s")a.push(new TextDecoder().decode(r.slice(s,s+f))),s+=f;else for(var u=0;u<f;u++)a.push(o[p](s,!l)),s+=w}return a}},Me=new fH;function dH(){const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])}var Pa=class extends DataView{getUint64(n,e){const t=BigInt(this.getUint32(n,e)),i=BigInt(this.getUint32(n+4,e));let r=e?t+(i<<32n):(t<<32n)+i;return Number.parseInt(r)}getInt64(n,e){var t,i;e?(t=this.getUint32(n,!0),i=this.getInt32(n+4,!0)):(i=this.getInt32(n,!1),t=this.getUint32(n+4,!1));let r=BigInt(t)+(BigInt(i)<<32n);return Number.parseInt(r)}getString(n,e,t){const i=this.buffer.slice(n,n+t);return new TextDecoder().decode(i)}getVLENStruct(n,e,t){let i=this.getUint32(n,e),r=this.getUint64(n+4,e),s=this.getUint32(n+12,e);return[i,r,s]}};function Nx(n){return n.toString(2).length}function d4(n,e,t=0,i=!0){const r=e.slice(t,t+n);let s=new Uint8Array(r);return i||s.reverse(),s.reduce((a,l,c)=>a+(l<<c*8),0)}var p4=class{constructor(n,e){this.buf=n,this.offset=e,this.dtype=this.determine_dtype()}async determine_dtype(){let n=await gt(Tx,this.buf,this.offset);this.offset+=pH;let e=n.get("class_and_version")&15;if(e==mH)return this._determine_dtype_fixed_point(n);if(e==wH)return this._determine_dtype_floating_point(n);if(e==bH)throw"Time datatype class not supported.";if(e==FH)return this._determine_dtype_string(n);if(e==yH)throw"Bitfield datatype class not supported.";if(e==g4)return{datatype_class:g4,size:n.get("size")};if(e==vH)return this._determine_dtype_compound(n);if(e==AH)return["REFERENCE",n.get("size")];if(e==_H)return this.determine_dtype();if(e==xH)throw"Array datatype class not supported.";if(e==CH){let t=this._determine_dtype_vlen(n);return t[0]=="VLEN_SEQUENCE"&&(t=["VLEN_SEQUENCE",this.determine_dtype()]),t}else throw"Invalid datatype class "+e}_determine_dtype_fixed_point(n){let e=n.get("size");if(![1,2,4,8].includes(e))throw"Unsupported datatype size";let t=n.get("class_bit_field_0")&8;var i;t>0?i="i":i="u";let r=n.get("class_bit_field_0")&1;var s;return r==0?s="<":s=">",this.offset+=4,s+i+e.toFixed()}_determine_dtype_floating_point(n){let e=n.get("size");if(![1,2,4,8].includes(e))throw"Unsupported datatype size";let t="f",i=n.get("class_bit_field_0")&1;var r;return i==0?r="<":r=">",this.offset+=12,r+t+e.toFixed()}_determine_dtype_string(n){return"S"+n.get("size").toFixed()}_determine_dtype_vlen(n){if((n.get("class_bit_field_0")&1)!=1)return["VLEN_SEQUENCE",0,0];let t=n.get("class_bit_field_0")>>4,i=n.get("class_bit_field_1")&1;return["VLEN_STRING",t,i]}_determine_dtype_compound(n){throw"Compound type not yet implemented!"}},Tx=new Map([["class_and_version","B"],["class_bit_field_0","B"],["class_bit_field_1","B"],["class_bit_field_2","B"],["size","I"]]),pH=vt(Tx),gH=new Map([["offset","I"],["dimensionality","B"],["reserved_0","B"],["reserved_1","B"],["reserved_2","B"],["permutation","I"],["reserved_3","I"],["dim_size_1","I"],["dim_size_2","I"],["dim_size_3","I"],["dim_size_4","I"]]);vt(gH);var mH=0,wH=1,bH=2,FH=3,yH=4,g4=5,vH=6,AH=7,_H=8,CH=9,xH=10;function Rl(n){let e=n.length;for(;--e>=0;)n[e]=0}var kH=3,EH=258,Rx=29,SH=256,IH=SH+1+Rx,Mx=30,NH=512,TH=new Array((IH+2)*2);Rl(TH);var RH=new Array(Mx*2);Rl(RH);var MH=new Array(NH);Rl(MH);var BH=new Array(EH-kH+1);Rl(BH);var DH=new Array(Rx);Rl(DH);var LH=new Array(Mx);Rl(LH);var zH=(n,e,t,i)=>{let r=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do r=r+e[i++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0},p2=zH,PH=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},OH=new Uint32Array(PH()),HH=(n,e,t,i)=>{const r=OH,s=i+t;n^=-1;for(let o=i;o<s;o++)n=n>>>8^r[(n^e[o])&255];return n^-1},Qi=HH,g2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},UH=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),VH=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)UH(t,i)&&(n[i]=t[i])}}return n},qH=n=>{let e=0;for(let i=0,r=n.length;i<r;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,r=0,s=n.length;i<s;i++){let o=n[i];t.set(o,r),r+=o.length}return t},Bx={assign:VH,flattenChunks:qH},Dx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Dx=!1}var Ch=new Uint8Array(256);for(let n=0;n<256;n++)Ch[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ch[254]=Ch[254]=1;var jH=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,r,s,o=n.length,a=0;for(r=0;r<o;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,r=0;s<a;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e},QH=(n,e)=>{if(e<65534&&n.subarray&&Dx)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t},$H=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,r;const s=new Array(t*2);for(r=0,i=0;i<t;){let o=n[i++];if(o<128){s[r++]=o;continue}let a=Ch[o];if(a>4){s[r++]=65533,i+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&i<t;)o=o<<6|n[i++]&63,a--;if(a>1){s[r++]=65533;continue}o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|o&1023)}return QH(s,r)},GH=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Ch[n[t]]>e?t:e},m2={string2buf:jH,buf2string:$H,utf8border:GH};function WH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var KH=WH,$u=30,YH=12,XH=function(e,t){let i,r,s,o,a,l,c,h,u,f,d,p,w,F,g,m,b,y,A,x,v,_,k,E;const T=e.state;i=e.next_in,k=e.input,r=i+(e.avail_in-5),s=e.next_out,E=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=T.dmax,c=T.wsize,h=T.whave,u=T.wnext,f=T.window,d=T.hold,p=T.bits,w=T.lencode,F=T.distcode,g=(1<<T.lenbits)-1,m=(1<<T.distbits)-1;e:do{p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),b=w[d&g];t:for(;;){if(y=b>>>24,d>>>=y,p-=y,y=b>>>16&255,y===0)E[s++]=b&65535;else if(y&16){A=b&65535,y&=15,y&&(p<y&&(d+=k[i++]<<p,p+=8),A+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),b=F[d&m];n:for(;;){if(y=b>>>24,d>>>=y,p-=y,y=b>>>16&255,y&16){if(x=b&65535,y&=15,p<y&&(d+=k[i++]<<p,p+=8,p<y&&(d+=k[i++]<<p,p+=8)),x+=d&(1<<y)-1,x>l){e.msg="invalid distance too far back",T.mode=$u;break e}if(d>>>=y,p-=y,y=s-o,x>y){if(y=x-y,y>h&&T.sane){e.msg="invalid distance too far back",T.mode=$u;break e}if(v=0,_=f,u===0){if(v+=c-y,y<A){A-=y;do E[s++]=f[v++];while(--y);v=s-x,_=E}}else if(u<y){if(v+=c+u-y,y-=u,y<A){A-=y;do E[s++]=f[v++];while(--y);if(v=0,u<A){y=u,A-=y;do E[s++]=f[v++];while(--y);v=s-x,_=E}}}else if(v+=u-y,y<A){A-=y;do E[s++]=f[v++];while(--y);v=s-x,_=E}for(;A>2;)E[s++]=_[v++],E[s++]=_[v++],E[s++]=_[v++],A-=3;A&&(E[s++]=_[v++],A>1&&(E[s++]=_[v++]))}else{v=s-x;do E[s++]=E[v++],E[s++]=E[v++],E[s++]=E[v++],A-=3;while(A>2);A&&(E[s++]=E[v++],A>1&&(E[s++]=E[v++]))}}else if(y&64){e.msg="invalid distance code",T.mode=$u;break e}else{b=F[(b&65535)+(d&(1<<y)-1)];continue n}break}}else if(y&64)if(y&32){T.mode=YH;break e}else{e.msg="invalid literal/length code",T.mode=$u;break e}else{b=w[(b&65535)+(d&(1<<y)-1)];continue t}break}}while(i<r&&s<a);A=p>>3,i-=A,p-=A<<3,d&=(1<<p)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<a?257+(a-s):257-(s-a),T.hold=d,T.bits=p},oa=15,m4=852,w4=592,b4=0,l0=1,F4=2,ZH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nU=(n,e,t,i,r,s,o,a)=>{const l=a.bits;let c=0,h=0,u=0,f=0,d=0,p=0,w=0,F=0,g=0,m=0,b,y,A,x,v,_=null,k=0,E;const T=new Uint16Array(oa+1),M=new Uint16Array(oa+1);let N=null,C=0,B,I,H;for(c=0;c<=oa;c++)T[c]=0;for(h=0;h<i;h++)T[e[t+h]]++;for(d=l,f=oa;f>=1&&T[f]===0;f--);if(d>f&&(d=f),f===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(u=1;u<f&&T[u]===0;u++);for(d<u&&(d=u),F=1,c=1;c<=oa;c++)if(F<<=1,F-=T[c],F<0)return-1;if(F>0&&(n===b4||f!==1))return-1;for(M[1]=0,c=1;c<oa;c++)M[c+1]=M[c]+T[c];for(h=0;h<i;h++)e[t+h]!==0&&(o[M[e[t+h]]++]=h);if(n===b4?(_=N=o,E=19):n===l0?(_=ZH,k-=257,N=JH,C-=257,E=256):(_=eU,N=tU,E=-1),m=0,h=0,c=u,v=s,p=d,w=0,A=-1,g=1<<d,x=g-1,n===l0&&g>m4||n===F4&&g>w4)return 1;for(;;){B=c-w,o[h]<E?(I=0,H=o[h]):o[h]>E?(I=N[C+o[h]],H=_[k+o[h]]):(I=96,H=0),b=1<<c-w,y=1<<p,u=y;do y-=b,r[v+(m>>w)+y]=B<<24|I<<16|H|0;while(y!==0);for(b=1<<c-1;m&b;)b>>=1;if(b!==0?(m&=b-1,m+=b):m=0,h++,--T[c]===0){if(c===f)break;c=e[t+o[h]]}if(c>d&&(m&x)!==A){for(w===0&&(w=d),v+=u,p=c-w,F=1<<p;p+w<f&&(F-=T[p+w],!(F<=0));)p++,F<<=1;if(g+=1<<p,n===l0&&g>m4||n===F4&&g>w4)return 1;A=m&x,r[A]=d<<24|p<<16|v-s|0}}return m!==0&&(r[v+m]=c-w<<24|64<<16|0),a.bits=d,0},Hc=nU,iU=0,Lx=1,zx=2,{Z_FINISH:y4,Z_BLOCK:rU,Z_TREES:Gu,Z_OK:Bo,Z_STREAM_END:sU,Z_NEED_DICT:oU,Z_STREAM_ERROR:Ci,Z_DATA_ERROR:Px,Z_MEM_ERROR:Ox,Z_BUF_ERROR:aU,Z_DEFLATED:v4}=kw,Hx=1,A4=2,_4=3,C4=4,x4=5,k4=6,E4=7,S4=8,I4=9,N4=10,Id=11,mr=12,c0=13,T4=14,h0=15,R4=16,M4=17,B4=18,D4=19,Wu=20,Ku=21,L4=22,z4=23,P4=24,O4=25,H4=26,u0=27,U4=28,V4=29,Et=30,Ux=31,lU=32,cU=852,hU=592,uU=15,fU=uU,q4=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function dU(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Vx=n=>{if(!n||!n.state)return Ci;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Hx,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(cU),e.distcode=e.distdyn=new Int32Array(hU),e.sane=1,e.back=-1,Bo},qx=n=>{if(!n||!n.state)return Ci;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Vx(n)},jx=(n,e)=>{let t;if(!n||!n.state)return Ci;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Ci:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,qx(n))},Qx=(n,e)=>{if(!n)return Ci;const t=new dU;n.state=t,t.window=null;const i=jx(n,e);return i!==Bo&&(n.state=null),i},pU=n=>Qx(n,fU),j4=!0,f0,d0,gU=n=>{if(j4){f0=new Int32Array(512),d0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Hc(Lx,n.lens,0,288,f0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Hc(zx,n.lens,0,32,d0,0,n.work,{bits:5}),j4=!1}n.lencode=f0,n.lenbits=9,n.distcode=d0,n.distbits=5},$x=(n,e,t,i)=>{let r;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(t-i,t-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(t-i,t),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},mU=(n,e)=>{let t,i,r,s,o,a,l,c,h,u,f,d,p,w,F=0,g,m,b,y,A,x,v,_;const k=new Uint8Array(4);let E,T;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return Ci;t=n.state,t.mode===mr&&(t.mode=c0),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=t.hold,h=t.bits,u=a,f=l,_=Bo;e:for(;;)switch(t.mode){case Hx:if(t.wrap===0){t.mode=c0;break}for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.wrap&2&&c===35615){t.check=0,k[0]=c&255,k[1]=c>>>8&255,t.check=Qi(t.check,k,2,0),c=0,h=0,t.mode=A4;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=Et;break}if((c&15)!==v4){n.msg="unknown compression method",t.mode=Et;break}if(c>>>=4,h-=4,v=(c&15)+8,t.wbits===0)t.wbits=v;else if(v>t.wbits){n.msg="invalid window size",t.mode=Et;break}t.dmax=1<<t.wbits,n.adler=t.check=1,t.mode=c&512?N4:mr,c=0,h=0;break;case A4:for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.flags=c,(t.flags&255)!==v4){n.msg="unknown compression method",t.mode=Et;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Et;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Qi(t.check,k,2,0)),c=0,h=0,t.mode=_4;case _4:for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.head&&(t.head.time=c),t.flags&512&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,t.check=Qi(t.check,k,4,0)),c=0,h=0,t.mode=C4;case C4:for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Qi(t.check,k,2,0)),c=0,h=0,t.mode=x4;case x4:if(t.flags&1024){for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&(k[0]=c&255,k[1]=c>>>8&255,t.check=Qi(t.check,k,2,0)),c=0,h=0}else t.head&&(t.head.extra=null);t.mode=k4;case k4:if(t.flags&1024&&(d=t.length,d>a&&(d=a),d&&(t.head&&(v=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(s,s+d),v)),t.flags&512&&(t.check=Qi(t.check,i,d,s)),a-=d,s+=d,t.length-=d),t.length))break e;t.length=0,t.mode=E4;case E4:if(t.flags&2048){if(a===0)break e;d=0;do v=i[s+d++],t.head&&v&&t.length<65536&&(t.head.name+=String.fromCharCode(v));while(v&&d<a);if(t.flags&512&&(t.check=Qi(t.check,i,d,s)),a-=d,s+=d,v)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=S4;case S4:if(t.flags&4096){if(a===0)break e;d=0;do v=i[s+d++],t.head&&v&&t.length<65536&&(t.head.comment+=String.fromCharCode(v));while(v&&d<a);if(t.flags&512&&(t.check=Qi(t.check,i,d,s)),a-=d,s+=d,v)break e}else t.head&&(t.head.comment=null);t.mode=I4;case I4:if(t.flags&512){for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Et;break}c=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=mr;break;case N4:for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}n.adler=t.check=q4(c),c=0,h=0,t.mode=Id;case Id:if(t.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=h,oU;n.adler=t.check=1,t.mode=mr;case mr:if(e===rU||e===Gu)break e;case c0:if(t.last){c>>>=h&7,h-=h&7,t.mode=u0;break}for(;h<3;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}switch(t.last=c&1,c>>>=1,h-=1,c&3){case 0:t.mode=T4;break;case 1:if(gU(t),t.mode=Wu,e===Gu){c>>>=2,h-=2;break e}break;case 2:t.mode=M4;break;case 3:n.msg="invalid block type",t.mode=Et}c>>>=2,h-=2;break;case T4:for(c>>>=h&7,h-=h&7;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Et;break}if(t.length=c&65535,c=0,h=0,t.mode=h0,e===Gu)break e;case h0:t.mode=R4;case R4:if(d=t.length,d){if(d>a&&(d=a),d>l&&(d=l),d===0)break e;r.set(i.subarray(s,s+d),o),a-=d,s+=d,l-=d,o+=d,t.length-=d;break}t.mode=mr;break;case M4:for(;h<14;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.nlen=(c&31)+257,c>>>=5,h-=5,t.ndist=(c&31)+1,c>>>=5,h-=5,t.ncode=(c&15)+4,c>>>=4,h-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Et;break}t.have=0,t.mode=B4;case B4:for(;t.have<t.ncode;){for(;h<3;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.lens[M[t.have++]]=c&7,c>>>=3,h-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,E={bits:t.lenbits},_=Hc(iU,t.lens,0,19,t.lencode,0,t.work,E),t.lenbits=E.bits,_){n.msg="invalid code lengths set",t.mode=Et;break}t.have=0,t.mode=D4;case D4:for(;t.have<t.nlen+t.ndist;){for(;F=t.lencode[c&(1<<t.lenbits)-1],g=F>>>24,m=F>>>16&255,b=F&65535,!(g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(b<16)c>>>=g,h-=g,t.lens[t.have++]=b;else{if(b===16){for(T=g+2;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(c>>>=g,h-=g,t.have===0){n.msg="invalid bit length repeat",t.mode=Et;break}v=t.lens[t.have-1],d=3+(c&3),c>>>=2,h-=2}else if(b===17){for(T=g+3;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=g,h-=g,v=0,d=3+(c&7),c>>>=3,h-=3}else{for(T=g+7;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=g,h-=g,v=0,d=11+(c&127),c>>>=7,h-=7}if(t.have+d>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Et;break}for(;d--;)t.lens[t.have++]=v}}if(t.mode===Et)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Et;break}if(t.lenbits=9,E={bits:t.lenbits},_=Hc(Lx,t.lens,0,t.nlen,t.lencode,0,t.work,E),t.lenbits=E.bits,_){n.msg="invalid literal/lengths set",t.mode=Et;break}if(t.distbits=6,t.distcode=t.distdyn,E={bits:t.distbits},_=Hc(zx,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,E),t.distbits=E.bits,_){n.msg="invalid distances set",t.mode=Et;break}if(t.mode=Wu,e===Gu)break e;case Wu:t.mode=Ku;case Ku:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=h,XH(n,f),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=t.hold,h=t.bits,t.mode===mr&&(t.back=-1);break}for(t.back=0;F=t.lencode[c&(1<<t.lenbits)-1],g=F>>>24,m=F>>>16&255,b=F&65535,!(g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(m&&!(m&240)){for(y=g,A=m,x=b;F=t.lencode[x+((c&(1<<y+A)-1)>>y)],g=F>>>24,m=F>>>16&255,b=F&65535,!(y+g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=y,h-=y,t.back+=y}if(c>>>=g,h-=g,t.back+=g,t.length=b,m===0){t.mode=H4;break}if(m&32){t.back=-1,t.mode=mr;break}if(m&64){n.msg="invalid literal/length code",t.mode=Et;break}t.extra=m&15,t.mode=L4;case L4:if(t.extra){for(T=t.extra;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=z4;case z4:for(;F=t.distcode[c&(1<<t.distbits)-1],g=F>>>24,m=F>>>16&255,b=F&65535,!(g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(!(m&240)){for(y=g,A=m,x=b;F=t.distcode[x+((c&(1<<y+A)-1)>>y)],g=F>>>24,m=F>>>16&255,b=F&65535,!(y+g<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=y,h-=y,t.back+=y}if(c>>>=g,h-=g,t.back+=g,m&64){n.msg="invalid distance code",t.mode=Et;break}t.offset=b,t.extra=m&15,t.mode=P4;case P4:if(t.extra){for(T=t.extra;h<T;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Et;break}t.mode=O4;case O4:if(l===0)break e;if(d=f-l,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Et;break}d>t.wnext?(d-=t.wnext,p=t.wsize-d):p=t.wnext-d,d>t.length&&(d=t.length),w=t.window}else w=r,p=o-t.offset,d=t.length;d>l&&(d=l),l-=d,t.length-=d;do r[o++]=w[p++];while(--d);t.length===0&&(t.mode=Ku);break;case H4:if(l===0)break e;r[o++]=t.length,l--,t.mode=Ku;break;case u0:if(t.wrap){for(;h<32;){if(a===0)break e;a--,c|=i[s++]<<h,h+=8}if(f-=l,n.total_out+=f,t.total+=f,f&&(n.adler=t.check=t.flags?Qi(t.check,r,f,o-f):p2(t.check,r,f,o-f)),f=l,(t.flags?c:q4(c))!==t.check){n.msg="incorrect data check",t.mode=Et;break}c=0,h=0}t.mode=U4;case U4:if(t.wrap&&t.flags){for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Et;break}c=0,h=0}t.mode=V4;case V4:_=sU;break e;case Et:_=Px;break e;case Ux:return Ox;case lU:default:return Ci}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,t.hold=c,t.bits=h,(t.wsize||f!==n.avail_out&&t.mode<Et&&(t.mode<u0||e!==y4))&&$x(n,n.output,n.next_out,f-n.avail_out),u-=n.avail_in,f-=n.avail_out,n.total_in+=u,n.total_out+=f,t.total+=f,t.wrap&&f&&(n.adler=t.check=t.flags?Qi(t.check,r,f,n.next_out-f):p2(t.check,r,f,n.next_out-f)),n.data_type=t.bits+(t.last?64:0)+(t.mode===mr?128:0)+(t.mode===Wu||t.mode===h0?256:0),(u===0&&f===0||e===y4)&&_===Bo&&(_=aU),_},wU=n=>{if(!n||!n.state)return Ci;let e=n.state;return e.window&&(e.window=null),n.state=null,Bo},bU=(n,e)=>{if(!n||!n.state)return Ci;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,Bo):Ci},FU=(n,e)=>{const t=e.length;let i,r,s;return!n||!n.state||(i=n.state,i.wrap!==0&&i.mode!==Id)?Ci:i.mode===Id&&(r=1,r=p2(r,e,t,0),r!==i.check)?Px:(s=$x(n,e,t,t),s?(i.mode=Ux,Ox):(i.havedict=1,Bo))},yU=qx,vU=jx,AU=Vx,_U=pU,CU=Qx,xU=mU,kU=wU,EU=bU,SU=FU,IU="pako inflate (from Nodeca project)",Cr={inflateReset:yU,inflateReset2:vU,inflateResetKeep:AU,inflateInit:_U,inflateInit2:CU,inflate:xU,inflateEnd:kU,inflateGetHeader:EU,inflateSetDictionary:SU,inflateInfo:IU};function NU(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var TU=NU,Gx=Object.prototype.toString,{Z_NO_FLUSH:RU,Z_FINISH:MU,Z_OK:xh,Z_STREAM_END:p0,Z_NEED_DICT:g0,Z_STREAM_ERROR:BU,Z_DATA_ERROR:Q4,Z_MEM_ERROR:DU}=kw;function Jh(n){this.options=Bx.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new KH,this.strm.avail_out=0;let t=Cr.inflateInit2(this.strm,e.windowBits);if(t!==xh)throw new Error(g2[t]);if(this.header=new TU,Cr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=m2.string2buf(e.dictionary):Gx.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Cr.inflateSetDictionary(this.strm,e.dictionary),t!==xh)))throw new Error(g2[t])}Jh.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?MU:RU,Gx.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),s=Cr.inflate(t,o),s===g0&&r&&(s=Cr.inflateSetDictionary(t,r),s===xh?s=Cr.inflate(t,o):s===Q4&&(s=g0));t.avail_in>0&&s===p0&&t.state.wrap>0&&n[t.next_in]!==0;)Cr.inflateReset(t),s=Cr.inflate(t,o);switch(s){case BU:case Q4:case g0:case DU:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===p0))if(this.options.to==="string"){let l=m2.utf8border(t.output,t.next_out),c=t.next_out-l,h=m2.buf2string(t.output,l);t.next_out=c,t.avail_out=i-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===xh&&a===0)){if(s===p0)return s=Cr.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Jh.prototype.onData=function(n){this.chunks.push(n)};Jh.prototype.onEnd=function(n){n===xh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bx.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Ew(n,e){const t=new Jh(e);if(t.push(n),t.err)throw t.msg||g2[t.err];return t.result}function LU(n,e){return e=e||{},e.raw=!0,Ew(n,e)}var zU=Jh,PU=Ew,OU=LU,HU=Ew,UU=kw,VU={Inflate:zU,inflate:PU,inflateRaw:OU,ungzip:HU,constants:UU},{Inflate:CY,inflate:qU,inflateRaw:xY,ungzip:jU}=VU,QU=qU,$U=jU,GU=function(n,e){let t=new Uint8Array(n);return QU(t).buffer},WU=function(n,e){let t=n.byteLength,i=new Uint8Array(t),r=Math.floor(t/e),s=new DataView(n);for(var o=0;o<e;o++)for(var a=0;a<r;a++)i[o+a*e]=s.getUint8(o*r+a);return i.buffer},KU=function(n,e){return YU(n),n.slice(0,-4)};function YU(n){for(var e=n.byteLength%2!=0,t=n.byteLength-4,i=new DataView(n),r=0,s=0,o=0;o<t-1;o+=2){let c=i.getUint16(o,!0);r=(r+c)%65535,s=(s+r)%65535}if(e){let c=i.getUint8(t-1);r=(r+c)%65535,s=(s+r)%65535}var[a,l]=Me.unpack_from(">HH",n,t);if(a=a%65535,l=l%65535,r!=a||s!=l)throw'ValueError("fletcher32 checksum invalid")';return!0}var XU=1,ZU=2,JU=3,$4=new Map([[XU,GU],[ZU,WU],[JU,KU]]),Wx=class{constructor(n,e){this.fh=n,this.offset=e,this.depth=null}async init(){this.all_nodes=new Map,await this._read_root_node(),await this._read_children()}async _read_children(){let n=this.depth;for(;n>0;){for(var e of this.all_nodes.get(n))for(var t of e.get("addresses"))this._add_node(await this._read_node(t,n-1));n--}}async _read_root_node(){let n=await this._read_node(this.offset,null);this._add_node(n),this.depth=n.get("node_level")}_add_node(n){let e=n.get("node_level");this.all_nodes.has(e)?this.all_nodes.get(e).push(n):this.all_nodes.set(e,[n])}async _read_node(n,e){let t=await this._read_node_header(n,e);return t.set("keys",[]),t.set("addresses",[]),t}async _read_node_header(n){throw"NotImplementedError: must define _read_node_header in implementation class"}},Kx=class extends Wx{constructor(){super(...arguments),Mo(this,"B_LINK_NODE",new Map([["signature","4s"],["node_type","B"],["node_level","B"],["entries_used","H"],["left_sibling","Q"],["right_sibling","Q"]]))}async _read_node_header(n,e){let t=await gt(this.B_LINK_NODE,this.fh,n);if(e!=null&&t.get("node_level")!=e)throw"node level does not match";return t}},eV=class extends Kx{constructor(n,e){super(n,e),Mo(this,"NODE_TYPE",0),this.ready=this.init()}async _read_node(n,e){let t=await this._read_node_header(n,e);n+=vt(this.B_LINK_NODE);let i=[],r=[],s=t.get("entries_used");for(var o=0;o<s;o++){let a=(await Me.unpack_from_async("<Q",this.fh,n))[0];n+=8;let l=(await Me.unpack_from_async("<Q",this.fh,n))[0];n+=8,i.push(a),r.push(l)}return i.push((await Me.unpack_from_async("<Q",this.fh,n))[0]),t.set("keys",i),t.set("addresses",r),t}symbol_table_addresses(){var n=[],e=this.all_nodes.get(0);for(var t of e)n=n.concat(t.get("addresses"));return n}},tV=class extends Kx{constructor(n,e,t){super(n,e),Mo(this,"NODE_TYPE",1),this.dims=t,this.ready=this.init()}async _read_node(n,e){let t=await this._read_node_header(n,e);n+=vt(this.B_LINK_NODE);var i=[],r=[];let s=t.get("entries_used");for(var o=0;o<s;o++){let[a,l]=await Me.unpack_from_async("<II",this.fh,n);n+=8;let c="<"+this.dims.toFixed()+"Q",h=Me.calcsize(c),u=await Me.unpack_from_async(c,this.fh,n);n+=h;let f=(await Me.unpack_from_async("<Q",this.fh,n))[0];n+=8,i.push(new Map([["chunk_size",a],["filter_mask",l],["chunk_offset",u]])),r.push(f)}return t.set("keys",i),t.set("addresses",r),t}async construct_data_from_chunks(n,e,t,i){var r,s,o;if(t instanceof Array){let v=t[0];if(v=="REFERENCE"){if(t[1]!=8)throw"NotImplementedError('Unsupported Reference type')";t="<u8",r="getUint64",s=!1,o=8}else if(v=="VLEN_STRING"||v=="VLEN_SEQUENCE")r="getVLENStruct",s=!1,o=16;else throw"NotImplementedError('datatype not implemented')"}else[r,s,o]=Ef(t);var a=e.reduce(function(v,_){return v*_},1),l=n.reduce(function(v,_){return v*_},1);let c=e.length;var h=1;n.slice().map(function(v){let _=h;return h*=v,_});var h=1,u=e.slice().reverse().map(function(v){let _=h;return h*=v,_}).reverse(),f=new Array(a);let d=l*o;for(var p of this.all_nodes.get(0)){let v=p.get("keys"),_=p.get("addresses"),k=v.length;for(var w=0;w<k;w++){let E=v[w],T=_[w];var F;if(i==null)F=await this.fh.slice(T,T+d);else{F=await this.fh.slice(T,T+E.get("chunk_size"));let M=E.get("filter_mask");F=this._filter_chunk(F,M,i,o)}for(var g=E.get("chunk_offset").slice(),m=g.slice(),b=m.map(function(){return 0}),y=new Pa(F),A=0;A<l;A++){for(var x=c-1;x>=0&&b[x]>=n[x];x--)b[x]=0,m[x]=g[x],x>0&&(b[x-1]+=1,m[x-1]+=1);if(m.slice(0,-1).every(function(N,C){return N<e[C]})){let N=A*o,C=y[r](N,!s,o),B=m.slice(0,-1).reduce(function(I,H,L){return H*u[L]+I},0);f[B]=C}b[c-1]+=1,m[c-1]+=1}}}return f}_filter_chunk(n,e,t,i){let r=t.length,s=n.slice();for(var o=r-1;o>=0;o--){if(e&1<<o)continue;let a=t[o],l=a.get("filter_id"),c=a.get("client_data");if($4.has(l))s=$4.get(l)(s,i,c);else throw'NotImplementedError("Filter with id:'+l.toFixed()+' not supported")'}return s}},Yx=class extends Wx{constructor(n,e){super(n,e),Mo(this,"B_TREE_HEADER",new Map([["signature","4s"],["version","B"],["node_type","B"],["node_size","I"],["record_size","H"],["depth","H"],["split_percent","B"],["merge_percent","B"],["root_address","Q"],["root_nrecords","H"],["total_nrecords","Q"]])),Mo(this,"B_LINK_NODE",new Map([["signature","4s"],["version","B"],["node_type","B"]])),this.ready=this.init()}async _read_root_node(){let n=await this._read_tree_header(this.offset);this.address_formats=this._calculate_address_formats(n),this.header=n,this.depth=n.get("depth");let e=[n.get("root_address"),n.get("root_nrecords"),n.get("total_nrecords")],t=await this._read_node(e,this.depth);this._add_node(t)}async _read_tree_header(n){return await gt(this.B_TREE_HEADER,this.fh,this.offset)}_calculate_address_formats(n){let e=n.get("node_size"),t=n.get("record_size"),i=0,r=0,s=new Map,o=n.get("depth");for(var a=0;a<=o;a++){let l="",c="",h="",u,f,d;if(a==0?(u=0,f=0,d=0):a==1?(u=8,l="<Q",f=this._required_bytes(i),c=this._int_format(f),d=0):(u=8,l="<Q",f=this._required_bytes(i),c=this._int_format(f),d=this._required_bytes(r),h=this._int_format(d)),s.set(a,[u,f,d,l,c,h]),a<o){let p=u+f+d;i=this._nrecords_max(e,t,p),r>0?r*=i:r=i}}return s}_nrecords_max(n,e,t){return Math.floor((n-10-t)/(e+t))}_required_bytes(n){return Math.ceil(Nx(n)/8)}_int_format(n){return["<B","<H","<I","<Q"][n-1]}async _read_node(n,e){let[t,i,r]=n,s=this._read_node_header(t,e);t+=vt(this.B_LINK_NODE);let o=this.header.get("record_size"),a=[];for(let h=0;h<i;h++){let u=await this._parse_record(this.fh,t,o);t+=o,a.push(u)}let l=[],c=this.address_formats.get(e);if(e!=0){let[h,u,f,d,p,w]=c;for(let F=0;F<=i;F++){let g=(await Me.unpack_from_async(d,this.fh,t))[0];t+=h;let m=(await Me.unpack_from_async(p,this.fh,t))[0];t+=u;let b=m;f>0&&(b=(await Me.unpack_from_async(w,this.fh,t))[0],t+=f),l.push([g,m,b])}}return s.set("keys",a),s.set("addresses",l),s}async _read_node_header(n,e){let t=await gt(this.B_LINK_NODE,this.fh,n);return t.set("node_level",e),t}*iter_records(){for(let n of this.all_nodes.values())for(let e of n)for(let t of e.get("keys"))yield t}_parse_record(n){throw"NotImplementedError"}},nV=class extends Yx{constructor(){super(...arguments),Mo(this,"NODE_TYPE",5)}async _parse_record(n,e,t){let i=(await Me.unpack_from_async("<I",n,e))[0];e+=4;const r=await n.slice(e,e+7);return new Map([["namehash",i],["heapid",r]])}},iV=class extends Yx{constructor(){super(...arguments),Mo(this,"NODE_TYPE",6)}async _parse_record(n,e,t){let i=(await Me.unpack_from_async("<Q",n,e))[0];e+=8;const r=await n.slice(e,e+7);return new Map([["creationorder",i],["heapid",r]])}},rV=class{constructor(n,e){this.ready=this.init(n,e)}async init(n,e){let t=await Me.unpack_from_async("<B",n,e+8);var i;if(t==0)i=await gt(Zx,n,e),this._end_of_sblock=e+lV;else if(t==2||t==3)i=await gt(Jx,n,e),this._end_of_sblock=e+cV;else throw"unsupported superblock version: "+t.toFixed();if(i.get("format_signature")!=aV)throw"Incorrect file signature: "+i.get("format_signature");if(i.get("offset_size")!=8||i.get("length_size")!=8)throw"File uses non-64-bit addressing";this.version=i.get("superblock_version"),this._contents=i,this._root_symbol_table=null,this._fh=n}async get_offset_to_dataobjects(){if(this.version==0){var n=new Xx(this._fh,this._end_of_sblock,!0);return await n.ready,this._root_symbol_table=n,n.group_offset}else{if(this.version==2||this.version==3)return this._contents.get("root_group_address");throw"Not implemented version = "+this.version.toFixed()}}},sV=class{constructor(n,e){this.ready=this.init(n,e)}async init(n,e){let t=await gt(fV,n,e);pt(t.get("signature")=="HEAP"),pt(t.get("version")==0);let i=t.get("address_of_data_segment"),r=await n.slice(i,i+t.get("data_segment_size"));t.set("heap_data",r),this._contents=t,this.data=r}get_object_name(n){let t=new Uint8Array(this.data).indexOf(0,n)-n;return Me.unpack_from("<"+t.toFixed()+"s",this.data,n)[0]}},Xx=class{constructor(n,e,t=!1){this.ready=this.init(n,e,t)}async init(n,e,t){var i;if(t)i=new Map([["symbols",1]]);else{if(i=await gt(t8,n,e),i.get("signature")!="SNOD")throw"incorrect node type";e+=uV}for(var r=[],s=i.get("symbols"),o=0;o<s;o++)r.push(await gt(e8,n,e)),e+=hV;return t&&(this.group_offset=r[0].get("object_header_address")),this.entries=r,this._contents=i,this}assign_name(n){this.entries.forEach(function(e){let t=e.get("link_name_offset"),i=n.get_object_name(t);e.set("link_name",i)})}get_links(n){var e={};return this.entries.forEach(function(t){let i=t.get("cache_type"),r=t.get("link_name");if(i==0||i==1)e[r]=t.get("object_header_address");else if(i==2){let o=t.get("scratch"),a=new ArrayBuffer(4),l=new Uint8Array(a);for(var s=0;s<4;s++)l[s]=o.charCodeAt(s);let c=Me.unpack_from("<I",a,0)[0];e[r]=n.get_object_name(c)}}),e}},G4=class{constructor(n,e){this.ready=this.init(n,e)}async init(n,e){let t=await gt(n8,n,e);e+=W4;let i=t.get("collection_size")-W4,r=await n.slice(e,e+i);this.heap_data=r,this._header=t,this._objects=null}get objects(){if(this._objects==null){this._objects=new Map;for(var n=0;n<=this.heap_data.byteLength-K4;){let e=Ix(i8,this.heap_data,n);if(e.get("object_index")==0)break;n+=K4;let t=this.heap_data.slice(n,n+e.get("object_size"));this._objects.set(e.get("object_index"),t),n+=Cc(e.get("object_size"))}}return this._objects}},oV=class{constructor(n,e){this.fh=n,this.ready=this.init(e)}async init(n){let e=await gt(Y4,this.fh,n);if(n+=vt(Y4),pt(e.get("signature")=="FRHP"),pt(e.get("version")==0),e.get("filter_info_size")>0)throw"Filter info size not supported on FractalHeap";if(e.get("btree_address_huge_objects")==Yu)e.set("btree_address_huge_objects",null);else throw"Huge objects not implemented in FractalHeap";e.get("root_block_address")==Yu&&e.set("root_block_address",null);let t=e.get("log2_maximum_heap_size"),i=this._min_size_nbits(t),r=new Map([["signature","4s"],["version","B"],["heap_header_adddress","Q"],["block_offset",`${i}B`]]);this.indirect_block_header=new Map(r),this.indirect_block_header_size=vt(r),(e.get("flags")&2)==2&&r.set("checksum","I"),this.direct_block_header=r,this.direct_block_header_size=vt(r);let s=e.get("maximum_direct_block_size");this._managed_object_offset_size=this._min_size_nbits(t);let o=Math.min(s,e.get("max_managed_object_size"));this._managed_object_length_size=this._min_size_integer(o);let a=e.get("starting_block_size"),l=e.get("table_width");if(!(a>0))throw"Starting block size == 0 not implemented";let c=Number(Math.floor(Math.log2(s)));pt(1n<<BigInt(c)==s);let h=Number(Math.floor(Math.log2(a)));pt(1n<<BigInt(h)==a),this._max_direct_nrows=c-h+2;let u=Math.floor(Math.log2(l));pt(1<<u==l),this._indirect_nrows_sub=u+h-1,this.header=e,this.nobjects=e.get("managed_object_count")+e.get("huge_object_count")+e.get("tiny_object_count");let f=[],d=e.get("root_block_address"),p=0;if(d!=null&&(p=e.get("indirect_current_rows_count")),p>0)for await(let m of this._iter_indirect_block(this.fh,d,p))f.push(m);else{let m=await this._read_direct_block(this.fh,d,a);f.push(m)}let w=f.reduce((m,b)=>m+b.byteLength,0),F=new Uint8Array(w),g=0;f.forEach(m=>{F.set(new Uint8Array(m),g),g+=m.byteLength}),this.managed=F.buffer}async _read_direct_block(n,e,t){let i=await n.slice(e,e+t),r=Ix(this.direct_block_header,i);return pt(r.get("signature")=="FHDB"),i}get_data(n){let e=Me.unpack_from("<B",n,0)[0],t=e>>4&3,i=e>>6,r=1;if(t==0){pt(i==0);let s=this._managed_object_offset_size,o=d4(s,n,r);r+=s,s=this._managed_object_length_size;let a=d4(s,n,r);return this.managed.slice(o,o+a)}else throw t==1?"tiny objectID not supported in FractalHeap":t==2?"huge objectID not supported in FractalHeap":"unknown objectID type in FractalHeap"}_min_size_integer(n){return this._min_size_nbits(Nx(n))}_min_size_nbits(n){return Math.ceil(n/8)}async*_iter_indirect_block(n,e,t){let i=await gt(this.indirect_block_header,n,e);e+=this.indirect_block_header_size,pt(i.get("signature")=="FHIB");let s=i.get("block_offset").reduce((h,u,f)=>h+(u<<f*8),0);i.set("block_offset",s);let[o,a]=this._indirect_info(t),l=[];for(let h=0;h<o;h++){let u=(await Me.unpack_from_async("<Q",n,e))[0];if(e+=8,u==Yu)break;let f=this._calc_block_size(h);l.push([u,f])}let c=[];for(let h=o;h<o+a;h++){let u=(await Me.unpack_from_async("<Q",n,e))[0];if(e+=8,u==Yu)break;let f=this._calc_block_size(h),d=this._iblock_nrows_from_block_size(f);c.push([u,d])}for(let[h,u]of l)yield await this._read_direct_block(n,h,u);for(let[h,u]of c)for await(let f of this._iter_indirect_block(n,h,u))yield f}_calc_block_size(n){let e=Math.floor(n/this.header.get("table_width"));return 2**Math.max(e-1,0)*this.header.get("starting_block_size")}_iblock_nrows_from_block_size(n){let e=Math.floor(Math.log2(n));return pt(2**e==n),e-this._indirect_nrows_sub}_indirect_info(n){let e=this.header.get("table_width"),t=n*e,i=this._max_direct_nrows*e,r,s;return n<=i?(r=t,s=0):(r=i,s=t-i),[r,s]}_int_format(n){return["B","H","I","Q"][n-1]}},aV=Me.unpack_from("8s",new Uint8Array([137,72,68,70,13,10,26,10]).buffer)[0],Yu=Me.unpack_from("<Q",new Uint8Array([255,255,255,255,255,255,255,255]).buffer)[0],Zx=new Map([["format_signature","8s"],["superblock_version","B"],["free_storage_version","B"],["root_group_version","B"],["reserved_0","B"],["shared_header_version","B"],["offset_size","B"],["length_size","B"],["reserved_1","B"],["group_leaf_node_k","H"],["group_internal_node_k","H"],["file_consistency_flags","L"],["base_address_lower","Q"],["free_space_address","Q"],["end_of_file_address","Q"],["driver_information_address","Q"]]),lV=vt(Zx),Jx=new Map([["format_signature","8s"],["superblock_version","B"],["offset_size","B"],["length_size","B"],["file_consistency_flags","B"],["base_address","Q"],["superblock_extension_address","Q"],["end_of_file_address","Q"],["root_group_address","Q"],["superblock_checksum","I"]]),cV=vt(Jx),e8=new Map([["link_name_offset","Q"],["object_header_address","Q"],["cache_type","I"],["reserved","I"],["scratch","16s"]]),hV=vt(e8),t8=new Map([["signature","4s"],["version","B"],["reserved_0","B"],["symbols","H"]]),uV=vt(t8),fV=new Map([["signature","4s"],["version","B"],["reserved","3s"],["data_segment_size","Q"],["offset_to_free_list","Q"],["address_of_data_segment","Q"]]),n8=new Map([["signature","4s"],["version","B"],["reserved","3s"],["collection_size","Q"]]),W4=vt(n8),i8=new Map([["object_index","H"],["reference_count","H"],["reserved","I"],["object_size","Q"]]),K4=vt(i8),Y4=new Map([["signature","4s"],["version","B"],["object_index_size","H"],["filter_info_size","H"],["flags","B"],["max_managed_object_size","I"],["next_huge_object_index","Q"],["btree_address_huge_objects","Q"],["managed_freespace_size","Q"],["freespace_manager_address","Q"],["managed_space_size","Q"],["managed_alloc_size","Q"],["next_directblock_iterator_address","Q"],["managed_object_count","Q"],["huge_objects_total_size","Q"],["huge_object_count","Q"],["tiny_objects_total_size","Q"],["tiny_object_count","Q"],["table_width","H"],["starting_block_size","Q"],["maximum_direct_block_size","Q"],["log2_maximum_heap_size","H"],["indirect_starting_rows_count","H"],["root_block_address","Q"],["indirect_current_rows_count","H"]]),w2=class{constructor(n,e){this.ready=this.init(n,e)}async init(n,e){let t=(await Me.unpack_from_async("<B",n,e))[0];if(t==1)var[i,r,s]=await this._parse_v1_objects(n,e);else if(t==79)var[i,r,s]=await this._parse_v2_objects(n,e);else throw"InvalidHDF5File('unknown Data Object Header')";this.fh=n,this.msgs=i,this.msg_data=r,this.offset=e,this._global_heaps={},this._header=s,this._filter_pipeline=null,this._chunk_params_set=!1,this._chunks=null,this._chunk_dims=null,this._chunk_address=null}get dtype(){let e=this.find_msg_type(_V)[0].get("offset_to_message");return new p4(this.fh,e).dtype}get chunks(){return this._get_chunk_params().then(()=>this._chunks)}get shape(){let e=this.find_msg_type(e3)[0].get("offset_to_message");return dV(this.fh,e)}async get_filter_pipeline(){if(this._filter_pipeline!=null)return this._filter_pipeline;let n=this.find_msg_type(kV);if(!n.length)return this._filter_pipeline=null,this._filter_pipeline;var e=n[0].get("offset_to_message");let[t,i]=await Me.unpack_from_async("<BB",this.fh,e);e+=Me.calcsize("<BB");var r=[];if(t==1){await Me.unpack_from_async("<HI",this.fh,e),e+=Me.calcsize("<HI");for(var s=0;s<i;s++){let o=await gt(d8,this.fh,e);e+=vV;let a=Cc(o.get("name_length"),8),l="<"+a.toFixed()+"s",c=(await Me.unpack_from_async(l,this.fh,e))[0];o.set("filter_name",c),e+=a,l="<"+o.get("client_data_values").toFixed()+"I";let h=await Me.unpack_from_async(l,this.fh,e);o.set("client_data",h),e+=4*o.get("client_data_values"),o.get("client_data_values")%2&&(e+=4),r.push(o)}}else if(t==2)for(let o=0;o<i;o++){let a=new Map,l=this.fh,c=(await Me.unpack_from_async("<H",l,e))[0];e+=2,a.set("filter_id",c);let h=0;c>255&&(h=(await Me.unpack_from_async("<H",l,e))[0],e+=2);let u=(await Me.unpack_from_async("<H",l,e))[0];e+=2;let f=(u&1)>0;a.set("optional",f);let d=(await Me.unpack_from_async("<H",l,e))[0];e+=2;let p;h>0&&(p=(await Me.unpack_from_async(`${h}s`,l,e))[0],e+=h),a.set("name",p);let w=await Me.unpack_from_async(`<${d}i`,l,e);e+=4*d,a.set("client_data_values",w),r.push(a)}else throw`version ${t} is not supported`;return this._filter_pipeline=r,this._filter_pipeline}find_msg_type(n){return this.msgs.filter(function(e){return e.get("type")==n})}async get_attributes(){let n={},e=this.find_msg_type(EV);for(let t of e){let i=t.get("offset_to_message"),[r,s]=await this.unpack_attribute(i);n[r]=s}return n}async get_fillvalue(){var e=this.find_msg_type(CV)[0].get("offset_to_message"),t;let i=(await Me.unpack_from_async("<B",this.fh,e))[0];var r,s,o;if(i==1||i==2)r=await gt(u8,this.fh,e),e+=FV,t=r.get("fillvalue_defined");else if(i==3)r=await gt(f8,this.fh,e),e+=yV,t=r.get("flags")&32;else throw'InvalidHDF5File("Unknown fillvalue msg version: "'+String(i);if(t?(s=(await Me.unpack_from_async("<I",this.fh,e))[0],e+=4):s=0,s){let[a,l,c]=Ef(await this.dtype);o=new Pa(await this.fh.slice(e,e+c))[a](e,!l,c)}else o=0;return o}async unpack_attribute(n){let e=(await Me.unpack_from_async("<B",this.fh,n))[0];var t,i;if(e==1)t=await gt(s8,this.fh,n),pt(t.get("version")==1),n+=pV,i=8;else if(e==3)t=await gt(o8,this.fh,n),pt(t.get("version")==3),n+=gV,i=1;else throw"unsupported attribute message version: "+e;let r=t.get("name_size"),s=(await Me.unpack_from_async("<"+r.toFixed()+"s",this.fh,n))[0];s=s.replace(/\x00$/,""),n+=Cc(r,i);var o;try{o=await new p4(this.fh,n).dtype}catch{return console.warn("Attribute "+s+" type not implemented, set to null."),[s,null]}n+=Cc(t.get("datatype_size"),i);let a=await this.determine_data_shape(this.fh,n),l=a.reduce(function(h,u){return h*u},1);if(n+=Cc(t.get("dataspace_size"),i),o.datatype_class===5)c=await this.fh.slice(n,n+o.size);else{var c=await this._attr_value(o,this.fh,l,n);a.length==0&&(c=c[0])}return[s,c]}async determine_data_shape(n,e){let t=(await Me.unpack_from_async("<B",n,e))[0];var i;if(t==1)i=await gt(Sw,n,e),pt(i.get("version")==1),e+=a8;else if(t==2)i=await gt(Iw,n,e),pt(i.get("version")==2),e+=l8;else throw"unknown dataspace message version";let r=i.get("dimensionality");return await Me.unpack_from_async("<"+r.toFixed()+"Q",n,e)}async _attr_value(n,e,t,i){var r=new Array(t);if(n instanceof Array){let c=n[0];for(var s=0;s<t;s++)if(c=="VLEN_STRING"){let h=n[2];var[o,a]=await this._vlen_size_and_data(e,i);const u=h==0?"ascii":"utf-8",f=new TextDecoder(u);r[s]=f.decode(a),i+=16}else if(c=="REFERENCE"){var l=await Me.unpack_from_async("<Q",e,i);r[s]=l,i+=8}else if(c=="VLEN_SEQUENCE"){let h=n[1];var[o,a]=this._vlen_size_and_data(e,i);r[s]=this._attr_value(h,a,o,0),i+=16}else throw"NotImplementedError"}else{let[c,h,u]=Ef(n);const f=await e.slice(i,i+t*u);let d=new Pa(f,0),p=0;for(var s=0;s<t;s++)r[s]=d[c](p,!h,u),p+=u}return r}async _vlen_size_and_data(n,e){let t=(await Me.unpack_from_async("<I",n,e))[0],i=await gt(r8,n,e+4),r=i.get("collection_address");pt(i.get("collection_address")<Number.MAX_SAFE_INTEGER);var s;r in this._global_heaps||(s=new G4(this.fh,r),await s.ready,this._global_heaps[r]=s),s=this._global_heaps[r];let o=s.objects.get(i.get("object_index"));return[t,o]}async _parse_v1_objects(n,e){let t=await gt(X4,n,e);pt(t.get("version")==1);let i=t.get("total_header_messages");for(var r=t.get("object_header_size"),s=e+vt(X4),o=await n.slice(s,s+r),a=[[s,r]],l=0,c=0,h=new Array(i),u=0;u<i;u++){c>=r&&([s,r]=a[++l],c=0);let p=await gt(c8,n,s+c),w=s+c+J4;if(p.set("offset_to_message",w),p.get("type")==n3){var[f,d]=await Me.unpack_from_async("<QQ",n,w);a.push([f,d])}c+=J4+p.get("size"),h[u]=p}return[h,o,t]}async _parse_v2_objects(n,e){var[t,i,r]=await this._parse_v2_header(n,e);e=r;for(var s=[],o=t.get("size_of_chunk_0"),a=n.slice(e,e+=o),l=[[r,o]],c=0,h=0;;){if(h>=o-w0){let w=l[++c];if(w==null)break;[r,o]=w,h=0}let d=await gt(h8,n,r+h),p=r+h+w0+i;if(d.set("offset_to_message",p),d.get("type")==n3){var[u,f]=await Me.unpack_from_async("<QQ",n,p);l.push([u+4,f-4])}h+=w0+d.get("size")+i,s.push(d)}return[s,a,t]}async _parse_v2_header(n,e){let t=await gt(Z4,n,e);var i;if(e+=vt(Z4),pt(t.get("version")==2),t.get("flags")&4?i=2:i=0,pt((t.get("flags")&16)==0),t.get("flags")&32){let s=await Me.unpack_from_async("<4I",n,e);e+=16,t.set("access_time",s[0]),t.set("modification_time",s[1]),t.set("change_time",s[2]),t.set("birth_time",s[3])}let r=["<B","<H","<I","<Q"][t.get("flags")&3];return t.set("size_of_chunk_0",(await Me.unpack_from_async(r,n,e))[0]),e+=Me.calcsize(r),[t,i,e]}async find_link(n){if(this._links){for(link of this._links)if(n===link[0])return link}else{const e=[];for await(const t of this.iter_links()){if(n===t[0])return t;e.push(t)}this._links=e}}async get_links(){const n=[];for await(const e of this.iter_links())n.push(e);return Object.fromEntries(n)}async*iter_links(){for(let n of this.msgs)n.get("type")==SV?yield*this._iter_links_from_symbol_tables(n):n.get("type")==xV?yield this._get_link_from_link_msg(n):n.get("type")==AV&&(yield*this._iter_link_from_link_info_msg(n))}async*_iter_links_from_symbol_tables(n){pt(n.get("size")==16);let e=await gt(mV,this.fh,n.get("offset_to_message"));yield*this._iter_links_btree_v1(e.get("btree_address"),e.get("heap_address"))}async*_iter_links_btree_v1(n,e){let t=new eV(this.fh,n);await t.ready;let i=new sV(this.fh,e);await i.ready;for(let r of t.symbol_table_addresses()){let s=new Xx(this.fh,r);await s.ready,s.assign_name(i),yield*Object.entries(s.get_links(i))}}async _get_link_from_link_msg(n){let e=n.get("offset_to_message");return await this._decode_link_msg(this.fh,e)[1]}async _decode_link_msg(n,e){let[t,i]=await Me.unpack_from_async("<BB",n,e);e+=2,pt(t==1);let r=2**(i&3),s=(i&2**3)>0,o=(i&2**4)>0,a=(i&2**2)>0,l;s?(l=(await Me.unpack_from_async("<B",n,e))[0],e+=1):l=0,pt([0,1].includes(l));let c;a&&(c=(await Me.unpack_from_async("<Q",n,e))[0],e+=8);let h=0;o&&(h=(await Me.unpack_from_async("<B",n,e))[0],e+=1);let u=h==0?"ascii":"utf-8",f=["<B","<H","<I","<Q"][i&3],d=(await Me.unpack_from_async(f,n,e))[0];e+=r;let p=new TextDecoder(u).decode(await n.slice(e,e+d));e+=d;let w;if(l==0)w=(await Me.unpack_from_async("<Q",n,e))[0];else if(l==1){let F=(await Me.unpack_from_async("<H",n,e))[0];e+=2,w=new TextDecoder(u).decode(await n.slice(e,e+F))}return[c,[p,w]]}async*_iter_link_from_link_info_msg(n){let e=n.get("offset_to_message"),t=await this._decode_link_info_msg(this.fh,e),i=t.get("heap_address"),r=t.get("name_btree_address"),s=t.get("order_btree_address");r!=null&&(yield*this._iter_links_btree_v2(r,s,i))}async*_iter_links_btree_v2(n,e,t){let i=new oV(this.fh,t);await i.ready;let r;const s=e!=null;s?(r=new iV(this.fh,e),await r.ready):(r=new nV(this.fh,n),await r.ready);let o=new Map;for(let l of r.iter_records()){let c=i.get_data(l.get("heapid")),[h,u]=await this._decode_link_msg(c,0);const f=s?h:u[0];o.set(f,u)}let a=Array.from(o.keys()).sort();for(let l of a)yield o.get(l)}async _decode_link_info_msg(n,e){let[t,i]=await Me.unpack_from_async("<BB",n,e);pt(t==0),e+=2,(i&1)>0&&(e+=8);let r=(i&2)>0?bV:wV,s=await gt(r,n,e),o=new Map;for(let[a,l]of s.entries())o.set(a,l==m0?null:l);return o}get is_dataset(){return this.find_msg_type(e3).length>0}async get_data(){let e=this.find_msg_type(t3)[0].get("offset_to_message");var[t,i,r,s]=await this._get_data_message_properties(e);if(r==0)throw"Compact storage of DataObject not implemented";if(r==1)return this._get_contiguous_data(s);if(r==2)return this._get_chunked_data(e)}async _get_data_message_properties(n){let e,t,i,[r,s,o]=await Me.unpack_from_async("<BBB",this.fh,n);return r==1||r==2?(e=s,t=o,i=n,i+=Me.calcsize("<BBB"),i+=Me.calcsize("<BI"),pt(t==1||t==2)):(r==3||r==4)&&(t=s,i=n,i+=Me.calcsize("<BB")),pt(r>=1&&r<=4),[r,e,t,i]}async _get_contiguous_data(n){let[e]=await Me.unpack_from_async("<Q",this.fh,n);const t=await this.shape,i=await this.dtype;if(e==m0){let a=t.reduce(function(l,c){return l*c},1);return new Array(a)}var r=t.reduce(function(a,l){return a*l},1);if(i instanceof Array){let a=i[0];if(a=="REFERENCE"){if(i[1]!=8)throw"NotImplementedError('Unsupported Reference type')";return await this.fh.slice(e,e+r)}else if(a=="VLEN_STRING"){const c=i[2]==0?"ascii":"utf-8",h=new TextDecoder(c);for(var o=[],s=0;s<r;s++){const[f,d]=await this._vlen_size_and_data(this.fh,e);o[s]=h.decode(d),e+=16}return o}else throw"NotImplementedError('datatype not implemented')"}else if(/[<>=!@\|]?(i|u|f|S)(\d*)/.test(i)){let[a,l,c]=Ef(i),h=new Array(r);const u=await this.fh.slice(e,e+c*r);let f=new Pa(u);for(var s=0;s<r;s++)h[s]=f[a](s*c,!l,c);return h}else{if(i.datatype_class===5)return this.fh.slice(e,e+i.size);throw"not Implemented - no proper dtype defined"}}async _get_chunked_data(n){if(await this._get_chunk_params(),this._chunk_address==m0)return[];var e=new tV(this.fh,this._chunk_address,this._chunk_dims);await e.ready;const t=await this.dtype,i=await this.shape,r=await this.chunks,s=await this.get_filter_pipeline();let o=await e.construct_data_from_chunks(r,i,t,s);if(t instanceof Array&&/^VLEN/.test(t[0])){let c=t[0];for(var a=0;a<o.length;a++){let[h,u,f]=o[a];var l;u in this._global_heaps?l=this._global_heaps[u]:(l=new G4(this.fh,u),await l.ready,this._global_heaps[u]=l);let d=l.objects.get(f);if(c=="VLEN_STRING"){const w=t[2]==0?"ascii":"utf-8",F=new TextDecoder(w);o[a]=F.decode(d)}}}return o}async _get_chunk_params(){if(!this._chunk_params_set){this._chunk_params_set=!0;var n=this.find_msg_type(t3)[0],e=n.get("offset_to_message"),[t,i,r,s]=await this._get_data_message_properties(e);if(r==2){var o;if(t==1||t==2){var a=(await Me.unpack_from_async("<Q",this.fh,s))[0];o=s+Me.calcsize("<Q")}else if(t==3){var[i,a]=await Me.unpack_from_async("<BQ",this.fh,s);o=s+Me.calcsize("<BQ")}pt(t>=1&&t<=3);var l="<"+(i-1).toFixed()+"I",c=await Me.unpack_from_async(l,this.fh,o);this._chunks=c,this._chunk_dims=i,this._chunk_address=a}}}};async function dV(n,e){let t=(await Me.unpack_from_async("<B",n,e))[0];var i;if(t==1)i=await gt(Sw,n,e),pt(i.get("version")==1),e+=a8;else if(t==2)i=await gt(Iw,n,e),pt(i.get("version")==2),e+=l8;else throw"InvalidHDF5File('unknown dataspace message version')";let r=i.get("dimensionality");return(await Me.unpack_from_async("<"+(r*2).toFixed()+"I",n,e)).filter(function(o,a){return a%2==0})}var m0=Me.unpack_from("<Q",new Uint8Array([255,255,255,255,255,255,255,255]).buffer),r8=new Map([["collection_address","Q"],["object_index","I"]]);vt(r8);var s8=new Map([["version","B"],["reserved","B"],["name_size","H"],["datatype_size","H"],["dataspace_size","H"]]),pV=vt(s8),o8=new Map([["version","B"],["flags","B"],["name_size","H"],["datatype_size","H"],["dataspace_size","H"],["character_set_encoding","B"]]),gV=vt(o8),X4=new Map([["version","B"],["reserved","B"],["total_header_messages","H"],["object_reference_count","I"],["object_header_size","I"],["padding","I"]]),Z4=new Map([["signature","4s"],["version","B"],["flags","B"]]),Sw=new Map([["version","B"],["dimensionality","B"],["flags","B"],["reserved_0","B"],["reserved_1","I"]]),a8=vt(Sw),Iw=new Map([["version","B"],["dimensionality","B"],["flags","B"],["type","B"]]),l8=vt(Iw),c8=new Map([["type","H"],["size","H"],["flags","B"],["reserved","3s"]]),J4=vt(c8),h8=new Map([["type","B"],["size","H"],["flags","B"]]),w0=vt(h8),mV=new Map([["btree_address","Q"],["heap_address","Q"]]),wV=new Map([["heap_address","Q"],["name_btree_address","Q"]]),bV=new Map([["heap_address","Q"],["name_btree_address","Q"],["order_btree_address","Q"]]),u8=new Map([["version","B"],["space_allocation_time","B"],["fillvalue_write_time","B"],["fillvalue_defined","B"]]),FV=vt(u8),f8=new Map([["version","B"],["flags","B"]]),yV=vt(f8),d8=new Map([["filter_id","H"],["name_length","H"],["flags","H"],["client_data_values","H"]]),vV=vt(d8),e3=1,AV=2,_V=3,CV=5,xV=6,t3=8,kV=11,EV=12,n3=16,SV=17,b2=class{constructor(n,e){e==null?(this.parent=this,this.file=this):(this.parent=e,this.file=e.file),this.name=n}async init(n){const e=this.file.index;e&&this.name in e?this._links=e[this.name]:this._links=await n.get_links(),this._dataobjects=n,this._attrs=null,this._keys=null}get keys(){return this._keys==null&&(this._keys=Object.keys(this._links)),this._keys.slice()}get values(){return this.keys.map(n=>this.get(n))}length(){return this.keys.length}_dereference(n){if(!n)throw"cannot deference null reference";let e=this.file._get_object_by_address(n);if(e==null)throw"reference not found in file";return e}async get(n){if(typeof n=="number")return this._dereference(n);var e=i3(n);if(e=="/")return this.file;if(e==".")return this;if(/^\//.test(e))return this.file.get(e.slice(1));if(TV(e)!="")var[t,i]=e.split(/\/(.*)/);else var t=e,i=".";if(!(t in this._links))throw t+" not found in group";var r=i3(this.name+"/"+t);let s=this._links[t];if(typeof s=="string")try{return this.get(s)}catch{return null}var o=new w2(this.file._fh,s);if(await o.ready,o.is_dataset){if(i!=".")throw r+" is a dataset, not a group";return new NV(r,o,this)}else{var a=new b2(r,this);return await a.init(o),a.get(i)}}visit(n){return this.visititems((e,t)=>n(e))}visititems(n){var e=this.name.length;/\/$/.test(this.name)||(e+=1);for(var t=this.values.slice();t;){let i=t.shift();t.length==1&&console.log(i);let r=i.name.slice(e),s=n(r,i);if(s!=null)return s;i instanceof b2&&(t=t.concat(i.values))}return null}get attrs(){return this._attrs==null&&(this._attrs=this._dataobjects.get_attributes()),this._attrs}},IV=class extends b2{constructor(n,e,t){super("/",null),this.ready=this.init(n,e,t)}async init(n,e,t){var i=new rV(n,0);await i.ready;var r=await i.get_offset_to_dataobjects(),s=new w2(n,r);if(await s.ready,this.parent=this,this.file=this,this.name="/",this._dataobjects=s,this._attrs=null,this._keys=null,this._fh=n,this.filename=e||"",this.mode="r",this.userblock_size=0,t&&t.index)this.index=t.index;else{let o;if(t&&t.indexOffset)o=t.indexOffset;else{const a=await this.attrs;if(a.hasOwnProperty("_index_offset"))o=a._index_offset;else{const l=this.indexName||"_index",c=await s.find_link(l);c&&(o=c[1])}}if(o)try{const a=new w2(n,o);await a.ready;const l=await a.get_data(),c=$U(l),h=new TextDecoder().decode(c);this.index=JSON.parse(h)}catch(a){console.error(`Error loading index by offset ${a}`)}}this.index&&this.name in this.index?this._links=this.index[this.name]:this._links=await s.get_links()}_get_object_by_address(n){return this._dataobjects.offset==n?this:this.visititems(e=>{e._dataobjects.offset==n})}},NV=class extends Array{constructor(n,e,t){super(),this.parent=t,this.file=t.file,this.name=n,this._dataobjects=e,this._attrs=null,this._astype=null}get value(){var n=this._dataobjects.get_data();return this._astype==null?this.getValue(n):n.astype(this._astype)}get shape(){return this._dataobjects.shape}get attrs(){return this._dataobjects.get_attributes()}get dtype(){return this._dataobjects.dtype}get fillvalue(){return this._dataobjects.get_fillvalue()}async to_array(){const n=await this.value,e=await this.shape;return RV(n,e)}async getValue(n){const e=await this.dtype;return(typeof e=="string"||e instanceof String)&&e.startsWith("S")?(await n).map(t=>{let i=t.indexOf("\0");return i>=0?t.substring(0,i):t}):n}};function TV(n){let e="/",t=n.lastIndexOf(e)+1,i=n.slice(0,t),r=new RegExp("^"+e+"+$"),s=new RegExp(e+"$");return i&&!r.test(i)&&(i=i.replace(s,"")),i}function i3(n){return n.replace(/\/(\/)+/g,"/")}function RV(n,e){const t=n.length,i=e.reduce((o,a)=>o*a,1);t!==i&&console.warn(`shape product: ${i} does not match length of flattened array: ${t}`);let r=n;const s=e.slice(1).reverse();for(let o of s){const a=[],{length:l}=r;let c=0;for(;c<l;)a.push(r.slice(c,c+=o));r=a}return r}/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */async function MV(n){n.url&&PV(n.url)&&(n.file=n.url,n.url=void 0);const e=n.url!==void 0;let t=n.reader?n.reader:DV(n);const i=n.fetchSize||2e3,r=n.maxSize||2e5;e&&(t=new oH({file:t,fetchSize:i,maxSize:r}));const s=new zV(t),o=await BV(n),a=n.indexOffset,l=LV(n),c=new IV(s,l,{index:o,indexOffset:a});return await c.ready,c}async function BV(n){let e;if(n.indexReader)e=n.indexReader;else{if(n.index)return n.index;n.indexURL?e=new Ex({url:n.indexURL}):n.indexPath?e=new NodeLocalFile({path:n.indexPath}):n.indexFile&&(e=new Sx({file:n.indexFile}))}if(e){const t=await e.read(),i=new TextDecoder().decode(t);return JSON.parse(i)}else return}function DV(n){if(n.url)return new Ex(n);if(n.path)return new NodeLocalFile(n);if(n.file)return new Sx(n.file);throw Error("One of 'url', 'path (node only)', or 'file (browser only)' must be specified")}function LV(n){if(n.url)return r3(n.url);if(n.path)return r3(n.path);if(n.file)return n.file.name}class zV{constructor(e){this.fileReader=e}async slice(e,t){return this.fileReader.read(e,t-e)}}function r3(n){const e=n.lastIndexOf("/");return e>0?n.substring(e+1):n}function PV(n){return typeof n.slice=="function"&&typeof n.arrayBuffer=="function"}class OV{constructor(e,t){this.chrom=e,this.signal_bin_size=t;let i="";this.signals={raw_RD:`his_rd_p_${this.chrom}_${this.signal_bin_size}${i}`,gc_RD:`his_rd_p_${this.chrom}_${this.signal_bin_size}_GC`,gc_partition:`his_rd_p_${this.chrom}_${this.signal_bin_size}_partition_GC_merge`,baf:`snp_likelihood_${this.chrom}_${this.signal_bin_size}_mask`,baf_i1:`snp_i1_${this.chrom}_${this.signal_bin_size}_mask`,Mosaic_segments:`his_rd_p_${this.chrom}_${this.signal_bin_size}_partition_GC_mosaic_segments_2d`,Mosaic_calls:`his_rd_p_${this.chrom}_${this.signal_bin_size}_partition_GC_mosaic_call_2d`}}}class HV{constructor(e,t=1e5){this.h5_file=e,this.bin_size=t,this.h5_obj=void 0}async fetch(){return this.h5_obj||(this.h5_obj=await MV({url:this.h5_file,fetchSize:1e6,maxSize:2e8})),this.h5_obj}async get_keys(){return(await this.fetch()).keys}async get_rd_signal(e=this.bin_size){let t=await this.fetch();this.h5_obj=t,this.pytor_keys=t.keys;let i=new UV(this.pytor_keys),r=i.get_rd_bins(),s=i.get_snp_bins();this.available_bins=[...new Set(r,s)],this.available_bins.includes(e)||(e=this.available_bins.at(-1));const o=await t.get("rd_chromosomes");await o.dtype;let a=await o.value,l=await this.rd_stat(e);var c=[],h=[],u=[],f=[],d=[],p=[];for(let b of a){let y=new OV(b,e);var w=y.signals.raw_RD;let A=await this.get_chr_signal(b,e,w,l);c=c.concat(A);var F=y.signals.gc_RD;let x=await this.get_chr_signal(b,e,F,l);h=h.concat(x);let v=y.signals.gc_partition,_=await this.get_chr_signal(b,e,v,l);u=u.concat(_);let k=await this.rd_call_combined(b,e,l,y);f=f.concat(k);let E=y.signals.baf_i1,T=await this.get_baf_signals_v2(b,e,E);d=d.concat(T[0]),p=p.concat(T[1])}this.callers=[],f.length!=0&&this.callers.push("ReadDepth"),f.length!=0&&this.callers.push("2D");var g={},m={RD_Raw:c,RD_Raw_gc_coor:h,ReadDepth:u,"2D":f,BAF1:d,BAF2:p};return g[e]=m,g}decode_segments(e){let t=4294967295,i=[],r=[];for(let s of e)s==t?(i.push(r),r=[]):r.push(s);return i}async rd_call_combined(e,t,i,r){let s=[],o,a=r.signals.Mosaic_segments;if(this.pytor_keys.includes(a)){let h=await(await this.h5_obj.get(a)).value;o=this.decode_segments(h)}let l=r.signals.Mosaic_calls;if(this.pytor_keys.includes(l)){let h=await(await this.h5_obj.get(l)).to_array();o.forEach((u,f)=>{u.forEach((d,p)=>{s.push({chr:e,start:d*t,end:(d+1)*t,value:h[0][f]/i[4]*2})})})}return s}async rd_stat(e){let t=`rd_stat_${e}_auto`,i;return this.pytor_keys.includes(t)&&(i=await(await this.h5_obj.get(t)).value),i}async get_chr_signal(e,t,i,r){let s=[];return this.pytor_keys.includes(i)&&(await(await this.h5_obj.get(i)).value).forEach((l,c)=>{s.push({chr:e,start:c*t,end:(c+1)*t,value:l/r[4]*2})}),s}async get_baf_signals(e,t,i,r=-1){let s=[],o=[];return this.pytor_keys.includes(i)&&(await(await this.h5_obj.get(i)).to_array()).forEach((c,h)=>{let u=Math.max(...c);const f=c.indexOf(u);let d=Math.max(f/200,1-f/200);s.push({chr:e,start:h*t,end:(h+1)*t,value:r*d}),d!=.5&&o.push({chr:e,start:h*t,end:(h+1)*t,value:r*(1-d)})}),[s,o]}async get_baf_signals_v2(e,t,i,r=-1){let s=[],o=[];return this.pytor_keys.includes(i)&&(await(await this.h5_obj.get(i)).to_array()).forEach((c,h)=>{isNaN(c)||(s.push({chr:e,start:h*t,end:(h+1)*t,value:r*(.5-c)}),c!=.5&&o.push({chr:e,start:h*t,end:(h+1)*t,value:r*(.5+c)}))}),[s,o]}}class UV{constructor(e){this.signals=e}get_rd_bins(){let e=[];return this.signals.forEach(i=>{let r=i.match(/^his_rd_p_(.*)_(\d+)$/);r&&e.push({chr:r[1],bin_size:r[2]})}),[...new Set(e.map(i=>Number(i.bin_size)))]}get_snp_bins(){let e=[];return this.signals.forEach(i=>{let r=i.match(/^snp_likelihood_(.*)_(\d+)_mask$/);r&&e.push({chr:r[1],bin_size:r[2]})}),[...new Set(e.map(i=>Number(i.bin_size)))]}}class VV{constructor(e){this.allBins=e}getValues(){return Object.values(this.allBins).reduce((t,i)=>t.concat(i.filter(r=>r.binScore>0).map(r=>r.binScore)),[])}getMean(e){return e.reduce(function(t,i){return t+i})/e.length}fit_data(){let e=this.getValues();return p8(e)}histogram(e,t){const i=t[1]-t[0],r=[];e.forEach((o,a)=>{t.forEach((l,c)=>{if(r[l]||(r[l]={count:0}),l<=o&&o<l+i)return r[l].count++,!1})});const s=[];return r.forEach((o,a)=>{s.push(o.count)}),s}}function qV(n,e,t){return Array(Math.ceil((e-n)/t)).fill(n).map((r,s)=>r+s*t)}function jV(n){if(n.length<4)return n;let e,t,i,r,s,o;return e=n.slice().sort((a,l)=>a-l),e.length/4%1===0?(t=1/2*(e[e.length/4]+e[e.length/4+1]),i=1/2*(e[e.length*(3/4)]+e[e.length*(3/4)+1])):(t=e[Math.floor(e.length/4+1)],i=e[Math.ceil(e.length*(3/4)+1)]),r=i-t,s=i+r*1.5,o=t-r*1.5,e.filter(a=>a>=o&&a<=s)}function p8(n){let e=jV(n);const t=e.length,i=e.reduce((s,o)=>s+o)/t,r=Math.sqrt(e.map(s=>Math.pow(s-i,2)).reduce((s,o)=>s+o)/t);return[i,r]}function QV(n,e,t){if(typeof t>"u"&&(t=Math.max(Math.round(e-n)+1,1)),t<2)return t===1?[n]:[];var i=Array(t);t--;for(let r=t;r>=0;r--)i[r]=(r*e+(t-r)*n)/t;return i}var lo={range_function:qV,getDistParams:p8,linspace:QV,GetFit:VV};function Nw(n,e){return isNaN(n)||isNaN(e)||e<=0?NaN:n===0?.5:1/2+1/2*(s3(1/2*e,1/2,1)-s3(1/2*e,1/2,e/(e+n*n)))*Math.sign(n)}function s3(n,e,t){if(t==0)return 0;if(t==1)return 1;{let i=b0(n+e)-b0(n)-b0(e)+n*Math.log(t)+e*Math.log(1-t);return t<(n+1)/(n+e+2)?Math.exp(i)*o3(n,e,t)/n:1-Math.exp(i)*o3(e,n,1-t)/e}}function o3(n,e,t,i=1e3){let r=3e-7,s=1,o=1,a=1,l=n+e,c=n+1,h=n-1,u=1-l*t/c;for(let f=0;f<=i;f++){let d=parseFloat(f+1),p=d+d,w=d*(e-d)*t/((h+p)*(n+p)),F=s+w*o,g=u+w*a;w=-(n+d)*(l+d)*t/((c+p)*(n+p));let m=F+w*s,b=g+w*u,y=s;if(o=F/b,a=g/b,s=m/b,u=1,Math.abs(s-y)<r*Math.abs(s))return s}}function g8(n){return n==0||n==1?1:n*g8(n-1)}function m8(n){let e;var t=[75122.633153,80916.6278952,36308.2951477,8687.24529705,1168.92649479,83.8676043424,2.50662827511],i=0,r=1;if(n==0)e=1e99;else if(n%1==0)e=g8(n-1);else{for(let s=0;s<t.length;s++)i=i+t[s]*Math.pow(n,s),r=r*(n+s);e=i*Math.pow(n+5.5,n+.5)*Math.exp(-(n+5.5))/r}return e}function b0(n){return Math.log(m8(n))}function $V(n,e,t,i){t==0&&(t=1);var r=(n-e)/t*Math.sqrt(i),s=1-Nw(Math.abs(r),i-1);return s}function GV(n,e,t,i,r,s){e==0&&(e=1),r==0&&(r=1);var o=(n-i)/Math.sqrt(e**2/t+r**2/s),a=(e**2/t+r**2/s)**2*(t-1)*(s-1)/(e**4*(s-1)/t**2+r**4*(t-1)/s**2),l=1-Nw(Math.abs(o),parseInt(a+.5));return l}var Tw={TdistributionCDF:Nw,gamma:m8,t_test_1_sample:$V,t_test_2_samples:GV};class WV{constructor(e,t){this.wigFeatures=e,this.binSize=t}get_fit(){var e=new lo.GetFit(this.wigFeatures),[t,i]=e.fit_data();return{globalMean:t,globalStd:i}}async call_2d(e=null,t=null,i="both",r=.1,s=0,o=10,a=0){let l=this.get_fit();this.globalMean=l.globalMean,this.globalStd=l.globalStd;let c=e??.05*this.binSize/3e9,h=t??parseInt(this.binSize/1e4),u=[],f=[],d=[],p=[],w=[],F=[];for(const[v,_]of Object.entries(this.wigFeatures)){let k=[],E=[],T=[];_.forEach((H,L)=>{H.hets_count>4&&H.dp_count>h&&(k.push([L]),E.push(H.binScore),T.push(H.likelihood_score),delete H.likelihood_score)});let M=[];for(let H=1;H<E.length;H++)M.push(Math.abs(E[H]-E[H-1]));let N=[0];for(let H=1;H<M.length;H++)N.push(Math.min(M[H-1],M[H]));N.push(0);let C=E.map((H,L)=>Math.sqrt(Math.sqrt(H)**2+this.globalStd**2+Math.pow(N[L]/2,2))),B=[];for(let H=0;H<k.length-1;H++){let L=0;try{L=hc(T[H],T[H+1])}catch{console.log("Overlap failed: ",H,T[H],k[H+1],T[H+1])}let O=cc(E[H],C[H],E[H+1],C[H+1]);B.push(O*L)}for(;B.length>0;){B=B.filter(te=>typeof te=="number");let H=a3(B);if(isNaN(H)&&console.log("NaN value",B),H<c)break;let L=B.indexOf(H),O=c3(E[L],C[L],E[L+1],C[L+1]),$,Q;try{$=T[L].map((te,U)=>te*T[L+1][U]),Q=$.reduce((te,U)=>te+U)}catch{console.log(T),console.log("max_overlap:",H,L,B.length),console.log("likelihood: ",L,T[L],T[L+1]),console.log("nlh: ",Q)}if(E[L]=O.nl,C[L]=O.ne,T[L]=$.map(function(te){return te/Q}),k[L].push(...k[L+1]),E.splice(L+1,1),C.splice(L+1,1),k.splice(L+1,1),T.splice(L+1,1),B.splice(L,1),L<B.length){let U=cc(E[L],C[L],E[L+1],C[L+1])*hc(T[L],T[L+1]);B[L]=U}if(L>0){let te=cc(E[L-1],C[L-1],E[L],C[L])*hc(T[L-1],T[L]);B[L-1]=te}}let I=-1;for(;;){B=[];for(let $=0;$<E.length;$++)for(let Q=$;Q<E.length;Q++)k[Q][0]-k[$].at(-1)<r*(k[$].length+k[Q].length)&&B.push(cc(E[$],C[$],E[Q],C[Q])*hc(T[$],T[Q]));if(B.length==0)break;let H=a3(B);if(H<c)break;let L=0,O=1;for(;L<k.length-1;){let $=cc(E[L],C[L],E[O],C[O])*hc(T[L],T[O]);if(k[O][0]-k[L].at(-1)<r*(k[L].length+k[O].length)&&$==H){let Q=c3(E[L],C[L],E[L+1],C[L+1]);E[L]=Q.nl,C[L]=Q.ne;let te=T[L].map((G,ne)=>G*T[L+1][ne]),U=te.reduce((G,ne)=>G+ne);T[L]=te.map(function(G){return G/U}),k[L].push(...k[L+1]),k[L]=k[L].sort((G,ne)=>G-ne),E.splice(O,1),C.splice(O,1),k.splice(O,1),T.splice(O,1),O>=k.length&&(L+=1,O=L+1)}else O+=1,O>=k.length&&(L+=1,O=L+1)}if(I==k.length)break;I=k.length}k.forEach((H,L)=>{let O=KV(T[L]);H.length>1&&(H.forEach(($,Q)=>{f.push(_[$]),O.mean<=s&&u.push(_[$]),_[$].segment_score=E[L]}),d.push(E[L]),p.push(C[L]),w.push(T[L]))})}let g=parseInt(1e3*(1-a));g==0&&(g=1);let m=lo.linspace(a,1,g),b={},y={};for(let v=10;v>-1;v--)for(let _=0;_<v/2+1;_++){let k=v-_,E=m.map((C,B)=>1-C+C*v/2),T=v/2,M,N;v>0?(M=.5-_/(_+k),N=m.map((C,B)=>.5-(1-C+C*_)/(2-2*C+(_+k)*C))):(M=0,N=m.map((C,B)=>0*C));for(let C=0;C<d.length;C++){let B=l3(T*this.globalMean,1,d[C],p[C])*h3(w[C],.5+M);C in y?y[C].push([v,_,k,B,1]):y[C]=[v,_,k,B,1];let I=0,H=0,L=0;E.forEach((O,$)=>{if(!isNaN(N[$])){let Q=l3(O*this.globalMean,1,d[C],p[C])*h3(w[C],.5+N[$]);I+=Q,Q>H&&(H=Q,L=m[$])}}),C in b?b[C].push([v,_,k,I/m.length,L]):b[C]=[v,_,k,I/m.length,L]}for(let C=0;C<d.length;C++)if(i=="germline")b[C].sort((B,I)=>B[3]-I[3]);else if(b[C].sort((B,I)=>B[3]-I[3]),i=="both"&&(y[C].sort((B,I)=>B[3]-I[3]),y[C][0][3]>b[C][0][3])){let B=b[C].filter(I=>I[0]!=y[C][0][0]&&I[1]<=y[C][0][1]);b[C]=[y[C][0]].push(...B)}for(let C=0;C<d.length;C++)b[C][0][0]>2,b[C][0][0]<2,d[C]/this.globalMean,Tw.t_test_1_sample(this.globalMean,d[C],p[C],F[C])}var A=this.formatDataStructure(this.wigFeatures,"binScore",this.globalMean),x=this.formatDataStructure(this.wigFeatures,"segment_score",this.globalMean);return{binScore:A,segment_score:x}}formatDataStructure(e,t,i=1){const r=[];for(const[s,o]of Object.entries(e))o.forEach(a=>{var l={...a};i!=1&&(l.value=a[t]/i*2),r.push(l)});return r}formatDataStructure_BAF(e,t=-1){const i=[],r=[];for(const[s,o]of Object.entries(this.wigFeatures))o.forEach(a=>{var l={...a},c={...a};let h=a[e];h!=.5&&(c.value=t*(1-h),r.push(c)),l.value=t*h,i.push(l)});return[i,r]}}function a3(n){return n.reduce(function(e,t){return e>t?e:t})}function l3(n,e,t,i){return e*Math.exp(-1*(n-t)**2/(2*i**2))/Math.sqrt(2*Math.PI)/i}function cc(n,e,t,i){return Math.exp(-1*(n-t)**2/(e**2+i**2))}function hc(n,e){let t;try{t=n.reduce((i,r,s)=>i+Math.min(r,e[s]))}catch{return console.log("Failed to find likelihood overlap: ",n,e),0}return t}function c3(n,e,t,i){return e==0&&i==0?{nl:.5*(n+t),ne:0}:{nl:(n*i*i+t*e*e)/(e*e+i*i),ne:Math.sqrt(e*e*i*i/(e*e+i*i))}}function h3(n,e){let t=parseInt(e*(n.length-1)),i=e*(n.length-1)-t;return t<n.length-1?n[t]*(1-i)+n[t+1]*i:n[t]}function KV(n){const e=n.length,t=Math.max(...n);let i=n.indexOf(t);i>Math.floor(e/2)&&(i=e-1-i);const r=(e/2-i)/(e+1),s=Math.floor((e/2+i)/2),o=e-1-s;let a=n.slice(s,o+1).reduce((l,c)=>l+c,0)/n.reduce((l,c)=>l+c,0);return i===Math.floor(e/2)&&(a=1),{mean:r,p:a}}var YV={CombinedCaller:WV};const Xu=2871e6;function u3(n){for(var e=1,t=1,i=n*1,r=1;r<50;r++)e*=r,t*=-1,i+=t*Math.pow(n,2*r+1)/(e*(2*r+1));return 2*i/Math.sqrt(3.14159265358979)}function uc(n,e,t,i,r){var s=new Kn(t.slice(i,r));s.std==0&&(e>0?s.std=e*s.mean/n:s.std=1);var o=F2(n,s.mean,s.std,r-i)/(r-i);return o}function XV(n,e,t,i,r){var s=new Kn(t.slice(i,r));if(s.mean<n){var o=(s.max-s.mean)/(e*Math.sqrt(2));return Math.pow(.5*(1+u3(o)),r-i)}var o=(s.min-s.mean)/(e*Math.sqrt(2));return Math.pow(.5*(1-u3(o)),r-i)}function f3(n,e,t,i,r,s,o=1e3){for(var a=uc(n,e,t,i,r),l=0,c=!1;a>s&!c&l<o;){c=!0,l+=1;var[h,u,f,d]=[1e10,1e10,1e10,1e10];if(i>0&&(h=uc(n,e,t,i-1,r)),r-i>2)var u=uc(n,e,t,i+1,r),f=uc(n,e,t,i,r-1);if(r<t.length)var d=uc(n,e,t,i,r+1);Math.min[d]<a&&(c=!1,h==Math.min[d]&&(i-=1,a=h),elif(u==Math.min[d]),i+=1,a=u,elif(f==Math.min[d]),r-=1,a=f,elif(d==Math.min[d]),r+=1,a=d)}return a<=s?r:0}class Kn{constructor(e){this.data=e,this.mean=e.reduce((t,i)=>t+i)/e.length,this.std=Math.sqrt(e.reduce((t,i)=>(i-this.mean)**2)/e.length)}}function F2(n,e,t,i){t==0&&(t=1);var r=(n-e)/t*Math.sqrt(i),s=1-Tw.TdistributionCDF(Math.abs(r),i-1);return s}function Zu(n,e,t,i,r,s){e==0&&(e=1),r==0&&(r=1);var o=(n-i)/Math.sqrt(e**2/t+r**2/s),a=(e**2/t+r**2/s)**2*(t-1)*(s-1)/(e**4*(s-1)/t**2+r**4*(t-1)/s**2),l=1-Tw.TdistributionCDF(Math.abs(o),parseInt(a+.5));return l}class ZV{constructor(e,t,i){this.rd=e,this.mean=t,this.std=i,this.bin_bands=[2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128]}get_rd_signal_bandwidth(e){var t=[];return e.forEach((i,r)=>{var s=0;i>this.mean/4?s=this.mean/(this.std**2*i):s=4/this.std**2,t.push(s)}),t}meanShiftCaller(e,t=3){var i={};return Object.entries(this.rd).forEach(([r,s])=>{var o=new Array(s.length).fill(!1),a=new Array(s.length);for(let l=0;l<s.length;l++)o[l]||(a[l]=s[l]);this.bin_bands.forEach((l,c)=>{var h=o.map((G,ne)=>!G),u=[];Object.entries(s).forEach(([G,ne])=>{u.push(ne.binScore)});var f=[0],d=0;for(let G=0;G<o.length;G++)o[G]?d>0&&(f.push(f[f.length-1]+d-1),d=0):d+=1;f.shift();for(let G=0;G<t;G++){var p=this.get_rd_signal_bandwidth(u),w=new Array(u.length).fill(0);for(let J=0;J<u.length;J++)for(let Z=J-3*l;Z<=J+3*l+1;Z++)if(!(Z<0||Z>=u.length)&&!(Math.abs(J-Z)>=u.length)){var F=(Z-J)*Math.exp(-.5*(Z-J)**2/l**2)*Math.exp(-.5*(u[J]-u[Z])**2*p[J]);w[J]+=F}for(var x=new Array,g=0;g<w.length-1;g++)w[g]<0&w[g+1]>=0&&x.push(g);x.push(w.length-1),x=x.concat(f).sort((J,Z)=>J-Z),x=Array.from(new Set(x));for(var m=0,g=0;g<x.length;g++){var b=u.slice(m,x[g]+1),y=b.reduce((Z,ye)=>Z+ye)/b.length;u.fill(y,m,x[g]+1),m=x[g]+1}}for(var g=0,A=0;g<a.length;g++)h[g]&&(a[g]=u[A],A++);for(var x=new Array,g=0;g<a.length-1;g++){var v=Math.abs(a[g+1]-a[g]);v>.01&&x.push(g+1)}x.unshift(0),x.push(a.length),o=new Array(this.rd.length).fill(!1);for(var g=1;g<x.length;g++){var _=[x[g-1],x[g]],k=[x[g-1],x[g-1]];if(g>1)k[0]=x[g-2];else continue;var E=[x[g],x[g]];if(g<x.length-1)E[1]=x[g+1];else continue;var T=_[1]-_[0],M=k[1]-k[0],N=E[1]-E[0];if(T<=1)continue;var C=new Kn(a.slice(_[0],_[1]));if(N<=15||M<=15||T<=15){var B=1.8*Math.sqrt(a[k[0]]/this.mean)*this.std;if(Math.abs(a[k[0]]-a[_[0]])<B||(B=1.8*Math.sqrt(a[E[0]]/this.mean)*this.std,Math.abs(a[E[0]]-a[_[0]])<B))continue}else{var I=a.slice(k[0],k[1]),H=new Kn(I),L=a.slice(E[0],E[1]),O=new Kn(L),$=Zu(C.mean,C.std,C.data.length,H.mean,H.std,H.data.length);if($>.01/Xu*bin_size*(T+M))continue;var Q=Zu(C.mean,C.std,C.data.length,O.mean,O.std,O.data.length);if(Q>.01/Xu*bin_size*(T+N))continue}var te=F2(this.mean,C.mean,C.std,C.data.length);if(te>.05)continue;let ne=u.slice(_[0],_[1]);var U=new Kn(ne);o.fill(!0,_[0],_[1]),a.fill(U.mean,_[0],_[1])}}),i[r]=a}),i}call_mean_shift(e=3){for(var i=new Array(this.rd.length).fill(!1),r=new Array(this.rd.length),s=0;s<this.rd.length;s++)i[s]||(r[s]=this.rd[s]);return this.bin_bands.forEach((o,a)=>{var l=i.map((U,G)=>!U),c=[];l.forEach((U,G)=>{U&&c.push(this.rd[G])});for(var h=[0],u=0,f=0;f<i.length;f++)i[f]?u>0&&(h.push(h[h.length-1]+u-1),u=0):u+=1;h.shift();for(var d=0;d<e;d++){for(var p=this.get_rd_signal_bandwidth(c),w=new Array(c.length).fill(0),f=0;f<c.length;f++)for(var F=f-3*o;F<=f+3*o+1;F++)if(!(F<0||F>=c.length)&&!(Math.abs(f-F)>=c.length)){var g=(F-f)*Math.exp(-.5*(F-f)**2/o**2)*Math.exp(-.5*(c[f]-c[F])**2*p[f]);w[f]+=g}for(var A=new Array,f=0;f<w.length-1;f++)w[f]<0&w[f+1]>=0&&A.push(f);A.push(w.length-1),A=A.concat(h).sort((G,ne)=>G-ne),A=Array.from(new Set(A));for(var m=0,f=0;f<A.length;f++){var b=c.slice(m,A[f]+1),y=b.reduce((ne,J)=>ne+J)/b.length;c.fill(y,m,A[f]+1),m=A[f]+1}}for(var f=0,F=0;f<r.length;f++)l[f]&&(r[f]=c[F],F++);for(var A=new Array,f=0;f<r.length-1;f++){var x=Math.abs(r[f+1]-r[f]);x>.01&&A.push(f+1)}A.unshift(0),A.push(r.length),i=new Array(this.rd.length).fill(!1);for(var f=1;f<A.length;f++){var v=[A[f-1],A[f]],_=[A[f-1],A[f-1]];if(f>1)_[0]=A[f-2];else continue;var k=[A[f],A[f]];if(f<A.length-1)k[1]=A[f+1];else continue;var E=v[1]-v[0],T=_[1]-_[0],M=k[1]-k[0];if(!(E<=1)){var N=new Kn(r.slice(v[0],v[1]));if(M<=15||T<=15||E<=15){var C=1.8*Math.sqrt(r[_[0]]/this.mean)*this.std;if(Math.abs(r[_[0]]-r[v[0]])<C||(C=1.8*Math.sqrt(r[k[0]]/this.mean)*this.std,Math.abs(r[k[0]]-r[v[0]])<C))continue}else{var B=r.slice(_[0],_[1]),I=new Kn(B),H=r.slice(k[0],k[1]),L=new Kn(H),O=Zu(N.mean,N.std,N.data.length,I.mean,I.std,I.data.length);if(O>.01/Xu*1e3*(E+T))continue;var $=Zu(N.mean,N.std,N.data.length,L.mean,L.std,L.data.length);if($>.01/Xu*1e3*(E+M))continue}var Q=F2(this.mean,N.mean,N.std,N.data.length);if(!(Q>.05)){var te=new Kn(this.rd.slice(v[0],v[1]));i.fill(!0,v[0],v[1]),r.fill(te.mean,v[0],v[1])}}}}),r}cnv_calling(e=1e5){var t=.25*this.mean,i=this.mean-t,r=this.mean+t,s=2971e6,o=this.meanShiftCaller(e),a={},l=[];return Object.entries(o).forEach(([c,h])=>{for(var u=!1;!u;){u=!0;var f=new Array(1).fill(0);for(let C=0;C<h.length-1;C++){var d=Math.abs(h[C+1]-h[C]);d>.01&&f.push(C+1)}f.push(h.length);for(let C=0;C<f.length-2;C++){var p=Math.abs(h[f[C]]-h[f[C+1]]);if(p<t){var w=p+1,F=p+1;if(C>0&&(w=Math.abs(h[f[C]]-h[f[C-1]])),C<f.length-3&&(F=Math.abs(o[f[C+1]]-h[f[C+2]])),p<w&&p<F){u=!1;var g=new Kn(h.slice(f[C],f[C+2]));h.fill(g.mean,f[C],f[C+2]),f.splice(C+1,C+1)}}}}var m=[];Object.entries(this.rd[c]).forEach(([C,B])=>{m.push(B.binScore)});for(var b=new Array(h.length).fill(""),y=0,A=.05*e/s;y<h.length;){for(var x=y,v=y;y<h.length&h[y]<i;)y+=1;var _=y;if(_>v+1){var k=f3(this.mean,this.std,m,v,_,A);if(k){var v,_=k;b.fill("D",v,_)}}for(v=y;y<h.length&h[y]>r;)y+=1;_=y,_>v+1&&(k=f3(this.mean,this.std,m,v,_,A),k&&(_=k,b.fill("A",v,_))),y==x&&(y+=1)}for(y=0;y<h.length;){for(;y<h.length&b[y]!="";)y+=1;for(v=y;y<h.length&h[y]<i;)y+=1;_=y,_>v+1&&(XV(this.mean,this.std,m,v,_)<.05/s&&b.fill(["d"]*(_-v),v,_),y-=1),y+=1}y=0;var E;y<h.length&&(E=b[y]),v=0;for(var T=[...m];y<h.length;){for(;b[y]==E&&(y+=1,!(y>=b.length)););if(y>v){var M=new Kn(T.slice(v,y));T.fill(M.mean,v,y)}y<h.length&&(E=b[y]),v=y}for(a[c]=T,y=0;y<h.length;){if(E=b[y],E==""){y+=1;continue}for(v=y;y<h.length&E==b[y];)y+=1;var N=new Kn(T.slice(v,y));let C=N.mean/this.mean,B;E=="D"?B="deletion":B="duplication";let I={chr:c,start:e*v+1,end:e*y,size:e*(y-v+1),value:C*2,event_type:B};l.push(I)}}),[a,l]}}var JV={Partition:ZV};class eq{constructor(e,t){this.allVariants=e,this.rowBinSize=1e4,this.binSize=t,this.binFactor=parseInt(t/this.rowBinSize)}async read_rd_baf(e="ReadDepth"){var t={};for(let a=this.allVariants.length-1;a>=0;a--){var i;let l=this.allVariants[a];this.allVariants.splice(a,1);let c=l.chr;i=Math.max(Math.floor(l.start/this.rowBinSize),0),t[c]||(t[c]=[]),t[c][i]||(t[c][i]={chr:c,start:i*this.rowBinSize,end:(i+1)*this.rowBinSize,dp_sum_score:0,dp_count:0,hets_count:0,hets:[]});const h=Object.values(l.calls);if(h.length!==1)throw Error(`Unexpected number of genotypes: ${h.length}.  CNVPytor expects 1 and only 1 genotype`);const u=h[0],f=u.info.DP;f&&(t[c][i].dp_sum_score+=Number.parseInt(f),t[c][i].dp_count++);let d=u.info.AD.split(","),p=u.genotype;if(p[0]==0&&p[1]==1||p[0]==1&&p[1]==0){t[c][i].hets_count++;let w=parseInt(d[0]),F=parseInt(d[1]);t[c][i].hets.push({ref:w,alt:F})}}this.chromosomes=Object.keys(t);var r=this.adjust_bin_size(t),s;if(e=="ReadDepth"){s=new tq(r,this.binSize).ReadDepth_caller();var o=this.formatDataStructure_BAF(r,"max_likelihood")}else if(e=="2D"){let a=new YV.CombinedCaller(r,this.binSize),l=await a.call_2d();s=[l.binScore,[],l.segment_score];var o=a.formatDataStructure_BAF("max_likelihood",-1)}return[s,o]}formatDataStructure(e,t,i=1){const r=[];for(const[o,a]of Object.entries(e))for(let l of a){var s={...l};i!=1&&(s.value=l[t]/i*2),r.push(s)}return r}format_BAF_likelihood(e){const t=[];for(const[r,s]of Object.entries(e))for(let o of s){var i={...o};o.value!=.5&&(i.value=1-o.value,t.push(i))}return t}get_max_min_score(e){if(e.likelihood_score.length>0){const t=Math.max(...e.likelihood_score),i=e.likelihood_score.indexOf(t);e.value=Math.max(i/100,1-i/100),e.min_score=Math.min(i/100,1-i/100)}else e.score=0;return e}async getAllbins(){const e=await this.computeDepthFeatures();return new lo.GetFit(e).fit_data(),e}formatDataStructure_BAF(e,t,i=-1){const r=[],s=[];for(const[l,c]of Object.entries(e))for(let h of c){var o={...h},a={...h};let u=h[t];u!=.5&&(a.value=i*(1-u),s.push(a)),o.value=i*u,r.push(o)}return[r,s]}adjust_bin_size(e){var t={};for(let s of this.chromosomes){t[s]||(t[s]=[]);for(let o=0;o<e[s].length/this.binFactor;o++){const a=o;t[s][o]||(t[s][o]={chr:s,start:a*this.binSize,end:(a+1)*this.binSize,dp_count:0,hets_count:0,binScore:0,likelihood_score:[],dp_sum_score:0});for(var i=o*this.binFactor;i<this.binFactor*o+this.binFactor;i++)if(e[s][i]&&(t[s][o].dp_sum_score+=e[s][i].dp_sum_score,t[s][o].dp_count+=e[s][i].dp_count,t[s][o].hets_count+=e[s][i].hets_count,e[s][i].hets.length!=0))for(let c of e[s][i].hets)if(t[s][o].likelihood_score.length==0)t[s][o].likelihood_score=lo.linspace(0,1,100).map((h,u)=>d3(c.ref,c.alt,h));else{var r=0;t[s][o].likelihood_score=lo.linspace(0,1,100).map((h,u)=>{var f=t[s][o].likelihood_score[u]*d3(c.ref,c.alt,h);return r+=f,f}),t[s][o].likelihood_score=lo.linspace(0,1,100).map((h,u)=>t[s][o].likelihood_score[u]/r)}t[s][o].binScore=parseInt(t[s][o].dp_sum_score/t[s][o].dp_count)*100;const l=this.get_max_min_score(t[s][o]);t[s][o].max_likelihood=l.value}}return t}}function d3(n,e,t,i=!0){return Math.pow(t,n)*Math.pow(1-t,e)+Math.pow(t,e)*Math.pow(1-t,n)}class tq{constructor(e,t){this.wigFeatures=e,this.binSize=t}ReadDepth_caller(){var e=new lo.GetFit(this.wigFeatures),[t,i]=e.fit_data(),r=new JV.Partition(this.wigFeatures,t,i),s=r.meanShiftCaller(this.binSize),o=r.cnv_calling();Object.entries(this.wigFeatures).forEach(([h,u])=>{u.forEach((f,d)=>{f.partition_level=parseInt(s[h][d]),f.partition_call=parseInt(o[0][h][d])})});var a=this.formatDataStructure("binScore",t),l=this.formatDataStructure("partition_level",t),c=this.formatDataStructure("partition_call",t);return[a,l,c,o[1]]}formatDataStructure(e,t=1){const i=[];for(const[s,o]of Object.entries(this.wigFeatures))for(let a of o){var r={...a};t!=1&&(r.value=a[e]/t*2),i.push(r)}return i}}const Qd=class Qd extends Bt{constructor(e,t){super(e,t)}init(e){this.featureType="numeric",this.type="cnvpytor",e.max||(this.defaultScale=!0,this.autoscale=!1),e.height||(e.height=Qd.DEFAULT_TRACK_HEIGHT),this.type="cnvpytor",this.graphType=e.graphType||"points",this.bin_size=e.bin_size||1e5,this.signal_name=e.signal_name||"rd_snp",this.cnv_caller=e.cnv_caller||"2D",this.colors=e.colors||["gray","black","green","blue"],super.init(e)}get supportsWholeGenome(){return!0}get_signals(){let e=[];return this.signal_name=="rd_snp"?e=["RD_Raw","RD_Raw_gc_coor",this.cnv_caller,"BAF1","BAF2"]:this.signal_name=="rd"?e=["RD_Raw","RD_Raw_gc_coor",this.cnv_caller]:this.signal_name=="snp"?e=["BAF1","BAF2"]:this.signal_name=="cnh"&&(e=[this.cnv_caller]),e}get_signal_colors(){return[{singal_name:"RD_Raw",color:this.colors[0]},{singal_name:"RD_Raw_gc_coor",color:this.colors[1]},{singal_name:"ReadDepth",color:this.colors[2]},{singal_name:"2D",color:this.colors[2]},{singal_name:"BAF1",color:this.colors[3]},{singal_name:"BAF2",color:this.colors[3]}]}async postInit(){if(this.config.format=="vcf"){let t;this.featureSource?t=Object.values(this.featureSource.getAllFeatures()).flat():(this.featureSource=this.featureSource||$n(this.config,this.browser.genome),this.header=await this.getHeader(),t=this.featureSource.reader.features);const i=new eq(t,this.bin_size);let r,s;this.wigFeatures_obj={},this.wigFeatures_obj[this.bin_size]={};let o;this.cnv_caller=="2D"?(o=await i.read_rd_baf("2D"),r=o[0],s=o[1],this.wigFeatures_obj[this.bin_size]["2D"]=r[2],this.available_callers=["2D"]):(o=await i.read_rd_baf(),r=o[0],s=o[1],this.wigFeatures_obj[this.bin_size].ReadDepth=r[2],this.available_callers=["ReadDepth"]),this.wigFeatures_obj[this.bin_size].RD_Raw=r[0],this.wigFeatures_obj[this.bin_size].RD_Raw_gc_coor=r[1],this.wigFeatures_obj[this.bin_size].BAF1=s[0],this.wigFeatures_obj[this.bin_size].BAF2=s[1],this.available_bins=[this.bin_size],this.set_available_callers()}else this.cnvpytor_obj=new HV(this.config.url,this.bin_size),this.wigFeatures_obj=await this.cnvpytor_obj.get_rd_signal(this.bin_size),this.available_bins=this.cnvpytor_obj.available_bins,this.available_callers=this.cnvpytor_obj.callers,this.set_available_callers();this.tracks=[];const e=[];this.signals=this.get_signals(),this.signal_colors=this.get_signal_colors();for(let t in this.wigFeatures_obj)for(const[i,r]of Object.entries(this.wigFeatures_obj[t]))if(this.signals.includes(i)){let s={};s.type="wig",s.features=r,s.name=i,s.color=this.signal_colors.filter(a=>a.singal_name===i).map(a=>a.color);const o=await this.browser.createTrack(s);o?(o.isMergedTrack=!0,o.autoscale=!1,this.tracks.push(o)):console.warn("Could not create track "+s),typeof o.postInit=="function"&&e.push(o.postInit())}this.flipAxis=this.config.flipAxis?this.config.flipAxis:!1,this.logScale=this.config.logScale?this.config.logScale:!1,this.autoscale=this.config.autoscale,this.autoscale||(this.dataRange={min:this.config.min||0,max:this.config.max});for(let t of this.tracks)t.autoscale=!1,t.dataRange=this.dataRange;return Promise.all(e)}set_available_callers(){this.available_callers.includes(this.cnv_caller)||(this.available_callers.length>0?this.cnv_caller=this.available_callers[0]:this.cnv_caller=null)}async getHeader(){if(!this.header){if(typeof this.featureSource.getHeader=="function"){const e=await this.featureSource.getHeader();e&&(this.callSets=e.callSets||[]),this.header=e}this.sampleKeys=this.callSets?this.callSets.map(e=>e.sample):[],this.sampleNames=this.sampleKeys}return this.header}get height(){return this._height}set height(e){if(this._height=e,this.tracks)for(let t of this.tracks)t.height=e,t.config.height=e}menuItemList(){let e=[];this.flipAxis!==void 0&&e.push({label:"Flip y-axis",click:function(){this.flipAxis=!this.flipAxis,this.trackView.repaintViews()}}),e=e.concat(this.numericDataMenuItems()),e.push("<hr/>"),e.push("Bin Sizes");for(let i of this.available_bins){const r=Ct(i,i===this.bin_size);e.push({object:ke(r),click:async function(){this.bin_size=i,this.trackView.startSpinner(),await this.recreate_tracks(i),this.clearCachedFeatures(),this.trackView.updateViews(),this.trackView.repaintViews()}})}e.push("<hr/>"),e.push("Signal Type");let t={rd_snp:"RD and BAF Likelihood",rd:"RD Signal",snp:"BAF Likelihood"};for(let i in t){const r=Ct(t[i],i===this.signal_name);e.push({object:ke(r),click:async function(){this.signal_name=i,await this.recreate_tracks(this.bin_size),this.clearCachedFeatures(),this.trackView.updateViews(),this.trackView.repaintViews()}})}e.push("<hr/>"),e.push("CNV caller");for(let i of this.available_callers){const r=Ct(i,i===this.cnv_caller);e.push({object:ke(r),click:async function(){this.cnv_caller=i,this.trackView.startSpinner(),await this.recreate_tracks(this.bin_size),this.clearCachedFeatures(),this.trackView.updateViews(),this.trackView.repaintViews()}})}if(this.variantState){e.push("<hr/>");for(let i of this.available_callers)e.push({label:"Convert to variant track",click:()=>{this.convertToVariant()}})}return e}async recreate_tracks(e){this.tracks=[];const t=[];e in this.wigFeatures_obj||(this.wigFeatures_obj={...this.wigFeatures_obj,...await this.cnvpytor_obj.get_rd_signal(e)}),this.signals=this.get_signals(),this.signal_colors=this.get_signal_colors();for(const[i,r]of Object.entries(this.wigFeatures_obj[e]))if(this.signals.includes(i)){let s={};s.type="wig",s.features=r,s.name=i,s.color=this.signal_colors.filter(a=>a.singal_name===i).map(a=>a.color);const o=await this.browser.createTrack(s);o?(o.isMergedTrack=!0,o.autoscale=!1,this.tracks.push(o)):console.warn("Could not create track "+s),typeof o.postInit=="function"&&t.push(o.postInit())}this.flipAxis=this.config.flipAxis?this.config.flipAxis:!1,this.logScale=this.config.logScale?this.config.logScale:!1,this.autoscale=this.config.autoscale,this.autoscale||(this.dataRange={min:this.config.min||0,max:this.config.max});for(let i of this.tracks)i.autoscale=!1,i.dataRange=this.dataRange;return Promise.all(t)}async getFeatures(e,t,i,r){if(this.tracks){const s=this.tracks.map(o=>o.getFeatures(e,t,i,r));return Promise.all(s)}else return}getScaleFactor(e,t,i,r){return r?i/(Math.log10(t+1)-(e<=0?0:Math.log10(e+1))):i/(t-e)}computeYPixelValue(e,t){return(this.flipAxis?e-this.dataRange.min:this.dataRange.max-e)*t}computeYPixelValueInLogScale(e,t){let i=this.dataRange.max,r=this.dataRange.min;return i<=0?0:(r<=-1&&(r=0),r=r<=0?0:Math.log10(r+1),i=Math.log10(i+1),e=Math.log10(e+1),(this.flipAxis?e-r:i-e)*t)}draw(e){const t=e.features;if(!t)return;if(this.defaultScale&&(this.signal_name=="rd_snp"?this.dataRange={min:this.config.min||this.dataRange.min||-1,max:this.config.max||this.dataRange.max||5}:this.signal_name=="rd"?this.dataRange={min:this.config.min||this.dataRange.min||0,max:this.config.max||this.dataRange.max||5}:this.signal_name=="snp"&&(this.dataRange={min:this.config.min||this.dataRange.min||-1,max:this.config.max||this.dataRange.max||0})),this.autoscale&&(this.dataRange=nq(e.referenceFrame.chr,t)),this.tracks)for(let a=0,l=this.tracks.length;a<l;a++){const c=Object.assign({},e);c.features=t[a],this.tracks[a].dataRange=this.dataRange,this.tracks[a].flipAxis=this.flipAxis,this.tracks[a].logScale=this.logScale,this.graphType&&(this.tracks[a].graphType=this.graphType),this.tracks[a].draw(c)}const i=this.getScaleFactor(this.dataRange.min,this.dataRange.max,e.pixelHeight,this.logScale),r=a=>this.logScale?this.computeYPixelValueInLogScale(a,i):this.computeYPixelValue(a,i);if(this.config.hasOwnProperty("guideLines")){for(let a of this.config.guideLines)if(a.hasOwnProperty("color")&&a.hasOwnProperty("y")&&a.hasOwnProperty("dotted")){let l=r(a.y),c={strokeStyle:a.color,strokeWidth:1};a.dotted?pe.dashedLine(e.context,0,l,e.pixelWidth,l,5,c):pe.strokeLine(e.context,0,l,e.pixelWidth,l,c)}}let s={strokeStyle:"lightgray",strokeWidth:.5},o=r(2);pe.dashedLine(e.context,0,o,e.pixelWidth,o,5,s)}paintAxis(e,t,i){var r,s,o,a,l,c,h,u,f={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};if(this.dataRange===void 0||this.dataRange.max===void 0||this.dataRange.min===void 0)return;let d=this.flipAxis===void 0?!1:this.flipAxis;pe.fillRect(e,0,0,t,i,{fillStyle:"rgb(255, 255, 255)"}),h=.95*t,r=h-8,s=h,u=.01,o=a=u*i,l={x:s,y:o},pe.strokeLine(e,r,o,s,a,f),pe.fillText(e,p(d?this.dataRange.min:this.dataRange.max),r+4,o+12,f),o=a=(1-u)*i,c={x:s,y:o},pe.strokeLine(e,r,o,s,a,f),pe.fillText(e,p(d?this.dataRange.max:this.dataRange.min),r+4,o-4,f),pe.strokeLine(e,l.x,l.y,c.x,c.y,f);function p(m){return m<0?Math.abs(m):m===0?"0":Math.abs(m)>=10||m%1==0?m.toFixed():Math.abs(m)>=1?m.toFixed(1):m.toFixed(2)}const w=this.getScaleFactor(this.dataRange.min,this.dataRange.max,i,this.logScale),F=m=>this.logScale?this.computeYPixelValueInLogScale(m,w):this.computeYPixelValue(m,w),g=Math.ceil((this.dataRange.max-this.dataRange.min)/10);for(let m=Math.ceil(this.dataRange.min+1);m<Math.round(this.dataRange.max-.4);m+=g){const b=F(m);pe.strokeLine(e,45,b,50,b,f),pe.fillText(e,p(d?this.dataRange.max-m:m),44,b+4,f)}}popupData(e,t){const i=t||e.viewport.cachedFeatures;if(i&&i.length===this.tracks.length){const r=[];for(let s=0;s<this.tracks.length;s++){s>0&&r.push("<hr/>"),r.push(`<div style=background-color:rgb(245,245,245);border-bottom-style:dashed;border-bottom-width:1px;padding-bottom:5px;padding-top:10px;font-weight:bold;font-size:larger >${this.tracks[s].name}</div>`);const o=this.tracks[s].popupData(e,i[s]);r.push(...o)}return r}}async convertToVariant(){this.variantState&&(Object.setPrototypeOf(this,Rw.prototype),this.init(this.variantState),await this.postInit(),this.trackView.clearCachedFeatures(),this.variantState.trackHeight&&this.trackView.setTrackHeight(this.variantState.trackHeight),this.trackView.checkContentHeight(),this.trackView.updateViews(),delete this.variantState)}};Re(Qd,"DEFAULT_TRACK_HEIGHT",250);let kh=Qd;function nq(n,e){let t=0,i=-Number.MAX_VALUE;for(let r of e)for(let s of r)typeof s.value<"u"&&!Number.isNaN(s.value)&&(t=Math.min(t,s.value),i=Math.max(i,s.value));return{min:t,max:i}}const iq=St,rq="rgb(0,0,150)",sq=1e6,aa=10;class Rw extends Bt{constructor(t,i){super(t,i);Re(this,"_sortDirections",new Map)}init(t){if(super.init(t),t.variantHeight&&(this.expandedVariantHeight=t.variantHeight),this.featureSource=$n(t,this.browser.genome),this.colorTables=new Map,t.colorTable){const i=t.colorBy||"*";this.colorTables.set(i,new To(t.colorTable))}if(this.strokecolor=t.strokecolor,this._context_hook=t.context_hook,t.color&&(this.colorBy=void 0),this.nVariantRows=1,t.samples)for(let i of t.samples)this.sampleKeys=t.samples;t.sort&&(this.initialSort=t.sort),this._colorByItems=new Map([["none","None"]])}async postInit(){if(this.header=await this.getHeader(),this.header.INFO){const t=new Set(Object.keys(this.header.INFO));this.config.colorBy?this.colorBy=this.config.colorBy:!this.config.color&&t.has("AF")&&(this.colorBy="AF"),t.has("AF")&&this._colorByItems.set("AF","Allele frequency"),t.has("VT")&&this._colorByItems.set("VT","Variant Type"),t.has("SVTYPE")&&this._colorByItems.set("SVTYPE","SV Type")}if(this.config.colorBy&&!this._colorByItems.has(this.config.colorBy)&&this._colorByItems.set(this.config.colorBy,this.config.colorBy),!this.disposed){if(this.header&&!this.sampleKeys&&(this.sampleKeys=this.header.sampleNameMap?Array.from(this.header.sampleNameMap.keys()):[]),this.visibilityWindow===void 0&&this.config.indexed!==!1){const t=Rs(this.config.url)?this.config.url.name:this.config.url;iq(t)&&t.toLowerCase().includes("gnomad")?this.visibilityWindow=1e3:typeof this.featureSource.defaultVisibilityWindow=="function"?this.visibilityWindow=await this.featureSource.defaultVisibilityWindow():this.visibilityWindow=sq}return this}}get supportsWholeGenome(){return!this.config.indexURL||this.config.supportsWholeGenome===!0}get color(){return this._color||rq}set color(t){this._color=t,t&&(this.colorBy=void 0)}async getHeader(){return this.header||typeof this.featureSource.getHeader=="function"&&(this.header=await this.featureSource.getHeader()),this.header}getSampleCount(){return this.sampleKeys?this.sampleKeys.length:0}async getFeatures(t,i,r,s){this.header===void 0&&(this.header=await this.getHeader());const o=await this.featureSource.getFeatures({chr:t,start:i,end:r,bpPerPixel:s,visibilityWindow:this.visibilityWindow});if(this.initialSort){const a=this.initialSort;if(a.option===void 0||a.option.toUpperCase()==="GENOTYPE")this.sortSamplesByGenotype(a,o);else if(a.option.toUpperCase()==="ATTRIBUTE"&&a.attribute){const l=a.direction==="ASC"?1:-1;this.sortByAttribute(a.attribute,l)}this.initialSort=void 0}return o}hasSamples(){return this.getSampleCount()>0}getSamples(){const t=this.displayMode==="SQUISHED"?this.squishedVGap:this.expandedVGap,i=this.displayMode==="COLLAPSED"?1:this.nVariantRows,r=this.displayMode==="SQUISHED"?this.squishedVariantHeight:this.expandedVariantHeight,s=this.displayMode==="SQUISHED"?this.squishedCallHeight:this.expandedCallHeight,o=i*(s+t),a=aa+i*(r+t);return{names:this.sampleKeys,yOffset:a,height:o}}computePixelHeight(t){if(!t||t.length===0)return aa;const i=this.displayMode==="COLLAPSED"?1:this.nVariantRows,r=this.displayMode==="SQUISHED"?this.squishedVGap:this.expandedVGap,s=this.displayMode==="SQUISHED"?this.squishedVariantHeight:this.expandedVariantHeight,o=this.displayMode==="SQUISHED"?this.squishedCallHeight:this.expandedCallHeight,a=this.showGenotypes===!1?0:this.getSampleCount()*i;return aa+i*(s+r)+r+(a+1)*(o+r)}variantRowCount(t){this.nVariantRows=t}draw({context:t,pixelWidth:i,pixelHeight:r,bpPerPixel:s,bpStart:o,pixelTop:a,features:l}){pe.fillRect(t,0,a,i,r,{fillStyle:"rgb(255, 255, 255)"});const c=this.displayMode==="SQUISHED"?this.squishedVGap:this.expandedVGap,h=this.displayMode==="COLLAPSED"?1:this.nVariantRows,u=this.displayMode==="SQUISHED"?this.squishedVariantHeight:this.expandedVariantHeight;this.variantBandHeight=aa+h*(u+c);let f=this.sampleColumns;const d=this.hasSamples();if(f&&d&&this.showGenotypes!==!1&&pe.strokeLine(t,0,this.variantBandHeight,i,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "}),l){const p=this.displayMode==="SQUISHED"?this.squishedCallHeight:this.expandedCallHeight,w=this.displayMode==="SQUISHED"?this.squishedVGap:this.expandedVGap,F=o+i*s+1;for(let g of l){if(g.end<o)continue;if(g.start>F)break;const m=this.displayMode==="SQUISHED"?this.squishedVariantHeight:this.expandedVariantHeight,b=aa+(this.displayMode==="COLLAPSED"?0:g.row*(m+w)),y=m;let A=(g.start-o)/s,x=(g.end-o)/s,v=Math.max(1,x-A);v<3?(v=3,A-=1):v>5&&(A+=1,v-=2);const _=g._f||g;let k;try{k=_.alleleFreq()}catch(T){console.log(T)}if(this.colorBy==="AF"&&k){const T=Math.min(1,k)*y,M=y-T;t.fillStyle=_.isFiltered()?this.refColorFiltered:this.refColor,t.fillRect(A,b,v,M),t.fillStyle=_.isFiltered()?this.altColorFiltered:this.altColor,t.fillRect(A,b+M,v,T)}else t.fillStyle=this.getColorForFeature(_),t.fillRect(A,b,v,y);let E=this.getVariantStrokecolor(_);if(E&&(t.strokeStyle=E,t.strokeRect(A,b,v,y)),this.callContextHook(_,t,A,b,v,y),d&&this.showGenotypes!==!1){const T=this.displayMode==="COLLAPSED"?1:this.nVariantRows;this.sampleYOffset=this.variantBandHeight+w,this.sampleHeight=T*(p+w);let M=0;for(let N of this.sampleKeys){const C=this.header.sampleNameMap.get(N),B=_.calls[C];if(B){const I=this.displayMode==="COLLAPSED"?0:_.row,H=this.sampleYOffset+M*this.sampleHeight+I*(p+w);let L=!0,O=!0,$=!1;if(B.genotype)for(let Q of B.genotype)if(Q==="."){$=!0;break}else Q!==0&&(O=!1),Q===0&&(L=!1);B.genotype?$?t.fillStyle=this.noCallColor:O?t.fillStyle=this.homrefColor:L?t.fillStyle=this.homvarColor:t.fillStyle=this.hetvarColor:t.fillStyle=this.noGenotypeColor,t.fillRect(A,H,v,p)}M++}}}}else console.log("No feature list")}get refColorFiltered(){return this._refColorFiltered||(this._refColorFiltered=Xe.addAlpha(this.refColor,.2)),this._refColorFiltered}get altColorFiltered(){return this._altColorFiltered||(this._altColorFiltered=Xe.addAlpha(this.altColor,.2)),this._altColorFiltered}getColorForFeature(t){const i=t._f||t;let r;if(this.colorBy&&this.colorBy!=="none"){const s=i.getAttributeValue(this.colorBy);r=s!==void 0?this.getVariantColorTable(this.colorBy).getColor(s):"gray"}else this.color?r=typeof this.color=="function"?this.color(t):this.color:i.type==="NONVARIANT"?r=this.nonRefColor:i.type==="MIXED"?r=this.mixedColor:r=this.color;return i.isFiltered()&&(r=Xe.addAlpha(r,.2)),r}getVariantStrokecolor(t){const i=t._f||t;let r;return this.strokecolor?r=typeof this.strokecolor=="function"?this.strokecolor(i):this.strokecolor:r=void 0,r}callContextHook(t,i,r,s,o,a){if(this._context_hook&&typeof this._context_hook=="function"){const l=t._f||t;i.save(),this._context_hook(l,i,r,s,o,a),i.restore()}}clickedFeatures(t){let i=super.clickedFeatures(t);const r=this.displayMode==="EXPANDED"?this.expandedVGap:this.squishedVGap,s=r+(this.displayMode==="SQUISHED"?this.squishedCallHeight:this.expandedCallHeight),o=t.y;if(o<=this.variantBandHeight){const a=this.displayMode==="SQUISHED"?this.squishedVariantHeight:this.expandedVariantHeight,l=Math.floor((o-aa)/(a+r));this.displayMode!=="COLLAPSED"&&(i=i.filter(c=>c.row===l))}else if(this.sampleKeys){const a=o-this.variantBandHeight,l=Math.floor(a/this.sampleHeight);if(l>=0&&l<this.sampleKeys.length){const c=Math.floor((a-l*this.sampleHeight)/s),h=this.displayMode==="COLLAPSED"?i:i.filter(d=>d.row===c),u=this.sampleKeys[l],f=this.header.sampleNameMap.get(u);i=h.map(d=>{const p=d.calls[f];return p.genotypeString=oq(p,d),p})}}return i}popupData(t,i){i===void 0&&(i=this.clickedFeatures(t));const r=t.genomicLocation,s=this.browser.genome.id;let o=[];for(let a of i){const l=a._f||a;if(o.length>0&&o.push({html:'<hr style="border-top-width:2px ;border-color: #c9c3ba" />'}),typeof l.popupData=="function"){const c=l.popupData(r,s);Array.prototype.push.apply(o,c)}}return o}menuItemList(){const t=[];if(this.header.INFO&&this.header.INFO){const s=this._colorByItems;t.push("<hr/>");const o=ke('<div class="igv-track-menu-category igv-track-menu-border-top">');o.text("Color by:"),t.push({name:void 0,object:o,click:void 0,init:void 0});for(let a of s.keys()){const l=this.colorBy===a;t.push(this.colorByCB({key:a,label:s.get(a)},l))}t.push(this.colorByCB({key:"info",label:"Info field..."}))}if(ex(this.browser.sampleInfo,this.sampleKeys)===!0){t.push("<hr/>"),t.push("Sort by attribute:");for(const s of this.browser.sampleInfo.attributeNames)if(this.sampleKeys.some(o=>{const a=this.browser.sampleInfo.getAttributes(o);return a&&a[s]})){let a=function(){const l=this._sortDirections.get(s)||1;this.sortByAttribute(s,l),this.config.sort={option:"ATTRIBUTE",attribute:s,direction:l>0?"ASC":"DESC"},this._sortDirections.set(s,l*-1)};var r=a;const o=ke("<div>");o.html(`&nbsp;&nbsp;${s.split(dl.emptySpaceReplacement).join(" ")}`),t.push({object:o,click:a})}}t.push("<hr/>"),this.getSampleCount()>0&&(t.push({object:ke('<div class="igv-track-menu-border-top">')}),t.push({object:ke(Ct("Show Genotypes",this.showGenotypes)),click:function(){this.showGenotypes=!this.showGenotypes,this.trackView.checkContentHeight(),this.trackView.repaintViews(),this.browser.sampleNameControl.performClickWithState(this.browser,this.showGenotypes),this.browser.sampleInfoControl.performClickWithState(this.browser,this.showGenotypes)}})),t.push({object:ke('<div class="igv-track-menu-border-top">')});for(let s of["COLLAPSED","SQUISHED","EXPANDED"]){var i={COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"};t.push({object:ke(Ct(i[s],s===this.displayMode)),click:function(){this.displayMode=s,this.trackView.checkContentHeight(),this.trackView.repaintViews()}})}return this.browser.circularView&&(t.push("<hr>"),t.push({label:"Add SVs to circular view",click:function(){for(let o of this.trackView.viewports)this.sendChordsForViewport(o)}})),this.canCovertToPytor()&&(t.push("<hr>"),t.push({label:"Convert to CNVpytor track",click:function(){this.convertToPytor()}})),t}contextMenuItemList(t){const i=[];if(this.hasSamples()&&this.showGenotypes){const r=t.viewport.referenceFrame,s=t.genomicLocation,o=r.toBP(2.5),a=this._sortDirections.get("genotype")||1;this._sortDirections.set("genotype",a*-1),i.push({label:"Sort by genotype",click:l=>{const c={direction:a,option:"genotype",chr:t.viewport.referenceFrame.chr,start:Math.floor(s-o),end:Math.ceil(s+o)},u=t.viewport.cachedFeatures;this.sortSamplesByGenotype(c,u),this.config.sort=c}}),i.push("<hr/>")}if(this.browser.circularView){const r=t.viewport;i.push({label:"Add SVs to Circular View",click:()=>{this.sendChordsForViewport(r)}}),i.push("<hr/>")}return i}async sortSamplesByGenotype({chr:t,position:i,start:r,end:s,direction:o},a){if(r===void 0&&(r=i-1),s===void 0&&(s=i),a||(a=await this.featureSource.getFeatures({chr:t,start:r,end:s})),!a)return;const l=new Map,c=o==="ASC"?1:-1;for(let h of a)if(!(h.end<r)){if(h.start>s)break;for(let u of h.calls){const f=u.sample,d=u.zygosityScore();l.set(f,l.has(f)?l.get(f)+d:d)}}this.sampleKeys.sort(function(h,u){let f=l.get(h)||0,d=l.get(u)||0;return c*(f-d)}),this.trackView.repaintViews()}sortByAttribute(t,i){this.config.sort={option:"ATTRIBUTE",attribute:t,direction:i===1?"ASC":"DESC"},this.sampleKeys=this.browser.sampleInfo.getSortedSampleKeysByAttribute(this.sampleKeys,t,i),this.trackView.repaintViews()}sendChordsForViewport(t){const i=t.referenceFrame;let r;if(i.chr==="all"){const o=this.featureSource.getAllFeatures(),a=Object.keys(o).map(l=>o[l]);r=[].concat(...a)}else r=this.featureSource.featureCache.queryFeatures(i.chr,i.start,i.end);const s=NO(r);Sd(s,this,i,.5)}colorByCB(t,i){const r=ke(Ct(t.label,i));if(t.key!=="info"){let a=function(){const l=t.key==="none"?void 0:t.key;this.colorBy=l,this.config.colorBy=l,this.trackView.repaintViews()};var s=a;return{name:void 0,object:r,click:a,init:void 0}}else{let a=function(l){this.browser.inputDialog.present({label:"Info field",value:"",callback:c=>{c?(this.colorBy=c,this._colorByItems.set(c,c)):this.colorBy=void 0,this.trackView.repaintViews()}},l)};var o=a;return{name:void 0,object:r,dialog:a,init:void 0}}}getState(){const t=super.getState();return this.color&&typeof this.color!="function"&&(t.color=this.color),t}getVariantColorTable(t){if(this.colorTables.has(t))return this.colorTables.get(t);if(this.colorTables.has("*"))return this.colorTables.get("*");{let i;switch(t){case"SVTYPE":i=aq;break;default:i=new yh("Set1")}return this.colorTables.set(t,i),i}}paintAxis(){}canCovertToPytor(){return this.config.indexURL?!1:this.header?Object.keys(this.sampleKeys).length===1&&this.header.FORMAT&&this.header.FORMAT.AD&&this.header.FORMAT.DP:!1}async convertToPytor(){this.variantState={...this.config,...this.getState()},this.variantState.trackHeight=this.height,this.trackView.startSpinner(),setTimeout(async()=>{try{const t=Object.assign({},this.config);Object.setPrototypeOf(this,kh.prototype),this.init(t),await this.postInit(),this.trackView.clearCachedFeatures(),this.trackView.setTrackHeight(this.config.height||kh.DEFAULT_TRACK_HEIGHT),this.trackView.checkContentHeight(),this.trackView.updateViews()}finally{this.trackView.stopSpinner()}},100)}}Re(Rw,"defaults",{displayMode:"EXPANDED",sortDirection:"ASC",showGenotypes:!0,expandedVariantHeight:10,squishedVariantHeight:2,squishedCallHeight:1,expandedCallHeight:10,expandedVGap:2,squishedVGap:1,expandedGroupGap:10,squishedGroupGap:5,featureHeight:14,noGenotypeColor:"rgb(200,180,180)",noCallColor:"rgb(225, 225, 225)",nonRefColor:"rgb(200, 200, 215)",mixedColor:"rgb(200, 220, 200)",homrefColor:"rgb(200, 200, 200)",homvarColor:"rgb(17,248,254)",hetvarColor:"rgb(34,12,253)",refColor:"rgb(0,0,220)",altColor:"rgb(255,0,0)",visibilityWindow:void 0,labelDisplayMode:void 0,type:"variant"});function oq(n,e){if(n.genotype){let t="";if(e.alternateBases===".")t="No Call";else{const i=e.alternateBases.split(",");for(let r of n.genotype)if(t.length>0&&(t+=" | "),r===".")t+=".";else if(r===0)t+=e.referenceBases;else{let s=i[r-1].replace("<","&lt;");t+=s}}return t}}const aq=new To({DEL:"#ff2101",INS:"#001888",DUP:"#028401",INV:"#008688",CNV:"#8931ff",BND:"#891100","*":"#002eff"}),lq={timeout:5e3,type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0};async function w8(n,e){const t=n.searchConfig||lq;let i;const r=n.tracks.filter(s=>s.searchable);for(let s of r){const o=await s.search(e);if(o)return o}if(n.config&&n.config.search!==!1)try{return i=await hq(n,e,t),i}catch(s){console.log("Search service not available "+s)}}async function cq(n,e){if(e===void 0||e.trim()==="")return;const t=e.split(" ");let i=[];const r=async s=>{if(s.trim().toLowerCase()==="all"||s==="*")return n.genome.wholeGenomeView?{chr:"all",start:0,end:n.genome.getChromosome("all").bpLength}:void 0;let o,a;if(s.includes(":")&&(o=y2(s,n.isSoftclipped()),o&&(a=await n.genome.loadChromosome(o.chr))),!a){o=void 0;const l=await w8(n,s);l&&(o={chr:l.chr,start:l.start,end:l.end,name:(l.name||s).toUpperCase()}),o||(a=await n.genome.loadChromosome(s),a&&(o={chr:a.name}))}return o&&(a=a||await n.genome.loadChromosome(o.chr),o.chr=a.name,o.start===void 0&&o.end===void 0&&(o.start=0,o.end=a.bpLength)),o};for(let s of t){const o=await r(s);o&&i.push(o)}if(i.length===0){const s=await r(e.replaceAll(" ","+"));s&&i.push(s)}return i.length===0?void 0:i}function y2(n,e=!1){const t=n.split("	");if(t.length>2)try{const s=t[0],o=parseInt(t[1].replace(/,/g,""),10)-1,a=parseInt(t[2].replace(/,/g,""),10);if(!isNaN(o)&&!isNaN(a))return{chr:s,start:o,end:a}}catch{}const i=n.split(":"),r={chr:i[0]};if(i.length>1){let s=i[1].split("-");if(s.length>2)if(i[1].startsWith("-")){const a=i[1].indexOf("-",1);if(a>0){const l=i[1].substring(0,a),c=i[1].substring(a+1);s=[l,c]}}else return;let o;if(o=s[0].replace(/,/g,""),isNaN(o))return;if(r.start=parseInt(o,10)-1,r.end=r.start+1,s.length===1&&(r.start-=20,r.end+=20),s.length===2){if(o=s[1].replace(/,/g,""),isNaN(o))return;if(r.end=parseInt(o,10),r.start<0&&!e){const a=-extent.start;r.start+=a,r.end+=a}}}return r}async function hq(n,e,t){let i=t.url.replace("$FEATURE$",e.toUpperCase());i.indexOf("$GENOME$")>-1&&(i=i.replace("$GENOME$",n.genome.id?n.genome.id:"hg19"));const r=t.timeout?{timeout:t.timeout}:void 0,s=await Be.loadString(i,r);return uq(n,s,t)}function uq(n,e,t){let i;if(t.type==="plain"?i=fq(n,e):i=JSON.parse(e),t.resultsField&&(i=i[t.resultsField]),!(!i||i.length===0)){const r=t.chromosomeField||"chromosome",s=t.startField||"start",o=t.endField||"end",a=t.coords||1;let l;Array.isArray(i)?l=i[0]:l=i,l.hasOwnProperty(r)&&l.hasOwnProperty(s)||console.error("Search service results must include chromosome and start fields: "+l);const c=l[r];let h=l[s]-a,u=l[o];u===void 0&&(u=h+1);const f={chr:c,start:h,end:u};if(l.type&&l.type,t.geneField&&t.snpField){const d=l[t.geneField]||l[t.snpField];d&&(f.name=d.toUpperCase())}return f}}function fq(n,e){const t=[],i=Qo(e);for(let r of i){const s=r.split("	");if(s.length>=3){const o=s[1].split(":"),a=o[1].split("-");t.push({chromosome:n.genome.getChromosomeName(o[0].trim()),start:parseInt(a[0].replace(/,/g,"")),end:parseInt(a[1].replace(/,/g,"")),name:s[0].toUpperCase()})}}return t}class p3 extends Bt{constructor(e,t){super(e,t)}init(e){super.init(e),this.type="qtl",this.name=e.name;const t=e.minLogP||e.min,i=e.maxLogP||e.max;this.dataRange={min:t!==void 0?t:3.5,max:i||25},i?this.autoscale=e.autoscale:this.autoscale=!0,this.autoscalePercentile=e.autoscalePercentile===void 0?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||2,this.height=e.height||100,this.disableButtons=e.disableButtons,this.featureSource=$n(e,this.browser.genome)}paintAxis(e,t,i){const r=(this.dataRange.max-this.dataRange.min)/i,s={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};pe.fillRect(e,0,0,t,i,{fillStyle:"rgb(255, 255, 255)"});const o=Math.ceil((this.dataRange.max-this.dataRange.min)*10/i);for(let a=4;a<=this.dataRange.max;a+=o){const l=.85*t,c=l-5,h=l,u=i-(a-this.dataRange.min)/r;pe.strokeLine(e,c,u,h,u,s),u>8&&pe.fillText(e,a,c-1,u+2,s)}s.textAlign="center",pe.fillText(e,"-log10(pvalue)",t/4,i/2,s,{rotate:{angle:-90}})}async getFeatures(e,t,i){const r=this.visibilityWindow;return await this.featureSource.getFeatures({chr:e,start:t,end:i,visibilityWindow:r})}draw(e){const{context:t,referenceFrame:i,pixelWidth:r,pixelHeight:s}=e;this.background&&pe.fillRect(t,0,0,r,s,{fillStyle:this.background}),pe.strokeLine(t,0,s-1,r,s-1,{strokeStyle:this.divider}),i.feature&&i.feature.match(/RS[0-9]+/);const o=a=>{const l=a?2*this.dotSize:this.dotSize,c=e.bpStart,h=(this.dataRange.max-this.dataRange.min)/s;for(let f of e.features){const d=(f.start-c+.5)/e.bpPerPixel;if(d<0)continue;if(d>r)break;const p=f.phenotype;let w;if(this.browser.qtlSelections.qtl?w=dq(this.browser.qtlSelections.qtl,f):this.browser.qtlSelections.snps.size>0?w=this.browser.qtlSelections.hasSnp(f.snp)&&this.browser.qtlSelections.hasPhenotype(p):w=this.browser.qtlSelections.hasPhenotype(p),!a||w){var u=-Math.log(f.pValue)/Math.LN10;if(u>=this.dataRange.min){let F;u>this.dataRange.max?(u=this.dataRange.max,F=!0):F=!1;const g=Math.max(0+l,s-Math.round((u-this.dataRange.min)/h));f.px=d,f.py=g,f.radius=l;let m;a&&w?(m=this.browser.qtlSelections.colorForGene(p),pe.setProperties(t,{fillStyle:m,strokeStyle:"black"})):(m=F?"rgb(150, 150, 150)":"rgb(180, 180, 180)",pe.setProperties(t,{fillStyle:m,strokeStyle:m})),pe.fillCircle(t,d,g,l),pe.strokeCircle(t,d,g,l)}}}};o(!1),o(!0)}popupData(e,t){if(t===void 0&&(t=e.viewport.cachedFeatures),!t||t.length===0)return[];const i=this.name,r=[];for(let s of this._clickedFeatures(e,t))r.length>0&&r.push("<hr/>"),typeof s.popupData=="function"?r.push(...s.popupData(e)):r.push({name:"snp id",value:s.snp},{name:"gene id",value:s.gencodeId},{name:"gene name",value:s.geneSymbol},{name:"p value",value:s.pValue},{name:"tissue",value:i});return r}_clickedFeatures(e,t){const i=(o,a)=>Math.sqrt((o.px-a.canvasX)*(o.px-a.canvasX)+(o.py-a.canvasY)*(o.py-a.canvasY)),s=t.filter(o=>i(o,e)<6);if(s.length>1){s.sort((a,l)=>i(a,e)-i(l,e));const o=i(s[0],e);return s.filter(a=>i(a,e)<=o)}else return s}contextMenuItemList(e){const t=[],i=e.viewport.cachedFeatures;if(i){const r=this._clickedFeatures(e,i);r.length>0&&(t.push({label:"Highlight associated features",click:async()=>{this.browser.qtlSelections.clear();for(let s of r)this.browser.qtlSelections.qtl=s,this.browser.qtlSelections.addPhenotype(s.phenotype);this.browser.repaintViews()}}),t.push("<hr>"))}return t}menuItemList(){const e=[];e.push(...this.numericDataMenuItems()),e.push("<hr/>");function t(i){this.browser.inputDialog.present({label:"Search for snp or phenotype",value:"",callback:async r=>{if(r){r=r.trim().toUpperCase();const s=h=>((h.phenotype&&h.phenotype.toUpperCase())===r||h.snp&&h.snp.toUpperCase()===r)&&-Math.log(h.pValue)/Math.LN10>this.dataRange.min;let o=await this.featureSource.findFeatures(s);o.length==0&&await this.browser.search(r)&&(o=await this.featureSource.findFeatures(s));let a,l,c;if(o.length>0){this.browser.qtlSelections.clear();const h=new Set;a=o[0].chr,l=o[0].start,c=o[0].end;for(let d of o)d.snp&&d.snp.toUpperCase()===r&&this.browser.qtlSelections.addSnp(d.snp),this.browser.qtlSelections.addPhenotype(d.phenotype),h.add(d.phenotype),d.chr===a&&(l=Math.min(l,d.start),c=Math.max(c,d.end));const u=this.browser.genome.getChromosomeName(a);for(let d of h){const p=await w8(this.browser,d);p&&u===this.browser.genome.getChromosomeName(p.chr)&&(l=Math.min(l,p.start),c=Math.max(c,p.end))}const f=Math.floor(.1*(c-l));l=Math.max(0,l-f),c+=f,await this.browser.search(`${a}:${l}-${c}`)}}}},i)}return e.push({label:"Search for...",dialog:t}),e}doAutoscale(e){let t=this.config.max||25;if(e.length>0){const i=e.map(s=>-Math.log(s.pValue)/Math.LN10);i.sort((s,o)=>s-o);const r=Math.floor(i.length*(this.autoscalePercentile/100));t=i[r]}return this.dataRange.max=Math.max(t,10),this.dataRange}}function dq(n,e){return n.chr===e.chr&&n.start===e.start&&n.pValue===e.pValue}const Oa={X:"rgb(204, 153, 0)",Y:"rgb(153, 204, 0)",Un:"darkGray)",1:"rgb(80, 80, 255)",2:"rgb(206, 61, 50)","2a":"rgb(210, 65, 55)","2b":"rgb(215, 70, 60)",3:"rgb(116, 155, 88)",4:"rgb(240, 230, 133)",5:"rgb(70, 105, 131)",6:"rgb(186, 99, 56)",7:"rgb(93, 177, 221)",8:"rgb(128, 34, 104)",9:"rgb(107, 215, 107)",10:"rgb(213, 149, 167)",11:"rgb(146, 72, 34)",12:"rgb(131, 123, 141)",13:"rgb(199, 81, 39)",14:"rgb(213, 143, 92)",15:"rgb(122, 101, 165)",16:"rgb(228, 175, 105)",17:"rgb(59, 27, 83)",18:"rgb(205, 222, 183)",19:"rgb(97, 42, 121)",20:"rgb(174, 31, 99)",21:"rgb(231, 199, 111)",22:"rgb(90, 101, 94)",23:"rgb(204, 153, 0)",24:"rgb(153, 204, 0)",25:"rgb(51, 204, 0)",26:"rgb(0, 204, 51)",27:"rgb(0, 204, 153)",28:"rgb(0, 153, 204)",29:"rgb(10, 71, 255)",30:"rgb(71, 117, 255)",31:"rgb(255, 194, 10)",32:"rgb(255, 209, 71)",33:"rgb(153, 0, 51)",34:"rgb(153, 26, 0)",35:"rgb(153, 102, 0)",36:"rgb(128, 153, 0)",37:"rgb(51, 153, 0)",38:"rgb(0, 153, 26)",39:"rgb(0, 153, 102)",40:"rgb(0, 128, 153)",41:"rgb(0, 51, 153)",42:"rgb(26, 0, 153)",43:"rgb(102, 0, 153)",44:"rgb(153, 0, 128)",45:"rgb(214, 0, 71)",46:"rgb(255, 20, 99)",47:"rgb(0, 214, 143)",48:"rgb(20, 255, 177)"};for(let n of Object.keys(Oa)){const e="chr"+n;Oa[e]=Oa[n]}for(let n=1;n<=48;n++){if(n===10)continue;const e=pq(n);Oa[e]=Oa[n.toString()]}function pq(n){if(!+n)return!1;for(var e=String(+n).split(""),t=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],i="",r=3;r--;)i=(t[+e.pop()+r*10]||"")+i;return Array(+e.join("")+1).join("M")+i}const gq=1e8;class mq extends Bt{constructor(e,t){super(e,t)}init(e){super.init(e),this.useChrColors=e.useChrColors===void 0?!0:e.useChrColors,this.trait=e.trait,this.posteriorProbability=e.posteriorProbability,this.valueProperty=e.format==="bed"?"score":"value",this.height=e.height||100,this.autoscale=e.autoscale,this.autoscalePercentile=e.autoscalePercentile===void 0?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||3,this.popoverWindow=e.popoverWindow===void 0?gq:e.popoverWindow,this.useChrColors?this.colorScale=new To(e.colorTable||Oa):e.color?this.colorScale=new JL(e.color):this.colorScale=new J6(e.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]}),this.featureSource=$n(e,this.browser.genome)}async postInit(){if(!(typeof this.featureSource.getHeader=="function"&&(this.header=await this.featureSource.getHeader(),this.disposed)))return this.header&&this.setTrackProperties(this.header),this.autoscale||(this.posteriorProbability?this.dataRange={min:this.config.min===void 0?0:this.config.min,max:this.config.max===void 0?1:this.config.max}:this.dataRange={min:this.config.min===void 0?0:this.config.min,max:this.config.max===void 0?25:this.config.max}),this}get supportsWholeGenome(){return!0}async getFeatures(e,t,i){const r=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:i,visibilityWindow:r})}draw(e){const t=e.features,i=e.context,r=e.pixelWidth,s=e.pixelHeight;if(this.background&&pe.fillRect(i,0,0,r,s,{fillStyle:this.background}),pe.strokeLine(i,0,s-1,r,s-1,{strokeStyle:this.divider}),t){const o=e.bpPerPixel,a=e.bpStart,l=a+r*o+1;for(let c of t){const h=c.start;if(h<a)continue;if(h>l)break;let u;if(this.posteriorProbability)u=c[this.valueProperty];else{const g=c[this.valueProperty];if(!g)continue;u=-Math.log10(g)}const f=this.useChrColors?c._f?c._f.chr:c.chr:u,d=this.colorScale.getColor(f),p=(this.dataRange.max-this.dataRange.min)/s,w=Math.round((h-a)/o),F=Math.max(this.dotSize,s-Math.round((u-this.dataRange.min)/p));d&&pe.setProperties(i,{fillStyle:d,strokeStyle:"black"}),pe.fillCircle(i,w,F,this.dotSize),c.px=w,c.py=F}}}paintAxis(e,t,i){pe.fillRect(e,0,0,t,i,{fillStyle:"rgb(255, 255, 255)"});var r={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};const s=(this.dataRange.max-this.dataRange.min)/i;if(this.posteriorProbability)for(let a=this.dataRange.min;a<this.dataRange.max;a+=.1){const l=i-Math.round((a-this.dataRange.min)/s);pe.strokeLine(e,45,l-2,50,l-2,r),pe.fillText(e,a.toFixed(1),44,l+2,r)}else{const o=Math.ceil((this.dataRange.max-this.dataRange.min)*10/i);for(let a=this.dataRange.min;a<this.dataRange.max;a+=o){const l=i-Math.round((a-this.dataRange.min)/s);pe.strokeLine(e,45,l,50,l,r),pe.fillText(e,Math.floor(a),44,l+4,r)}}r.textAlign="center",this.posteriorProbability?pe.fillText(e,"PPA",t/2,i/2,r,{rotate:{angle:-90}}):pe.fillText(e,"-log10(pvalue)",t/2,i/2,r,{rotate:{angle:-90}})}popupData(e,t){t===void 0&&(t=e.viewport.cachedFeatures);let i=[];const r=e.viewport.trackView.track;if(t){let s=0;for(let o of t){const a=Math.abs(e.canvasX-o.px),l=Math.abs(e.canvasY-o.py);if(a<this.dotSize&&l<this.dotSize){if(s>0&&i.push("<HR/>"),s==5){i.push("...");break}if(o=o._f||o,typeof o.popupData=="function")i=i.concat(o.popupData());else{const c=o[this.valueProperty],h=o.chr,u=Ge(o.start+1);i.push({name:"chromosome",value:h}),i.push({name:"position",value:u}),i.push({name:"name",value:o.name}),r.posteriorProbability?i.push({name:"posterior probability",value:c}):i.push({name:"pValue",value:c})}s++}}}return i}menuItemList(){return this.numericDataMenuItems()}doAutoscale(e){if(e.length>0){const t=this.valueProperty,i=this.posteriorProbability,r=e.map(function(s){const o=s[t];return{value:i?o:-Math.log(o)/Math.LN10}});this.dataRange=vh(r)}else this.posteriorProbability?this.dataRange={min:this.config.min||0,max:this.config.max||1}:this.dataRange={min:this.config.max||25,max:this.config.min||0};return this.dataRange}}const g3=1;class wq extends Bt{constructor(e,t){super(e,t)}init(e){super.init(e),this.autoscale=e.autoscale||e.max===void 0,this.dataRange={min:e.min||0,max:e.max},this.windowFunction=e.windowFunction||"mean",this.paintAxis=Yh,this.graphType=e.graphType||"bar",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=$n(this.config,this.browser.genome),this.visibilityWindow=-1,this.featureSource.visibilityWindow=this.visibilityWindow}async postInit(){if(typeof this.featureSource.getHeader=="function"){if(this.header=await this.featureSource.getHeader(),this.disposed)return;if(this.sampleKeys=this.header.columnNames.slice(3),this.setTrackProperties(this.header),this.header.hasOwnProperty("clickToHighlight")){let e=this.header.clickToHighlight;this.config.clickToHighlight=e,this.config.samplesClickedToHighlight={}}if(this.header.hasOwnProperty("highlight")){this.config.highlightSamples={};let e=this.header.highlight;Array.isArray(e)||(e=[e]);for(let t of e){const i=t.split(";");i.length===2&&(this.config.highlightSamples[i[0]]=i[1])}}}}menuItemList(){return this.numericDataMenuItems()}async getFeatures(e,t,i){const r=await this.featureSource.getFeatures({chr:e,start:0,end:Number.MAX_SAFE_INTEGER,visibilityWindow:this.visibilityWindow});let s,o;for(let a=1;a<r.length-1;a++)if(s===void 0&&r[a].end>t&&(s=a-1),o===void 0&&r[a].start>i){o=a+1;break}return s===void 0&&(s=0),o===void 0&&(o=r.length),r.slice(s,o)}draw(e){const{features:t,context:i,bpPerPixel:r,bpStart:s,pixelWidth:o,pixelHeight:a}=e,l=u=>(this.dataRange.max-u)/(this.dataRange.max-this.dataRange.min)*a,c=function(u){let f=Math.floor((u-s)/r);return isNaN(f)&&console.warn("isNaN(x). feature start "+Ge(u)+" bp start "+Ge(s)),f},h=u=>{if(this.config.hasOwnProperty("guideLines")){for(let f of this.config.guideLines)if(f.hasOwnProperty("color")&&f.hasOwnProperty("y")&&f.hasOwnProperty("dotted")){let d=l(f.y),p={strokeStyle:f.color,strokeWidth:2};f.dotted?pe.dashedLine(u.context,0,d,u.pixelWidth,d,5,p):pe.strokeLine(u.context,0,d,u.pixelWidth,d,p)}}};if(t&&t.length>0&&(this.dataRange.min===void 0&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){const u=this.config.highlightSamples,f=this.config.onlyHandleClicksForHighlightedSamples,d=this.config.clickToHighlight;let p=-1,w={},F=[],g=[];this.clickDetectorCache={};for(let m of t){const b=c(m.start),y=c(m.end),A=p>=0?c(p):b;if(!(isNaN(b)||isNaN(y))){this.clickDetectorCache[b]=[],this.clickDetectorCache[y]=[];for(let x=0;x<m.values.length;x++){const v=this.sampleKeys[x],_=m.values[x],k=l(_);if(b-A>=g3){const E=w[v],T=l(E),M=u&&u[v];M?F.push([A,T,b,k,M]):d&&v in this.config.samplesClickedToHighlight?F.push([A,T,b,k,this.config.samplesClickedToHighlight[v]]):pe.strokeLine(i,A,T,b,k,{strokeStyle:"#D9D9D9"}),(!f||v in u)&&this.clickDetectorCache[b].push([A,T,b,k,v,M||"gray"])}if(y-b>=g3){const E=u&&u[v];E?g.push([b,k,y,k,E]):d&&v in this.config.samplesClickedToHighlight?g.push([b,k,y,k,this.config.samplesClickedToHighlight[v]]):pe.strokeLine(i,b,k,y,k,{strokeStyle:"gray"}),(!f||v in u)&&this.clickDetectorCache[y].push([b,k,y,k,v,E||"gray"])}w[v]=_}p=m.end}}for(let m of F)pe.strokeLine(i,m[0],m[1],m[2],m[3],{strokeStyle:m[4],lineWidth:1.3});for(let m of g)pe.strokeLine(i,m[0],m[1],m[2],m[3],{strokeStyle:m[4],lineWidth:2})}h(e)}doAutoscale(e){let t,i;return e.length>0?(t=Number.MAX_VALUE,i=-Number.MAX_VALUE,e.forEach(function(r){t=Math.min(t,...r.values),i=Math.max(i,...r.values)}),t-=.01,i+=.01):(t=0,i=100),{min:t,max:i}}clickedFeatures(e){const r=e.canvasX,s=e.canvasY;let o=null;for(o of Object.keys(this.clickDetectorCache))if(o=parseInt(o),o>=r)break;if(o){let c=Number.MAX_VALUE,h=[];const u=this.clickDetectorCache[o];for(let f of u){const d=f[0],p=f[2];if(r<d||r>p)return[];const w=f[1],F=f[3];if(s<Math.min(w,F)-10||s>Math.max(w,F)+10)continue;const g=bq(r,s,d,w,p,F);g<c&&(h=[{name:f[4],color:f[5]}],c=g)}if(c<5){if(this.config.clickToHighlight){if(h[0].name in this.config.samplesClickedToHighlight)delete this.config.samplesClickedToHighlight[h[0].name];else if(this.config.clickToHighlight==="any"){var a=["red","darkblue","green","teal","olivedrab","orange","maroon","purple","blue","gold"],l=a[Math.floor(Math.random()*(a.length+1))];this.config.samplesClickedToHighlight[h[0].name]=l}else this.config.samplesClickedToHighlight[h[0].name]=this.config.clickToHighlight;this.trackView.repaintViews()}return h}}return[]}popupData(e,t){t===void 0&&(t=this.clickedFeatures(e));const i=[];return t.forEach(function(r){for(let s of Object.keys(r))vf(r[s])&&i.push({name:s,value:r[s]})}),i}get supportsWholeGenome(){return!1}}function bq(n,e,t,i,r,s){const o=r-t,a=s-i,l=Math.abs(o*(i-e)-(t-n)*a),c=Math.sqrt(o*o+a*a);return c>0?l/c:0}class b8 extends Bt{constructor(e,t){super(e,t),e.arcOrientation===!1?this.arcOrientation="DOWN":e.arcOrientation===!0?this.arcOrientation="UP":e.arcOrientation?this.arcOrientation=e.arcOrientation.toUpperCase():this.arcOrientation="UP",e.format==="bp"?this.featureSource=new Fq(e,t.genome):this.featureSource=new D6(e,t.genome)}async getFeatures(e,t,i){const r=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:i,visibilityWindow:r})}draw(e){const t=e.context,i=Math.PI/2,r=e.pixelWidth,s=e.pixelHeight;e.viewportWidth;const o=e.bpPerPixel,a=e.bpStart,l=o,c=this.arcOrientation==="UP";pe.fillRect(t,0,e.pixelTop,r,s,{fillStyle:"rgb(255, 255, 255)"});const h=e.features;if(h){m3(h,1);for(let u of h)if(u.startLeft){let f=Math.round((u.startLeft-a)/l),d=Math.round((u.startRight-a)/l),p=Math.round((u.endLeft-a)/l),w=Math.round((u.endRight-a)/l);t.fillStyle=u.color,t.strokeStyle=u.color,t.beginPath();let F=(f+w)/2,g=(w-f)/2,m=this.height,b=Math.PI+(Math.PI/2-i),y=2*Math.PI-(Math.PI/2-i);c?(t.arc(F,m,g,b,y),t.lineTo(p,m)):(m=0,t.arc(F,m,g,y,b),t.lineTo(w,m));const A=(d+p)/2,x=(p-d)/2,v=m;c?(t.arc(A,v,x,y,b,!0),t.lineTo(f,v)):(t.arc(A,v,x,b,y,!0),t.lineTo(p,v)),t.stroke(),t.fill(),u.drawState={x1:F,y1:m,r1:g,x2:A,y2:v,r2:x,sa:b,ea:y}}else{let f=Math.round((u.start-a)/l),d=Math.round((u.end-a)/l);t.strokeStyle=u.color,t.beginPath();let p=(f+d)/2,w=(d-f)/2,F=this.height,g=Math.PI+(Math.PI/2-i),m=2*Math.PI-(Math.PI/2-i);c?t.arc(p,F,w,g,m):(F=0,t.arc(p,F,w,m,g)),t.stroke(),u.drawState={x1:p,y1:F,r1:w,sa:g,ea:m}}}}clickedFeatures(e){const t=super.clickedFeatures(e),i=[];m3(t,-1);for(let r of t){const s=r.drawState,o=e.canvasX-s.x1,a=e.canvasY-s.y1,l=Math.sqrt(o*o+a*a),c=s.r1+3;let h,u;if(s.x2===void 0)h=l,u=s.r1-3;else{const f=e.canvasX-s.x2,d=e.canvasY-s.y2;h=Math.sqrt(f*f+d*d),u=s.r2-3}if(l<c&&h>u){i.push(r);break}}return i}popupData(e,t){if(t===void 0&&(t=this.clickedFeatures(e)),t&&t.length>0)return this.extractPopupData(t[0],this.getGenomeId())}menuItemList(){return[{name:"Toggle arc direction",click:function(){this.arcOrientation=this.arcOrientation==="UP"?"DOWN":"UP",this.trackView.repaintViews()}}]}}Re(b8,"defaults",{height:300,theta:Math.PI/2,arcOrientation:"UP"});function m3(n,e){n.sort(function(t,i){const r=t.score===void 0?-Number.MAX_VALUE:t.score,s=i.score===void 0?-Number.MAX_VALUE:i.score;return(e===void 0?1:e)*(r-s)})}class Fq{constructor(e,t){this.config=e,this.genome=t}async getFeatures({chr:e,start:t,end:i,bpPerPixel:r,visibilityWindow:s}){const o=this.genome;if(this.featureCache)return this.featureCache.queryFeatures(e,t,i);{const l=Qe(this.config),c=await Be.loadByteArray(this.config.url,l);return this.featureCache=new Fh(a(c),o),this.featureCache.queryFeatures(e,t,i)}function a(l){if(!l)return null;const c=Dn(l);let h=!0,u;const f=[],d=[],p=[];for(;(u=c.nextLine())!==void 0;){const F=u.split("	");if(h&&u.startsWith("color:")){const g="rgb("+F[1]+","+F[2]+","+F[3]+")";f.push(g),F.length>4&&d.push(F[4])}else{h=!1;const g=F[0],m=Number.parseInt(F[1])-1,b=Number.parseInt(F[2])-1,y=Number.parseInt(F[3]),A=Number.parseInt(F[4]);var w=Number.parseInt(F[5]);const x=f[w];let v;m<=A?v={chr:g,startLeft:Math.min(m,b),startRight:Math.max(m,b),endLeft:Math.min(y,A),endRight:Math.max(y,A),color:x,score:w}:v={chr:g,startLeft:Math.min(y,A),startRight:Math.max(y,A),endLeft:Math.min(m,b),endRight:Math.max(m,b),color:x,score:w},v.start=v.startLeft,v.end=v.endRight,d.length>w&&(v.description=d[w]),p.push(v)}}return p}}}class F8{constructor(e){this.browser=e,this.type="ideogram",this.height=16,this.order=Number.MIN_SAFE_INTEGER,this.disableButtons=!0,this.ignoreTrackMenu=!0}computePixelHeight(e){return this.height}draw({context:e,referenceFrame:t,pixelWidth:i,pixelHeight:r,features:s}){const o=t.chr,a=t.genome.getChromosome(o);if(a===void 0||i<=0||r<=0||o.toLowerCase()==="all")return;const l=[];yq({ctx:e,features:s,chr:o,referenceFrame:t,genome:t.genome,width:i,height:r,stainColors:l});const c=Math.round(t.bpPerPixel*i),h=t.start;let u=a.bpLength;const f=t.genome.getCytobands(o);if(f&&f.length>0&&f[f.length-1].end&&(u=Math.max(u,f[f.length-1].end),a.bpLength=u),c<u){const d=c/u,p=h/u;let w=Math.floor(p*i),F=Math.floor(d*i);w=Math.max(0,w),w=Math.min(i-F,w),e.save(),e.strokeStyle="red",e.lineWidth=F<2?1:2;const g=w+e.lineWidth/2;F=F<2?1:F-e.lineWidth;const m=e.lineWidth/2,b=r-e.lineWidth;e.strokeRect(g,m,F,b),e.restore()}}dispose(){this.trackView=void 0}}function yq({ctx:n,chr:e,referenceFrame:t,genome:i,width:r,height:s,stainColors:o,features:a}){if(i===void 0)return;pe.fillRect(n,0,0,r,s,{fillStyle:Xe.greyScale(255)});const u=a;if(u){const f=0+s/2,d=[],p=[];if(u.length===0)return;const w=u[u.length-1].end,F=r/w;n.beginPath(),pe.roundRect(n,.5,.5+0,r-2*.5,s-2*.5,(s-2*.5)/2,0,1),n.clip();for(let g=0;g<u.length;g++){const m=u[g],b=F*m.start,y=F*m.end;m.type==="c"?(m.name.charAt(0)==="p"?(d[0]=b,p[0]=s+0,d[1]=b,p[1]=0,d[2]=y,p[2]=f):(d[0]=y,p[0]=s+0,d[1]=y,p[1]=0,d[2]=b,p[2]=f),n.fillStyle="rgb(150, 0, 0)",n.strokeStyle="rgb(150, 0, 0)",pe.polygon(n,d,p,1,0)):(n.fillStyle=vq(o,m),pe.fillRect(n,b,1,y-b,s-2*1))}}n.strokeStyle=Xe.greyScale(41),pe.roundRect(n,.5,.5+0,r-2*.5,s-2*.5,(s-2*.5)/2,0,1)}function vq(n,e){if(e.type==="c")return"rgb(150, 10, 10)";var t=e.stain,i=230;e.type==="p"&&(i=Math.floor(230-t/100*230));var r=n[i];return r||(r="rgb("+i+","+i+","+i+")",n[i]=r),r}let y8=new yh("Dark2");const Aq=["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"];Aq.forEach(n=>{y8.getColor(n)});class v8 extends Bt{constructor(e,t){super(e,t)}init(e){super.init(e),this.type=e.type||"junctions",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:$n(e,this.browser.genome)}async postInit(){if(!(typeof this.featureSource.getHeader=="function"&&(this.header=await this.featureSource.getHeader(),this.disposed)))return this.header&&this.setTrackProperties(this.header),this.visibilityWindow===void 0&&typeof this.featureSource.defaultVisibilityWindow=="function"&&(this.visibilityWindow=await this.featureSource.defaultVisibilityWindow()),this}get supportsWholeGenome(){return!1}async getFeatures(e,t,i,r){const s=this.visibilityWindow;return this.featureSource.getFeatures({chr:e,start:t,end:i,bpPerPixel:r,visibilityWindow:s})}computePixelHeight(e){return this.height}draw(e){const t=e.features,i=e.context,r=e.bpPerPixel,s=e.bpStart,o=e.pixelWidth,a=e.pixelHeight,l=s+o*r+1;if(this.isMergedTrack||pe.fillRect(i,0,e.pixelTop,o,a,{fillStyle:"rgb(255, 255, 255)"}),t){const c={};c.referenceFrame=e.viewport.referenceFrame,c.referenceFrameStart=c.referenceFrame.start,c.referenceFrameEnd=c.referenceFrameStart+c.referenceFrame.toBP(e.viewport.getWidth()),c.featureZoomOutTracker={};for(let h of t)if(!(h.end<s)){if(h.start>l)break;this.renderJunction(h,s,r,a,i,c)}}else console.log("No feature list")}renderJunction(e,t,i,r,s,o){e.isVisible=!1;const a=Math.round((e.start-t)/i),l=Math.round((e.end-t)/i),c=(a+l)/2;if(l-a<=3){if(c in o.featureZoomOutTracker)return;o.featureZoomOutTracker[c]=!0}if(this.config.hideAnnotatedJunctions&&e.attributes.annotated_junction==="true"||this.config.hideUnannotatedJunctions&&e.attributes.annotated_junction==="false"||this.config.hideMotifs&&this.config.hideMotifs.includes(e.attributes.motif)||this.config.hideStrand===e.strand)return;if(this.config.minJunctionEndsVisible){let T=0;if(e.start>=o.referenceFrameStart&&e.start<=o.referenceFrameEnd&&(T+=1),e.end>=o.referenceFrameStart&&e.end<=o.referenceFrameEnd&&(T+=1),T<this.config.minJunctionEndsVisible)return}let h,u,f;if(e.attributes.uniquely_mapped&&(h=parseInt(e.attributes.uniquely_mapped),h<this.config.minUniquelyMappedReads||(u=parseInt(e.attributes.multi_mapped),f=h+u,f<this.config.minTotalReads)||f>0&&u/f>this.config.maxFractionMultiMappedReads||e.attributes.maximum_spliced_alignment_overhang&&parseInt(e.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang))return;let d;if(e.attributes.num_samples_with_this_junction&&(d=parseInt(e.attributes.num_samples_with_this_junction),this.config.minSamplesWithThisJunction&&d<this.config.minSamplesWithThisJunction||this.config.maxSamplesWithThisJunction&&d>this.config.maxSamplesWithThisJunction||e.attributes.num_samples_total&&(e.attributes.percent_samples_with_this_junction=100*d/Number(e.attributes.num_samples_total),this.config.minPercentSamplesWithThisJunction&&(e.attributes.percent_samples_with_this_junction<this.config.minPercentSamplesWithThisJunction||e.attributes.percent_samples_with_this_junction>this.config.maxPercentSamplesWithThisJunction))))return;const p=this.margin,w=r,F=p+.5*w;let g=p;const b=p+w-10,y=(a+c)/2,A=(c+l)/2;let x=1;e.attributes.line_width?x=Number(e.attributes.line_width):(this.config.thicknessBasedOn===void 0||this.config.thicknessBasedOn==="numUniqueReads"?x=h:this.config.thicknessBasedOn==="numReads"?x=f:this.config.thicknessBasedOn==="numSamplesWithThisJunction"&&d!==void 0&&(x=d),x=1+Math.log(x+1)/Math.log(12));let v;this.config.bounceHeightBasedOn===void 0||this.config.bounceHeightBasedOn==="random"?v=(e.start+e.end)%7:this.config.bounceHeightBasedOn==="distance"?v=6*(e.end-e.start)/(o.referenceFrameEnd-o.referenceFrameStart):this.config.bounceHeightBasedOn==="thickness"&&(v=2*x),g+=w*Math.max(7-v,0)/10;let _;e.attributes.color?_=e.attributes.color:this.config.colorBy===void 0||this.config.colorBy==="numUniqueReads"?_=h>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":this.config.colorBy==="numReads"?_=f>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":this.config.colorBy==="isAnnotatedJunction"?_=e.attributes.annotated_junction==="true"?"#b0b0ec":"orange":this.config.colorBy==="strand"?_=e.strand==="+"?"#b0b0ec":"#ecb0b0":this.config.colorBy==="motif"?_=y8.getColor(e.attributes.motif):_="#AAAAAA";let k="";e.attributes.label?k=e.attributes.label.replace(/_/g," "):this.config.labelWith===void 0||this.config.labelWith==="uniqueReadCount"?k=h:this.config.labelWith==="totalReadCount"?k=f:this.config.labelWith==="numSamplesWithThisJunction"?d!==void 0&&(k=d):this.config.labelWith==="percentSamplesWithThisJunction"?e.attributes.percent_samples_with_this_junction!==void 0&&(k=e.attributes.percent_samples_with_this_junction.toFixed(0)+"%"):this.config.labelWith==="motif"&&e.attributes.motif!==void 0&&(k+=e.attributes.motif),this.config.labelWithInParen==="uniqueReadCount"?k+=" ("+h+")":this.config.labelWithInParen==="totalReadCount"?k+=" ("+f+")":this.config.labelWithInParen==="multiMappedReadCount"?u>0&&(k+=" (+"+u+")"):this.config.labelWithInParen==="numSamplesWithThisJunction"?d!==void 0&&(k+=" ("+d+")"):this.config.labelWithInParen==="percentSamplesWithThisJunction"?e.attributes.percent_samples_with_this_junction!==void 0&&(k+=" ("+e.attributes.percent_samples_with_this_junction.toFixed(0)+"%)"):this.config.labelWithInParen==="motif"&&e.attributes.motif!==void 0&&(k+=` ${e.attributes.motif}`),e.isVisible=!0,s.beginPath(),s.moveTo(a,b),s.bezierCurveTo(y,g,A,g,l,b),s.lineWidth=x,s.strokeStyle=_,s.stroke();const E=(T,M,N,C)=>{T.beginPath(),T.moveTo(M,N),T.lineTo(M-C/2,N-C),T.lineTo(M+C/2,N-C),T.lineTo(M,N),T.closePath(),T.fill()};if(e.attributes.left_shape||e.attributes.right_shape){s.fillStyle=_;const T=s.lineWidth>2?10:7;e.attributes.left_shape&&E(s,a,b,T),e.attributes.right_shape&&E(s,l,b,T)}s.fillText(k,c-s.measureText(k).width/2,(7*g+F)/8)}clickedFeatures(e){return super.clickedFeatures(e).filter(function(i){return i.isVisible&&i.attributes})}popupData(e,t){t===void 0&&(t=this.clickedFeatures(e));const i=e.genomicLocation,r=[];for(let s of t){const o=typeof s.popupData=="function"?s.popupData(i):this.extractPopupData(s._f||s,this.getGenomeId());o&&(r.length>0&&r.push("<hr/><hr/>"),Array.prototype.push.apply(r,o))}return r}dispose(){this.trackView=void 0}}Re(v8,"defaults",{margin:10,colorByNumReadsThreshold:5,height:100});const Nd=new Map([["ideogram",(n,e)=>new F8(n,e)],["sequence",(n,e)=>new H6(n,e)],["feature",(n,e)=>new hw(n,e)],["seg",(n,e)=>new Hu(n,e)],["mut",(n,e)=>new Hu(n,e)],["maf",(n,e)=>new Hu(n,e)],["shoebox",(n,e)=>new Hu(n,e)],["wig",(n,e)=>new M6(n,e)],["merged",(n,e)=>new pw(n,e)],["alignment",(n,e)=>new kx(n,e)],["interaction",(n,e)=>new d2(n,e)],["interact",(n,e)=>new d2(n,e)],["variant",(n,e)=>new Rw(n,e)],["qtl",(n,e)=>new p3(n,e)],["eqtl",(n,e)=>new p3(n,e)],["gwas",(n,e)=>new mq(n,e)],["arc",(n,e)=>new b8(n,e)],["gcnv",(n,e)=>new wq(n,e)],["junction",(n,e)=>new v8(n,e)],["blat",(n,e)=>new JD(n,e)],["cnvpytor",(n,e)=>new kh(n,e)]]);function _q(n,e,t){let i;switch(n){case"annotation":case"genes":case"fusionjuncspan":case"snp":i="feature";break;case"seg":case"maf":case"mut":i="seg";break;case"junctions":case"splicejunctions":i="junction";break;default:i=n}return Nd.has(i)?Nd.get(i)(e,t):void 0}function Cq(n,e){Nd.set(n,(t,i)=>new e(t,i))}function xq(n,e){Nd.set(n,e)}class kq{constructor(e,t){const r=new DOMParser().parseFromString(e,"text/xml");this.processRootNode(r,t);const s=r.getElementsByTagName("Resource"),o=r.getElementsByTagName("Track"),a=o&&o.length>0,l=[];this.tracks=l;const c=new Map;Array.from(s).forEach(function(h,u){var f={url:h.getAttribute("path"),indexURL:h.getAttribute("index"),order:u};c.set(f.url,f),a||l.push(f)}),a&&Array.from(o).forEach(function(h){const u=h.getElementsByTagName("Track");if(u&&u.length>0){const f={type:"merged",tracks:[]};F0(h,f),l.push(f),Array.from(u).forEach(function(d){d.processed=!0;const p=d.getAttribute("id"),w=c.get(p);w&&(f.tracks.push(w),F0(d,w),w.autoscale=!1,f.height=w.height)})}else if(!h.processed){const f=h.getAttribute("id"),d=c.get(f);d&&(l.push(d),F0(h,d))}})}processRootNode(e,t){const i=e.getElementsByTagName("Session");!i||i.length;const r=i.item(0),s=r.getAttribute("genome"),o=r.getAttribute("locus"),a=r.getAttribute("ucscID");t&&t.hasOwnProperty(s)?this.genome=s:(this.reference={fastaURL:s},a&&(this.reference.id=a)),o&&(this.locus=o)}}function F0(n,e){e.name=n.getAttribute("name");const t=n.getAttribute("color");t&&(e.color="rgb("+t+")");const i=n.getAttribute("altColor");t&&(e.altColor="rgb("+i+")");const r=n.getAttribute("height");r&&(e.height=parseInt(r));const s=n.getAttribute("autoScale");s&&(e.autoscale=s==="true");const o=n.getAttribute("autoscaleGroup");o&&(e.autoscaleGroup=o);const a=n.getAttribute("windowFunction");a&&(e.windowFunction=a);const l=n.getAttribute("visibilityWindow")||n.getAttribute("featureVisibilityWindow");l&&(e.visibilityWindow=l);const c=n.getAttribute("indexed");c&&(e.indexed=c==="true");const h=n.getAttribute("normalize");h&&(e.normalize=h==="true");const u=n.getElementsByTagName("DataRange");if(u.length>0){const f=u.item(0);e.min=Number(f.getAttribute("minimum")),e.max=Number(f.getAttribute("maximum")),e.logScale=f.getAttribute("type")==="LOG"}}class A8{constructor(e,t,i,r,s){this.genome=e,this.chr=t,this.start=i,this.end=r,this.bpPerPixel=s,this.id=nn()}get center(){return(this.start+this.end)/2}get locusSearchString(){return`${this.chr}:${this.start+1}-${this.end}`}extend(e){const t=Math.min(e.start,this.start),i=Math.max(e.end,this.end),r=(i-t)/(this.end-this.start);this.start=t,this.end=i,this.bpPerPixel*=r}calculateEnd(e){return this.start+this.bpPerPixel*e}calculateCenter(e){return this.start+this.bpPerPixel*e/2}calculateBPP(e,t){return(e-this.start)/t}set(e){this.chr=e.chr,this.start=e.start,this.bpPerPixel=e.bpPerPixel}toPixels(e){return e/this.bpPerPixel}toBP(e){return this.bpPerPixel*e}shift(e){this.start+=e,this.end+=e}shiftPixels(e,t,i){const r=this.start,s=e*this.bpPerPixel;return this.start+=s,i&&this.clampStart(t),this.end=this.start+t*this.bpPerPixel,r!==this.start}clampStart(e){const t=this.genome.getChromosome(this.chr).bpStart||0;if(this.start=Math.max(t,this.start),e){const{bpLength:i}=this.genome.getChromosome(this.chr),r=i-e*this.bpPerPixel;this.start>r&&(this.start=r)}}async zoomWithScaleFactor(e,t,i,r){const s=r===void 0?this.start+this.toBP(i/2):r,o=this.start,a=this.bpPerPixel,l=this.getChromosome().bpLength,c=t<1?e.minimumBases()/i:l/i;t<1?this.bpPerPixel=Math.max(this.bpPerPixel*t,c):this.bpPerPixel=Math.min(this.bpPerPixel*t,c);const h=this.bpPerPixel*i;this.start=s-.5*h,this.clampStart(i),this.end=this.start+h,(o!==this.start||a!==this.bpPerPixel)&&await e.updateViews(!0)}getChromosome(){return this.genome.getChromosome(this.chr)}getMultiLocusLabelBPLengthOnly(e){const t="&nbsp",i=Math.floor(this.start)+1,r=Math.round(this.start+this.bpPerPixel*e);return`${t}${this.chr}${t}${qm(r-i)}${t}`}getMultiLocusLabelLocusOnly(e){const t="&nbsp",{chr:i,start:r,end:s}=this.getPresentationLocusComponents(e);return`${t}${i}:${r}-${s}${t}`}getMultiLocusLabel(e){const t="&nbsp",{chr:i,start:r,end:s}=this.getPresentationLocusComponents(e),o=Math.floor(this.start)+1,a=Math.round(this.start+this.bpPerPixel*e);return`${t}${i}:${r}-${s}${t}${t}(${qm(a-o)})${t}`}getPresentationLocusComponents(e){if(this.chr==="all")return{chr:this.chr};{const t=Ge(Math.floor(this.start)+1),i=Ge(Math.round(this.start+this.bpPerPixel*e));return{chr:this.chr,start:t,end:i}}}getLocusString(){if(this.chr==="all")return"all";{const e=this.genome.getChromosomeDisplayName(this.chr),t=Ge(Math.floor(this.start)+1),i=Ge(Math.round(this.end));return`${e}:${t}-${i}`}}description(e){console.log(` ${e||""} referenceFrame - ${this.chr} bpp ${this.bpPerPixel.toFixed(3)} start ${Ge(Math.round(this.start))} end ${Ge(Math.round(this.end))} `)}overlaps(e){return this.chr===e.chr&&this.end>=e.start&&e.end>=this.start}}function Eq(n,e,t,i,r,s){return n.map(o=>{const a=Object.assign({},o);if(t&&a.name&&(a.start=Math.max(0,a.start-t),a.end+=t),!s){const c=e.getChromosome(a.chr);t6(c.bpLength,a,i)}return new A8(e,a.chr,a.start,a.end,(a.end-a.start)/r)})}const Sq="3.0.5";function _8(){return Sq}const fc={},w3=8;let v2;function A2(n,e){Oi.currentNavbarButtonClass(n)==="igv-navbar-text-button"&&(v2=n.$navigation.get(0).querySelector(".igv-navbar-right-container").getBoundingClientRect().width);const i=Iq(n,e);ke(n.zoomWidget.zoomContainer).removeClass(),ke(n.zoomWidget.zoomContainer).addClass(i.zoomContainer),n.fireEvent("navbar-resize",[i.navbarButton])}function Iq(n,e){const t=n.isMultiLocusWholeGenomeView()||n.referenceFrameList&&Ut.isWholeGenomeView(n.referenceFrameList[0].chr);t?n.windowSizePanel.hide():n.windowSizePanel.show();const{x:i,width:r}=n.$navigation.get(0).querySelector(".igv-navbar-left-container").getBoundingClientRect(),s=i+r,{x:o}=n.$navigation.get(0).querySelector(".igv-navbar-right-container").getBoundingClientRect(),a=o-s,l=Oi.currentNavbarButtonClass(n);return l==="igv-navbar-text-button"&&a<w3?fc.navbarButton="igv-navbar-icon-button":v2&&l==="igv-navbar-icon-button"&&e-s-v2>w3&&(fc.navbarButton="igv-navbar-text-button"),t?fc.zoomContainer="igv-zoom-widget-hidden":fc.zoomContainer=e>860?"igv-zoom-widget":"igv-zoom-widget-900",fc}const b3="Maximum sequence count exceeded";class Nq{constructor(e,t){this.container=Ce({class:"igv-chromosome-select-widget-container"}),t.appendChild(this.container),this.select=document.createElement("select"),this.select.setAttribute("name","chromosome-select-widget"),this.container.appendChild(this.select),this.select.addEventListener("change",()=>{this.select.blur(),this.select.value!==""&&b3!==this.select.value&&e.search(this.select.value)}),this.showAllChromosomes=e.config.showAllChromosomes!==!1}show(){this.container.style.display="flex"}hide(){this.container.style.display="none"}update(e){const t=e.wgChromosomeNames||[];if(this.showAllChromosomes&&e.chromosomeNames.length>1){const i=new Set(t);let r=0;for(let s of e.chromosomeNames){if(++r===1e3){t.push(b3);break}i.has(s)||t.push(s)}}this.select.innerHTML="",e.showWholeGenomeView()&&t.unshift("all");for(let i of t){const r=document.createElement("option");r.setAttribute("value",i),r.innerText=e.getChromosomeDisplayName(i),this.select.appendChild(r)}}}class Tq{constructor(e,t){this.container=Ce({class:"igv-windowsize-panel-container"}),e.appendChild(this.container),t.on("locuschange",i=>{this.updatePanel(i)}),this.browser=t}show(){this.container.style.display="block"}hide(){this.container.style.display="none"}updatePanel(e){const t=this.browser.calculateViewportWidth(this.browser.referenceFrameList.length);this.container.innerText=e.length===1?qm(Math.round(t*e[0].bpPerPixel)):""}}class Rq{constructor(e,t){this.browser=t,this.columnContainer=e,this.horizontalGuide=Ce({class:"igv-cursor-guide-horizontal"}),e.appendChild(this.horizontalGuide),this.verticalGuide=Ce({class:"igv-cursor-guide-vertical"}),e.appendChild(this.verticalGuide),this.addMouseHandler(t),this.setVisibility(t.config.showCursorGuide)}addMouseHandler(e){this.boundMouseMoveHandler=t.bind(this),this.columnContainer.addEventListener("mousemove",this.boundMouseMoveHandler);function t(i){i.target.tagName;const{x:r,y:s}=Zt(i,this.columnContainer);if(this.horizontalGuide.style.top=`${s}px`,i.target.tagName==="CANVAS"){const o=Mq(i.target,"igv-viewport");if(o&&e.getRulerTrackView()){this.verticalGuide.style.left=`${r}px`;const a=e.root.querySelectorAll(".igv-column");let l;const c=o.parentElement;for(let h=0;h<a.length;h++)l===void 0&&c===a[h]&&(l=h);if(l!==void 0){const u=e.getRulerTrackView().viewports[l].mouseMove(i);if(u){const{start:f,bp:d,end:p}=u,w=(d-f)/(p-f);this.customMouseHandler&&this.customMouseHandler({start:f,bp:d,end:p,interpolant:w})}}}}}}removeMouseHandler(){this.columnContainer.removeEventListener("mousemove",this.boundMouseMoveHandler)}setVisibility(e){e===!0?this.show():this.hide()}show(){this.verticalGuide.style.display="block",this.horizontalGuide.style.display="block"}hide(){if(this.verticalGuide.style.display="none",this.horizontalGuide.style.display="none",this.browser.getRulerTrackView())for(let e of this.browser.getRulerTrackView().viewports)e.$tooltip.hide()}}function Mq(n,e){for(;n.parentElement;){if(n.parentElement.classList.contains(e))return n.parentElement;n=n.parentElement}}const Bq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>cursor</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="cursor" stroke="#737373">
            <rect id="Rectangle-Copy-3" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="Group" transform="translate(5, 9)" stroke-width="24">
                <line x1="0.5" y1="212.5" x2="614.5" y2="212.5" id="Line"></line>
                <line x1="-115.5" y1="303.5" x2="490.5" y2="303.5" id="Line-Copy" transform="translate(187.5, 303.5) scale(-1, 1) rotate(90) translate(-187.5, -303.5)"></line>
            </g>
            <circle id="Oval" stroke-width="24" cx="191.5" cy="221.5" r="88.5"></circle>
        </g>
    </g>
</svg>`,Dq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>cursor hover</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="cursor-hover">
            <rect id="Rectangle-Copy-5" stroke="#737373" stroke-width="12" fill="#737373" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="Group-Copy-2" transform="translate(5, 9)" stroke="#FFFFFF" stroke-width="24">
                <line x1="0.5" y1="212.5" x2="614.5" y2="212.5" id="Line"></line>
                <line x1="-115.5" y1="303.5" x2="490.5" y2="303.5" id="Line-Copy" transform="translate(187.5, 303.5) scale(-1, 1) rotate(90) translate(-187.5, -303.5)"></line>
            </g>
            <circle id="Oval" stroke="#FFFFFF" stroke-width="24" cx="191.5" cy="221.5" r="88.5"></circle>
        </g>
    </g>
</svg>`;class Lq extends Oi{constructor(e,t){super(e,t,"Crosshairs",Us,Bq,Dq,e.doShowCursorGuide),this.button.addEventListener("mouseenter",()=>{e.doShowCursorGuide===!1&&this.setState(!0)}),this.button.addEventListener("mouseleave",()=>{e.doShowCursorGuide===!1&&this.setState(!1)});const i=()=>{e.doShowCursorGuide=!e.doShowCursorGuide,e.setCursorGuideVisibility(e.doShowCursorGuide),this.setState(e.doShowCursorGuide)};this.boundMouseClickHandler=i.bind(this),this.button.addEventListener("click",this.boundMouseClickHandler),this.setVisibility(e.config.showCursorTrackingGuideButton)}}const zq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>centerline</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="centerline" stroke="#737373">
            <rect id="Rectangle-Copy-2" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <line x1="6.5" y1="312.5" x2="618.5" y2="312.5" id="Line-Copy" stroke-width="31" transform="translate(312.5, 312.5) scale(-1, 1) rotate(90) translate(-312.5, -312.5)"></line>
        </g>
    </g>
</svg>`,Pq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>centerline hover</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="centerline-hover">
            <rect id="Rectangle-Copy-9" stroke="#737373" stroke-width="12" fill="#737373" x="6" y="6" width="613" height="613" rx="135"></rect>
            <line x1="6.5" y1="312.5" x2="618.5" y2="312.5" id="Line-Copy" stroke="#FFFFFF" stroke-width="31" transform="translate(312.5, 312.5) scale(-1, 1) rotate(90) translate(-312.5, -312.5)"></line>
        </g>
    </g>
</svg>`;class Oq extends Oi{constructor(e,t){super(e,t,"Center Line",Us,zq,Pq,e.config.showCenterGuide),this.button.addEventListener("mouseenter",()=>{e.doShowCenterLine===!1&&this.setState(!0)}),this.button.addEventListener("mouseleave",()=>{e.doShowCenterLine===!1&&this.setState(!1)});const i=()=>{e.doShowCenterLine=!e.doShowCenterLine,e.setCenterLineVisibility(e.doShowCenterLine),this.setState(e.doShowCenterLine)};this.boundMouseClickHandler=i.bind(this),this.button.addEventListener("click",this.boundMouseClickHandler),this.setVisibility(e.config.showCenterGuideButton)}}const Hq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>track labels</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="track-labels" fill="#FFFFFF" stroke="#737373">
            <rect id="Rectangle-Copy-27" stroke-width="12" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="group" transform="translate(52.2778, 149.7248)" stroke-width="24">
                <path d="M448.444444,87.1189616 L448.444444,322.431462 L166.619398,322.431462 L19.2344421,204.775212 L166.619398,87.1189616 L448.444444,87.1189616 Z M244.028212,163.997434 C232.925565,163.997434 222.874656,168.493347 215.598982,175.760254 C208.318067,183.032394 203.815972,193.079106 203.815972,204.175675 C203.815972,215.272243 208.318067,225.318955 215.598982,232.591095 C222.874656,239.858002 232.925565,244.353915 244.028212,244.353915 C255.130858,244.353915 265.181767,239.858002 272.457442,232.591095 C279.738356,225.318955 284.240451,215.272243 284.240451,204.175675 C284.240451,193.079106 279.738356,183.032394 272.457442,175.760254 C265.181767,168.493347 255.130858,163.997434 244.028212,163.997434 Z" id="backdrop"></path>
                <path d="M495.232604,12 L495.232604,264.550423 L193.616935,264.550423 L35.4455183,138.275212 L193.616935,12 L495.232604,12 Z M168.133512,95.1660194 C156.441871,95.1660194 145.858581,99.8943121 138.197214,107.534302 C130.523695,115.18641 125.780417,125.758499 125.780417,137.434423 C125.780417,149.110347 130.523695,159.682435 138.197214,167.334543 C145.858581,174.974533 156.441871,179.702826 168.133512,179.702826 C179.825153,179.702826 190.408443,174.974533 198.06981,167.334543 C205.743329,159.682435 210.486607,149.110347 210.486607,137.434423 C210.486607,125.758499 205.743329,115.18641 198.06981,107.534302 C190.408443,99.8943121 179.825153,95.1660194 168.133512,95.1660194 Z" id="hero"></path>
            </g>
        </g>
    </g>
</svg>`,Uq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>track labels hover</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="track-labels-hover" stroke="#737373">
            <rect id="Rectangle-Copy-29" stroke-width="12" fill="#737373" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="group" transform="translate(52.2778, 149.7248)" fill="#FFFFFF" stroke-width="24">
                <path d="M448.444444,85.1189616 L448.444444,320.431462 L166.619398,320.431462 L19.2344421,202.775212 L166.619398,85.1189616 L448.444444,85.1189616 Z M244.028212,161.997434 C232.925565,161.997434 222.874656,166.493347 215.598982,173.760254 C208.318067,181.032394 203.815972,191.079106 203.815972,202.175675 C203.815972,213.272243 208.318067,223.318955 215.598982,230.591095 C222.874656,237.858002 232.925565,242.353915 244.028212,242.353915 C255.130858,242.353915 265.181767,237.858002 272.457442,230.591095 C279.738356,223.318955 284.240451,213.272243 284.240451,202.175675 C284.240451,191.079106 279.738356,181.032394 272.457442,173.760254 C265.181767,166.493347 255.130858,161.997434 244.028212,161.997434 Z" id="backdrop"></path>
                <path d="M495.232604,12 L495.232604,264.550423 L193.616935,264.550423 L35.4455183,138.275212 L193.616935,12 L495.232604,12 Z M168.133512,95.1660194 C156.441871,95.1660194 145.858581,99.8943121 138.197214,107.534302 C130.523695,115.18641 125.780417,125.758499 125.780417,137.434423 C125.780417,149.110347 130.523695,159.682435 138.197214,167.334543 C145.858581,174.974533 156.441871,179.702826 168.133512,179.702826 C179.825153,179.702826 190.408443,174.974533 198.06981,167.334543 C205.743329,159.682435 210.486607,149.110347 210.486607,137.434423 C210.486607,125.758499 205.743329,115.18641 198.06981,107.534302 C190.408443,99.8943121 179.825153,95.1660194 168.133512,95.1660194 Z" id="hero"></path>
            </g>
        </g>
    </g>
</svg>`;class Vq extends Oi{constructor(e,t){super(t,e,"Track Labels",Us,Hq,Uq,t.config.showTrackLabels),this.button.addEventListener("mouseenter",()=>{t.doShowTrackLabels===!1&&this.setState(!0)}),this.button.addEventListener("mouseleave",()=>{t.doShowTrackLabels===!1&&this.setState(!1)});const i=()=>{t.doShowTrackLabels=!t.doShowTrackLabels,t.setTrackLabelVisibility(t.doShowTrackLabels),this.setState(t.doShowTrackLabels)};this.boundMouseClickHandler=i.bind(this),this.button.addEventListener("click",this.boundMouseClickHandler),this.setVisibility(t.config.showTrackLabelButton)}}const qq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>sample names</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="sample-names" stroke="#737373">
            <rect id="Rectangle-Copy-13" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <line x1="80" y1="465" x2="541" y2="464.5" id="Line-3-Copy-3" stroke-width="32"></line>
            <line x1="80" y1="312.5" x2="542" y2="313" id="Line-3" stroke-width="32"></line>
            <line x1="80" y1="158" x2="541" y2="158" id="Line-3-Copy" stroke-width="32"></line>
        </g>
    </g>
</svg>`,jq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>sample names hover</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="sample-names-hover">
            <rect id="Rectangle-Copy-18" stroke="#737373" stroke-width="12" fill="#737373" x="6" y="6" width="613" height="613" rx="135"></rect>
            <line x1="80" y1="465" x2="541" y2="464.5" id="Line-3-Copy-3" stroke="#FFFFFF" stroke-width="32" fill="#FFFFFF"></line>
            <line x1="80" y1="312.5" x2="542" y2="313" id="Line-3" stroke="#FFFFFF" stroke-width="32" fill="#FFFFFF"></line>
            <line x1="80" y1="158" x2="541" y2="158" id="Line-3-Copy" stroke="#FFFFFF" stroke-width="32" fill="#FFFFFF"></line>
        </g>
    </g>
</svg>`;class Qq extends Oi{constructor(e,t){super(t,e,"Sample Names",GL,qq,jq,t.config.showSampleNames),this.button.addEventListener("mouseenter",()=>{t.showSampleNames===!1&&this.setState(!0)}),this.button.addEventListener("mouseleave",()=>{t.showSampleNames===!1&&this.setState(!1)}),this.button.addEventListener("click",()=>{this.performClickWithState(t,void 0)}),t.config.showSampleNameButton===!0?this.show():this.hide()}performClickWithState(e,t){e.showSampleNames=t===void 0?!e.showSampleNames:t;const i=e.columnContainer.querySelector(".igv-sample-name-column");i.style.display=e.showSampleNames===!1?"none":"flex",this.setState(e.showSampleNames),e.layoutChange()}}const $q=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>sample info</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="sample-info">
            <rect id="Rectangle-Copy-6" stroke="#737373" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="Group-2" transform="translate(8, 149)">
                <rect id="Rectangle" fill="#8DD3C7" x="0" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy" fill="#FBB4AE" x="102" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-8" fill="#7FC97F" x="204" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#ADE2CF" x="306" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#E41A1C" x="408" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#3F70AE" x="510" y="0" width="102" height="102"></rect>
            </g>
            <g id="Group-2-Copy" transform="translate(8, 251)">
                <rect id="Rectangle" fill="#E41A1C" x="0" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy" fill="#377EB8" x="102" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-8" fill="#FDB46B" x="204" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#BC80BD" x="306" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#FFFFB3" x="408" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#ADE2CF" x="510" y="0" width="102" height="102"></rect>
            </g>
            <g id="Group-2-Copy-2" transform="translate(314, 404) scale(-1, 1) translate(-314, -404)translate(8, 353)">
                <rect id="Rectangle" fill="#1B9E77" x="0" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy" fill="#377EB8" x="102" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-8" fill="#FDB46B" x="204" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#BAD1E9" x="306" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#4DAF4A" x="408" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#CBF03E" x="510" y="0" width="102" height="102"></rect>
            </g>
            <rect id="Rectangle-Copy-10" stroke="#737373" stroke-width="12" x="6" y="6" width="613" height="613" rx="135"></rect>
        </g>
    </g>
</svg>`,Gq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>sample info hover</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="sample-info-hover">
            <rect id="Rectangle-Copy-14" stroke="#737373" stroke-width="12" fill="#737373" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="row-2" transform="translate(314, 404) scale(-1, 1) translate(-314, -404)translate(8, 353)">
                <rect id="Rectangle" fill="#1B9E77" x="0" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy" fill="#377EB8" x="102" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-8" fill="#FDB46B" x="204" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#BAD1E9" x="306" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#4DAF4A" x="408" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#CBF03E" x="510" y="0" width="102" height="102"></rect>
            </g>
            <g id="row-1" transform="translate(8, 251)">
                <rect id="Rectangle" fill="#E41A1C" x="0" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy" fill="#377EB8" x="102" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-8" fill="#FDB46B" x="204" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#BC80BD" x="306" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#FFFFB3" x="408" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#ADE2CF" x="510" y="0" width="102" height="102"></rect>
            </g>
            <g id="row-0" transform="translate(8, 149)">
                <rect id="Rectangle" fill="#8DD3C7" x="0" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy" fill="#FBB4AE" x="102" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-8" fill="#7FC97F" x="204" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#ADE2CF" x="306" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#E41A1C" x="408" y="0" width="102" height="102"></rect>
                <rect id="Rectangle-Copy-7" fill="#3F70AE" x="510" y="0" width="102" height="102"></rect>
            </g>
            <rect id="Rectangle-Copy-15" stroke="#737373" stroke-width="12" x="6" y="6" width="613" height="613" rx="135"></rect>
            <rect id="scrim" fill="#000000" style="mix-blend-mode: hue;" x="8" y="149" width="612" height="306"></rect>
        </g>
    </g>
</svg>`;class Wq extends Oi{constructor(e,t){super(t,e,"Sample Info",Us,$q,Gq,!1),this.showSampleInfo=!1,this.button.addEventListener("mouseenter",()=>{this.showSampleInfo===!1&&this.setState(!0)}),this.button.addEventListener("mouseleave",()=>{this.showSampleInfo===!1&&this.setState(!1)}),this.button.addEventListener("click",()=>{this.performClickWithState(t,void 0)})}performClickWithState(e,t){this.showSampleInfo=t===void 0?!this.showSampleInfo:t;const i=e.columnContainer.querySelector(".igv-sample-info-column");i.style.display=this.showSampleInfo===!1?"none":"flex",this.setState(this.showSampleInfo),e.layoutChange()}setButtonVisibility(e){this.showSampleInfo=e,this.setState(this.showSampleInfo),this.showSampleInfo===!0?this.show():this.hide()}}const Kq=0;let _2=23,F3=0;const qs=function(n,e){this.browser=n,this.zoomContainer=Ce({class:"igv-zoom-widget"}),e.appendChild(this.zoomContainer),this.zoomOutButton=Ce(),this.zoomContainer.appendChild(this.zoomOutButton),this.zoomOutButton.appendChild(zr("minus-circle")),this.zoomOutButton.addEventListener("click",()=>{n.zoomOut()});const t=Ce();this.zoomContainer.appendChild(t),this.slider=document.createElement("input"),this.slider.type="range",this.slider.min=`${Kq}`,this.slider.max=`${_2}`,t.appendChild(this.slider),this.slider.addEventListener("change",i=>{i.preventDefault(),i.stopPropagation();const r=n.referenceFrameList[0],{bpLength:s}=r.genome.getChromosome(r.chr),{end:o,start:a}=r,l=o-a,c=Math.pow(2,i.target.valueAsNumber),h=s/c;n.zoomWithScaleFactor(h/l)}),this.zoomInButton=Ce(),this.zoomContainer.appendChild(this.zoomInButton),this.zoomInButton.appendChild(zr("plus-circle")),this.zoomInButton.addEventListener("click",()=>{n.zoomIn()}),n.on("locuschange",i=>{this.browser.isMultiLocusMode()?this.disable():(this.enable(),this.update(i))})};qs.prototype.update=function(n){const e=n[0],{bpLength:t}=e.genome.getChromosome(e.chr),{start:i,end:r}=e;_2=Math.ceil(Math.log2(t/this.browser.minimumBases())),this.slider.max=`${_2}`;const s=t/(r-i);F3=Math.log2(s),this.slider.value=`${Math.round(F3)}`};qs.prototype.enable=function(){this.slider.disabled=!1};qs.prototype.disable=function(){this.slider.disabled=!0};qs.prototype.hide=function(){this.zoomContainer.style.display="none"};qs.prototype.show=function(){this.zoomContainer.style.display="block"};qs.prototype.hideSlider=function(){this.slider.style.display="none"};qs.prototype.showSlider=function(){this.slider.style.display="block"};class Yq{constructor(e,t){this.parent=e,this.popover=Ce({class:"igv-ui-dropdown"}),e.appendChild(this.popover),this.popoverContent=Ce(),this.popover.appendChild(this.popoverContent),this.popover.style.display="none",this.shim=t}configure(e){if(e.length===0)return;const t=jm(e,this.popover);for(const{object:i}of t)this.popoverContent.appendChild(i)}present(e){this.popover.style.display="block";let{x:t,y:i}=Zt(e,this.parent);this.popover.style.left=`${t+this.shim.left}px`,this.popover.style.top=`${i+this.shim.top}px`}_present(e){this.popover.style.display="block";let{x:t,y:i,width:r}=Zt(e,this.parent);t+=this.shim.left,i+=this.shim.top,this.popover.style.top=`${i}px`;const{width:s}=this.popover.getBoundingClientRect(),o=t+s,a=o-r;this.popover.style.left=`${o>r?t-a:t}px`}dismiss(){this.popover.style.display="none"}}const Xq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>save image</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="save-image">
            <rect id="border" stroke="#737373" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="frame" transform="translate(66, 66)" fill="#737373" fill-rule="nonzero">
                <path d="M54.75,493 C39.69375,493 26.8046875,487.639062 16.0828125,476.917187 C5.3609375,466.195312 0,453.30625 0,438.25 L0,274 L54.75,274 L54.75,438.25 L219,438.25 L219,493 L54.75,493 Z" id="Path"></path>
                <path d="M274,493 L274,438.25 L438.25,438.25 L438.25,274 L493,274 L493,438.25 C493,453.30625 487.639062,466.195312 476.917187,476.917187 C466.195312,487.639062 453.30625,493 438.25,493 L274,493 Z" id="Path"></path>
                <path d="M0,219 L0,54.75 C0,39.69375 5.3609375,26.8046875 16.0828125,16.0828125 C26.8046875,5.3609375 39.69375,0 54.75,0 L219,0 L219,54.75 L54.75,54.75 L54.75,219 L0,219 Z" id="Path"></path>
                <path d="M438.25,219 L438.25,54.75 L274,54.75 L274,0 L438.25,0 C453.30625,0 466.195312,5.3609375 476.917187,16.0828125 C487.639062,26.8046875 493,39.69375 493,54.75 L493,219 L438.25,219 Z" id="Path"></path>
            </g>
            <rect id="border-hold-out-matte" fill="#FFFFFF" x="91" y="90" width="444" height="444" rx="38"></rect>
            <g id="artwork" transform="translate(148, 176)" fill="#737373" fill-rule="nonzero">
                <polygon id="Path" points="0 273 82.25 163.4 143.9375 245.6 226.1875 136 329 273"></polygon>
                <path d="M260,82 C248.155556,82 238.361111,78.1277778 230.616667,70.3833333 C222.872222,62.6388889 219,52.8444444 219,41 C219,29.1555556 222.872222,19.3611111 230.616667,11.6166667 C238.361111,3.87222222 248.155556,0 260,0 C271.844444,0 281.638889,3.87222222 289.383333,11.6166667 C297.127778,19.3611111 301,29.1555556 301,41 C301,52.8444444 297.127778,62.6388889 289.383333,70.3833333 C281.638889,78.1277778 271.844444,82 260,82 Z" id="Path"></path>
            </g>
        </g>
    </g>
</svg>`,Zq=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>save image</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="save-image">
            <rect id="border" stroke="#737373" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="frame" transform="translate(66, 66)" fill="#737373" fill-rule="nonzero">
                <path d="M54.75,493 C39.69375,493 26.8046875,487.639062 16.0828125,476.917187 C5.3609375,466.195312 0,453.30625 0,438.25 L0,274 L54.75,274 L54.75,438.25 L219,438.25 L219,493 L54.75,493 Z" id="Path"></path>
                <path d="M274,493 L274,438.25 L438.25,438.25 L438.25,274 L493,274 L493,438.25 C493,453.30625 487.639062,466.195312 476.917187,476.917187 C466.195312,487.639062 453.30625,493 438.25,493 L274,493 Z" id="Path"></path>
                <path d="M0,219 L0,54.75 C0,39.69375 5.3609375,26.8046875 16.0828125,16.0828125 C26.8046875,5.3609375 39.69375,0 54.75,0 L219,0 L219,54.75 L54.75,54.75 L54.75,219 L0,219 Z" id="Path"></path>
                <path d="M438.25,219 L438.25,54.75 L274,54.75 L274,0 L438.25,0 C453.30625,0 466.195312,5.3609375 476.917187,16.0828125 C487.639062,26.8046875 493,39.69375 493,54.75 L493,219 L438.25,219 Z" id="Path"></path>
            </g>
            <rect id="border-hold-out-matte" fill="#FFFFFF" x="91" y="90" width="444" height="444" rx="38"></rect>
            <g id="artwork" transform="translate(148, 176)" fill="#737373" fill-rule="nonzero">
                <polygon id="Path" points="0 273 82.25 163.4 143.9375 245.6 226.1875 136 329 273"></polygon>
                <path d="M260,82 C248.155556,82 238.361111,78.1277778 230.616667,70.3833333 C222.872222,62.6388889 219,52.8444444 219,41 C219,29.1555556 222.872222,19.3611111 230.616667,11.6166667 C238.361111,3.87222222 248.155556,0 260,0 C271.844444,0 281.638889,3.87222222 289.383333,11.6166667 C297.127778,19.3611111 301,29.1555556 301,41 C301,52.8444444 297.127778,62.6388889 289.383333,70.3833333 C281.638889,78.1277778 271.844444,82 260,82 Z" id="Path"></path>
            </g>
        </g>
    </g>
</svg>`;class Jq extends Oi{constructor(e,t){super(t,e,"Save Image",Us,Xq,Zq,!1),this.button.addEventListener("mouseenter",()=>this.setState(!0)),this.button.addEventListener("mouseleave",()=>{for(const r of this.button.querySelectorAll("div"))if(r.style.display==="block")return;this.setState(!1)}),this.dropdown=new Yq(this.button.parentNode,{top:24,left:-88});const i=[{label:"Save as SVG",click:r=>{this.browser.saveSVGtoFile("igvjs.svg"),this.dropdown.dismiss()}},{label:"Save as PNG",click:r=>{this.browser.savePNGtoFile("igvjs.png"),this.dropdown.dismiss()}}];this.dropdown.configure(i),this.button.addEventListener("click",r=>{let s;(r.target===this.button||r.target.closest("svg")&&r.target.closest("div")===this.button)&&(s=!0),s===!0&&(this.dropdown.popover.style.display==="none"?this.dropdown.present(r):this.dropdown.dismiss())}),this.setVisibility(t.config.showSVGButton)}navbarResizeHandler(e){this.dropdown.dismiss(),super.navbarResizeHandler(e)}}const y0={createColumns:(n,e)=>{for(let t=0;t<e;t++)t===0||n.appendChild(Ce({class:"igv-column-shim"})),rs(n,"igv-column")},removeColumnAtIndex:(n,e)=>{const t=n===0?e.nextElementSibling:e.previousElementSibling;e.remove(),t.remove()},insertAfter:n=>{const e=Ce({class:"igv-column-shim"});Gy(e,n);const t=Ce({class:"igv-column"});return Gy(t,e),t},insertBefore:(n,e)=>{for(let t=0;t<e;t++){const i=Ce({class:"igv-column"});if($y(i,n),e>1&&t>0){const r=Ce({class:"igv-column-shim"});$y(r,i)}}},indexOfColumn:(n,e)=>{const t=n.querySelectorAll(".igv-column");for(let i=0;i<t.length;i++)if(t[i]===e)return i}};class ej{constructor(e,t,i){this.browser=e,this.referenceFrame=t,this.column=i,this.container=Ce({class:"igv-center-line"}),i.appendChild(this.container),e.doShowCenterLine?this.show():this.hide()}repaint(){if(this.referenceFrame)if(1/this.referenceFrame.bpPerPixel>1){const t=Math.floor(this.referenceFrame.toPixels(1));this.container.style.width=`${t}px`,this.container.classList.remove("igv-center-line-thin"),this.container.classList.add("igv-center-line-wide")}else this.container.style.width="1px",this.container.classList.remove("igv-center-line-wide"),this.container.classList.add("igv-center-line-thin")}show(){this.isVisible=!0,this.container.style.display="block",this.repaint()}hide(){this.isVisible=!1,this.container.style.display="none"}resize(){this.repaint()}}const eu=function(n,e){this.button=Ce({class:"igv-navbar-button"}),n.appendChild(this.button),this.button.textContent="circular view",this.button.addEventListener("click",()=>{e.circularViewVisible=!e.circularViewVisible}),this.browser=e,this.setVisibility(e.config.showCircularViewButton),this.setState(e.circularViewVisible)};eu.prototype.setVisibility=function(n){n===!0?this.show():this.hide()};eu.prototype.setState=function(n){n===!0?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")};eu.prototype.show=function(){this.button.style.display="block",this.setState(this.browser.circularViewVisible)};eu.prototype.hide=function(){this.button.style.display="none"};const tj=function(n,e,t){const i=Ce({class:"igv-navbar-button"});n.append(i),i.textContent=t.label,i.addEventListener("click",()=>t.callback(e))},nj=1e6,ij=25e3;class rj{constructor(e,t){this.browser=e,this.container=Ce({class:"igv-roi-menu"}),t.appendChild(this.container);const i=Ce();this.container.appendChild(i),qo(i,()=>this.container.style.display="none"),this.body=Ce(),this.container.appendChild(this.body),this.container.style.display="none"}async present(e,t,i,r,s,o){const a=this.menuItems(e,t,i,r,s,o);this.browser.menuPopup.presentTrackContextMenu(i,a)}menuItems(e,t,i,r,s,o){const a=e.name?[`<b>${e.name}</b><br/>`]:[];return"name"in t&&a.push(`<b>ROI Set: ${t.name}</b>`),a.length>0&&a.push("<hr/>"),t.isUserDefined&&a.push({label:"Set description ...",click:()=>{const l=()=>{const h=this.browser.inputDialog.value||"";e.name=h.trim(),this.browser.roiManager.repaintTable()},c={label:"Description",value:e.name||"",callback:l};this.browser.inputDialog.present(c,i)}}),mp()&&e.end-e.start<nj&&a.push({label:"Copy reference sequence",click:async()=>{this.container.style.display="none";let l=await this.browser.genome.getSequence(e.chr,e.start,e.end);l||(l="Unknown sequence");try{await navigator.clipboard.writeText(l)}catch(c){console.error(c),this.browser.alert.present(`error copying sequence to clipboard ${c}`)}}}),e.end-e.start<=ij&&a.push({label:"BLAT reference sequence",click:async()=>{this.container.style.display="none";const{chr:l,start:c,end:h}=e;let u=await this.browser.genome.getSequence(l,c,h);if(u){const f=`blat: ${l}:${c+1}-${h}`,d=`blat: ${l}:${c+1}-${h}`;Pc({sequence:u,browser:this.browser,name:f,title:d})}}}),t.isUserDefined&&a.push("<hr/>",{label:"Delete",click:async()=>{t.removeFeature(e);const l=await t.getAllFeatures();Object.keys(l).length===0&&r.deleteUserDefinedROISet(),r.deleteRegionWithKey(o.dataset.region,s),r.repaintTable()}}),a}dispose(){this.container.innerHTML=""}}class Td extends P6{constructor(e){const t={browser:e,parent:e.columnContainer,headerTitle:"Regions of Interest",dismissHandler:()=>e.roiTableControl.buttonHandler(!1),gotoButtonHandler:Td.gotoButtonHandler};t.columnFormat=Td.getColumnFormatConfiguration(!0),super(Object.assign({width:"640px"},t))}tableRowDOM(e){const t=Ce({class:"igv-roi-table-row"}),{setName:i,feature:r}=e;t.dataset.region=C8(r.chr,r.start,r.end);let s=[r.chr,Ge(r.start),Ge(r.end),r.name||"",i];this.columnFormat.length===4&&(s=s.slice(0,4));for(let o=0;o<s.length;o++){const a=Ce();t.appendChild(a),a.style.width=this.columnFormat[o].width,a.innerText=s[o]}return this.tableRowDOMHelper(t),t}renderTable(e){if(Array.from(this.tableRowContainer.querySelectorAll(".igv-roi-table-row")).forEach(t=>t.remove()),e.length>0){const t=e.sort((i,r)=>i.feature.chr.localeCompare(r.feature.chr)||i.feature.start-r.feature.start||i.feature.end-r.feature.end);for(let i of t){const r=this.tableRowDOM(i);this.tableRowContainer.appendChild(r)}}}set footerDOM(e){super.footerDOM=e,this.gotoButton.textContent="Go to selected region(s)";const t=Ce({class:"igv-roi-table-button"});this._footerDOM.appendChild(t),t.id="igv-roi-hide-show-button",t.textContent="Copy Sequence",t.title="One region only of max size 1 mb",this.copySequenceButton=t,v0(this.copySequenceButton,!1);async function i(o){o.preventDefault(),o.stopPropagation();const a=this.tableDOM.querySelectorAll(".igv-roi-table-row-selected");if(a.length>0){const l=[];for(let c of a){const{locus:h}=Sf(c.dataset.region);l.push(h)}for(let c of this.tableDOM.querySelectorAll(".igv-roi-table-row"))c.classList.remove("igv-roi-table-row-selected");if(this.setTableRowSelectionState(!1),l.length>0){const{chr:c,start:h,end:u}=y2(l[0],this.browser.isSoftclipped()),f=await this.browser.genome.getSequence(c,h,u);await navigator.clipboard.writeText(f)}}}this.boundCopySequenceButtonHandler=i.bind(this),this.copySequenceButton.addEventListener("click",this.boundCopySequenceButtonHandler);const r=Ce({class:"igv-roi-table-button"});this._footerDOM.appendChild(r),r.id="igv-roi-hide-show-button",r.textContent="Hide all ROIs",this.toggleROIButton=r;function s(o){o.preventDefault(),o.stopPropagation(),this.browser.roiManager.toggleROIs()}this.boundToggleDisplayButtonHandler=s.bind(this),this.toggleROIButton.addEventListener("click",this.boundToggleDisplayButtonHandler)}setROIVisibility(e){const t=this.browser.columnContainer.querySelectorAll(".igv-roi-region");for(let i=0;i<t.length;i++){const r=t[i];e===!1?sj(r,0):r.style.backgroundColor=r.dataset.color}this.toggleROIButton.textContent=e===!1?"Show all ROIs":"Hide all ROIs"}setTableRowSelectionState(e){super.setTableRowSelectionState(e);const t=this.tableDOM.querySelectorAll(".igv-roi-table-row-selected");if(t.length>0&&t.length<2){const{locus:i}=Sf(t[0].dataset.region),{chr:r,start:s,end:o}=y2(i,this.browser.isSoftclipped());v0(this.copySequenceButton,o-s<1e6)}else v0(this.copySequenceButton,!1)}dispose(){document.removeEventListener("click",this.boundGotoButtonHandler),document.removeEventListener("click",this.boundCopySequenceButtonHandler),document.removeEventListener("click",this.boundToggleDisplayButtonHandler),this.browser.roiTableControl.buttonHandler(!1),super.dispose()}static getColumnFormatConfiguration(e){return e===!0?[{label:"Chr",width:"20%"},{label:"Start",width:"15%"},{label:"End",width:"15%"},{label:"Description",width:"30%"},{label:"ROI Set",width:"20%"}]:[{label:"Chr",width:"25%"},{label:"Start",width:"20%"},{label:"End",width:"20%"},{label:"Description",width:"35%"}]}static gotoButtonHandler(e){e.stopPropagation();const t=this.tableDOM.querySelectorAll(".igv-roi-table-row-selected"),i=[];for(let r of t){const{locus:s}=Sf(r.dataset.region);i.push(s)}for(let r of this.tableDOM.querySelectorAll(".igv-roi-table-row"))r.classList.remove("igv-roi-table-row-selected");this.setTableRowSelectionState(!1),i.length>0&&this.browser.search(i.join(" "))}}function v0(n,e){n.style.pointerEvents=e?"auto":"none",n.style.color=yn(e?"licorice":"silver"),n.style.borderColor=yn(e?"licorice":"silver")}function sj(n,e){const i=window.getComputedStyle(n).backgroundColor.match(/[\d.]+/g);i.length===3&&i.push(1),i[3]=e,n.style.backgroundColor=`rgba(${i.join(", ")})`}class oj{constructor(e){this.browser=e,this.roiMenu=new rj(e,e.columnContainer),this.roiTable=new Td(e,e.columnContainer),this.top=0,this.roiSets=[],this.boundLocusChangeHandler=aj.bind(this),e.on("locuschange",this.boundLocusChangeHandler);const t=()=>{const i=e.findTracks(h=>new Set(["ideogram","ruler"]).has(h.type)),[r,s]=i.map(h=>h.trackView.viewports[0].$viewport.get(0)).map(h=>JR(h)),o=r?r.height:0,a=s?s.height:0,l=e.columnContainer.querySelectorAll(".igv-roi-region"),c=-.5;if(l)for(const h of l)h.style.marginTop=`${o+a+c}px`};this.observer=new MutationObserver(t),this.observer.observe(e.columnContainer,{attributes:!0,childList:!0,subtree:!0})}async reset(){this.roiSets.length>0&&this.browser.roiTableControl.setVisibility(!0);const e=this.roiSets.map(i=>this.renderROISet({browser:this.browser,pixelTop:this.top,roiSet:i}));e.length>0&&await Promise.all(e);const t=await this.getTableRecords();if(this.roiTable.renderTable(t),this.roiSets.length>0){const i=this.roiSets[0].isVisible;this.roiTable.setROIVisibility(i)}}async loadROI(e,t){const i=Array.isArray(e)?e:[e];for(let r of i)!r.name&&r.url&&(r.name=await gp(r.url)),r.url&&!r.format&&(r.format=await vx(r)),this.roiSets.push(new xv(r,t));await this.reset()}clearROIs(){this.roiTable.clearTable();const e=this.browser.columnContainer.querySelectorAll(".igv-roi-region");for(let t of e)t.remove();for(let t of this.roiSets)t.dispose();this.roiSets=[]}async getTableRecords(){const e=[];for(let t of this.roiSets){const i=t.name||"",r=await t.getAllFeatures();for(let s of Object.keys(r))for(let o of r[s])e.push({setName:i,feature:o})}return e}presentTable(){this.roiTable.present()}async repaintTable(){const e=await this.getTableRecords();this.roiTable.renderTable(e)}dismissTable(){this.roiTable.dismiss()}roiTableIsVisible(){return this.roiTable.isVisible()}async updateUserDefinedROISet(e){let t=await this.getUserDefinedROISet();t===void 0&&(t=this.initializeUserDefinedROISet()),t.addFeature(e),this.setROITableButtonVisibility(!0),await this.renderROISet({browser:this.browser,pixelTop:this.top,roiSet:t});const i=await this.getTableRecords();this.roiTable.renderTable(i)}setROITableButtonVisibility(e){this.browser.roiTableControl.setVisibility(e)}toggleROIs(){const e=!this.roiSets[0].isVisible;this.roiTable.setROIVisibility(e);for(const t of this.roiSets)t.isVisible=e}async renderAllROISets(){for(let e of this.roiSets)await this.renderROISet({browser:this.browser,pixelTop:this.top,roiSet:e})}async renderROISet({browser:e,pixelTop:t,roiSet:i}){const r=e.columnContainer.querySelectorAll(".igv-column");for(let s=0;s<r.length;s++){let{chr:o,start:a,end:l,bpPerPixel:c}=e.referenceFrameList[s];const h=r[s].querySelectorAll(".igv-roi-region");for(let f of h){const d=f.dataset.region,{chr:p,start:w,end:F}=Sf(d);(p!==o||F<a||w>l)&&f.remove()}const u=await i.getFeatures(o,a,l);if(u)for(let f of u){const d=C8(o,f.start,f.end),{x:p,width:w}=Q6(Math.max(a,f.start),Math.min(l,f.end),a,c),F=r[s].querySelector(y3(d));if(F)F.style.left=`${p}px`,F.style.width=`${w}px`;else{const g=this.createRegionElement(e.columnContainer,t,p,w,i,d,f);r[s].appendChild(g)}}}}createRegionElement(e,t,i,r,s,o,a){const l=Ce({class:"igv-roi-region"});l.style.top=`${t}px`,l.style.left=`${i}px`,l.style.width=`${r}px`,l.style.backgroundColor=s.color,l.dataset.color=s.color,l.dataset.region=o;const c=Ce();return l.appendChild(c),c.style.backgroundColor=s.headerColor,c.addEventListener("click",h=>{h.preventDefault(),h.stopPropagation(),Zt(h,e),this.roiMenu.present(a,s,h,this,e,l)}),l}renderSVGContext(e,t,{deltaX:i,deltaY:r}){for(const s of e.querySelectorAll(".igv-roi-region")){const{x:o,y:a,width:l,height:c}=s.getBoundingClientRect();t.fillStyle=s.style.backgroundColor,t.fillRect(o-i,a+r,l,c);const h=s.querySelector("div"),{x:u,y:f,width:d,height:p}=h.getBoundingClientRect();t.fillStyle=h.style.backgroundColor,t.fillRect(u-i,f+r,d,p)}}getUserDefinedROISet(){return this.roiSets.find(e=>e.isUserDefined===!0)}deleteUserDefinedROISet(){this.roiSets=this.roiSets.filter(e=>e.isUserDefined!==!0)}initializeUserDefinedROISet(){const e={name:"user defined",isUserDefined:!0,features:[]},t=new xv(e,this.browser.genome);return this.roiSets.push(t),t}async deleteRegionWithKey(e,t){t.querySelectorAll(y3(e)).forEach(r=>r.remove()),(await this.getTableRecords()).length===0&&(this.browser.roiTableControl.buttonHandler(!1),this.setROITableButtonVisibility(!1))}toJSON(){return this.roiSets.map(e=>e.toJSON())}dispose(){this.browser.off("locuschange",this.boundLocusChangeHandler);const e=this.browser.columnContainer.querySelectorAll(".igv-roi-region");for(let t of e)t.remove();this.roiMenu&&this.roiMenu.dispose(),this.roiTable&&this.roiTable.dispose();for(let t of this.roiSets)t.dispose();for(let t of Object.keys(this))this[t]=void 0}}function aj(){this.renderAllROISets()}function C8(n,e,t){return`${n}-${e}-${t}`}function y3(n){return`[data-region="${n}"]`}function Sf(n){let e=n.split("-"),t=parseInt(e.pop()),i=parseInt(e.pop()),r=e.join("-");return{chr:r,start:i,end:t,locus:`${r}:${i}-${t}`,bedRecord:`${r}	${i}	${t}`}}class lj{constructor(e,t){this.name=e.name,this.featureSource=e.featureSource||$n(e,t),this.color=e.color||dw}async getFeatures(e,t,i){return this.featureSource.getFeatures({chr:e,start:t,end:i})}draw(e){const{context:t,bpPerPixel:i,bpStart:r,pixelTop:s,pixelHeight:o,pixelWidth:a,features:l}=e;if(!l)return;const c=r+a*i+1;for(let{start:h,end:u}of l){if(u<r)continue;if(h>c)break;const{x:f,width:d}=Q6(h,u,r,i);pe.fillRect(t,f,s,d,o,{fillStyle:this.color})}}}const cj=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>roi</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="roi">
            <rect id="Rectangle-Copy-23" stroke="#737373" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <text id="ROI" font-family="HelveticaNeue-Bold, Helvetica Neue" font-size="258" font-weight="bold" fill="#737373">
                <tspan x="81.445" y="389">ROI</tspan>
            </text>
        </g>
    </g>
</svg>`,hj=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>roi hover</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="roi-hover">
            <rect id="Rectangle-Copy-24" stroke="#737373" stroke-width="12" fill="#737373" x="6" y="6" width="613" height="613" rx="135"></rect>
            <text id="ROI" font-family="HelveticaNeue-Bold, Helvetica Neue" font-size="258" font-weight="bold" fill="#FFFFFF">
                <tspan x="81.445" y="389">ROI</tspan>
            </text>
        </g>
    </g>
</svg>`;class uj extends Oi{constructor(e,t){super(t,e,["ROI","Regions of Interest Table"],Us,cj,hj,!1),this.button.addEventListener("mouseenter",()=>{t.doShowROITable===!1&&this.setState(!0)}),this.button.addEventListener("mouseleave",()=>{t.doShowROITable===!1&&this.setState(!1)}),this.button.addEventListener("click",()=>this.buttonHandler(!t.doShowROITable)),this.setVisibility(!1)}buttonHandler(e){this.setState(e),this.browser.setROITableVisibility(e)}}async function fj(n){const e=n.browsers[0],t={},i=new ww({url:e.url});await i.readHeaderAndFooter(),t.sampleNameViewportWidth=20,t.genome="hg38";const r=e.state.split(","),s=i.bpResolutions[Number.parseInt(r[2])],o=1700,a=Number.parseInt(r[0]),l=Math.floor(Number.parseFloat(r[3])*s),c=l+Math.floor(o*s);return t.locus=`${i.chromosomes[a].name}:${l}-${c}`,t.tracks=(e.tracks||[]).filter(h=>!(h.format==="refgene"||h.name==="cellType")),t.tracks.push({type:"shoebox",url:e.url,name:e.name,colorScale:e.colorScale,_hicFile:i}),t}const dj=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>multi select</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="multi-select">
            <rect id="backdrop-copy-3" stroke="#737373" stroke-width="12" fill="#FFFFFF" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="row-copy-3" transform="translate(81, 427)" fill="#737373">
                <rect id="Rectangle" x="134" y="0" width="329" height="70"></rect>
                <rect id="Rectangle-Copy-16" stroke="#737373" stroke-width="12" x="6" y="6" width="58" height="58"></rect>
            </g>
            <g id="row-copy-2" transform="translate(82, 277)">
                <rect id="Rectangle" fill-opacity="0.33" fill="#CFCECE" x="133" y="0" width="329" height="70"></rect>
                <rect id="Rectangle-Copy-16" stroke-opacity="0.32659528" stroke="#CFCECE" stroke-width="12" x="6" y="6" width="58" height="58"></rect>
            </g>
            <g id="row-copy" transform="translate(81, 119)" fill="#737373">
                <rect id="Rectangle" x="134" y="0" width="329" height="70"></rect>
                <rect id="Rectangle-Copy-17" stroke="#737373" stroke-width="12" x="6" y="6" width="58" height="58"></rect>
            </g>
        </g>
    </g>
</svg>`,pj=`<svg width="625px" height="625px" viewBox="0 0 625 625" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>multi select hover</title>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="multi-select-hover">
            <rect id="backdrop-copy-4" stroke="#737373" stroke-width="12" fill="#737373" x="6" y="6" width="613" height="613" rx="135"></rect>
            <g id="row-copy-3" transform="translate(81, 427)" fill="#FFFFFF">
                <rect id="Rectangle" x="134" y="0" width="329" height="70"></rect>
                <rect id="Rectangle-Copy-16" stroke="#FFFFFF" stroke-width="12" x="6" y="6" width="58" height="58"></rect>
            </g>
            <g id="row-copy-2" transform="translate(82, 277)">
                <rect id="Rectangle" fill-opacity="0.33" fill="#CFCECE" x="133" y="0" width="329" height="70"></rect>
                <rect id="Rectangle-Copy-16" stroke-opacity="0.33" stroke="#CFCECE" stroke-width="12" x="6" y="6" width="58" height="58"></rect>
            </g>
            <g id="row-copy" transform="translate(81, 119)" fill="#FFFFFF">
                <rect id="Rectangle" x="134" y="0" width="329" height="70"></rect>
                <rect id="Rectangle-Copy-17" stroke="#FFFFFF" stroke-width="12" x="6" y="6" width="58" height="58"></rect>
            </g>
        </g>
    </g>
</svg>`;class gj extends Oi{constructor(e,t,i){super(e,t,"Select Tracks",Us,dj,pj,i=!1),this.enableMultiTrackSelection=i,this.button.addEventListener("mouseenter",s=>{i===!1&&this.setState(!0)}),this.button.addEventListener("mouseleave",s=>{i===!1&&this.setState(!1)});const r=()=>{this.setMultiTrackSelection(!this.enableMultiTrackSelection)};this.boundMouseClickHandler=r.bind(this),this.button.addEventListener("click",this.boundMouseClickHandler),this.setVisibility(!0)}setMultiTrackSelection(e){this.enableMultiTrackSelection=e;for(const t of this.browser.trackViews)bf.has(t.track.type)===!1&&(t.setTrackSelectionState(t.axis,this.enableMultiTrackSelection),this.enableMultiTrackSelection||(t.track.selected=!1));this.setState(this.enableMultiTrackSelection),this.enableMultiTrackSelection===!1&&this.browser.overlayTrackButton.setVisibility(!1)}}class mj{constructor(e,t,i){Re(this,"aliasRecordCache",new Map);t=t||{},t.url=e,this.reader=new T6(t,i)}getChromosomeName(e){return this.aliasRecordCache.has(e)?this.aliasRecordCache.get(e).chr:e}getChromosomeAlias(e,t){const i=this.aliasRecordCache.get(e);return i&&i[t]||e}async search(e){if(!this.aliasRecordCache.has(e)){const t=await this.reader.search(e);if(t)for(let i of Object.keys(t))i!=="start"&&i!=="end"&&this.aliasRecordCache.set(t[i],t)}return this.aliasRecordCache.get(e)}async getChromosomeNames(){return await this.reader.loadHeader(),Array.from(this.reader.chrNames)}}class wj{constructor(e,t,i){Re(this,"aliasRecordCache",new Map);this.aliasURL=e,this.config=t,this.genome=i}getChromosomeName(e){return this.aliasRecordCache.has(e)?this.aliasRecordCache.get(e).chr:e}getChromosomeAlias(e,t){const i=this.aliasRecordCache.get(e);return i&&i[t]||e}async loadAliases(){const e=await Be.loadString(this.aliasURL,Qe(this.config)),t=Qo(e),i=t[0];i.startsWith("#")&&(this.headings=i.substring(1).split("	").map(s=>s.trim()),this.altNameSets=this.headings.slice(1));const r=this.genome.chromosomeNames?new Set(this.genome.chromosomeNames):new Set;for(let s of t)if(!s.startsWith("#")&&s.length>0){const o=s.split("	");let a=o.find(c=>r.has(c));a||(a=o[0]);const l={chr:a};for(let c=0;c<o.length;c++){const h=this.headings?this.headings[c]:c;l[h]=o[c],this.aliasRecordCache.set(o[c],l)}}}async search(e){return this.aliasRecordCache.size===0&&await this.loadAliases(),this.aliasRecordCache.get(e)}}class x8{constructor(e,t,i,r){this.start=e,this.end=t,this.name=i,this.stain=0,r==="acen"?this.type="c":(this.type=r.charAt(1),this.type==="p"&&(this.stain=parseInt(r.substring(4))))}}var $d,k8;class bj{constructor(e,t,i){Pe(this,$d);Re(this,"cytobandMap",new Map);t=t||{},t.url=e,this.source=new cw(t,i)}async getCytobands(e){if(this.cytobandMap.has(e))return this.cytobandMap.get(e);{let t=await $e(this,$d,k8).call(this,e);return t||(t=[]),this.cytobandMap.set(e,t),t}}}$d=new WeakSet,k8=async function(e){return(await this.source.getFeatures({chr:e})).map(i=>new x8(i.start,i.end,i.name,i.gieStain))};var $a,If;class Fj{constructor(e,t){Pe(this,$a);Re(this,"cytobands",new Map);this.url=e,this.config=t}async getCytobands(e){return this.cytobands.size===0&&await $e(this,$a,If).call(this),this.cytobands.get(e)}async getChromosomeNames(){return this.cytobands.size===0&&await $e(this,$a,If).call(this),Array.from(this.cytobands.keys())}async getChromosomes(){this.cytobands.size===0&&await $e(this,$a,If).call(this);const e=[];let t=0;for(let[i,r]of this.cytobands.entries())e.push(new Ro(i,t++,r[r.length-1].end));return e}}$a=new WeakSet,If=async function(){let e;if(qr(this.url)){const s=Hs(this.url);e="";const o=s.length;for(let a=0;a<o;a++)e+=String.fromCharCode(s[a])}else e=await Be.loadString(this.url,Qe(this.config));let t,i=[];const r=Qo(e);for(let s of r){const o=s.split("	"),a=o[0];if(t||(t=a),a!==t&&(this.cytobands.set(t,i),i=[],t=a),o.length===5){const l=parseInt(o[1]),c=parseInt(o[2]),h=o[3],u=o[4];i.push(new x8(l,c,h,u))}}};class Mw{constructor(e,t){Re(this,"aliasRecordCache",new Map);this.genomeID=e,this.update(e,t)}getChromosomeName(e){return this.aliasRecordCache.has(e)?this.aliasRecordCache.get(e).chr:e}getChromosomeAlias(e,t){const i=this.aliasRecordCache.get(e);return i&&i[t]||e}update(e,t){if(t){const i=[];for(let r of t){if(this.aliasRecordCache.has(r))continue;let s=!1;const o={chr:r};if(i.push(o),r.startsWith("gi|")){const a=Mw.getNCBIName(r);o["ncbi-gi-versioned"]=a;const l=a.lastIndexOf(".");if(l>0){const c=c.substring(0,l);o["ncbi-gi"]=c}}else{if(e.startsWith("hg")||e.startsWith("GRCh")||e==="1kg_ref"||e==="b37")switch(r){case"23":o.ucsc="chrX",s=!0;break;case"24":o.ucsc="chrY",s=!0;break;case"chrX":o.ncbi="23",s=!0;break;case"chrY":o.ncbi="24",s=!0;break}else if(e.startsWith("mm")||e.startsWith("GRCm")||e.startsWith("rheMac"))switch(r){case"21":o.ucsc="chrX",s=!0;break;case"22":o.ucsc="chrY",s=!0;break;case"chrX":o.ncbi="21",s=!0;break;case"chrY":o.ncbi="22",s=!0;break}if(s)continue;r==="chrM"?o.ncbi="MT":r==="MT"?o.ucsc="chrM":r.toLowerCase().startsWith("chr")?o.ncbi=r.substring(3):Number.isInteger(Number(r))&&(o.ucsc="chr"+r)}}for(let r of i)for(let s of Object.values(r))this.aliasRecordCache.set(s,r)}}search(e){return this.aliasRecordCache.get(e)}static getNCBIName(e){const t=e.split("\\|");return t[t.length-1]}}var xn;const sb=class sb{constructor(e,t){Pe(this,xn);this.config=e,this.browser=t,this.id=e.id||vj(e),this.name=e.name,this.nameSet=e.nameSet}static async createGenome(e,t){const i=new sb(e,t);return await i.init(),i}async init(){const e=this.config;if(this.sequence=await s6(e,this.browser),e.chromSizesURL?this.chromosomes=await uM(e.chromSizesURL):this.chromosomes=this.sequence.chromosomes||new Map,this.chromosomes.size>0&&(this.chromosomeNames=Array.from(this.chromosomes.keys())),e.chromAliasBbURL?(this.chromAlias=new mj(e.chromAliasBbURL,Object.assign({},e),this),this.chromosomeNames||(this.chromosomeNames=await this.chromAlias.getChromosomeNames())):e.aliasURL?this.chromAlias=new wj(e.aliasURL,Object.assign({},e),this):this.chromosomeNames&&(this.chromAlias=new Mw(this.id,this.chromosomeNames)),e.cytobandBbURL)this.cytobandSource=new bj(e.cytobandBbURL,Object.assign({},e),this),this.chromosomeNames||(this.chromosomeNames=await this.cytobandSource.getChromosomeNames());else if(e.cytobandURL&&(this.cytobandSource=new Fj(e.cytobandURL,Object.assign({},e)),this.chromosomeNames||(this.chromosomeNames=await this.cytobandSource.getChromosomeNames()),this.chromosomes.size===0)){const t=await this.cytobandSource.getChromosomes();for(let i of t)this.chromosomes.set(t.name,t)}if(e.wholeGenomeView!==!1&&this.chromosomes.size>0&&(e.chromosomeOrder?Array.isArray(e.chromosomeOrder)?Ue(this,xn,e.chromosomeOrder):Ue(this,xn,e.chromosomeOrder.split(",").map(t=>t.trim())):Ue(this,xn,yj(this.chromosomes))),this.wholeGenomeView=e.wholeGenomeView!==!1&&he(this,xn)&&this.chromosomes.size>1,this.wholeGenomeView){const t=he(this,xn).reduce((i,r)=>i+=this.chromosomes.get(r).bpLength,0);this.chromosomes.set("all",new Ro("all",0,t))}}get description(){return this.config.description||`${this.id}
${this.name}`}get infoURL(){return this.config.infoURL}showWholeGenomeView(){return this.wholeGenomeView}toJSON(){return Object.assign({},this.config,{tracks:void 0})}get initialLocus(){return this.config.locus?this.config.locus:this.getHomeChromosomeName()}getHomeChromosomeName(){return this.showWholeGenomeView()&&this.chromosomes.has("all")?"all":this.chromosomeNames[0]}getChromosomeName(e){return this.chromAlias?this.chromAlias.getChromosomeName(e,this.chromosomes.keys()):e}getChromosomeDisplayName(e){return this.nameSet&&this.chromAlias&&this.chromAlias.getChromosomeAlias(e,this.nameSet)||e}getChromosome(e){return this.chromAlias&&(e=this.chromAlias.getChromosomeName(e)),this.chromosomes.get(e)}async loadChromosome(e){if(this.chromAlias){const t=await this.chromAlias.search(e);t&&(e=t.chr)}if(!this.chromosomes.has(e)){let t;const i=await this.sequence.getSequenceRecord(e);i&&(t=new Ro(e,0,i.bpLength)),this.chromosomes.set(e,t)}return this.chromosomes.get(e)}async getAliasRecord(e){if(this.chromAlias)return this.chromAlias.search(e)}async getCytobands(e){if(this.cytobandSource){const t=this.getChromosomeName(e);return await this.cytobandSource.getCytobands(t)}}getChromosomes(){return this.chromosomes}get wgChromosomeNames(){return he(this,xn)?he(this,xn).slice():void 0}get showChromosomeWidget(){return this.config.showChromosomeWidget}getGenomeCoordinate(e,t){var i=this.getCumulativeOffset(e);if(i!==void 0)return i+t}getChromosomeCoordinate(e){this.cumulativeOffsets===void 0&&(this.cumulativeOffsets=computeCumulativeOffsets.call(this));let t,i=0;for(let r of he(this,xn)){const s=this.cumulativeOffsets[r];if(s>e){const o=e-i;return{chr:t,position:o}}t=r,i=s}return{chr:he(this,xn)[he(this,xn).length-1],position:0}}getCumulativeOffset(e){this.cumulativeOffsets===void 0&&(this.cumulativeOffsets=i.call(this));const t=this.getChromosomeName(e);return this.cumulativeOffsets[t];function i(){let r={},s=0;for(let o of he(this,xn)){r[o]=Math.floor(s);const a=this.getChromosome(o);s+=a.bpLength}return r}}getGenomeLength(){if(!this.bpLength){let e=0;for(let t of he(this,xn)){let i=this.chromosomes.get(t);e+=i.bpLength}this.bpLength=e}return this.bpLength}async getSequence(e,t,i){return e=this.getChromosomeName(e),this.sequence.getSequence(e,t,i)}getSequenceInterval(e,t,i){if(typeof this.sequence.getSequenceInterval=="function")return this.sequence.getSequenceInterval(e,t,i)}};xn=new WeakMap;let C2=sb;function yj(n){const e=[];let t,i=1;for(let r of n.values()){if(!t)t=r.bpLength,e.push(r.name);else{if(r.bpLength<t/100)continue;t=((i-1)*t+r.bpLength)/i,e.push(r.name)}i++}return e}function vj(n){return n.id!==void 0?n.id:n.fastaURL&&St(n.fastaURL)&&!n.fastaURL.startsWith("data:")?n.fastaURL:n.fastaURL&&n.fastaURL.name?n.fastaURL.name:""}var Aj=`.igv-ui-dropdown {
  cursor: default;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 2048;
  border-color: #7F7F7F;
  border-style: solid;
  border-width: 1px;
  font-family: "Open Sans", sans-serif;
  font-size: small;
  font-weight: 400;
  background-color: white;
}
.igv-ui-dropdown > div {
  overflow-y: auto;
  overflow-x: hidden;
  background-color: white;
}
.igv-ui-dropdown > div > div {
  padding: 4px;
  width: 100%;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  border-bottom-color: #7F7F7F;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  background-color: white;
}
.igv-ui-dropdown > div > div:last-child {
  border-bottom-color: transparent;
  border-bottom-width: 0;
}
.igv-ui-dropdown > div > div:hover {
  cursor: pointer;
  background-color: rgba(0, 0, 0, 0.04);
}

.igv-ui-popover {
  cursor: default;
  position: absolute;
  z-index: 2048;
  border-color: #7F7F7F;
  border-radius: 4px;
  border-style: solid;
  border-width: 1px;
  font-family: "Open Sans", sans-serif;
  font-size: small;
  background-color: white;
}
.igv-ui-popover > div:first-child {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  height: 24px;
  cursor: move;
  border-top-width: 0;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-color: #7F7F7F;
  border-bottom-style: solid;
  border-bottom-width: thin;
  background-color: #eee;
}
.igv-ui-popover > div:first-child > div:first-child {
  margin-left: 4px;
}
.igv-ui-popover > div:first-child > div:last-child {
  margin-right: 4px;
  height: 12px;
  width: 12px;
  color: #7F7F7F;
}
.igv-ui-popover > div:first-child > div:last-child:hover {
  cursor: pointer;
  color: #444;
}
.igv-ui-popover > div:last-child {
  user-select: text;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 400px;
  max-width: 800px;
  background-color: white;
  border-bottom-width: 0;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}
.igv-ui-popover > div:last-child > div {
  margin-left: 4px;
  margin-right: 4px;
  min-width: 220px;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.igv-ui-popover > div:last-child > div > span {
  font-weight: bolder;
}
.igv-ui-popover > div:last-child hr {
  width: 100%;
}

.igv-ui-alert-dialog-container {
  box-sizing: content-box;
  position: absolute;
  z-index: 2048;
  top: 50%;
  left: 50%;
  width: 400px;
  height: 200px;
  border-color: #7F7F7F;
  border-radius: 4px;
  border-style: solid;
  border-width: thin;
  outline: none;
  font-family: "Open Sans", sans-serif;
  font-size: 15px;
  font-weight: 400;
  background-color: white;
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
}
.igv-ui-alert-dialog-container > div:first-child {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  height: 24px;
  cursor: move;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-color: #7F7F7F;
  border-bottom-style: solid;
  border-bottom-width: thin;
  background-color: #eee;
}
.igv-ui-alert-dialog-container > div:first-child div:first-child {
  padding-left: 8px;
}
.igv-ui-alert-dialog-container .igv-ui-alert-dialog-body {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
  color: #373737;
  width: 100%;
  height: calc(100% - 24px - 64px);
  overflow-y: scroll;
}
.igv-ui-alert-dialog-container .igv-ui-alert-dialog-body .igv-ui-alert-dialog-body-copy {
  margin: 16px;
  width: auto;
  height: auto;
  overflow-wrap: break-word;
  word-break: break-word;
  background-color: white;
  border: unset;
}
.igv-ui-alert-dialog-container > div:last-child {
  width: 100%;
  margin-bottom: 10px;
  background-color: white;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: center;
  align-items: center;
}
.igv-ui-alert-dialog-container > div:last-child div {
  margin: unset;
  width: 40px;
  height: 30px;
  line-height: 30px;
  text-align: center;
  color: white;
  font-family: "Open Sans", sans-serif;
  font-size: small;
  font-weight: 400;
  border-color: #2B81AF;
  border-style: solid;
  border-width: thin;
  border-radius: 4px;
  background-color: #2B81AF;
}
.igv-ui-alert-dialog-container > div:last-child div:hover {
  cursor: pointer;
  border-color: #25597f;
  background-color: #25597f;
}

.igv-ui-color-swatch {
  position: relative;
  box-sizing: content-box;
  display: flex;
  flex-flow: row;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  width: 32px;
  height: 32px;
  border-style: solid;
  border-width: 2px;
  border-color: white;
  border-radius: 4px;
}

.igv-ui-color-swatch:hover {
  border-color: dimgray;
}

.igv-ui-colorpicker-menu-close-button {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
  width: 100%;
  height: 32px;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-right: 8px;
}
.igv-ui-colorpicker-menu-close-button i.fa {
  display: block;
  margin-left: 4px;
  margin-right: 4px;
  color: #5f5f5f;
}
.igv-ui-colorpicker-menu-close-button i.fa:hover,
.igv-ui-colorpicker-menu-close-button i.fa:focus,
.igv-ui-colorpicker-menu-close-button i.fa:active {
  cursor: pointer;
  color: #0f0f0f;
}

.igv-ui-generic-dialog-container {
  box-sizing: content-box;
  position: fixed;
  top: 0;
  left: 0;
  width: 300px;
  height: fit-content;
  padding-bottom: 16px;
  border-color: #7F7F7F;
  border-radius: 4px;
  border-style: solid;
  border-width: thin;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  z-index: 2048;
  background-color: white;
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
  width: 100%;
  height: 24px;
  cursor: move;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-color: #7F7F7F;
  border-bottom-style: solid;
  border-bottom-width: thin;
  background-color: #eee;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div {
  margin-right: 4px;
  margin-bottom: 2px;
  height: 12px;
  width: 12px;
  color: #7F7F7F;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div:hover {
  cursor: pointer;
  color: #444;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-one-liner {
  color: #373737;
  width: 95%;
  height: 24px;
  line-height: 24px;
  text-align: left;
  margin-top: 8px;
  padding-left: 8px;
  overflow-wrap: break-word;
  background-color: white;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input {
  margin-top: 8px;
  width: 95%;
  height: 24px;
  color: #373737;
  line-height: 24px;
  padding-left: 8px;
  background-color: white;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input > div {
  width: fit-content;
  height: 100%;
  font-size: 16px;
  text-align: right;
  padding-right: 8px;
  background-color: white;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {
  display: block;
  height: 100%;
  width: 100%;
  padding-left: 4px;
  font-family: "Open Sans", sans-serif;
  font-weight: 400;
  color: #373737;
  text-align: left;
  outline: none;
  border-style: solid;
  border-width: thin;
  border-color: #7F7F7F;
  background-color: white;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {
  width: 50%;
  font-size: 16px;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input {
  margin-top: 8px;
  width: calc(100% - 16px);
  height: 24px;
  color: #373737;
  line-height: 24px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {
  display: block;
  height: 100%;
  width: 100%;
  padding-left: 4px;
  font-family: "Open Sans", sans-serif;
  font-weight: 400;
  color: #373737;
  text-align: left;
  outline: none;
  border-style: solid;
  border-width: thin;
  border-color: #7F7F7F;
  background-color: white;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {
  font-size: 16px;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input[type=range] {
  width: 70%;
  -webkit-appearance: none;
  background: linear-gradient(90deg, white, black);
  outline: none;
  margin: 0;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-input output {
  display: block;
  height: 100%;
  width: 20%;
  font-size: 16px;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel {
  width: 100%;
  height: 28px;
  padding-top: 16px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel > div {
  color: white;
  font-family: "Open Sans", sans-serif;
  font-size: 14px;
  font-weight: 400;
  width: 75px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  border-color: transparent;
  border-style: solid;
  border-width: thin;
  border-radius: 2px;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel > div:first-child {
  margin-left: 32px;
  margin-right: 0;
  background-color: #5ea4e0;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel > div:last-child {
  margin-left: 0;
  margin-right: 32px;
  background-color: #c4c4c4;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel > div:first-child:hover {
  cursor: pointer;
  background-color: #3b5c7f;
}
.igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel > div:last-child:hover {
  cursor: pointer;
  background-color: #7f7f7f;
}

.igv-ui-generic-container {
  box-sizing: content-box;
  position: absolute;
  z-index: 2048;
  background-color: white;
  cursor: pointer;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-ui-generic-container > div:first-child {
  cursor: move;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
  height: 24px;
  width: 100%;
  background-color: #dddddd;
}
.igv-ui-generic-container > div:first-child > div {
  display: block;
  color: #5f5f5f;
  cursor: pointer;
  width: 14px;
  height: 14px;
  margin-right: 8px;
  margin-bottom: 4px;
}

.igv-ui-dialog {
  z-index: 2048;
  position: fixed;
  width: fit-content;
  height: fit-content;
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  background-color: white;
  border-color: #7F7F7F;
  border-radius: 4px;
  border-style: solid;
  border-width: thin;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
}
.igv-ui-dialog .igv-ui-dialog-header {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
  width: 100%;
  height: 24px;
  cursor: move;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-color: #7F7F7F;
  border-bottom-style: solid;
  border-bottom-width: thin;
  background-color: #eee;
}
.igv-ui-dialog .igv-ui-dialog-header div {
  margin-right: 4px;
  margin-bottom: 2px;
  height: 12px;
  width: 12px;
  color: #7F7F7F;
}
.igv-ui-dialog .igv-ui-dialog-header div:hover {
  cursor: pointer;
  color: #444;
}
.igv-ui-dialog .igv-ui-dialog-one-liner {
  width: 95%;
  height: 24px;
  line-height: 24px;
  text-align: left;
  margin: 8px;
  overflow-wrap: break-word;
  background-color: white;
  font-weight: bold;
}
.igv-ui-dialog .igv-ui-dialog-ok-cancel {
  width: 100%;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
}
.igv-ui-dialog .igv-ui-dialog-ok-cancel div {
  margin: 16px;
  margin-top: 32px;
  color: white;
  font-family: "Open Sans", sans-serif;
  font-size: 14px;
  font-weight: 400;
  width: 75px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  border-color: transparent;
  border-style: solid;
  border-width: thin;
  border-radius: 2px;
}
.igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child {
  background-color: #5ea4e0;
}
.igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child {
  background-color: #c4c4c4;
}
.igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child:hover {
  cursor: pointer;
  background-color: #3b5c7f;
}
.igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child:hover {
  cursor: pointer;
  background-color: #7f7f7f;
}
.igv-ui-dialog .igv-ui-dialog-ok {
  width: 100%;
  height: 36px;
  margin-top: 32px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
}
.igv-ui-dialog .igv-ui-dialog-ok div {
  width: 98px;
  height: 36px;
  line-height: 36px;
  text-align: center;
  color: white;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  border-color: white;
  border-style: solid;
  border-width: thin;
  border-radius: 4px;
  background-color: #2B81AF;
}
.igv-ui-dialog .igv-ui-dialog-ok div:hover {
  cursor: pointer;
  background-color: #25597f;
}

.igv-ui-panel, .igv-ui-panel-row, .igv-ui-panel-column {
  z-index: 2048;
  background-color: white;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  display: flex;
  justify-content: flex-start;
  align-items: flex-start;
}

.igv-ui-panel-column {
  display: flex;
  flex-direction: column;
}

.igv-ui-panel-row {
  display: flex;
  flex-direction: row;
}

.igv-ui-textbox {
  background-color: white;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  display: flex;
  justify-content: flex-start;
  align-items: flex-start;
}

.igv-ui-table {
  background-color: white;
}

.igv-ui-table thead {
  position: sticky;
  top: 0;
}

.igv-ui-table th {
  text-align: left;
}

.igv-ui-table td {
  padding-right: 20px;
}

.igv-ui-table tr:hover {
  background-color: lightblue;
}

.igv-ui-center-fixed {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.igv-navbar {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  color: #444;
  font-size: 12px;
  font-family: "Open Sans", sans-serif;
  font-weight: 400;
  line-height: 32px;
  padding-left: 8px;
  padding-right: 8px;
  margin-top: 2px;
  margin-bottom: 6px;
  height: 32px;
  border-style: solid;
  border-radius: 3px;
  border-width: thin;
  border-color: #bfbfbf;
  background-color: #f3f3f3;
}
.igv-navbar .igv-navbar-left-container {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
  height: 32px;
  line-height: 32px;
}
.igv-navbar .igv-navbar-left-container .igv-logo {
  width: 34px;
  height: 32px;
  margin-right: 8px;
}
.igv-navbar .igv-navbar-left-container .igv-current-genome {
  height: 32px;
  margin-left: 4px;
  margin-right: 4px;
  user-select: none;
  line-height: 32px;
  vertical-align: middle;
  text-align: center;
}
.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
  height: 100%;
}
.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container {
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
  height: 100%;
  width: 125px;
  margin-right: 4px;
}
.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container select {
  display: block;
  cursor: pointer;
  width: 100px;
  height: 75%;
  outline: none;
  font-size: 12px;
  font-family: "Open Sans", sans-serif;
  font-weight: 400;
}
.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
  margin-left: 8px;
  height: 22px;
}
.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
  width: 240px;
  height: 22px;
  line-height: 22px;
}
.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container input.igv-search-input {
  cursor: text;
  width: 85%;
  height: 22px;
  line-height: 22px;
  font-size: 12px;
  font-family: "Open Sans", sans-serif;
  font-weight: 400;
  text-align: left;
  padding-left: 8px;
  margin-right: 8px;
  outline: none;
  border-style: solid;
  border-radius: 3px;
  border-width: thin;
  border-color: #bfbfbf;
  background-color: white;
}
.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container .igv-search-icon-container {
  cursor: pointer;
  height: 16px;
  width: 16px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: center;
  align-items: center;
}
.igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-windowsize-panel-container {
  margin-left: 4px;
  user-select: none;
}
.igv-navbar .igv-navbar-right-container {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
}
.igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container {
  position: relative;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
}
.igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container-hidden {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
  height: 100%;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget {
  color: #737373;
  font-size: 18px;
  margin-left: 8px;
  user-select: none;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget div {
  cursor: pointer;
  margin-left: unset;
  margin-right: unset;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget div:first-child {
  height: 20px;
  width: 20px;
  margin-left: unset;
  margin-right: 4px;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget div:last-child {
  height: 20px;
  width: 20px;
  margin-left: 4px;
  margin-right: unset;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget div:nth-child(even) {
  display: block;
  height: fit-content;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget input {
  display: block;
  width: 125px;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget svg {
  display: block;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 {
  color: #737373;
  font-size: 18px;
  height: 32px;
  line-height: 32px;
  margin-left: 8px;
  user-select: none;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div {
  cursor: pointer;
  margin-left: unset;
  margin-right: unset;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:first-child {
  height: 20px;
  width: 20px;
  margin-left: unset;
  margin-right: 4px;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:last-child {
  height: 20px;
  width: 20px;
  margin-left: 4px;
  margin-right: unset;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:nth-child(even) {
  width: 0;
  height: 0;
  display: none;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 input {
  width: 0;
  height: 0;
  display: none;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 svg {
  display: block;
}
.igv-navbar .igv-navbar-right-container .igv-zoom-widget-hidden {
  display: none;
}

.igv-navbar-button {
  display: block;
  box-sizing: unset;
  padding-left: 6px;
  padding-right: 6px;
  height: 18px;
  text-transform: capitalize;
  user-select: none;
  line-height: 18px;
  text-align: center;
  vertical-align: middle;
  font-family: "Open Sans", sans-serif;
  font-size: 11px;
  font-weight: 200;
  color: #737373;
  background-color: #f3f3f3;
  border-color: #737373;
  border-style: solid;
  border-width: thin;
  border-radius: 6px;
}

.igv-navbar-button:hover {
  cursor: pointer;
}

.igv-navbar-button-clicked {
  color: white;
  background-color: #737373;
}

.igv-navbar-icon-button {
  cursor: pointer;
  position: relative;
  width: 24px;
  height: 24px;
  margin-left: 4px;
  margin-right: 4px;
  border: none;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}
.igv-navbar-icon-button > div:first-child {
  z-index: 512;
  position: absolute;
  top: 36px;
  left: -18px;
  width: 24px;
  height: 24px;
  border: none;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}
.igv-navbar-icon-button > div:last-child {
  z-index: 512;
  position: absolute;
  top: 36px;
  left: 18px;
  width: 24px;
  height: 24px;
  border: none;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

.igv-navbar-text-button {
  cursor: pointer;
  position: relative;
  margin-left: 2px;
  margin-right: 2px;
  border: none;
  display: flex;
  justify-content: center;
  align-items: center;
}
.igv-navbar-text-button > div:nth-child(2) {
  z-index: 512;
  position: absolute;
  top: 36px;
  left: 0;
  width: 38px;
  height: 18px;
  border: none;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}
.igv-navbar-text-button > div:nth-child(3) {
  z-index: 512;
  position: absolute;
  top: 36px;
  left: 42px;
  width: 38px;
  height: 18px;
  border: none;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

#igv-text-button-label {
  text-anchor: middle;
  dominant-baseline: middle;
}

.igv-navbar-text-button-svg-inactive rect {
  stroke: #737373;
  fill: white;
}
.igv-navbar-text-button-svg-inactive text {
  fill: #737373;
}
.igv-navbar-text-button-svg-inactive tspan {
  dominant-baseline: middle;
}

.igv-navbar-text-button-svg-hover rect {
  stroke: #737373;
  fill: #737373;
}
.igv-navbar-text-button-svg-hover text {
  fill: white;
}
.igv-navbar-text-button-svg-hover tspan {
  dominant-baseline: middle;
}

#igv-save-svg-group rect {
  stroke: #737373;
  fill: white;
}
#igv-save-svg-group text {
  fill: #737373;
}

#igv-save-svg-group:hover rect {
  stroke: #737373;
  fill: #737373;
}
#igv-save-svg-group:hover text {
  fill: white;
}

#igv-save-png-group rect {
  stroke: #737373;
  fill: white;
}
#igv-save-png-group text {
  fill: #737373;
}

#igv-save-png-group:hover rect {
  stroke: #737373;
  fill: #737373;
}
#igv-save-png-group:hover text {
  fill: white;
}

.igv-zoom-in-notice-container {
  z-index: 256;
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translate(-50%, 0%);
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: center;
  align-items: center;
  background-color: white;
}
.igv-zoom-in-notice-container > div {
  padding-left: 4px;
  padding-right: 4px;
  padding-top: 2px;
  padding-bottom: 2px;
  width: 100%;
  height: 100%;
  font-family: "Open Sans", sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: #3f3f3f;
}

.igv-zoom-in-notice {
  position: absolute;
  top: 10px;
  left: 50%;
}
.igv-zoom-in-notice div {
  position: relative;
  left: -50%;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  color: #3f3f3f;
  background-color: rgba(255, 255, 255, 0.51);
  z-index: 64;
}

.igv-container-spinner {
  position: absolute;
  top: 90%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1024;
  width: 24px;
  height: 24px;
  pointer-events: none;
  color: #737373;
}

.igv-multi-locus-close-button {
  position: absolute;
  top: 2px;
  right: 0;
  padding-left: 2px;
  padding-right: 2px;
  width: 12px;
  height: 12px;
  color: #666666;
  background-color: white;
  z-index: 1000;
}
.igv-multi-locus-close-button > svg {
  vertical-align: top;
}

.igv-multi-locus-close-button:hover {
  cursor: pointer;
  color: #434343;
}

.igv-multi-locus-ruler-label {
  z-index: 64;
  position: absolute;
  top: 2px;
  left: 0;
  width: 100%;
  height: 12px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: center;
  align-items: center;
}
.igv-multi-locus-ruler-label > div {
  font-family: "Open Sans", sans-serif;
  font-size: 12px;
  color: rgb(16, 16, 16);
  background-color: white;
}
.igv-multi-locus-ruler-label > div {
  cursor: pointer;
}

.igv-multi-locus-ruler-label-square-dot {
  z-index: 64;
  position: absolute;
  left: 50%;
  top: 5%;
  transform: translate(-50%, 0%);
  background-color: white;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-multi-locus-ruler-label-square-dot > div:first-child {
  width: 14px;
  height: 14px;
}
.igv-multi-locus-ruler-label-square-dot > div:last-child {
  margin-left: 16px;
  font-family: "Open Sans", sans-serif;
  font-size: 14px;
  font-weight: 400;
  color: rgb(16, 16, 16);
}

.igv-ruler-sweeper {
  display: none;
  pointer-events: none;
  position: absolute;
  top: 26px;
  bottom: 0;
  left: 0;
  width: 0;
  z-index: 99999;
  background-color: rgba(68, 134, 247, 0.25);
}

.igv-ruler-tooltip {
  pointer-events: none;
  z-index: 128;
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 32px;
  background-color: transparent;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-ruler-tooltip > div {
  pointer-events: none;
  width: 128px;
  height: auto;
  padding: 1px;
  color: #373737;
  font-size: 10px;
  font-family: "Open Sans", sans-serif;
  font-weight: 400;
  background-color: white;
  border-style: solid;
  border-width: thin;
  border-color: #373737;
}

.igv-track-label {
  position: absolute;
  left: 8px;
  top: 8px;
  width: auto;
  height: auto;
  max-width: 50%;
  padding-left: 4px;
  padding-right: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-family: "Open Sans", sans-serif;
  font-size: small;
  font-weight: 400;
  text-align: center;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  border-color: #444;
  border-radius: 2px;
  border-style: solid;
  border-width: thin;
  background-color: white;
  z-index: 128;
  cursor: pointer;
}

.igv-track-label:hover,
.igv-track-label:focus,
.igv-track-label:active {
  background-color: #e8e8e8;
}

.igv-track-label-popup-shim {
  padding-left: 8px;
  padding-right: 8px;
  padding-top: 4px;
}

.igv-center-line {
  display: none;
  pointer-events: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  z-index: 8;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  border-left-style: dashed;
  border-left-width: thin;
  border-right-style: dashed;
  border-right-width: thin;
}

.igv-center-line-wide {
  background-color: rgba(0, 0, 0, 0);
  border-left-color: rgba(127, 127, 127, 0.51);
  border-right-color: rgba(127, 127, 127, 0.51);
}

.igv-center-line-thin {
  background-color: rgba(0, 0, 0, 0);
  border-left-color: rgba(127, 127, 127, 0.51);
  border-right-color: rgba(0, 0, 0, 0);
}

.igv-cursor-guide-horizontal {
  display: none;
  pointer-events: none;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 1px;
  z-index: 32;
  margin-left: 50px;
  margin-right: 54px;
  border-top-style: dotted;
  border-top-width: thin;
  border-top-color: rgba(127, 127, 127, 0.76);
}

.igv-cursor-guide-vertical {
  pointer-events: none;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 1px;
  z-index: 32;
  border-left-style: dotted;
  border-left-width: thin;
  border-left-color: rgba(127, 127, 127, 0.76);
  display: none;
}

.igv-user-feedback {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 512px;
  height: 360px;
  z-index: 2048;
  background-color: white;
  border-color: #a2a2a2;
  border-style: solid;
  border-width: thin;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  color: #444;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-user-feedback div:first-child {
  position: relative;
  height: 24px;
  width: 100%;
  background-color: white;
  border-bottom-color: #a2a2a2;
  border-bottom-style: solid;
  border-bottom-width: thin;
}
.igv-user-feedback div:first-child div {
  position: absolute;
  top: 2px;
  width: 16px;
  height: 16px;
  background-color: transparent;
}
.igv-user-feedback div:first-child div:first-child {
  left: 8px;
}
.igv-user-feedback div:first-child div:last-child {
  cursor: pointer;
  right: 8px;
}
.igv-user-feedback div:last-child {
  width: 100%;
  height: calc(100% - 24px);
  border-width: 0;
}
.igv-user-feedback div:last-child div {
  width: auto;
  height: auto;
  margin: 8px;
}

.igv-generic-dialog-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 300px;
  height: 200px;
  border-color: #7F7F7F;
  border-radius: 4px;
  border-style: solid;
  border-width: thin;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  z-index: 2048;
  background-color: white;
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-generic-dialog-container .igv-generic-dialog-header {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
  width: 100%;
  height: 24px;
  cursor: move;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-color: #7F7F7F;
  border-bottom-style: solid;
  border-bottom-width: thin;
  background-color: #eee;
}
.igv-generic-dialog-container .igv-generic-dialog-header div {
  margin-right: 4px;
  margin-bottom: 2px;
  height: 12px;
  width: 12px;
  color: #7F7F7F;
}
.igv-generic-dialog-container .igv-generic-dialog-header div:hover {
  cursor: pointer;
  color: #444;
}
.igv-generic-dialog-container .igv-generic-dialog-one-liner {
  color: #373737;
  width: 95%;
  height: 24px;
  line-height: 24px;
  text-align: left;
  margin-top: 8px;
  padding-left: 8px;
  overflow-wrap: break-word;
  background-color: white;
}
.igv-generic-dialog-container .igv-generic-dialog-label-input {
  margin-top: 8px;
  width: 95%;
  height: 24px;
  color: #373737;
  line-height: 24px;
  padding-left: 8px;
  background-color: white;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-generic-dialog-container .igv-generic-dialog-label-input div {
  width: 30%;
  height: 100%;
  font-size: 16px;
  text-align: right;
  padding-right: 8px;
  background-color: white;
}
.igv-generic-dialog-container .igv-generic-dialog-label-input input {
  display: block;
  height: 100%;
  width: 100%;
  padding-left: 4px;
  font-family: "Open Sans", sans-serif;
  font-weight: 400;
  color: #373737;
  text-align: left;
  outline: none;
  border-style: solid;
  border-width: thin;
  border-color: #7F7F7F;
  background-color: white;
}
.igv-generic-dialog-container .igv-generic-dialog-label-input input {
  width: 50%;
  font-size: 16px;
}
.igv-generic-dialog-container .igv-generic-dialog-input {
  margin-top: 8px;
  width: calc(100% - 16px);
  height: 24px;
  color: #373737;
  line-height: 24px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
}
.igv-generic-dialog-container .igv-generic-dialog-input input {
  display: block;
  height: 100%;
  width: 100%;
  padding-left: 4px;
  font-family: "Open Sans", sans-serif;
  font-weight: 400;
  color: #373737;
  text-align: left;
  outline: none;
  border-style: solid;
  border-width: thin;
  border-color: #7F7F7F;
  background-color: white;
}
.igv-generic-dialog-container .igv-generic-dialog-input input {
  font-size: 16px;
}
.igv-generic-dialog-container .igv-generic-dialog-ok-cancel {
  width: 100%;
  height: 28px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
}
.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {
  margin-top: 32px;
  color: white;
  font-family: "Open Sans", sans-serif;
  font-size: 14px;
  font-weight: 400;
  width: 75px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  border-color: transparent;
  border-style: solid;
  border-width: thin;
  border-radius: 2px;
}
.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {
  margin-left: 32px;
  margin-right: 0;
  background-color: #5ea4e0;
}
.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {
  margin-left: 0;
  margin-right: 32px;
  background-color: #c4c4c4;
}
.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {
  cursor: pointer;
  background-color: #3b5c7f;
}
.igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {
  cursor: pointer;
  background-color: #7f7f7f;
}
.igv-generic-dialog-container .igv-generic-dialog-ok {
  width: 100%;
  height: 36px;
  margin-top: 32px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
}
.igv-generic-dialog-container .igv-generic-dialog-ok div {
  width: 98px;
  height: 36px;
  line-height: 36px;
  text-align: center;
  color: white;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  border-color: white;
  border-style: solid;
  border-width: thin;
  border-radius: 4px;
  background-color: #2B81AF;
}
.igv-generic-dialog-container .igv-generic-dialog-ok div:hover {
  cursor: pointer;
  background-color: #25597f;
}

.igv-generic-container {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 2048;
  background-color: white;
  cursor: pointer;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-generic-container div:first-child {
  cursor: move;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
  height: 24px;
  width: 100%;
  background-color: #dddddd;
}
.igv-generic-container div:first-child i {
  display: block;
  color: #5f5f5f;
  cursor: pointer;
  width: 14px;
  height: 14px;
  margin-right: 8px;
  margin-bottom: 4px;
}

.igv-menu-popup {
  position: absolute;
  top: 0;
  left: 0;
  width: max-content;
  max-width: 400px;
  z-index: 512;
  cursor: pointer;
  font-family: "Open Sans", sans-serif;
  font-size: small;
  font-weight: 400;
  color: #4b4b4b;
  background: white;
  border-radius: 4px;
  border-color: #7F7F7F;
  border-style: solid;
  border-width: thin;
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-end;
  text-align: left;
}
.igv-menu-popup > div:not(:first-child) {
  width: 100%;
}
.igv-menu-popup > div:not(:first-child) > div {
  background: white;
}
.igv-menu-popup > div:not(:first-child) > div.context-menu {
  padding-left: 4px;
  padding-right: 4px;
}
.igv-menu-popup > div:not(:first-child) > div:last-child {
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
  border-bottom-color: transparent;
  border-bottom-style: solid;
  border-bottom-width: thin;
}
.igv-menu-popup > div:not(:first-child) > div:hover {
  background: #efefef;
}

.igv-menu-popup-shim {
  padding-left: 8px;
  padding-right: 8px;
  padding-bottom: 1px;
  padding-top: 1px;
}

.igv-menu-popup-header {
  position: relative;
  width: 100%;
  height: 24px;
  cursor: move;
  border-top-color: transparent;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-color: #7F7F7F;
  border-bottom-style: solid;
  border-bottom-width: thin;
  background-color: #eee;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
}
.igv-menu-popup-header div {
  margin-right: 4px;
  height: 12px;
  width: 12px;
  color: #7F7F7F;
}
.igv-menu-popup-header div:hover {
  cursor: pointer;
  color: #444;
}

.igv-menu-popup-check-container {
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  height: 20px;
  margin-right: 4px;
  background-color: transparent;
}
.igv-menu-popup-check-container div {
  padding-top: 2px;
  padding-left: 8px;
}
.igv-menu-popup-check-container div:first-child {
  position: relative;
  width: 12px;
  height: 12px;
}
.igv-menu-popup-check-container div:first-child svg {
  position: absolute;
  width: 12px;
  height: 12px;
}

.igv-user-feedback {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 512px;
  height: 360px;
  z-index: 2048;
  background-color: white;
  border-color: #a2a2a2;
  border-style: solid;
  border-width: thin;
  font-family: "Open Sans", sans-serif;
  font-size: medium;
  font-weight: 400;
  color: #444;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
}
.igv-user-feedback div:first-child {
  position: relative;
  height: 24px;
  width: 100%;
  background-color: white;
  border-bottom-color: #a2a2a2;
  border-bottom-style: solid;
  border-bottom-width: thin;
}
.igv-user-feedback div:first-child div {
  position: absolute;
  top: 2px;
  width: 16px;
  height: 16px;
  background-color: transparent;
}
.igv-user-feedback div:first-child div:first-child {
  left: 8px;
}
.igv-user-feedback div:first-child div:last-child {
  cursor: pointer;
  right: 8px;
}
.igv-user-feedback div:last-child {
  width: 100%;
  height: calc(100% - 24px);
  border-width: 0;
}
.igv-user-feedback div:last-child div {
  width: auto;
  height: auto;
  margin: 8px;
}

.igv-loading-spinner-container {
  z-index: 1024;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 32px;
  height: 32px;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: center;
  align-items: center;
}
.igv-loading-spinner-container > div {
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 4px solid rgba(128, 128, 128, 0.5);
  border-top-color: rgb(255, 255, 255);
  animation: spin 1s ease-in-out infinite;
  -webkit-animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@-webkit-keyframes spin {
  to {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
.igv-roi-menu {
  position: absolute;
  z-index: 512;
  font-family: "Open Sans", sans-serif;
  font-size: small;
  font-weight: 400;
  color: #4b4b4b;
  background-color: white;
  width: 192px;
  border-radius: 4px;
  border-color: #7F7F7F;
  border-style: solid;
  border-width: thin;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: stretch;
}
.igv-roi-menu > div:first-child {
  height: 24px;
  border-top-color: transparent;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-color: #7F7F7F;
  border-bottom-style: solid;
  border-bottom-width: thin;
  background-color: #eee;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: flex-end;
  align-items: center;
}
.igv-roi-menu > div:first-child > div {
  margin-right: 4px;
  height: 12px;
  width: 12px;
  color: #7F7F7F;
}
.igv-roi-menu > div:first-child > div:hover {
  cursor: pointer;
  color: #444;
}
.igv-roi-menu > div:last-child {
  background-color: white;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
  border-bottom-color: transparent;
  border-bottom-style: solid;
  border-bottom-width: 0;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: stretch;
  text-align: start;
  vertical-align: middle;
}
.igv-roi-menu > div:last-child > div {
  height: 24px;
  padding-left: 4px;
  border-bottom-style: solid;
  border-bottom-width: thin;
  border-bottom-color: #7f7f7f;
}
.igv-roi-menu > div:last-child > div:not(:first-child):hover {
  cursor: pointer;
  background-color: rgba(127, 127, 127, 0.1);
}
.igv-roi-menu > div:last-child div:first-child {
  font-style: italic;
  text-align: center;
  padding-right: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.igv-roi-menu > div:last-child > div:last-child {
  border-bottom-width: 0;
  border-bottom-color: transparent;
}

.igv-roi-placeholder {
  font-style: normal;
  color: rgba(75, 75, 75, 0.6);
}

.igv-roi-table {
  position: absolute;
  z-index: 1024;
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: stretch;
  resize: both;
  overflow: hidden;
  width: min-content;
  max-width: 1600px;
  border-color: #7f7f7f;
  border-radius: 4px;
  border-style: solid;
  border-width: thin;
  font-family: "Open Sans", sans-serif;
  font-size: 12px;
  font-weight: 400;
  background-color: white;
  cursor: default;
}
.igv-roi-table > div {
  height: 24px;
  font-size: 14px;
  text-align: start;
  vertical-align: middle;
  line-height: 24px;
}
.igv-roi-table > div:first-child {
  border-color: transparent;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-top-width: 0;
  border-bottom-color: #7f7f7f;
  border-bottom-style: solid;
  border-bottom-width: thin;
  background-color: #eee;
  cursor: move;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-between;
  align-items: center;
}
.igv-roi-table > div:first-child > div:first-child {
  text-align: center;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  margin-left: 4px;
  margin-right: 4px;
  width: calc(100% - 4px - 12px);
}
.igv-roi-table > div:first-child > div:last-child {
  margin-right: 4px;
  margin-bottom: 2px;
  height: 12px;
  width: 12px;
  color: #7f7f7f;
}
.igv-roi-table > div:first-child > div:last-child > svg {
  display: block;
}
.igv-roi-table > div:first-child > div:last-child:hover {
  cursor: pointer;
  color: #444;
}
.igv-roi-table > .igv-roi-table-description {
  padding: 4px;
  margin-left: 4px;
  word-break: break-all;
  overflow-y: auto;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  background-color: transparent;
}
.igv-roi-table > .igv-roi-table-goto-explainer {
  margin-top: 5px;
  margin-left: 4px;
  color: #7F7F7F;
  font-style: italic;
  height: 24px;
  border-top: solid lightgray;
  background-color: transparent;
}
.igv-roi-table > .igv-roi-table-column-titles {
  height: 24px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: stretch;
  align-items: stretch;
  padding-right: 16px;
  background-color: white;
  border-top-color: #7f7f7f;
  border-top-style: solid;
  border-top-width: thin;
  border-bottom-color: #7f7f7f;
  border-bottom-style: solid;
  border-bottom-width: thin;
}
.igv-roi-table > .igv-roi-table-column-titles > div {
  font-size: 14px;
  vertical-align: middle;
  line-height: 24px;
  text-align: left;
  margin-left: 4px;
  height: 24px;
  overflow: hidden;
  text-overflow: ellipsis;
  border-right-color: #7f7f7f;
  border-right-style: solid;
  border-right-width: thin;
}
.igv-roi-table > .igv-roi-table-column-titles > div:last-child {
  border-right: unset;
}
.igv-roi-table > .igv-roi-table-row-container {
  display: flex;
  flex-flow: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: stretch;
  overflow: auto;
  height: 360px;
  flex: 1 1 auto;
  background-color: transparent;
}
.igv-roi-table > .igv-roi-table-row-container > .igv-roi-table-row {
  height: 24px;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: stretch;
  align-items: stretch;
}
.igv-roi-table > .igv-roi-table-row-container > .igv-roi-table-row > div {
  font-size: 14px;
  vertical-align: middle;
  line-height: 24px;
  text-align: left;
  margin-left: 4px;
  height: 24px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  border-right-color: transparent;
  border-right-style: solid;
  border-right-width: thin;
}
.igv-roi-table > .igv-roi-table-row-container > .igv-roi-table-row > div:last-child {
  border-right: unset;
}
.igv-roi-table > .igv-roi-table-row-container > .igv-roi-table-row-hover {
  background-color: rgba(0, 0, 0, 0.04);
}
.igv-roi-table > div:last-child {
  min-height: 32px;
  height: 32px;
  line-height: 32px;
  border-top-color: #7f7f7f;
  border-top-style: solid;
  border-top-width: thin;
  border-bottom-color: transparent;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
  border-bottom-width: 0;
  background-color: #eee;
  display: flex;
  flex-flow: row;
  flex-wrap: nowrap;
  justify-content: space-around;
  align-items: center;
}

.igv-roi-table-row-selected {
  background-color: rgba(0, 0, 0, 0.125);
}

.igv-roi-table-button {
  cursor: pointer;
  height: 20px;
  user-select: none;
  line-height: 20px;
  text-align: center;
  vertical-align: middle;
  font-family: "Open Sans", sans-serif;
  font-size: 13px;
  font-weight: 400;
  color: black;
  padding-left: 6px;
  padding-right: 6px;
  background-color: rgb(239, 239, 239);
  border-color: black;
  border-style: solid;
  border-width: thin;
  border-radius: 3px;
}

.igv-roi-table-button:hover {
  font-weight: 400;
  background-color: rgba(0, 0, 0, 0.13);
}

.igv-roi-region {
  z-index: 64;
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;
  overflow: visible;
  margin-top: 66px;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: stretch;
}
.igv-roi-region > div {
  position: relative;
  width: 100%;
  height: 8px;
  pointer-events: auto;
}

.igv-roi-menu-row {
  height: 24px;
  padding-left: 8px;
  font-size: small;
  text-align: start;
  vertical-align: middle;
  line-height: 24px;
  background-color: white;
}

.igv-roi-menu-row-edit-description {
  width: -webkit-fill-available;
  font-size: small;
  text-align: start;
  vertical-align: middle;
  background-color: white;
  padding-left: 4px;
  padding-right: 4px;
  padding-bottom: 4px;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: stretch;
  align-items: stretch;
}
.igv-roi-menu-row-edit-description > label {
  margin-left: 2px;
  margin-bottom: 0;
  display: block;
  width: -webkit-fill-available;
}
.igv-roi-menu-row-edit-description > input {
  display: block;
  margin-left: 2px;
  margin-right: 2px;
  margin-bottom: 1px;
  width: -webkit-fill-available;
}

.igv-container {
  position: relative;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
  padding-top: 4px;
  user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  min-height: 160px;
}

.igv-viewport {
  position: relative;
  margin-top: 5px;
  line-height: 1;
  overflow-x: hidden;
  overflow-y: hidden;
}

.igv-viewport-content {
  position: relative;
  width: 100%;
}
.igv-viewport-content > canvas {
  position: relative;
  display: block;
}

.igv-column-container {
  position: relative;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: stretch;
  width: 100%;
}

.igv-column-shim {
  width: 1px;
  margin-left: 2px;
  margin-right: 2px;
  background-color: #545453;
}

.igv-axis-column {
  position: relative;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
  box-sizing: border-box;
  height: 100%;
  width: 50px;
}
.igv-axis-column > div {
  position: relative;
  margin-top: 5px;
  width: 100%;
}
.igv-axis-column > div > div {
  z-index: 512;
  position: absolute;
  top: 8px;
  left: 8px;
  width: fit-content;
  height: fit-content;
  background-color: transparent;
  display: grid;
  align-items: start;
  justify-items: center;
}
.igv-axis-column > div > div > input {
  display: block;
  margin: unset;
  cursor: pointer;
}

.igv-column {
  position: relative;
  position: relative;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
  box-sizing: border-box;
  height: 100%;
}

.igv-sample-info-column {
  position: relative;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
  box-sizing: border-box;
  height: 100%;
}

.igv-sample-name-column {
  position: relative;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
  box-sizing: border-box;
  height: 100%;
}

.igv-scrollbar-column {
  position: relative;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
  box-sizing: border-box;
  height: 100%;
  width: 14px;
}
.igv-scrollbar-column > div {
  position: relative;
  margin-top: 5px;
  width: 14px;
}
.igv-scrollbar-column > div > div {
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 2px;
  width: 8px;
  border-width: 1px;
  border-style: solid;
  border-color: #c4c4c4;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}
.igv-scrollbar-column > div > div:hover {
  background-color: #c4c4c4;
}

.igv-track-drag-column {
  position: relative;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
  box-sizing: border-box;
  height: 100%;
  width: 12px;
  background-color: white;
}
.igv-track-drag-column > .igv-track-drag-handle {
  z-index: 512;
  position: relative;
  cursor: pointer;
  margin-top: 5px;
  width: 100%;
  border-style: solid;
  border-width: 0;
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}
.igv-track-drag-column .igv-track-drag-handle-color {
  background-color: #c4c4c4;
}
.igv-track-drag-column .igv-track-drag-handle-hover-color {
  background-color: #787878;
}
.igv-track-drag-column .igv-track-drag-handle-selected-color {
  background-color: #0963fa;
}
.igv-track-drag-column > .igv-track-drag-shim {
  position: relative;
  margin-top: 5px;
  width: 100%;
  border-style: solid;
  border-width: 0;
}

.igv-gear-menu-column {
  position: relative;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-start;
  box-sizing: border-box;
  height: 100%;
  width: 28px;
}
.igv-gear-menu-column > div {
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: center;
  margin-top: 5px;
  width: 100%;
  background: white;
}
.igv-gear-menu-column > div > div {
  position: relative;
  margin-top: 4px;
  width: 16px;
  height: 16px;
  color: #7F7F7F;
}
.igv-gear-menu-column > div > div:hover {
  cursor: pointer;
  color: #444;
}

/*# sourceMappingURL=igv.css.map */
`;class Rd{constructor(){this.clear()}clear(){this.phenotypeColors=new Map,this.snps=new Set,this.qtl=null}isEmpty(){return this.phenotypeColors.size===0&&this.snps.size===0&&this.qtl===null}addSnp(e){e=e.toUpperCase(),this.snps.add(e)}addPhenotype(e){e=e.toUpperCase();const t=this.phenotypeColors.size;if(!this.phenotypeColors.has(e.toUpperCase())){const i=t<mt.length?mt[t]:Xe.randomRGB(0,255);this.phenotypeColors.set(e.toUpperCase(),i)}}hasSnp(e){return e&&this.snps.has(e.toUpperCase())}hasPhenotype(e){return e&&this.phenotypeColors.has(e.toUpperCase())}hasQTL(e){return this.qtls.has(e)}colorForGene(e){return e?this.phenotypeColors.get(e.toUpperCase()):"black"}toJSON(){const e={};return this.phenotypeColors.size>0&&(e.phenotypes=Array.from(this.phenotypeColors.keys())),this.snps.size>0&&(e.snps=Array.from(this.snps)),this.qtl&&(e.qtl=this.qtl),e}static fromJSON(e){const t=new Rd;if(e.phenotypes)for(let i of e.phenotypes)t.addPhenotype(i);if(e.snps)for(let i of e.snps)t.addSnp(i);return e.qtl&&(t.qtl=e.qtl),t}}const mt=[];mt.push("rgb(228,26,28)");mt.push("rgb(55,126,184)");mt.push("rgb(77,175,74)");mt.push("rgb(166,86,40)");mt.push("rgb(152,78,163)");mt.push("rgb(255,127,0)");mt.push("rgb(247,129,191)");mt.push("rgb(255,255,51)");mt.push("rgb(102,194,165)");mt.push("rgb(252,141,98)");mt.push("rgb(141, 160, 203)");mt.push("rgb(231, 138, 195)");mt.push("rgb(166, 216, 84)");mt.push("rgb(255, 217, 47)");mt.push("rgb(229, 196, 148)");mt.push("rgb( 141, 211, 199)");mt.push("rgb(255, 255, 179)");mt.push("rgb(190, 186, 218)");mt.push("rgb(251, 128, 114)");mt.push("rgb(128, 177, 211)");mt.push("rgb(253, 180, 98)");mt.push("rgb(179, 222, 105)");mt.push("rgb(252, 205, 229)");mt.push("rgb(188, 128, 189)");mt.push("rgb(204, 235, 197)");mt.push("rgb(255, 237, 111)");const _j=14,Cj=12,xj=28,kj=5;class gl{constructor(e,t){Re(this,"qtlSelections",new Rd);this.config=e,this.guid=nn(),this.namespace=".browser_"+this.guid,this.parent=t;let i=t.shadowRoot;if(!i){i=t.attachShadow({mode:"open"});const r=new CSSStyleSheet;r.replaceSync(Aj),i.adoptedStyleSheets=[r]}if(this.root=Ce({class:"igv-container"}),i.appendChild(this.root),this.spinner=Ce({class:"igv-loading-spinner-container"}),this.root.appendChild(this.spinner),this.spinner.appendChild(Ce()),this.spinner.style.width="64px",this.spinner.style.height="64px",this.stopSpinner(),this.alert=new XR(this.root),this.columnContainer=Ce({class:"igv-column-container"}),this.root.appendChild(this.columnContainer),this.menuPopup=new X6(this.columnContainer),this.menuUtils=new VC(this),this.initialize(e),this.trackViews=[],this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:e.doubleClickDelay||500},this.eventHandlers={},e.listeners)for(let r of Object.keys(e.listeners))this.on(r,e.listeners[r]);this.on("trackremoved",()=>{this.findTracks(s=>typeof s.getSamples=="function").length===0&&(this.sampleInfoControl.setButtonVisibility(!1),this.sampleNameViewportWidth=void 0,this.showSampleNames=!1,this.sampleNameControl.setState(this.showSampleNames),this.sampleNameControl.hide(),this.layoutChange())}),this.on("didchangecolumnlayout",()=>{if(Yi.length>0){const r=Yi.length;for(let s=0;s<r;s++)Yi[s].dispose();Yi.length=0}}),this.addEventHandlers(),this.sampleInfo=new dl(this),this.setControls(e),this.roiManager=new oj(this)}get doShowROITable(){return this.roiManager.roiTableIsVisible()}startSpinner(){this.spinner.style.display="flex"}stopSpinner(){this.spinner.style.display="none"}initialize(e){this.flanking=e.flanking,this.crossDomainProxy=e.crossDomainProxy,this.formats=e.formats,this.trackDefaults=e.trackDefaults,this.nucleotideColors=e.nucleotideColors||mM;for(let t of Object.keys(this.nucleotideColors))this.nucleotideColors[t.toLowerCase()]=this.nucleotideColors[t];this.doShowTrackLabels=e.showTrackLabels,this.doShowCenterLine=e.showCenterGuide,this.doShowCursorGuide=e.showCursorGuide,this.showSampleNames=e.showSampleNames,this.sampleNameViewportWidth=void 0,e.sampleNameViewportWidth&&(this.sampleNameViewportWidth=e.sampleNameViewportWidth),e.search&&(this.searchConfig={type:"json",url:e.search.url,coords:e.search.coords===void 0?1:e.search.coords,chromosomeField:e.search.chromosomeField||"chromosome",startField:e.search.startField||"start",endField:e.search.endField||"end",geneField:e.search.geneField||"gene",snpField:e.search.snpField||"snp",resultsField:e.search.resultsField})}setControls(e){const t=this.createStandardControls(e);t.insertBefore(ke(this.columnContainer)),this.$navigation=t,e.showControls===!1&&t.hide()}createStandardControls(e){const t=ke("<div>",{class:"igv-navbar"});this.$navigation=t;const i=ke("<div>",{class:"igv-navbar-left-container"});t.append(i);const r=ke("<div>",{class:"igv-logo"});i.append(r);const s=Ij();s.css("width","34px"),s.css("height","32px"),r.append(s),this.$current_genome=ke("<div>",{class:"igv-current-genome"}),i.append(this.$current_genome),this.$current_genome.text("");const o=ke("<div>",{class:"igv-navbar-genomic-location"});i.append(o),this.chromosomeSelectWidget=new Nq(this,o.get(0)),e.showChromosomeWidget!==!1?this.chromosomeSelectWidget.show():this.chromosomeSelectWidget.hide();const a=ke("<div>",{class:"igv-locus-size-group"});o.append(a);const l=ke("<div>",{class:"igv-search-container"});a.append(l),this.$searchInput=ke("<input>",{class:"igv-search-input",type:"text",placeholder:"Locus Search"}),l.append(this.$searchInput),this.$searchInput[0].addEventListener("keyup",f=>{f.stopImmediatePropagation()}),this.$searchInput.change(()=>this.doSearch(this.$searchInput.val()));const c=Ce({class:"igv-search-icon-container"});l.append(ke(c)),c.appendChild(zr("search")),c.addEventListener("click",()=>this.doSearch(this.$searchInput.val())),this.windowSizePanel=new Tq(a.get(0),this);const h=ke("<div>",{class:"igv-navbar-right-container"});t.append(h);const u=ke('<div class="igv-navbar-toggle-button-container">');if(h.append(u),this.$toggle_button_container=u,this.overlayTrackButton=new WL(this,u.get(0)),this.overlayTrackButton.setVisibility(!1),this.multiTrackSelectButton=new gj(this,u.get(0)),this.cursorGuide=new Rq(this.columnContainer,this),this.cursorGuideButton=new Lq(this,u.get(0)),this.centerLineButton=new Oq(this,u.get(0)),this.setTrackLabelVisibility(e.showTrackLabels),this.trackLabelControl=new Vq(u.get(0),this),this.roiTableControl=new uj(u.get(0),this),this.sampleInfoControl=new Wq(u.get(0),this),this.sampleNameControl=new Qq(u.get(0),this),e.showSVGButton===!0&&(this.saveImageControl=new Jq(u.get(0),this)),e.customButtons)for(let f of e.customButtons)new tj(u.get(0),this,f);return this.zoomWidget=new qs(this,h.get(0)),e.showNavigation===!1&&this.$navigation.hide(),this.sliderDialog=new KR(this.root),this.sliderDialog.container.id=`igv-slider-dialog-${nn()}`,this.inputDialog=new YR(this.root),this.inputDialog.container.id=`igv-input-dialog-${nn()}`,this.dataRangeDialog=new qC(this,ke(this.root)),this.dataRangeDialog.$container.get(0).id=`igv-data-range-dialog-${nn()}`,this.genericColorPicker=new XC({parent:this.columnContainer,width:432}),this.genericColorPicker.container.id=`igv-track-color-picker-${nn()}`,t}getSampleNameViewportWidth(){return this.sampleNameViewportWidth===void 0||this.showSampleNames===!1?0:this.sampleNameViewportWidth}getSampleInfoViewportWidth(){return this.getSampleInfoColumnWidth()}isMultiLocusMode(){return this.referenceFrameList&&this.referenceFrameList.length>1}isMultiLocusWholeGenomeView(){if(this.referenceFrameList===void 0||this.referenceFrameList.length===1)return!1;for(let e of this.referenceFrameList)if(e.chr.toLowerCase()==="all")return!0;return!1}currentLoci(){const e=t=>`${t.chr}:${t.start+1}-${t.end}`;return this.referenceFrameList===void 0||this.referenceFrameList.length===0?"":this.referenceFrameList.length===1?e(this.referenceFrameList[0]):this.referenceFrameList.map(t=>e(t))}toSVG(){const{x:e,y:t,width:i,height:r}=this.columnContainer.getBoundingClientRect(),s=r,o={width:i,height:s,backdropColor:"white",multiLocusGap:0,viewbox:{x:0,y:0,width:i,height:s}},a=new ro(o),l={deltaX:0,deltaY:-t};for(let c of this.trackViews)c.renderSVGContext(a,l);return l.deltaX=e,this.roiManager.renderSVGContext(this.columnContainer,a,l),a.getSerializedSvg(!0)}saveSVGtoFile(e,t){let i=this.toSVG();if(t){const o=document.createElement("svg");o.innerHTML=i,t.append(o),t.appendChild(o)}const r=e||"igvjs.svg",s=URL.createObjectURL(new Blob([i],{type:"application/octet-stream"}));ud(r,s),URL.revokeObjectURL(s)}savePNGtoFile(e){const t=this.toSVG(),i=new Blob([t],{type:"image/svg+xml"}),r=URL.createObjectURL(i),s=document.createElement("img"),o=()=>{const a=this.columnContainer.getBoundingClientRect(),l=window.devicePixelRatio,c=a.width*l,h=a.height*l,u=document.createElement("canvas");u.width=c,u.height=h;const f=u.getContext("2d");f.scale(l,l),f.drawImage(s,0,0);const d=u.toDataURL("image/png");e=e||"igvjs.png",ud(e,d),URL.revokeObjectURL(r)};s.addEventListener("load",o),s.src=r}async loadSession(e){this.sampleInfo.initialize(),this.roiSets=[];let t;return e.url||e.file?t=await gl.loadSessionFile(e):t=e,this.loadSessionObject(t)}static async loadSessionFile(e){const t=e.url||e.file;let i;if(e.url&&St(e.url)&&(e.url.startsWith("blob:")||e.url.startsWith("data:"))){const r=gl.uncompressSession(e.url);i=JSON.parse(r)}else{let r=e.filename;if(r||(r=e.url?await gp(e.url):e.file.name),r.endsWith(".xml")){const s=Ut.KNOWN_GENOMES,o=await Be.loadString(t);i=new kq(o,s)}else if(r.endsWith("hub.txt"))i={reference:(await so.loadHub(t,e)).getGenomeConfig()};else if(r.endsWith(".json"))i=await Be.loadJson(t);else throw Error("Unrecognized session file format:"+r)}return x2(i)}async loadSessionObject(e){this.cleanHouseForSession(),this.config=e,e.browsers&&(e=await fj(e)),this.sampleInfoControl.setButtonVisibility(!1),this.showSampleNames=e.showSampleNames||!1,this.sampleNameControl.setState(this.showSampleNames===!0),e.sampleNameViewportWidth&&(this.sampleNameViewportWidth=e.sampleNameViewportWidth),rs(this.columnContainer,"igv-axis-column"),rs(this.columnContainer,"igv-sample-info-column"),rs(this.columnContainer,"igv-sample-name-column"),rs(this.columnContainer,"igv-scrollbar-column"),rs(this.columnContainer,"igv-track-drag-column"),rs(this.columnContainer,"igv-gear-menu-column");const t=e.reference||e.genome;if(!t){console.warn("No genome or reference object specified");return}const i=St(t)?await Ut.expandReference(this.alert,t):t;if(await this.loadReference(i,i.locus||e.locus),this.centerLineList=this.createCenterLineList(this.columnContainer),e.showIdeogram!==!1){const f=new F8(this);f.id="ideogram";const d=new $g(this,this.columnContainer,f);this.trackViews.push(d)}if(e.showRuler!==!1){const f=new $g(this,this.columnContainer,new RL(this));this.trackViews.push(f)}e.qtlSelections&&(this.qtlSelections=Rd.fromJSON(e.qtlSelections)),this.roiManager.clearROIs(),e.roi?this.roiManager.loadROI(e.roi):await this.roiManager.reset();const r=[];if(e.sampleinfo)for(const f of e.sampleinfo)f.file?r.push(f.file):this.loadSampleInfo(f);const s=i.tracks||[],o=e.tracks?s.concat(e.tracks):s;o.filter(f=>f.type==="sequence"&&!f.url&&!f.fastaURL).length===0&&o.push({type:"sequence",order:xd,removable:!1});const l=o.filter(f=>f.file!==void 0).map(({file:f})=>f),c=o.filter(f=>f.indexFile!==void 0).map(({indexFile:f})=>f);c.length>0&&l.push(...c),r.length>0&&l.push(...r),l.length>0&&alert(`Local files cannot be loaded automatically.
This session contains references to these local files:
${l.map(f=>`    ${f}`).join(`
`)}`);const h=o.filter(f=>f.file===void 0);let u=1;for(let f of h)f.order===void 0&&(f.order=u++);await this.loadTrackList(h);for(let f of this.trackViews.filter(d=>d.track.type==="ruler"||d.track.type==="ideogram"))await f.updateViews();return this.trackViews.some(f=>f.track.selected)&&this.multiTrackSelectButton.setMultiTrackSelection(!0),this.updateUIWithReferenceFrameList(),this.updateLocusSearchWidget(),o}cleanHouseForSession(){for(let t of this.trackViews)t.removeDOMFromColumnContainer();this.columnContainer.querySelectorAll(".igv-axis-column, .igv-column-shim, .igv-column, .igv-sample-info-column, .igv-sample-name-column, .igv-scrollbar-column, .igv-track-drag-column, .igv-gear-menu-column").forEach(t=>t.remove()),this.trackViews=[],this.circularView&&this.circularView.clearChords()}async loadReference(e,t){this.removeAllTracks(),this.roiManager.clearROIs(),this.multiTrackSelectButton.setMultiTrackSelection(!1);let i;e.gbkURL?i=await L6(e.gbkURL):i=await C2.createGenome(e,this);const r=this.genome===void 0||this.genome.id!==i.id;this.genome=i,this.updateNavbarDOMWithGenome(i);let s=t||i.initialLocus;if(Array.isArray(s)&&(s=s.join(" ")),!await this.search(s,!0))throw new Error(`Cannot set initial locus ${s}`);if(r){let a;e.hubURL&&(a=(await so.loadHub(e.hubURL)).getGroupedTrackConfigurations()),this.fireEvent("genomechange",[{genome:i,trackConfigurations:a}]),this.circularView&&this.circularView.setAssembly({name:this.genome.id,id:this.genome.id,chromosomes:s4(this.genome)})}}updateNavbarDOMWithGenome(e){let t=e.id&&e.id.length<20?e.id:`${e.id.substring(0,8)}...${e.id.substring(e.id.length-8)}`;this.$current_genome.text(t),this.$current_genome.attr("title",e.description),this.config.showChromosomeWidget!==!1&&this.genome.showChromosomeWidget!==!1&&e.chromosomeNames&&e.chromosomeNames.length>1?(this.chromosomeSelectWidget.update(e),this.chromosomeSelectWidget.show()):this.chromosomeSelectWidget.hide()}async loadGenome(e){e.genarkAccession&&(e.url=U6(e.genarkAccession)),e.url&&(St(e.url)&&e.url.endsWith("/hub.txt")?(e.hubURL=e.url,delete e.url):Ej(e.url)==="gbk"&&(e.gbkURL=e.url,delete e.url));let t;e.hubURL||e.url&&St(e.url)&&e.url.endsWith("/hub.txt")?t=(await so.loadHub(e.hubURL||e.url,e)).getGenomeConfig():St(e)||!(e.url||e.fastaURL||e.twoBitURL||e.gbkURL)?t=await Ut.expandReference(this.alert,e):t=e,await this.loadReference(t);let r;return t.gbkURL||t.format==="gbk"?r=[{name:"Annotations",format:"gbk",url:t.gbkURL}]:r=t.tracks||[],r.filter(o=>o.type==="sequence").length===0&&r.push({type:"sequence",order:xd}),await this.loadTrackList(r),await this.updateViews(),this.genome}async loadTrackHub(e){const t=await so.loadHub(e.url,e),i=x2(t.getGenomeConfig());return this.loadGenome(i)}updateUIWithReferenceFrameList(){const e=this.referenceFrameList;this.isMultiLocusWholeGenomeView()||Ut.isWholeGenomeView(e[0].chr),A2(this,this.$navigation.width()),_0(this.trackViews,this.doShowTrackLabels),this.doShowCenterLine&&Ut.isWholeGenomeView(e[0].chr)&&this.centerLineButton.boundMouseClickHandler(),this.doShowCursorGuide&&Ut.isWholeGenomeView(e[0].chr)&&this.cursorGuideButton.boundMouseClickHandler(),this.setCenterLineAndCenterLineButtonVisibility(Ut.isWholeGenomeView(e[0].chr))}setCenterLineAndCenterLineButtonVisibility(e){e?this.centerLineButton.setVisibility(!e):this.centerLineButton.setVisibility(this.config.showCenterGuideButton);for(let t of this.centerLineList)e?this.setCenterLineVisibility(!e):this.setCenterLineVisibility(this.doShowCenterLine)}setTrackLabelVisibility(e){_0(this.trackViews,e)}setROITableVisibility(e){e===!0?this.roiManager.presentTable():this.roiManager.dismissTable()}setCursorGuideVisibility(e){e?this.cursorGuide.show():this.cursorGuide.hide()}setCustomCursorGuideMouseHandler(e){this.cursorGuide.customMouseHandler=e}setCenterLineVisibility(e){for(let t of this.centerLineList)e===!0?(t.show(),t.repaint()):t.hide()}async loadTrackList(e){let t=0;for(let o of e)o.order===void 0&&(o.order=t++);const i=[];for(let o of e)i.push(this._loadTrack(o));const r=await Promise.all(i);return this.trackViews.filter(function(o){return o.track.autoscaleGroup}).length>0&&this.updateViews(),r}async loadTrack(e){e.sync=e.sync!==!1;const t=this._loadTrack(e);return t&&e.autoscaleGroup&&(await t,this.updateViews()),t}async _loadTrack(e){St(e)&&(e=JSON.parse(e));try{if(e.hidden){await $n(e,this.genome).getFeatures({chr:"1",start:0,end:Number.MAX_SAFE_INTEGER});return}const t=await this.createTrack(e);if(e.type==="sampleinfo"){this.layoutChange();return}else if(t===void 0)return;return this.addTrack(e,t)}catch(t){let i=t.message||t.error||t.toString();const r={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};r.hasOwnProperty(i)&&(i=r[i]),i=`${i} : ${Rs(e.url)?e.url.name:e.url}`;const s=new Error(i);throw console.error(s),s}}async addTrack(e,t){t.order===void 0&&(t.order=this.trackViews.length);const i=new $g(this,this.columnContainer,t);if(this.trackViews.push(i),_0(this.trackViews,this.doShowTrackLabels),typeof t.postInit=="function")try{i.startSpinner(),await t.postInit()}finally{i.stopSpinner()}return t.autoscaleGroup||(e.sync?await i.updateViews():i.updateViews()),typeof t.hasSamples=="function"&&t.hasSamples()&&(this.sampleInfo.hasAttributes()&&this.sampleInfoControl.setButtonVisibility(!0),this.config.showSampleNameButton!==!1&&this.sampleNameControl.show()),this.reorderTracks(),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),this.multiTrackSelectButton.setMultiTrackSelection(this.multiTrackSelectButton.enableMultiTrackSelection),t}async loadROI(e){return this.roiManager.loadROI(e,this.genome)}clearROIs(){this.roiManager.clearROIs()}async getUserDefinedROIs(){if(this.roiManager){const e=this.roiManager.getUserDefinedROISet();if(e===void 0)return[];const t=await e.getAllFeatures(),i=[];for(let r of Object.values(t))i.push(...r);return i}else return[]}getRulerTrackView(){const e=this.trackViews.filter(({track:t})=>t.id==="ruler");return e.length>0?e[0]:void 0}async createTrack(e){let t=await JS(e.url||e.fastaURL);if(St(t)&&(t=t.trim()),t)if(e.format)e.format=e.format.toLowerCase();else if(e.fastaURL)e.format="fasta";else if(e.sourceType)e.sourceType==="htsget"&&await aw.inferFormat(e);else{const s=await vx(e);s&&(e.format=s)}e.type&&e6(e);let i=e.type?e.type.toLowerCase():void 0;if(!i){if(e.format){if(e.format==="hic"){const s=new ww(e);if(await s.readHeaderAndFooter(),s.chromosomeIndexMap.celltype)i="shoebox",e._hicFile=s;else throw Error("'.hic' files not supported")}else if(i=JC(e.format),i==="bedtype"){const s=$n(e,this.genome);e._featureSource=s;const o=await s.trackType();o?i=o:i="annotation"}}else throw Error(`Unrecognized track:  ${JSON.stringify(e)}`);e.type=i}if(this.trackDefaults&&i){const s=this.trackDefaults[i];if(s)for(let o in s)s.hasOwnProperty(o)&&e[o]===void 0&&(e[o]=s[o])}const r=_q(i,e,this);if(r===void 0)this.alert.present(new Error(`Error creating track.  Could not determine track type for file: ${e.url||e}`),void 0);else return e.roi&&e.roi.length>0&&(r.roiSets=e.roi.map(s=>new lj(s,this.genome))),r}reorderTracks(){this.trackViews.sort(function(t,i){const r=a=>a.track.id==="ideogram"?1:a.track.id==="ruler"?2:3,s=r(t),o=r(i);if(s===o){const a=t.track.order||0,l=i.track.order||0;return a-l}else return s-o});for(let{axis:t,viewports:i,sampleInfoViewport:r,sampleNameViewport:s,outerScroll:o,dragHandle:a,gearContainer:l}of this.trackViews){t.remove();for(let{$viewport:c}of i)c.detach();r.viewport.remove(),s.viewport.remove(),o.remove(),a.remove(),l.remove()}const e=this.columnContainer.querySelectorAll(".igv-column");for(let{axis:t,viewports:i,sampleInfoViewport:r,sampleNameViewport:s,outerScroll:o,dragHandle:a,gearContainer:l}of this.trackViews){this.columnContainer.querySelector(".igv-axis-column").appendChild(t);for(let c=0;c<e.length;c++){const{$viewport:h}=i[c];e[c].appendChild(h.get(0))}this.columnContainer.querySelector(".igv-sample-info-column").appendChild(r.viewport),this.columnContainer.querySelector(".igv-sample-name-column").appendChild(s.viewport),this.columnContainer.querySelector(".igv-scrollbar-column").appendChild(o),this.columnContainer.querySelector(".igv-track-drag-column").appendChild(a),this.columnContainer.querySelector(".igv-gear-menu-column").appendChild(l)}}getTrackOrder(){return this.trackViews.filter(e=>e.track&&e.track.name).map(e=>e.track.name)}getSelectedTrackViews(){return this.trackViews.filter(e=>e.track.selected===!0)}removeTrackByName(e){const t=this.trackViews.slice();for(let i of t)e===i.track.name&&this.removeTrack(i.track)}removeTrack(e){for(let t of this.trackViews)if(e===t.track){this._removeTrack(t.track);break}}_removeTrack(e){e.disposed||(this.trackViews.splice(this.trackViews.indexOf(e.trackView),1),this.fireEvent("trackremoved",[e]),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),e.trackView&&e.trackView.dispose())}removeAllTracks(){const e=this.trackViews;this.trackViews=[];for(let t of e)t.track.id!=="ruler"&&t.track.id!=="ideogram"?(this.fireEvent("trackremoved",[t.track]),t.dispose()):this.trackViews.push(t)}get ideogramTrackView(){return this.trackViews[0]}get rulerTrackView(){return this.trackViews[1]}findTracks(e,t){let i=typeof e=="function"?r=>e(r.track):r=>t===r.track[e];return this.trackViews.filter(i).map(r=>r.track)}get tracks(){return this.trackViews.map(e=>e.track).filter(e=>e!==void 0)}setTrackHeight(e){this.trackHeight=e,this.trackViews.forEach(function(t){t.setTrackHeight(e)})}async visibilityChange(){this.layoutChange()}async layoutChange(){if(this.referenceFrameList.find(t=>t.bpPerPixel<0)){const t=this.calculateViewportWidth(this.referenceFrameList.length);for(let i of this.referenceFrameList)i.bpPerPixel=(i.end-i.start)/t}this.referenceFrameList&&(this.isMultiLocusWholeGenomeView()||Ut.isWholeGenomeView(this.referenceFrameList[0].chr),A2(this,this.$navigation.width())),A0.call(this),await this.updateViews()}async updateViews(){const e=this.trackViews;this.updateLocusSearchWidget();for(let t of this.referenceFrameList)t.bpPerPixel<=uw&&await this.genome.getSequence(t.chr,t.start,t.start+1);for(let t of this.centerLineList)t.repaint();if(this.dragObject)for(let t of e)await t.updateViews();else{const t={},i=[];for(const r of e)if(r.track.autoscaleGroup){const s=r.track.autoscaleGroup;t[s]||(t[s]=[]),t[s].push(r)}else i.push(r);if(Object.entries(t).length>0)for(const[r,s]of Object.entries(t)){const o=await Promise.all(s.map(l=>l.getInViewFeatures())),a=vh(o.flat());for(const l of s)l.track.dataRange=Object.assign({},a),l.track.autoscale=!1;await Promise.all(s.map(l=>l.updateViews()))}await Promise.all(i.map(r=>r.updateViews()))}}repaintViews(){for(let e of this.trackViews)e.repaintViews()}updateLocusSearchWidget(){if(!this.referenceFrameList)return;const e=this.referenceFrameList,t=this.calculateViewportWidth(this.referenceFrameList.length);for(let r of e)r.end=r.start+r.bpPerPixel*t;this.chromosomeSelectWidget&&(this.chromosomeSelectWidget.select.value=e.length===1?this.referenceFrameList[0].chr:"");const i=this.referenceFrameList.map(r=>r.getLocusString()).join(" ");this.$searchInput.val(i),this.fireEvent("locuschange",[this.referenceFrameList])}calculateViewportWidth(e){let{width:t}=this.columnContainer.getBoundingClientRect();return t-=YL+this.getSampleInfoViewportWidth()+this.getSampleNameViewportWidth()+_j+Cj+xj,t-=kj*(e-1),Math.floor(t/e)}minimumBases(){return this.config.minimumBases}zoomIn(){this.zoomWithScaleFactor(.5)}zoomOut(){this.zoomWithScaleFactor(2)}async zoomWithScaleFactor(e,t,i){if(!this.referenceFrameList)return;const r=this.calculateViewportWidth(this.referenceFrameList.length);let s=i?[i]:this.referenceFrameList;for(let o of s)o.zoomWithScaleFactor(this,e,r,t)}async addMultiLocusPanel(e,t,i,r){if(!this.referenceFrameList)return;const s=this.calculateViewportWidth(1+this.referenceFrameList.length),o=this.calculateViewportWidth(this.referenceFrameList.length)/this.calculateViewportWidth(1+this.referenceFrameList.length);for(let d of this.referenceFrameList)d.bpPerPixel*=o;const a=(i-t)/s,l=new A8(this.genome,e,t,i,a),c=r?this.referenceFrameList.indexOf(r):this.referenceFrameList.length-1,h=1+c,{$viewport:u}=this.trackViews[0].viewports[c],f=y0.insertAfter(u.get(0).parentElement);if(this.fireEvent("didchangecolumnlayout"),h===this.referenceFrameList.length){this.referenceFrameList.push(l);for(let d of this.trackViews){const p=t2(d,f,l);d.viewports.push(p)}}else{this.referenceFrameList.splice(h,0,l);for(let d of this.trackViews){const p=t2(d,f,l);d.viewports.splice(h,0,p)}}this.centerLineList=this.createCenterLineList(this.columnContainer),A0.call(this),await this.updateViews(!0)}createCenterLineList(e){const t=e.querySelectorAll(".igv-center-line");for(let s=0;s<t.length;s++)t[s].remove();const i=[],r=e.querySelectorAll(".igv-column");for(let s=0;s<r.length;s++)i.push(new ej(this,this.referenceFrameList[s],r[s]));return i}async removeMultiLocusPanel(e){const t=this.referenceFrameList.indexOf(e),{$viewport:i}=this.trackViews[0].viewports[t];y0.removeColumnAtIndex(t,i.parent().get(0)),this.fireEvent("didchangecolumnlayout");for(let{viewports:s}of this.trackViews)s[t].dispose(),s.splice(t,1);if(this.referenceFrameList.splice(t,1),this.referenceFrameList.length===1&&this.getRulerTrackView())for(let s of this.getRulerTrackView().viewports)s.dismissLocusLabel();const r=this.calculateViewportWidth(1+this.referenceFrameList.length)/this.calculateViewportWidth(this.referenceFrameList.length);await this.rescaleForMultiLocus(r)}async gotoMultilocusPanel(e){const t=this.referenceFrameList.indexOf(e);this.columnContainer.querySelectorAll(".igv-column").forEach((r,s)=>{s===t||r.remove()}),this.columnContainer.querySelectorAll(".igv-column-shim").forEach(r=>r.remove());for(let r of this.trackViews){const s=r.viewports[t];r.viewports.filter((o,a)=>a!==t).forEach(o=>o.dispose()),r.viewports=[s]}const i=this.calculateViewportWidth(1);e.bpPerPixel=(e.end-e.start)/i,this.referenceFrameList=[e],this.trackViews.forEach(({viewports:r})=>r.forEach(s=>s.setWidth(i))),this.centerLineList=this.createCenterLineList(this.columnContainer),this.updateUIWithReferenceFrameList(),await this.updateViews(!0)}async rescaleForMultiLocus(e){const t=this.calculateViewportWidth(this.referenceFrameList.length);for(let i of this.referenceFrameList)i.bpPerPixel*=e;for(let{viewports:i}of this.trackViews)for(let r of i)r.setWidth(t);this.centerLineList=this.createCenterLineList(this.columnContainer),this.updateUIWithReferenceFrameList(),await this.updateViews()}async goto(e,t,i){await this.search(e+":"+t+"-"+i)}async doSearch(e,t){const i=await this.search(e,t);return i||this.alert.present(new Error(`Unrecognized locus: <b> ${e} </b>`)),i}async search(e,t){const i=await cq(this,e);if(i&&i.length>0){this.referenceFrameList=Eq(i,this.genome,this.flanking,this.minimumBases(),this.calculateViewportWidth(i.length),this.isSoftclipped());for(let r of this.trackViews)r.removeViewportsFromColumnContainer();this.columnContainer.querySelectorAll(".igv-column-shim, .igv-column").forEach(r=>r.remove()),y0.insertBefore(this.columnContainer.querySelector(".igv-sample-info-column"),this.referenceFrameList.length),this.fireEvent("didchangecolumnlayout");for(let r of this.trackViews)r.createViewports(this,this.columnContainer,this.referenceFrameList);return this.centerLineList=this.createCenterLineList(this.columnContainer),this.updateUIWithReferenceFrameList(),t||await this.updateViews(),!0}else return!1}async loadSampleInfo(e){await this.sampleInfo.loadSampleInfoFile(e.url);for(const{sampleInfoViewport:i}of this.trackViews)i.setWidth(this.getSampleInfoColumnWidth());this.findTracks(i=>typeof i.getSamples=="function").length>0&&(this.sampleInfoControl.performClickWithState(this,!0),this.sampleInfoControl.setButtonVisibility(!0));for(const{sampleInfoViewport:i}of this.trackViews)i.repaint()}getSampleInfoColumnWidth(){if(this.sampleInfo.attributeCount){const t=this.findTracks(o=>typeof o.getSamples=="function").length>0,i=this.sampleInfo.hasAttributes(),r=this.sampleInfoControl.showSampleInfo;return t&&i&&r?this.sampleInfo.attributeCount*ha+n2:0}else return 0}on(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}un(e,t){this.off(e,t)}off(e,t){if(!e)this.eventHandlers={};else if(!t)this.eventHandlers[e]=[];else{const i=this.eventHandlers[e];if(!i||i.length===0)console.warn("No handlers to remove for event: "+e);else{const r=i.indexOf(t);r!==-1&&this.eventHandlers[e].splice(r,1)}}}fireEvent(e,t,i){const r=this.eventHandlers[e];if(r===void 0||r.length===0)return;const s=i||window;return r.map(function(a){return a.apply(s,t)})[0]}dispose(){this.removeEventHandlers();for(let e of this.trackViews)e.dispose();this.roiManager&&this.roiManager.dispose()}toJSON(){const e={version:_8()};if(this.showSampleNames!==void 0&&(e.showSampleNames=this.showSampleNames),this.sampleNameViewportWidth&&(e.sampleNameViewportWidth=this.sampleNameViewportWidth),e.reference=this.genome.toJSON(),e.reference.fastaURL instanceof File)throw new Error(`Error. Sessions cannot include local file references ${e.reference.fastaURL.name}.`);if(e.reference.indexURL instanceof File)throw new Error(`Error. Sessions cannot include local file references ${e.reference.indexURL.name}.`);const t=[];let i=this.trackViews[0];for(let{referenceFrame:l}of i.viewports){const c=l.getLocusString();t.push(c)}e.locus=t.length===1?t[0]:t,e.roi=this.roiManager.toJSON(),this.qtlSelections.isEmpty()||(e.qtlSelections=this.qtlSelections.toJSON());const r=[],s=[];for(const{track:l}of this.trackViews)try{let c;typeof l.getState=="function"?c=Bt.localFileInspection(l.getState()):l.config&&(c=Bt.localFileInspection(l.config)),c&&(c.browser&&delete c.browser,c.order=l.order,r.push(c))}catch(c){const h=`Track: ${l.name}: ${c}`;console.error(h),s.push(h)}if(s.length>0){let l=1,c="Errors encountered saving session: </br>";for(let h of s)c+=` (${l++}) ${h.toString()} <br/>`;throw Error(c)}e.tracks=r;const o=[];for(const l of r)for(const c of Object.keys(l))(c==="file"||c==="indexFile")&&o.push(l[c]);const a=[];if(this.sampleInfo.sampleInfoFiles.length>0){const l=this.sampleInfo.toJSON();l.length>0&&(e.sampleinfo=l);for(const c of this.sampleInfo.sampleInfoFiles){const h=Bt.localFileInspection({url:c});h.file&&a.push(h.file)}a.length>0&&o.push(...a)}return o.length>0&&alert(`This session includes reference(s) to local file(s):
${o.map(l=>`    ${l}`).join(`
`)}
Local files cannot be loaded automatically when a saved session is restored.`),e}compressedSession(){const e=JSON.stringify(this.toJSON());return qT(e)}sessionURL(){const e=window.location.href.slice(),t=e.indexOf("?");return(t>0?e.substring(0,t):e)+"?sessionURL=blob:"+this.compressedSession()}mouseDownOnViewport(e,t){var i;i=ah(e),this.vpMouseDown={viewport:t,lastMouseX:i.x,mouseDownX:i.x,lastMouseY:i.y,mouseDownY:i.y,referenceFrame:t.referenceFrame}}cancelTrackPan(){const e=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,e&&e.viewport.referenceFrame.start!==e.start&&(this.updateViews(),this.fireEvent("trackdragend",[e.viewport]))}isTrackPanning(){return this.dragObject}isSoftclipped(){return this.trackViews.find(t=>t.track.showSoftClips===!0)!==void 0}startTrackDrag(e){this.dragTrack=e}updateTrackDrag(e){if(e&&this.dragTrack){const t=this.dragTrack,i=this.trackViews.indexOf(e),r=this.trackViews.indexOf(t),s=this.trackViews;s[i]=t,s[r]=e;const o=this.trackViews[i].track.order;this.trackViews[r].track.order=o;const a=s.length;let l=o;if(i<r)for(let c=i+1;c<a;c++){const h=s[c].track;if(h.order<=l)h.order=Math.min(Number.MAX_SAFE_INTEGER,l+1),l=h.order;else break}else for(let c=i-1;c>0;c--){const h=s[c].track;if(h.order>=l)h.order=Math.max(-Number.MAX_SAFE_INTEGER,l-1),l=h.order;else break}this.reorderTracks()}}endTrackDrag(){this.dragTrack?(this.dragTrack=void 0,this.fireEvent("trackorderchanged",[this.getTrackOrder()])):this.dragTrack=void 0}addEventHandlers(){this.addWindowResizeHandler(),this.addRootMouseUpHandler(),this.addRootMouseLeaveHandler(),this.addColumnContainerEventHandlers(),this.addKeyboardHandler()}removeEventHandlers(){this.removeWindowResizeHandler(),this.removeRootMouseUpHandler(),this.removeRootMouseLeaveHandler(),this.removeColumnContainerEventHandlers(),this.removeKeyboardHandler()}addWindowResizeHandler(){this.boundWindowResizeHandler=A0.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)}removeWindowResizeHandler(){window.removeEventListener("resize",this.boundWindowResizeHandler)}addRootMouseUpHandler(){this.boundRootMouseUpHandler=dc.bind(this),this.root.addEventListener("mouseup",this.boundRootMouseUpHandler)}removeRootMouseUpHandler(){this.root.removeEventListener("mouseup",this.boundRootMouseUpHandler)}addRootMouseLeaveHandler(){this.boundRootMouseLeaveHandler=dc.bind(this),this.root.addEventListener("mouseleave",this.boundRootMouseLeaveHandler)}removeRootMouseLeaveHandler(){this.root.removeEventListener("mouseleave",this.boundRootMouseLeaveHandler)}addColumnContainerEventHandlers(){this.boundColumnContainerMouseMoveHandler=v3.bind(this),this.boundColumnContainerTouchMoveHandler=v3.bind(this),this.boundColumnContainerMouseLeaveHandler=dc.bind(this),this.boundColumnContainerMouseUpHandler=dc.bind(this),this.boundColumnContainerTouchEndHandler=dc.bind(this),this.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.addEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.addEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.addEventListener("touchend",this.boundColumnContainerTouchEndHandler)}removeColumnContainerEventHandlers(){this.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.removeEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.removeEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.removeEventListener("touchend",this.boundColumnContainerTouchEndHandler)}addKeyboardHandler(){this.keyUpHandler=Sj.bind(this),document.addEventListener("keyup",this.keyUpHandler)}removeKeyboardHandler(){console.log("Remove handler"),document.addEventListener("keyup",this.keyUpHandler)}static uncompressSession(e){let t;if(e.indexOf("/gzip;base64")>0){t=Hs(e);let i="";for(let r of t)i+=String.fromCharCode(r);return i}else{let i=e.substring(5);return jT(i)}}createCircularView(e,t){return t=t===!0,this.circularView=TO(e,this),this.circularViewControl=new eu(this.$toggle_button_container.get(0),this),this.circularView.setAssembly({name:this.genome.id,id:this.genome.id,chromosomes:s4(this.genome)}),this.circularViewVisible=t,this.circularView}get circularViewVisible(){return this.circularView!==void 0&&this.circularView.visible}set circularViewVisible(e){this.circularView&&(this.circularView.visible=e,this.circularViewControl.setState(e))}}function Ej(n){let e;if(n instanceof File)e=n.name;else if(typeof n=="string")e=n;else throw new Error("Input must be a File object or a URL string");return e.split(".").pop().split("?")[0]}async function A0(){if(!this.referenceFrameList)return;const n=this.calculateViewportWidth(this.referenceFrameList.length);for(let e of this.referenceFrameList){const t=this.referenceFrameList.indexOf(e),{chr:i,genome:r}=e,{bpLength:s}=r.getChromosome(e.chr),o=e.toBP(n);Ut.isWholeGenomeView(i)||o>s?e.bpPerPixel=s/n:e.end=e.start+e.toBP(n);for(let{viewports:a}of this.trackViews)a[t].setWidth(n)}this.updateUIWithReferenceFrameList(),await this.updateViews(!0)}function v3(n){n.preventDefault();const{x:e,y:t}=ah(n);if(this.vpMouseDown){const{viewport:i,referenceFrame:r}=this.vpMouseDown,s=Math.abs(e-this.vpMouseDown.mouseDownX)>Math.abs(t-this.vpMouseDown.mouseDownY);if(!this.dragObject&&!this.isScrolling){if(s)this.vpMouseDown.mouseDownX&&Math.abs(e-this.vpMouseDown.mouseDownX)>this.constants.dragThreshold&&(this.dragObject={viewport:i,start:r.start});else if(this.vpMouseDown.mouseDownY&&Math.abs(t-this.vpMouseDown.mouseDownY)>this.constants.scrollThreshold){this.isScrolling=!0;const o=i.$viewport.height(),a=i.trackView.maxViewportContentHeight();this.vpMouseDown.r=o/a}}if(this.dragObject){const o=!this.isSoftclipped();let a=this.vpMouseDown.lastMouseX-e;r.shiftPixels(a,i.$viewport.width(),o)&&this.updateViews(),this.fireEvent("trackdrag")}if(this.isScrolling){const o=this.vpMouseDown.r*(this.vpMouseDown.lastMouseY-t);i.trackView.moveScroller(o)}this.vpMouseDown.lastMouseX=e,this.vpMouseDown.lastMouseY=t}}function dc(n){this.cancelTrackPan(),this.endTrackDrag()}async function Sj(n){if(!(this.referenceFrameList.length>1)&&(n.code==="KeyF"||n.code==="KeyB")){const e=this.getSelectedTrackViews();if(e.length>0){const t=e[0].track;if(typeof t.nextFeatureAfter=="function"){const i=this.referenceFrameList[0],r=i.viewport?i.viewport.getWidth():this.calculateViewportWidth(this.referenceFrameList.length),s=i.chr.toLowerCase()==="all",o=t.visibilityWindow;if(s||o&&o>0&&i.bpPerPixel*r>o)return;const a=n.code==="KeyF",l=i.chr,c=i.center,h=await t.nextFeatureAfter(l,c,a);if(h){const u=await this.genome.getChromosomeName(h.chr);if(l===u){const f=(h.start+h.end)/2;if(n.shiftKey){const d=this.config.minimumBases||40,p=Math.max(d,1.1*(h.end-h.start));i.start=Math.max(0,f-p/2),i.end=f+p/2,i.bpPerPixel=(i.end-i.start)/r}else i.shift(f-c);this.updateViews()}else{i.chr=u;const f=(h.start+h.end)/2;if(n.shiftKey){const d=this.config.minimumBases||40,p=Math.max(d,1.1*(h.end-h.start));i.start=Math.max(0,f-p/2),i.end=i.start+p,i.bpPerPixel=(i.end-i.start)/r}else i.start=f-r*i.bpPerPixel/2,i.end=i.start+r*i.bpPerPixel;this.updateViews()}}}}}}function Ij(){return ke('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>')}function _0(n,e){for(let{viewports:t}of n)for(let i of t)i.$trackLabel&&(t.indexOf(i)===0&&e===!0?i.$trackLabel.show():i.$trackLabel.hide())}let ml=[];async function Nj(n,e){e===void 0&&(e={}),Ut.KNOWN_GENOMES||await Ut.initializeGenomes(e),x2(e),e.queryParametersSupported&&Bj(e),e.apiKey&&Be.setApiKey(e.apiKey),e.oauthToken&&Be.setOauthToken(e.oauthToken),e.clientId&&!Go()&&await XT({client_id:e.clientId,apiKey:e.apiKey,scope:"https://www.googleapis.com/auth/userinfo.profile"});const t=new gl(e,n);ml.push(t),t.startSpinner();const i=e.sessionURL||e.session||e.hubURL;return i?await t.loadSession({url:i}):await t.loadSessionObject(e),t.stopSpinner(),A2(t,t.$navigation.width()),t}function Tj(n){n.dispose(),n.root.remove(),ml=ml.filter(e=>e!==n)}function Rj(){for(let n of ml)n.dispose(),n.root.remove();ml=[]}async function Mj(){for(let n of ml)await n.visibilityChange()}function x2(n){return n.minimumBases===void 0&&(n.minimumBases=40),n.showIdeogram===void 0&&(n.showIdeogram=!0),n.showCircularView===void 0&&(n.showCircularView=!1),n.showCircularViewButton===void 0&&(n.showCircularViewButton=!1),n.showTrackLabelButton===void 0&&(n.showTrackLabelButton=!0),n.showTrackLabels===void 0&&(n.showTrackLabels=!0),n.showCursorTrackingGuideButton===void 0&&(n.showCursorTrackingGuideButton=!0),n.showCursorGuide===void 0&&(n.showCursorGuide=n.showCursorTrackingGuide||!1),n.showCenterGuideButton===void 0&&(n.showCenterGuideButton=!0),n.showCenterGuide===void 0&&(n.showCenterGuide=!1),n.showSampleNames===void 0&&(n.showSampleNames=!1),n.showSVGButton===void 0&&(n.showSVGButton=!0),n.showControls===void 0&&(n.showControls=!0),n.showNavigation===void 0&&(n.showNavigation=!0),n.showRuler===void 0&&(n.showRuler=!0),n.flanking===void 0&&(n.flanking=1e3),n.pairsSupported===void 0&&(n.pairsSupported=!0),n.tracks||(n.tracks=[]),n}function Bj(n){var e,t,i,r,s,o,a,l,c,h;l=window.location.href,o={},e=l.indexOf("?"),t=l.lastIndexOf("#");let u,f,d;if(e>=0)for(t<0&&(t=l.length),i=e+1;i<t;)r=l.indexOf("&",i),r<0&&(r=t),s=l.substring(i,r),a=s.split("=",2),a.length===2?(c=a[0],h=decodeURIComponent(a[1]),c==="file"?u=h.split(","):c==="index"?f=h.split(","):c==="name"?d=h.split(","):c==="genome"?(h.startsWith("https://")||h.startsWith("http://"))&&!h.endsWith(".json")?n.reference={fastaURL:h,indexURL:h+".fai"}:(n[c]=h,n.reference=void 0):(c==="reference"&&(n.genome=void 0),n[c]=h),i=r+1):i++;if(u){n.tracks||(n.tracks=[]);for(let p=0;p<u.length;p++){if(u[p].endsWith(".xml")||u[p].endsWith(".json")){n.sessionURL=u[p];break}const w={url:u[p]};f&&f.length>p&&(w.indexURL=f[p]),d&&d.length>p&&(w.name=d[p]),n.tracks.push(w)}}return o}async function Dj(n,e){return await gl.prototype.createTrack.call(e,n)}const Lj=Be.setApiKey;function zj(n){return Be.setOauthToken(n)}function Pj(n,e){return Be.setOauthToken(n,e)}const Oj=Be.oauth;var A3={TrackUtils:ZR,IGVGraphics:pe,MenuUtils:VC,DataRangeDialog:qC,createTrack:Dj,createBrowser:Nj,removeBrowser:Tj,removeAllBrowsers:Rj,visibilityChange:Mj,setGoogleOauthToken:zj,setOauthToken:Pj,oauth:Oj,version:_8,setApiKey:Lj,TrackBase:Bt,registerTrackClass:Cq,registerTrackCreatorFunction:xq,registerFileFormats:qM,loadSessionFile:gl.loadSessionFile},tu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yp=typeof window>"u"||"Deno"in globalThis;function Ii(){}function Hj(n,e){return typeof n=="function"?n(e):n}function Uj(n){return typeof n=="number"&&n>=0&&n!==1/0}function Vj(n,e){return Math.max(n+(e||0)-Date.now(),0)}function _3(n,e){return typeof n=="function"?n(e):n}function qj(n,e){return typeof n=="function"?n(e):n}function C3(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=n;if(o){if(i){if(e.queryHash!==Bw(o,e.options))return!1}else if(!Eh(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function x3(n,e){const{exact:t,status:i,predicate:r,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Do(e.options.mutationKey)!==Do(s))return!1}else if(!Eh(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function Bw(n,e){return((e==null?void 0:e.queryKeyHashFn)||Do)(n)}function Do(n){return JSON.stringify(n,(e,t)=>k2(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function Eh(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Eh(n[t],e[t])):!1}function E8(n,e){if(n===e)return n;const t=k3(n)&&k3(e);if(t||k2(n)&&k2(e)){const i=t?n:Object.keys(n),r=i.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const h=t?c:s[c];(!t&&i.includes(h)||t)&&n[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=E8(n[h],e[h]),a[h]===n[h]&&n[h]!==void 0&&l++)}return r===o&&l===r?n:a}return e}function jj(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function k3(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function k2(n){if(!E3(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!E3(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function E3(n){return Object.prototype.toString.call(n)==="[object Object]"}function Qj(n){return new Promise(e=>{setTimeout(e,n)})}function $j(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?E8(n,e):e}function Gj(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function Wj(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var S8=Symbol();function I8(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===S8?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var fo,cs,Ga,a5,Kj=(a5=class extends tu{constructor(){super();Pe(this,fo);Pe(this,cs);Pe(this,Ga);Ue(this,Ga,e=>{if(!yp&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){he(this,cs)||this.setEventListener(he(this,Ga))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,cs))==null||e.call(this),Ue(this,cs,void 0))}setEventListener(e){var t;Ue(this,Ga,e),(t=he(this,cs))==null||t.call(this),Ue(this,cs,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){he(this,fo)!==e&&(Ue(this,fo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof he(this,fo)=="boolean"?he(this,fo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fo=new WeakMap,cs=new WeakMap,Ga=new WeakMap,a5),N8=new Kj,Wa,hs,Ka,l5,Yj=(l5=class extends tu{constructor(){super();Pe(this,Wa,!0);Pe(this,hs);Pe(this,Ka);Ue(this,Ka,e=>{if(!yp&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){he(this,hs)||this.setEventListener(he(this,Ka))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,hs))==null||e.call(this),Ue(this,hs,void 0))}setEventListener(e){var t;Ue(this,Ka,e),(t=he(this,hs))==null||t.call(this),Ue(this,hs,e(this.setOnline.bind(this)))}setOnline(e){he(this,Wa)!==e&&(Ue(this,Wa,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return he(this,Wa)}},Wa=new WeakMap,hs=new WeakMap,Ka=new WeakMap,l5),Md=new Yj;function Xj(n){return Math.min(1e3*2**n,3e4)}function T8(n){return(n??"online")==="online"?Md.isOnline():!0}var R8=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function C0(n){return n instanceof R8}function M8(n){let e=!1,t=0,i=!1,r,s,o;const a=new Promise((g,m)=>{s=g,o=m}),l=g=>{var m;i||(p(new R8(g)),(m=n.abort)==null||m.call(n))},c=()=>{e=!0},h=()=>{e=!1},u=()=>N8.isFocused()&&(n.networkMode==="always"||Md.isOnline())&&n.canRun(),f=()=>T8(n.networkMode)&&n.canRun(),d=g=>{var m;i||(i=!0,(m=n.onSuccess)==null||m.call(n,g),r==null||r(),s(g))},p=g=>{var m;i||(i=!0,(m=n.onError)==null||m.call(n,g),r==null||r(),o(g))},w=()=>new Promise(g=>{var m;r=b=>{(i||u())&&g(b)},(m=n.onPause)==null||m.call(n)}).then(()=>{var g;r=void 0,i||(g=n.onContinue)==null||g.call(n)}),F=()=>{if(i)return;let g;const m=t===0?n.initialPromise:void 0;try{g=m??n.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(d).catch(b=>{var _;if(i)return;const y=n.retry??(yp?0:3),A=n.retryDelay??Xj,x=typeof A=="function"?A(t,b):A,v=y===!0||typeof y=="number"&&t<y||typeof y=="function"&&y(t,b);if(e||!v){p(b);return}t++,(_=n.onFail)==null||_.call(n,t,b),Qj(x).then(()=>u()?void 0:w()).then(()=>{e?p(b):F()})})};return{promise:a,cancel:l,continue:()=>(r==null||r(),a),cancelRetry:c,continueRetry:h,canStart:f,start:()=>(f()?F():w().then(F),a)}}function Zj(){let n=[],e=0,t=a=>{a()},i=a=>{a()},r=a=>setTimeout(a,0);const s=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var hn=Zj(),po,c5,B8=(c5=class{constructor(){Pe(this,po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Uj(this.gcTime)&&Ue(this,po,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(yp?1/0:5*60*1e3))}clearGcTimeout(){he(this,po)&&(clearTimeout(he(this,po)),Ue(this,po,void 0))}},po=new WeakMap,c5),Ya,Xa,fi,bn,Dh,go,Ni,Fr,h5,Jj=(h5=class extends B8{constructor(e){super();Pe(this,Ni);Pe(this,Ya);Pe(this,Xa);Pe(this,fi);Pe(this,bn);Pe(this,Dh);Pe(this,go);Ue(this,go,!1),Ue(this,Dh,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ue(this,fi,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ue(this,Ya,tQ(this.options)),this.state=e.state??he(this,Ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=he(this,bn))==null?void 0:e.promise}setOptions(e){this.options={...he(this,Dh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,fi).remove(this)}setData(e,t){const i=$j(this.state.data,e,this.options);return $e(this,Ni,Fr).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){$e(this,Ni,Fr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=he(this,bn))==null?void 0:i.promise;return(r=he(this,bn))==null||r.cancel(e),t?t.then(Ii).catch(Ii):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,Ya))}isActive(){return this.observers.some(e=>qj(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Vj(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=he(this,bn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=he(this,bn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),he(this,fi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(he(this,bn)&&(he(this,go)?he(this,bn).cancel({revert:!0}):he(this,bn).cancelRetry()),this.scheduleGc()),he(this,fi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$e(this,Ni,Fr).call(this,{type:"invalidate"})}fetch(e,t){var l,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(he(this,bn))return he(this,bn).continueRetry(),he(this,bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const i=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Ue(this,go,!0),i.signal)})},s=()=>{const u=I8(this.options,t),f={queryKey:this.queryKey,meta:this.meta};return r(f),Ue(this,go,!1),this.options.persister?this.options.persister(u,f,this):u(f)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(o),(l=this.options.behavior)==null||l.onFetch(o,this),Ue(this,Xa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&$e(this,Ni,Fr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=u=>{var f,d,p,w;C0(u)&&u.silent||$e(this,Ni,Fr).call(this,{type:"error",error:u}),C0(u)||((d=(f=he(this,fi).config).onError)==null||d.call(f,u,this),(w=(p=he(this,fi).config).onSettled)==null||w.call(p,this.state.data,u,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ue(this,bn,M8({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:u=>{var f,d,p,w;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(F){a(F);return}(d=(f=he(this,fi).config).onSuccess)==null||d.call(f,u,this),(w=(p=he(this,fi).config).onSettled)==null||w.call(p,u,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(u,f)=>{$e(this,Ni,Fr).call(this,{type:"failed",failureCount:u,error:f})},onPause:()=>{$e(this,Ni,Fr).call(this,{type:"pause"})},onContinue:()=>{$e(this,Ni,Fr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),he(this,bn).start()}},Ya=new WeakMap,Xa=new WeakMap,fi=new WeakMap,bn=new WeakMap,Dh=new WeakMap,go=new WeakMap,Ni=new WeakSet,Fr=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...eQ(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return C0(r)&&r.revert&&he(this,Xa)?{...he(this,Xa),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),hn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),he(this,fi).notify({query:this,type:"updated",action:e})})},h5);function eQ(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T8(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function tQ(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Gi,u5,nQ=(u5=class extends tu{constructor(e={}){super();Pe(this,Gi);this.config=e,Ue(this,Gi,new Map)}build(e,t,i){const r=t.queryKey,s=t.queryHash??Bw(r,t);let o=this.get(s);return o||(o=new Jj({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){he(this,Gi).has(e.queryHash)||(he(this,Gi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=he(this,Gi).get(e.queryHash);t&&(e.destroy(),t===e&&he(this,Gi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return he(this,Gi).get(e)}getAll(){return[...he(this,Gi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>C3(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>C3(e,i)):t}notify(e){hn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gi=new WeakMap,u5),Wi,kn,mo,Ki,es,f5,iQ=(f5=class extends B8{constructor(e){super();Pe(this,Ki);Pe(this,Wi);Pe(this,kn);Pe(this,mo);this.mutationId=e.mutationId,Ue(this,kn,e.mutationCache),Ue(this,Wi,[]),this.state=e.state||D8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){he(this,Wi).includes(e)||(he(this,Wi).push(e),this.clearGcTimeout(),he(this,kn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ue(this,Wi,he(this,Wi).filter(t=>t!==e)),this.scheduleGc(),he(this,kn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){he(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():he(this,kn).remove(this))}continue(){var e;return((e=he(this,mo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,s,o,a,l,c,h,u,f,d,p,w,F,g,m,b,y,A,x,v;Ue(this,mo,M8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(_,k)=>{$e(this,Ki,es).call(this,{type:"failed",failureCount:_,error:k})},onPause:()=>{$e(this,Ki,es).call(this,{type:"pause"})},onContinue:()=>{$e(this,Ki,es).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,kn).canRun(this)}));const t=this.state.status==="pending",i=!he(this,mo).canStart();try{if(!t){$e(this,Ki,es).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(r=he(this,kn).config).onMutate)==null?void 0:s.call(r,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&$e(this,Ki,es).call(this,{type:"pending",context:k,variables:e,isPaused:i})}const _=await he(this,mo).start();return await((c=(l=he(this,kn).config).onSuccess)==null?void 0:c.call(l,_,e,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,_,e,this.state.context)),await((d=(f=he(this,kn).config).onSettled)==null?void 0:d.call(f,_,null,this.state.variables,this.state.context,this)),await((w=(p=this.options).onSettled)==null?void 0:w.call(p,_,null,e,this.state.context)),$e(this,Ki,es).call(this,{type:"success",data:_}),_}catch(_){try{throw await((g=(F=he(this,kn).config).onError)==null?void 0:g.call(F,_,e,this.state.context,this)),await((b=(m=this.options).onError)==null?void 0:b.call(m,_,e,this.state.context)),await((A=(y=he(this,kn).config).onSettled)==null?void 0:A.call(y,void 0,_,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,void 0,_,e,this.state.context)),_}finally{$e(this,Ki,es).call(this,{type:"error",error:_})}}finally{he(this,kn).runNext(this)}}},Wi=new WeakMap,kn=new WeakMap,mo=new WeakMap,Ki=new WeakSet,es=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),hn.batch(()=>{he(this,Wi).forEach(i=>{i.onMutationUpdate(e)}),he(this,kn).notify({mutation:this,type:"updated",action:e})})},f5);function D8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xn,Lh,d5,rQ=(d5=class extends tu{constructor(e={}){super();Pe(this,Xn);Pe(this,Lh);this.config=e,Ue(this,Xn,new Map),Ue(this,Lh,Date.now())}build(e,t,i){const r=new iQ({mutationCache:this,mutationId:++su(this,Lh)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){const t=Ju(e),i=he(this,Xn).get(t)??[];i.push(e),he(this,Xn).set(t,i),this.notify({type:"added",mutation:e})}remove(e){var i;const t=Ju(e);if(he(this,Xn).has(t)){const r=(i=he(this,Xn).get(t))==null?void 0:i.filter(s=>s!==e);r&&(r.length===0?he(this,Xn).delete(t):he(this,Xn).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var i;const t=(i=he(this,Xn).get(Ju(e)))==null?void 0:i.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var i;const t=(i=he(this,Xn).get(Ju(e)))==null?void 0:i.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...he(this,Xn).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(i=>x3(t,i))}findAll(e={}){return this.getAll().filter(t=>x3(e,t))}notify(e){hn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return hn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ii))))}},Xn=new WeakMap,Lh=new WeakMap,d5);function Ju(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function S3(n){return{onFetch:(e,t)=>{const i=async()=>{var p,w,F,g,m;const r=e.options,s=(F=(w=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:w.fetchMore)==null?void 0:F.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const h=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},u=I8(e.options,e.fetchOptions),f=async(b,y,A)=>{if(c)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const x={queryKey:e.queryKey,pageParam:y,direction:A?"backward":"forward",meta:e.options.meta};h(x);const v=await u(x),{maxPages:_}=e.options,k=A?Wj:Gj;return{pages:k(b.pages,v,_),pageParams:k(b.pageParams,y,_)}};let d;if(s&&o.length){const b=s==="backward",y=b?sQ:I3,A={pages:o,pageParams:a},x=y(r,A);d=await f(A,x,b)}else{d=await f(l,a[0]??r.initialPageParam);const b=n??o.length;for(let y=1;y<b;y++){const A=I3(r,d);if(A==null)break;d=await f(d,A)}}return d};e.options.persister?e.fetchFn=()=>{var r,s;return(s=(r=e.options).persister)==null?void 0:s.call(r,i,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=i}}}function I3(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function sQ(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var zt,us,fs,Za,Ja,ds,el,tl,p5,oQ=(p5=class{constructor(n={}){Pe(this,zt);Pe(this,us);Pe(this,fs);Pe(this,Za);Pe(this,Ja);Pe(this,ds);Pe(this,el);Pe(this,tl);Ue(this,zt,n.queryCache||new nQ),Ue(this,us,n.mutationCache||new rQ),Ue(this,fs,n.defaultOptions||{}),Ue(this,Za,new Map),Ue(this,Ja,new Map),Ue(this,ds,0)}mount(){su(this,ds)._++,he(this,ds)===1&&(Ue(this,el,N8.subscribe(async n=>{n&&(await this.resumePausedMutations(),he(this,zt).onFocus())})),Ue(this,tl,Md.subscribe(async n=>{n&&(await this.resumePausedMutations(),he(this,zt).onOnline())})))}unmount(){var n,e;su(this,ds)._--,he(this,ds)===0&&((n=he(this,el))==null||n.call(this),Ue(this,el,void 0),(e=he(this,tl))==null||e.call(this),Ue(this,tl,void 0))}isFetching(n){return he(this,zt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return he(this,us).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=he(this,zt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),i=he(this,zt).build(this,t);return n.revalidateIfStale&&i.isStaleByTime(_3(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return he(this,zt).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=he(this,zt).get(i.queryHash),s=r==null?void 0:r.state.data,o=Hj(e,s);if(o!==void 0)return he(this,zt).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return hn.batch(()=>he(this,zt).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=he(this,zt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=he(this,zt);hn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=he(this,zt),i={type:"active",...n};return hn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},i=hn.batch(()=>he(this,zt).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(Ii).catch(Ii)}invalidateQueries(n={},e={}){return hn.batch(()=>{if(he(this,zt).findAll(n).forEach(i=>{i.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=hn.batch(()=>he(this,zt).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let s=r.fetch(void 0,t);return t.throwOnError||(s=s.catch(Ii)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Ii)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=he(this,zt).build(this,e);return t.isStaleByTime(_3(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ii).catch(Ii)}fetchInfiniteQuery(n){return n.behavior=S3(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ii).catch(Ii)}ensureInfiniteQueryData(n){return n.behavior=S3(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Md.isOnline()?he(this,us).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,zt)}getMutationCache(){return he(this,us)}getDefaultOptions(){return he(this,fs)}setDefaultOptions(n){Ue(this,fs,n)}setQueryDefaults(n,e){he(this,Za).set(Do(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...he(this,Za).values()];let t={};return e.forEach(i=>{Eh(n,i.queryKey)&&(t={...t,...i.defaultOptions})}),t}setMutationDefaults(n,e){he(this,Ja).set(Do(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...he(this,Ja).values()];let t={};return e.forEach(i=>{Eh(n,i.mutationKey)&&(t={...t,...i.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...he(this,fs).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Bw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===S8&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...he(this,fs).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){he(this,zt).clear(),he(this,us).clear()}},zt=new WeakMap,us=new WeakMap,fs=new WeakMap,Za=new WeakMap,Ja=new WeakMap,ds=new WeakMap,el=new WeakMap,tl=new WeakMap,p5),ps,gs,Bn,xr,Rr,Nf,E2,g5,aQ=(g5=class extends tu{constructor(t,i){super();Pe(this,Rr);Pe(this,ps);Pe(this,gs);Pe(this,Bn);Pe(this,xr);Ue(this,ps,t),this.setOptions(i),this.bindMethods(),$e(this,Rr,Nf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const i=this.options;this.options=he(this,ps).defaultMutationOptions(t),jj(this.options,i)||he(this,ps).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,Bn),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Do(i.mutationKey)!==Do(this.options.mutationKey)?this.reset():((r=he(this,Bn))==null?void 0:r.state.status)==="pending"&&he(this,Bn).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=he(this,Bn))==null||t.removeObserver(this)}onMutationUpdate(t){$e(this,Rr,Nf).call(this),$e(this,Rr,E2).call(this,t)}getCurrentResult(){return he(this,gs)}reset(){var t;(t=he(this,Bn))==null||t.removeObserver(this),Ue(this,Bn,void 0),$e(this,Rr,Nf).call(this),$e(this,Rr,E2).call(this)}mutate(t,i){var r;return Ue(this,xr,i),(r=he(this,Bn))==null||r.removeObserver(this),Ue(this,Bn,he(this,ps).getMutationCache().build(he(this,ps),this.options)),he(this,Bn).addObserver(this),he(this,Bn).execute(t)}},ps=new WeakMap,gs=new WeakMap,Bn=new WeakMap,xr=new WeakMap,Rr=new WeakSet,Nf=function(){var i;const t=((i=he(this,Bn))==null?void 0:i.state)??D8();Ue(this,gs,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},E2=function(t){hn.batch(()=>{var i,r,s,o,a,l,c,h;if(he(this,xr)&&this.hasListeners()){const u=he(this,gs).variables,f=he(this,gs).context;(t==null?void 0:t.type)==="success"?((r=(i=he(this,xr)).onSuccess)==null||r.call(i,t.data,u,f),(o=(s=he(this,xr)).onSettled)==null||o.call(s,t.data,null,u,f)):(t==null?void 0:t.type)==="error"&&((l=(a=he(this,xr)).onError)==null||l.call(a,t.error,u,f),(h=(c=he(this,xr)).onSettled)==null||h.call(c,void 0,t.error,u,f))}this.listeners.forEach(u=>{u(he(this,gs))})})},g5),L8=ie.createContext(void 0),lQ=n=>{const e=ie.useContext(L8);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},cQ=({client:n,children:e})=>(ie.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),ve.jsx(L8.Provider,{value:n,children:e}));function hQ(n,e){return typeof n=="function"?n(...e):!!n}function uQ(){}function fQ(n,e){const t=lQ(),[i]=ie.useState(()=>new aQ(t,n));ie.useEffect(()=>{i.setOptions(n)},[i,n]);const r=ie.useSyncExternalStore(ie.useCallback(o=>i.subscribe(hn.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=ie.useCallback((o,a)=>{i.mutate(o,a).catch(uQ)},[i]);if(r.error&&hQ(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}function z8(n,e){return function(){return n.apply(e,arguments)}}const{toString:dQ}=Object.prototype,{getPrototypeOf:Dw}=Object,vp=(n=>e=>{const t=dQ.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Hi=n=>(n=n.toLowerCase(),e=>vp(e)===n),Ap=n=>e=>typeof e===n,{isArray:Ml}=Array,Sh=Ap("undefined");function pQ(n){return n!==null&&!Sh(n)&&n.constructor!==null&&!Sh(n.constructor)&&ii(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const P8=Hi("ArrayBuffer");function gQ(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&P8(n.buffer),e}const mQ=Ap("string"),ii=Ap("function"),O8=Ap("number"),_p=n=>n!==null&&typeof n=="object",wQ=n=>n===!0||n===!1,Tf=n=>{if(vp(n)!=="object")return!1;const e=Dw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},bQ=Hi("Date"),FQ=Hi("File"),yQ=Hi("Blob"),vQ=Hi("FileList"),AQ=n=>_p(n)&&ii(n.pipe),_Q=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ii(n.append)&&((e=vp(n))==="formdata"||e==="object"&&ii(n.toString)&&n.toString()==="[object FormData]"))},CQ=Hi("URLSearchParams"),[xQ,kQ,EQ,SQ]=["ReadableStream","Request","Response","Headers"].map(Hi),IQ=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Ml(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function H8(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const co=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U8=n=>!Sh(n)&&n!==co;function S2(){const{caseless:n}=U8(this)&&this||{},e={},t=(i,r)=>{const s=n&&H8(e,r)||r;Tf(e[s])&&Tf(i)?e[s]=S2(e[s],i):Tf(i)?e[s]=S2({},i):Ml(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&nu(arguments[i],t);return e}const NQ=(n,e,t,{allOwnKeys:i}={})=>(nu(e,(r,s)=>{t&&ii(r)?n[s]=z8(r,t):n[s]=r},{allOwnKeys:i}),n),TQ=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),RQ=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},MQ=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Dw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},BQ=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},DQ=n=>{if(!n)return null;if(Ml(n))return n;let e=n.length;if(!O8(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},LQ=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Dw(Uint8Array)),zQ=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},PQ=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},OQ=Hi("HTMLFormElement"),HQ=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),N3=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),UQ=Hi("RegExp"),V8=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};nu(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},VQ=n=>{V8(n,(e,t)=>{if(ii(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ii(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},qQ=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return Ml(n)?i(n):i(String(n).split(e)),t},jQ=()=>{},QQ=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,x0="abcdefghijklmnopqrstuvwxyz",T3="0123456789",q8={DIGIT:T3,ALPHA:x0,ALPHA_DIGIT:x0+x0.toUpperCase()+T3},$Q=(n=16,e=q8.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function GQ(n){return!!(n&&ii(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const WQ=n=>{const e=new Array(10),t=(i,r)=>{if(_p(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=Ml(i)?[]:{};return nu(i,(o,a)=>{const l=t(o,r+1);!Sh(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return t(n,0)},KQ=Hi("AsyncFunction"),YQ=n=>n&&(_p(n)||ii(n))&&ii(n.then)&&ii(n.catch),j8=((n,e)=>n?setImmediate:e?((t,i)=>(co.addEventListener("message",({source:r,data:s})=>{r===co&&s===t&&i.length&&i.shift()()},!1),r=>{i.push(r),co.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ii(co.postMessage)),XQ=typeof queueMicrotask<"u"?queueMicrotask.bind(co):typeof process<"u"&&process.nextTick||j8,me={isArray:Ml,isArrayBuffer:P8,isBuffer:pQ,isFormData:_Q,isArrayBufferView:gQ,isString:mQ,isNumber:O8,isBoolean:wQ,isObject:_p,isPlainObject:Tf,isReadableStream:xQ,isRequest:kQ,isResponse:EQ,isHeaders:SQ,isUndefined:Sh,isDate:bQ,isFile:FQ,isBlob:yQ,isRegExp:UQ,isFunction:ii,isStream:AQ,isURLSearchParams:CQ,isTypedArray:LQ,isFileList:vQ,forEach:nu,merge:S2,extend:NQ,trim:IQ,stripBOM:TQ,inherits:RQ,toFlatObject:MQ,kindOf:vp,kindOfTest:Hi,endsWith:BQ,toArray:DQ,forEachEntry:zQ,matchAll:PQ,isHTMLForm:OQ,hasOwnProperty:N3,hasOwnProp:N3,reduceDescriptors:V8,freezeMethods:VQ,toObjectSet:qQ,toCamelCase:HQ,noop:jQ,toFiniteNumber:QQ,findKey:H8,global:co,isContextDefined:U8,ALPHABET:q8,generateString:$Q,isSpecCompliantForm:GQ,toJSONObject:WQ,isAsyncFn:KQ,isThenable:YQ,setImmediate:j8,asap:XQ};function Ze(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}me.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const Q8=Ze.prototype,$8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{$8[n]={value:n}});Object.defineProperties(Ze,$8);Object.defineProperty(Q8,"isAxiosError",{value:!0});Ze.from=(n,e,t,i,r,s)=>{const o=Object.create(Q8);return me.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ze.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const ZQ=null;function I2(n){return me.isPlainObject(n)||me.isArray(n)}function G8(n){return me.endsWith(n,"[]")?n.slice(0,-2):n}function R3(n,e,t){return n?n.concat(e).map(function(r,s){return r=G8(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function JQ(n){return me.isArray(n)&&!n.some(I2)}const e$=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function Cp(n,e,t){if(!me.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,F){return!me.isUndefined(F[w])});const i=t.metaTokens,r=t.visitor||h,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(me.isDate(p))return p.toISOString();if(!l&&me.isBlob(p))throw new Ze("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(p)||me.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,w,F){let g=p;if(p&&!F&&typeof p=="object"){if(me.endsWith(w,"{}"))w=i?w:w.slice(0,-2),p=JSON.stringify(p);else if(me.isArray(p)&&JQ(p)||(me.isFileList(p)||me.endsWith(w,"[]"))&&(g=me.toArray(p)))return w=G8(w),g.forEach(function(b,y){!(me.isUndefined(b)||b===null)&&e.append(o===!0?R3([w],y,s):o===null?w:w+"[]",c(b))}),!1}return I2(p)?!0:(e.append(R3(F,w,s),c(p)),!1)}const u=[],f=Object.assign(e$,{defaultVisitor:h,convertValue:c,isVisitable:I2});function d(p,w){if(!me.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+w.join("."));u.push(p),me.forEach(p,function(g,m){(!(me.isUndefined(g)||g===null)&&r.call(e,g,me.isString(m)?m.trim():m,w,f))===!0&&d(g,w?w.concat(m):[m])}),u.pop()}}if(!me.isObject(n))throw new TypeError("data must be an object");return d(n),e}function M3(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Lw(n,e){this._pairs=[],n&&Cp(n,this,e)}const W8=Lw.prototype;W8.append=function(e,t){this._pairs.push([e,t])};W8.toString=function(e){const t=e?function(i){return e.call(this,i,M3)}:M3;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function t$(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function K8(n,e,t){if(!e)return n;const i=t&&t.encode||t$,r=t&&t.serialize;let s;if(r?s=r(e,t):s=me.isURLSearchParams(e)?e.toString():new Lw(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class B3{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Y8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},n$=typeof URLSearchParams<"u"?URLSearchParams:Lw,i$=typeof FormData<"u"?FormData:null,r$=typeof Blob<"u"?Blob:null,s$={isBrowser:!0,classes:{URLSearchParams:n$,FormData:i$,Blob:r$},protocols:["http","https","file","blob","url","data"]},zw=typeof window<"u"&&typeof document<"u",N2=typeof navigator=="object"&&navigator||void 0,o$=zw&&(!N2||["ReactNative","NativeScript","NS"].indexOf(N2.product)<0),a$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",l$=zw&&window.location.href||"http://localhost",c$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zw,hasStandardBrowserEnv:o$,hasStandardBrowserWebWorkerEnv:a$,navigator:N2,origin:l$},Symbol.toStringTag,{value:"Module"})),jn={...c$,...s$};function h$(n,e){return Cp(n,new jn.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return jn.isNode&&me.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function u$(n){return me.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function f$(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function X8(n){function e(t,i,r,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&me.isArray(r)?r.length:o,l?(me.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!me.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&me.isArray(r[o])&&(r[o]=f$(r[o])),!a)}if(me.isFormData(n)&&me.isFunction(n.entries)){const t={};return me.forEachEntry(n,(i,r)=>{e(u$(i),r,t,0)}),t}return null}function d$(n,e,t){if(me.isString(n))try{return(e||JSON.parse)(n),me.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const iu={transitional:Y8,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=me.isObject(e);if(s&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return r?JSON.stringify(X8(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return h$(e,this.formSerializer).toString();if((a=me.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Cp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),d$(e)):e}],transformResponse:[function(e){const t=this.transitional||iu.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ze.from(a,Ze.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],n=>{iu.headers[n]={}});const p$=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g$=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&p$[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},D3=Symbol("internals");function pc(n){return n&&String(n).trim().toLowerCase()}function Rf(n){return n===!1||n==null?n:me.isArray(n)?n.map(Rf):String(n)}function m$(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const w$=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function k0(n,e,t,i,r){if(me.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!me.isString(e)){if(me.isString(i))return e.indexOf(i)!==-1;if(me.isRegExp(i))return i.test(e)}}function b$(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function F$(n,e){const t=me.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class Qn{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,l,c){const h=pc(l);if(!h)throw new Error("header name must be a non-empty string");const u=me.findKey(r,h);(!u||r[u]===void 0||c===!0||c===void 0&&r[u]!==!1)&&(r[u||l]=Rf(a))}const o=(a,l)=>me.forEach(a,(c,h)=>s(c,h,l));if(me.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(me.isString(e)&&(e=e.trim())&&!w$(e))o(g$(e),t);else if(me.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(t,e,i);return this}get(e,t){if(e=pc(e),e){const i=me.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return m$(r);if(me.isFunction(t))return t.call(this,r,i);if(me.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pc(e),e){const i=me.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||k0(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=pc(o),o){const a=me.findKey(i,o);a&&(!t||k0(i,i[a],a,t))&&(delete i[a],r=!0)}}return me.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||k0(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return me.forEach(this,(r,s)=>{const o=me.findKey(i,s);if(o){t[o]=Rf(r),delete t[s];return}const a=e?b$(s):String(s).trim();a!==s&&delete t[s],t[a]=Rf(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return me.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&me.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[D3]=this[D3]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=pc(o);i[a]||(F$(r,o),i[a]=!0)}return me.isArray(e)?e.forEach(s):s(e),this}}Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Qn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});me.freezeMethods(Qn);function E0(n,e){const t=this||iu,i=e||t,r=Qn.from(i.headers);let s=i.data;return me.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function Z8(n){return!!(n&&n.__CANCEL__)}function Bl(n,e,t){Ze.call(this,n??"canceled",Ze.ERR_CANCELED,e,t),this.name="CanceledError"}me.inherits(Bl,Ze,{__CANCEL__:!0});function J8(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Ze("Request failed with status code "+t.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function y$(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function v$(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=i[s];o||(o=c),t[r]=l,i[r]=c;let u=s,f=0;for(;u!==r;)f+=t[u++],u=u%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<e)return;const d=h&&c-h;return d?Math.round(f*1e3/d):void 0}}function A$(n,e){let t=0,i=1e3/e,r,s;const o=(c,h=Date.now())=>{t=h,r=null,s&&(clearTimeout(s),s=null),n.apply(null,c)};return[(...c)=>{const h=Date.now(),u=h-t;u>=i?o(c,h):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-u)))},()=>r&&o(r)]}const Bd=(n,e,t=3)=>{let i=0;const r=v$(50,250);return A$(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),h=o<=a;i=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(u)},t)},L3=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},z3=n=>(...e)=>me.asap(()=>n(...e)),_$=jn.hasStandardBrowserEnv?function(){const e=jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent),t=document.createElement("a");let i;function r(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=r(window.location.href),function(o){const a=me.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),C$=jn.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const o=[n+"="+encodeURIComponent(e)];me.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),me.isString(i)&&o.push("path="+i),me.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function x$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function k$(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function e7(n,e){return n&&!x$(e)?k$(n,e):e}const P3=n=>n instanceof Qn?{...n}:n;function Lo(n,e){e=e||{};const t={};function i(c,h,u){return me.isPlainObject(c)&&me.isPlainObject(h)?me.merge.call({caseless:u},c,h):me.isPlainObject(h)?me.merge({},h):me.isArray(h)?h.slice():h}function r(c,h,u){if(me.isUndefined(h)){if(!me.isUndefined(c))return i(void 0,c,u)}else return i(c,h,u)}function s(c,h){if(!me.isUndefined(h))return i(void 0,h)}function o(c,h){if(me.isUndefined(h)){if(!me.isUndefined(c))return i(void 0,c)}else return i(void 0,h)}function a(c,h,u){if(u in e)return i(c,h);if(u in n)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>r(P3(c),P3(h),!0)};return me.forEach(Object.keys(Object.assign({},n,e)),function(h){const u=l[h]||r,f=u(n[h],e[h],h);me.isUndefined(f)&&u!==a||(t[h]=f)}),t}const t7=n=>{const e=Lo({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Qn.from(o),e.url=K8(e7(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(me.isFormData(t)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...h]=l?l.split(";").map(u=>u.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(jn.hasStandardBrowserEnv&&(i&&me.isFunction(i)&&(i=i(e)),i||i!==!1&&_$(e.url))){const c=r&&s&&C$.read(s);c&&o.set(r,c)}return e},E$=typeof XMLHttpRequest<"u",S$=E$&&function(n){return new Promise(function(t,i){const r=t7(n);let s=r.data;const o=Qn.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,h,u,f,d,p;function w(){d&&d(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let F=new XMLHttpRequest;F.open(r.method.toUpperCase(),r.url,!0),F.timeout=r.timeout;function g(){if(!F)return;const b=Qn.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:b,config:n,request:F};J8(function(v){t(v),w()},function(v){i(v),w()},A),F=null}"onloadend"in F?F.onloadend=g:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(g)},F.onabort=function(){F&&(i(new Ze("Request aborted",Ze.ECONNABORTED,n,F)),F=null)},F.onerror=function(){i(new Ze("Network Error",Ze.ERR_NETWORK,n,F)),F=null},F.ontimeout=function(){let y=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const A=r.transitional||Y8;r.timeoutErrorMessage&&(y=r.timeoutErrorMessage),i(new Ze(y,A.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,n,F)),F=null},s===void 0&&o.setContentType(null),"setRequestHeader"in F&&me.forEach(o.toJSON(),function(y,A){F.setRequestHeader(A,y)}),me.isUndefined(r.withCredentials)||(F.withCredentials=!!r.withCredentials),a&&a!=="json"&&(F.responseType=r.responseType),c&&([f,p]=Bd(c,!0),F.addEventListener("progress",f)),l&&F.upload&&([u,d]=Bd(l),F.upload.addEventListener("progress",u),F.upload.addEventListener("loadend",d)),(r.cancelToken||r.signal)&&(h=b=>{F&&(i(!b||b.type?new Bl(null,n,F):b),F.abort(),F=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const m=y$(r.url);if(m&&jn.protocols.indexOf(m)===-1){i(new Ze("Unsupported protocol "+m+":",Ze.ERR_BAD_REQUEST,n));return}F.send(s||null)})},I$=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const h=c instanceof Error?c:this.reason;i.abort(h instanceof Ze?h:new Bl(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),n=null)};n.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>me.asap(a),l}},N$=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},T$=async function*(n,e){for await(const t of R$(n))yield*N$(t,e)},R$=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},O3=(n,e,t,i)=>{const r=T$(n,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await r.next();if(c){a(),l.close();return}let u=h.byteLength;if(t){let f=s+=u;t(f)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},xp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",n7=xp&&typeof ReadableStream=="function",M$=xp&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),i7=(n,...e)=>{try{return!!n(...e)}catch{return!1}},B$=n7&&i7(()=>{let n=!1;const e=new Request(jn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),H3=64*1024,T2=n7&&i7(()=>me.isReadableStream(new Response("").body)),Dd={stream:T2&&(n=>n.body)};xp&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dd[e]&&(Dd[e]=me.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Ze(`Response type '${e}' is not supported`,Ze.ERR_NOT_SUPPORT,i)})})})(new Response);const D$=async n=>{if(n==null)return 0;if(me.isBlob(n))return n.size;if(me.isSpecCompliantForm(n))return(await new Request(jn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(me.isArrayBufferView(n)||me.isArrayBuffer(n))return n.byteLength;if(me.isURLSearchParams(n)&&(n=n+""),me.isString(n))return(await M$(n)).byteLength},L$=async(n,e)=>{const t=me.toFiniteNumber(n.getContentLength());return t??D$(e)},z$=xp&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:u="same-origin",fetchOptions:f}=t7(n);c=c?(c+"").toLowerCase():"text";let d=I$([r,s&&s.toAbortSignal()],o),p;const w=d&&d.unsubscribe&&(()=>{d.unsubscribe()});let F;try{if(l&&B$&&t!=="get"&&t!=="head"&&(F=await L$(h,i))!==0){let A=new Request(e,{method:"POST",body:i,duplex:"half"}),x;if(me.isFormData(i)&&(x=A.headers.get("content-type"))&&h.setContentType(x),A.body){const[v,_]=L3(F,Bd(z3(l)));i=O3(A.body,H3,v,_)}}me.isString(u)||(u=u?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...f,signal:d,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",credentials:g?u:void 0});let m=await fetch(p);const b=T2&&(c==="stream"||c==="response");if(T2&&(a||b&&w)){const A={};["status","statusText","headers"].forEach(k=>{A[k]=m[k]});const x=me.toFiniteNumber(m.headers.get("content-length")),[v,_]=a&&L3(x,Bd(z3(a),!0))||[];m=new Response(O3(m.body,H3,v,()=>{_&&_(),w&&w()}),A)}c=c||"text";let y=await Dd[me.findKey(Dd,c)||"text"](m,n);return!b&&w&&w(),await new Promise((A,x)=>{J8(A,x,{data:y,headers:Qn.from(m.headers),status:m.status,statusText:m.statusText,config:n,request:p})})}catch(g){throw w&&w(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,n,p),{cause:g.cause||g}):Ze.from(g,g&&g.code,n,p)}}),R2={http:ZQ,xhr:S$,fetch:z$};me.forEach(R2,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const U3=n=>`- ${n}`,P$=n=>me.isFunction(n)||n===null||n===!1,r7={getAdapter:n=>{n=me.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let o;if(i=t,!P$(t)&&(i=R2[(o=String(t)).toLowerCase()],i===void 0))throw new Ze(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(U3).join(`
`):" "+U3(s[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:R2};function S0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Bl(null,n)}function V3(n){return S0(n),n.headers=Qn.from(n.headers),n.data=E0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),r7.getAdapter(n.adapter||iu.adapter)(n).then(function(i){return S0(n),i.data=E0.call(n,n.transformResponse,i),i.headers=Qn.from(i.headers),i},function(i){return Z8(i)||(S0(n),i&&i.response&&(i.response.data=E0.call(n,n.transformResponse,i.response),i.response.headers=Qn.from(i.response.headers))),Promise.reject(i)})}const s7="1.7.7",Pw={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Pw[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const q3={};Pw.transitional=function(e,t,i){function r(s,o){return"[Axios v"+s7+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Ze(r(o," has been removed"+(t?" in "+t:"")),Ze.ERR_DEPRECATED);return t&&!q3[o]&&(q3[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function O$(n,e,t){if(typeof n!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Ze("option "+s+" must be "+l,Ze.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ze("Unknown option "+s,Ze.ERR_BAD_OPTION)}}const M2={assertOptions:O$,validators:Pw},Kr=M2.validators;class yo{constructor(e){this.defaults=e,this.interceptors={request:new B3,response:new B3}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Lo(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&M2.assertOptions(i,{silentJSONParsing:Kr.transitional(Kr.boolean),forcedJSONParsing:Kr.transitional(Kr.boolean),clarifyTimeoutError:Kr.transitional(Kr.boolean)},!1),r!=null&&(me.isFunction(r)?t.paramsSerializer={serialize:r}:M2.assertOptions(r,{encode:Kr.function,serialize:Kr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&me.merge(s.common,s[t.method]);s&&me.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),t.headers=Qn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let h,u=0,f;if(!l){const p=[V3.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,h=Promise.resolve(t);u<f;)h=h.then(p[u++],p[u++]);return h}f=a.length;let d=t;for(u=0;u<f;){const p=a[u++],w=a[u++];try{d=p(d)}catch(F){w.call(this,F);break}}try{h=V3.call(this,d)}catch(p){return Promise.reject(p)}for(u=0,f=c.length;u<f;)h=h.then(c[u++],c[u++]);return h}getUri(e){e=Lo(this.defaults,e);const t=e7(e.baseURL,e.url);return K8(t,e.params,e.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(e){yo.prototype[e]=function(t,i){return this.request(Lo(i||{},{method:e,url:t,data:(i||{}).data}))}});me.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(Lo(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}yo.prototype[e]=t(),yo.prototype[e+"Form"]=t(!0)});class Ow{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Bl(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ow(function(r){e=r}),cancel:e}}}function H$(n){return function(t){return n.apply(null,t)}}function U$(n){return me.isObject(n)&&n.isAxiosError===!0}const B2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(B2).forEach(([n,e])=>{B2[e]=n});function o7(n){const e=new yo(n),t=z8(yo.prototype.request,e);return me.extend(t,yo.prototype,e,{allOwnKeys:!0}),me.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return o7(Lo(n,r))},t}const jt=o7(iu);jt.Axios=yo;jt.CanceledError=Bl;jt.CancelToken=Ow;jt.isCancel=Z8;jt.VERSION=s7;jt.toFormData=Cp;jt.AxiosError=Ze;jt.Cancel=jt.CanceledError;jt.all=function(e){return Promise.all(e)};jt.spread=H$;jt.isAxiosError=U$;jt.mergeConfig=Lo;jt.AxiosHeaders=Qn;jt.formToJSON=n=>X8(me.isHTMLForm(n)?new FormData(n):n);jt.getAdapter=r7.getAdapter;jt.HttpStatusCode=B2;jt.default=jt;const V$="http://localhost:8000",Dl=jt.create({baseURL:V$});async function q$(n,e){return await Dl.get(n,e)}async function j$(n,e){return(await Dl.get(n,e)).data}async function Q$(n,e){return await Dl.get(n,e)}async function $$(n,e){return await Dl.delete(n,e)}async function G$(n,e,t){return console.log(n),await Dl.post(n,e,t)}async function W$(n,e,t){return await Dl.put(n,e,t)}const K$={getSingle:q$,getAll:j$,getAllPaginated:Q$,deleteSingle:$$,postSingle:G$,putSingle:W$},Y$=()=>fQ({mutationFn:async t=>{const i=await K$.postSingle("/encode",{locus:t});return i.status!==200?null:i}}),X$=1,Z$=1e6;let I0=0;function J$(){return I0=(I0+1)%Number.MAX_SAFE_INTEGER,I0.toString()}const N0=new Map,j3=n=>{if(N0.has(n))return;const e=setTimeout(()=>{N0.delete(n),Uc({type:"REMOVE_TOAST",toastId:n})},Z$);N0.set(n,e)},eG=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,X$)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?j3(t):n.toasts.forEach(i=>{j3(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Mf=[];let Bf={toasts:[]};function Uc(n){Bf=eG(Bf,n),Mf.forEach(e=>{e(Bf)})}function tG({...n}){const e=J$(),t=r=>Uc({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Uc({type:"DISMISS_TOAST",toastId:e});return Uc({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:t}}function a7(){const[n,e]=ie.useState(Bf);return ie.useEffect(()=>(Mf.push(e),()=>{const t=Mf.indexOf(e);t>-1&&Mf.splice(t,1)}),[n]),{...n,toast:tG,dismiss:t=>Uc({type:"DISMISS_TOAST",toastId:t})}}function Kt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function nG(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function l7(...n){return e=>n.forEach(t=>nG(t,e))}function Li(...n){return ie.useCallback(l7(...n),n)}function kp(n,e=[]){let t=[];function i(s,o){const a=ie.createContext(o),l=t.length;t=[...t,o];function c(u){const{scope:f,children:d,...p}=u,w=(f==null?void 0:f[n][l])||a,F=ie.useMemo(()=>p,Object.values(p));return ve.jsx(w.Provider,{value:F,children:d})}function h(u,f){const d=(f==null?void 0:f[n][l])||a,p=ie.useContext(d);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,h]}const r=()=>{const s=t.map(o=>ie.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return ie.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,iG(r,...e)]}function iG(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return ie.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Ld=ie.forwardRef((n,e)=>{const{children:t,...i}=n,r=ie.Children.toArray(t),s=r.find(rG);if(s){const o=s.props.children,a=r.map(l=>l===s?ie.Children.count(o)>1?ie.Children.only(null):ie.isValidElement(o)?o.props.children:null:l);return ve.jsx(D2,{...i,ref:e,children:ie.isValidElement(o)?ie.cloneElement(o,void 0,a):null})}return ve.jsx(D2,{...i,ref:e,children:t})});Ld.displayName="Slot";var D2=ie.forwardRef((n,e)=>{const{children:t,...i}=n;if(ie.isValidElement(t)){const r=oG(t);return ie.cloneElement(t,{...sG(i,t.props),ref:e?l7(e,r):r})}return ie.Children.count(t)>1?ie.Children.only(null):null});D2.displayName="SlotClone";var c7=({children:n})=>ve.jsx(ve.Fragment,{children:n});function rG(n){return ie.isValidElement(n)&&n.type===c7}function sG(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...a)=>{s(...a),r(...a)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function oG(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var aG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wn=aG.reduce((n,e)=>{const t=ie.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?Ld:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),ve.jsx(a,{...o,ref:r})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function h7(n,e){n&&_l.flushSync(()=>n.dispatchEvent(e))}function hr(n){const e=ie.useRef(n);return ie.useEffect(()=>{e.current=n}),ie.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function lG(n,e=globalThis==null?void 0:globalThis.document){const t=hr(n);ie.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var cG="DismissableLayer",L2="dismissableLayer.update",hG="dismissableLayer.pointerDownOutside",uG="dismissableLayer.focusOutside",Q3,u7=ie.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hw=ie.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=ie.useContext(u7),[h,u]=ie.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=ie.useState({}),p=Li(e,v=>u(v)),w=Array.from(c.layers),[F]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=w.indexOf(F),m=h?w.indexOf(h):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,y=m>=g,A=dG(v=>{const _=v.target,k=[...c.branches].some(E=>E.contains(_));!y||k||(r==null||r(v),o==null||o(v),v.defaultPrevented||a==null||a())},f),x=pG(v=>{const _=v.target;[...c.branches].some(E=>E.contains(_))||(s==null||s(v),o==null||o(v),v.defaultPrevented||a==null||a())},f);return lG(v=>{m===c.layers.size-1&&(i==null||i(v),!v.defaultPrevented&&a&&(v.preventDefault(),a()))},f),ie.useEffect(()=>{if(h)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Q3=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),$3(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Q3)}},[h,f,t,c]),ie.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),$3())},[h,c]),ie.useEffect(()=>{const v=()=>d({});return document.addEventListener(L2,v),()=>document.removeEventListener(L2,v)},[]),ve.jsx(Wn.div,{...l,ref:p,style:{pointerEvents:b?y?"auto":"none":void 0,...n.style},onFocusCapture:Kt(n.onFocusCapture,x.onFocusCapture),onBlurCapture:Kt(n.onBlurCapture,x.onBlurCapture),onPointerDownCapture:Kt(n.onPointerDownCapture,A.onPointerDownCapture)})});Hw.displayName=cG;var fG="DismissableLayerBranch",f7=ie.forwardRef((n,e)=>{const t=ie.useContext(u7),i=ie.useRef(null),r=Li(e,i);return ie.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),ve.jsx(Wn.div,{...n,ref:r})});f7.displayName=fG;function dG(n,e=globalThis==null?void 0:globalThis.document){const t=hr(n),i=ie.useRef(!1),r=ie.useRef(()=>{});return ie.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){d7(hG,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function pG(n,e=globalThis==null?void 0:globalThis.document){const t=hr(n),i=ie.useRef(!1);return ie.useEffect(()=>{const r=s=>{s.target&&!i.current&&d7(uG,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function $3(){const n=new CustomEvent(L2);document.dispatchEvent(n)}function d7(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?h7(r,s):r.dispatchEvent(s)}var gG=Hw,mG=f7,Ms=globalThis!=null&&globalThis.document?ie.useLayoutEffect:()=>{},wG=Q9.useId||(()=>{}),bG=0;function FG(n){const[e,t]=ie.useState(wG());return Ms(()=>{t(i=>i??String(bG++))},[n]),e?`radix-${e}`:""}const yG=["top","right","bottom","left"],ir=Math.min,Jn=Math.max,zd=Math.round,ef=Math.floor,Bs=n=>({x:n,y:n}),vG={left:"right",right:"left",bottom:"top",top:"bottom"},AG={start:"end",end:"start"};function z2(n,e,t){return Jn(n,ir(e,t))}function Or(n,e){return typeof n=="function"?n(e):n}function Hr(n){return n.split("-")[0]}function Ll(n){return n.split("-")[1]}function Uw(n){return n==="x"?"y":"x"}function Vw(n){return n==="y"?"height":"width"}function Ds(n){return["top","bottom"].includes(Hr(n))?"y":"x"}function qw(n){return Uw(Ds(n))}function _G(n,e,t){t===void 0&&(t=!1);const i=Ll(n),r=qw(n),s=Vw(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Pd(o)),[o,Pd(o)]}function CG(n){const e=Pd(n);return[P2(n),e,P2(e)]}function P2(n){return n.replace(/start|end/g,e=>AG[e])}function xG(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function kG(n,e,t,i){const r=Ll(n);let s=xG(Hr(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(P2)))),s}function Pd(n){return n.replace(/left|right|bottom|top/g,e=>vG[e])}function EG(n){return{top:0,right:0,bottom:0,left:0,...n}}function p7(n){return typeof n!="number"?EG(n):{top:n,right:n,bottom:n,left:n}}function Od(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function G3(n,e,t){let{reference:i,floating:r}=n;const s=Ds(e),o=qw(e),a=Vw(o),l=Hr(e),c=s==="y",h=i.x+i.width/2-r.width/2,u=i.y+i.height/2-r.height/2,f=i[a]/2-r[a]/2;let d;switch(l){case"top":d={x:h,y:i.y-r.height};break;case"bottom":d={x:h,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:u};break;case"left":d={x:i.x-r.width,y:u};break;default:d={x:i.x,y:i.y}}switch(Ll(e)){case"start":d[o]-=f*(t&&c?-1:1);break;case"end":d[o]+=f*(t&&c?-1:1);break}return d}const SG=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:h,y:u}=G3(c,i,l),f=i,d={},p=0;for(let w=0;w<a.length;w++){const{name:F,fn:g}=a[w],{x:m,y:b,data:y,reset:A}=await g({x:h,y:u,initialPlacement:i,placement:f,strategy:r,middlewareData:d,rects:c,platform:o,elements:{reference:n,floating:e}});h=m??h,u=b??u,d={...d,[F]:{...d[F],...y}},A&&p<=50&&(p++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):A.rects),{x:h,y:u}=G3(c,f,l)),w=-1)}return{x:h,y:u,placement:f,strategy:r,middlewareData:d}};async function Ih(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:d=0}=Or(e,n),p=p7(d),F=a[f?u==="floating"?"reference":"floating":u],g=Od(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(F)))==null||t?F:F.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),m=u==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),y=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},A=Od(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:b,strategy:l}):m);return{top:(g.top-A.top+p.top)/y.y,bottom:(A.bottom-g.bottom+p.bottom)/y.y,left:(g.left-A.left+p.left)/y.x,right:(A.right-g.right+p.right)/y.x}}const IG=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Or(n,e)||{};if(c==null)return{};const u=p7(h),f={x:t,y:i},d=qw(r),p=Vw(d),w=await o.getDimensions(c),F=d==="y",g=F?"top":"left",m=F?"bottom":"right",b=F?"clientHeight":"clientWidth",y=s.reference[p]+s.reference[d]-f[d]-s.floating[p],A=f[d]-s.reference[d],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let v=x?x[b]:0;(!v||!await(o.isElement==null?void 0:o.isElement(x)))&&(v=a.floating[b]||s.floating[p]);const _=y/2-A/2,k=v/2-w[p]/2-1,E=ir(u[g],k),T=ir(u[m],k),M=E,N=v-w[p]-T,C=v/2-w[p]/2+_,B=z2(M,C,N),I=!l.arrow&&Ll(r)!=null&&C!==B&&s.reference[p]/2-(C<M?E:T)-w[p]/2<0,H=I?C<M?C-M:C-N:0;return{[d]:f[d]+H,data:{[d]:B,centerOffset:C-B-H,...I&&{alignmentOffset:H}},reset:I}}}),NG=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:w=!0,...F}=Or(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=Hr(r),m=Ds(a),b=Hr(a)===a,y=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=f||(b||!w?[Pd(a)]:CG(a)),x=p!=="none";!f&&x&&A.push(...kG(a,w,p,y));const v=[a,...A],_=await Ih(e,F),k=[];let E=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&k.push(_[g]),u){const C=_G(r,o,y);k.push(_[C[0]],_[C[1]])}if(E=[...E,{placement:r,overflows:k}],!k.every(C=>C<=0)){var T,M;const C=(((T=s.flip)==null?void 0:T.index)||0)+1,B=v[C];if(B)return{data:{index:C,overflows:E},reset:{placement:B}};let I=(M=E.filter(H=>H.overflows[0]<=0).sort((H,L)=>H.overflows[1]-L.overflows[1])[0])==null?void 0:M.placement;if(!I)switch(d){case"bestFit":{var N;const H=(N=E.filter(L=>{if(x){const O=Ds(L.placement);return O===m||O==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(O=>O>0).reduce((O,$)=>O+$,0)]).sort((L,O)=>L[1]-O[1])[0])==null?void 0:N[0];H&&(I=H);break}case"initialPlacement":I=a;break}if(r!==I)return{reset:{placement:I}}}return{}}}};function W3(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function K3(n){return yG.some(e=>n[e]>=0)}const TG=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Or(n,e);switch(i){case"referenceHidden":{const s=await Ih(e,{...r,elementContext:"reference"}),o=W3(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:K3(o)}}}case"escaped":{const s=await Ih(e,{...r,altBoundary:!0}),o=W3(s,t.floating);return{data:{escapedOffsets:o,escaped:K3(o)}}}default:return{}}}}};async function RG(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Hr(t),a=Ll(t),l=Ds(t)==="y",c=["left","top"].includes(o)?-1:1,h=s&&l?-1:1,u=Or(e,n);let{mainAxis:f,crossAxis:d,alignmentAxis:p}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&typeof p=="number"&&(d=a==="end"?p*-1:p),l?{x:d*h,y:f*c}:{x:f*c,y:d*h}}const MG=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await RG(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},BG=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:F=>{let{x:g,y:m}=F;return{x:g,y:m}}},...l}=Or(n,e),c={x:t,y:i},h=await Ih(e,l),u=Ds(Hr(r)),f=Uw(u);let d=c[f],p=c[u];if(s){const F=f==="y"?"top":"left",g=f==="y"?"bottom":"right",m=d+h[F],b=d-h[g];d=z2(m,d,b)}if(o){const F=u==="y"?"top":"left",g=u==="y"?"bottom":"right",m=p+h[F],b=p-h[g];p=z2(m,p,b)}const w=a.fn({...e,[f]:d,[u]:p});return{...w,data:{x:w.x-t,y:w.y-i}}}}},DG=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Or(n,e),h={x:t,y:i},u=Ds(r),f=Uw(u);let d=h[f],p=h[u];const w=Or(a,e),F=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const b=f==="y"?"height":"width",y=s.reference[f]-s.floating[b]+F.mainAxis,A=s.reference[f]+s.reference[b]-F.mainAxis;d<y?d=y:d>A&&(d=A)}if(c){var g,m;const b=f==="y"?"width":"height",y=["top","left"].includes(Hr(r)),A=s.reference[u]-s.floating[b]+(y&&((g=o.offset)==null?void 0:g[u])||0)+(y?0:F.crossAxis),x=s.reference[u]+s.reference[b]+(y?0:((m=o.offset)==null?void 0:m[u])||0)-(y?F.crossAxis:0);p<A?p=A:p>x&&(p=x)}return{[f]:d,[u]:p}}}},LG=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:s}=e,{apply:o=()=>{},...a}=Or(n,e),l=await Ih(e,a),c=Hr(t),h=Ll(t),u=Ds(t)==="y",{width:f,height:d}=i.floating;let p,w;c==="top"||c==="bottom"?(p=c,w=h===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(w=c,p=h==="end"?"top":"bottom");const F=d-l.top-l.bottom,g=f-l.left-l.right,m=ir(d-l[p],F),b=ir(f-l[w],g),y=!e.middlewareData.shift;let A=m,x=b;if(u?x=h||y?ir(b,g):g:A=h||y?ir(m,F):F,y&&!h){const _=Jn(l.left,0),k=Jn(l.right,0),E=Jn(l.top,0),T=Jn(l.bottom,0);u?x=f-2*(_!==0||k!==0?_+k:Jn(l.left,l.right)):A=d-2*(E!==0||T!==0?E+T:Jn(l.top,l.bottom))}await o({...e,availableWidth:x,availableHeight:A});const v=await r.getDimensions(s.floating);return f!==v.width||d!==v.height?{reset:{rects:!0}}:{}}}};function zl(n){return g7(n)?(n.nodeName||"").toLowerCase():"#document"}function ri(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function jr(n){var e;return(e=(g7(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function g7(n){return n instanceof Node||n instanceof ri(n).Node}function zi(n){return n instanceof Element||n instanceof ri(n).Element}function ur(n){return n instanceof HTMLElement||n instanceof ri(n).HTMLElement}function Y3(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ri(n).ShadowRoot}function ru(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=Pi(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function zG(n){return["table","td","th"].includes(zl(n))}function Ep(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function jw(n){const e=Qw(),t=zi(n)?Pi(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function PG(n){let e=Ls(n);for(;ur(e)&&!wl(e);){if(jw(e))return e;if(Ep(e))return null;e=Ls(e)}return null}function Qw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wl(n){return["html","body","#document"].includes(zl(n))}function Pi(n){return ri(n).getComputedStyle(n)}function Sp(n){return zi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ls(n){if(zl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Y3(n)&&n.host||jr(n);return Y3(e)?e.host:e}function m7(n){const e=Ls(n);return wl(e)?n.ownerDocument?n.ownerDocument.body:n.body:ur(e)&&ru(e)?e:m7(e)}function Nh(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=m7(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=ri(r);if(s){const a=O2(o);return e.concat(o,o.visualViewport||[],ru(r)?r:[],a&&t?Nh(a):[])}return e.concat(r,Nh(r,[],t))}function O2(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function w7(n){const e=Pi(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ur(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=zd(t)!==s||zd(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function $w(n){return zi(n)?n:n.contextElement}function Ha(n){const e=$w(n);if(!ur(e))return Bs(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=w7(e);let o=(s?zd(t.width):t.width)/i,a=(s?zd(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const OG=Bs(0);function b7(n){const e=ri(n);return!Qw()||!e.visualViewport?OG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HG(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ri(n)?!1:e}function zo(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=$w(n);let o=Bs(1);e&&(i?zi(i)&&(o=Ha(i)):o=Ha(n));const a=HG(s,t,i)?b7(s):Bs(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,h=r.width/o.x,u=r.height/o.y;if(s){const f=ri(s),d=i&&zi(i)?ri(i):i;let p=f,w=O2(p);for(;w&&i&&d!==p;){const F=Ha(w),g=w.getBoundingClientRect(),m=Pi(w),b=g.left+(w.clientLeft+parseFloat(m.paddingLeft))*F.x,y=g.top+(w.clientTop+parseFloat(m.paddingTop))*F.y;l*=F.x,c*=F.y,h*=F.x,u*=F.y,l+=b,c+=y,p=ri(w),w=O2(p)}}return Od({width:h,height:u,x:l,y:c})}function UG(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=jr(i),a=e?Ep(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Bs(1);const h=Bs(0),u=ur(i);if((u||!u&&!s)&&((zl(i)!=="body"||ru(o))&&(l=Sp(i)),ur(i))){const f=zo(i);c=Ha(i),h.x=f.x+i.clientLeft,h.y=f.y+i.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+h.x,y:t.y*c.y-l.scrollTop*c.y+h.y}}function VG(n){return Array.from(n.getClientRects())}function F7(n){return zo(jr(n)).left+Sp(n).scrollLeft}function qG(n){const e=jr(n),t=Sp(n),i=n.ownerDocument.body,r=Jn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Jn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+F7(n);const a=-t.scrollTop;return Pi(i).direction==="rtl"&&(o+=Jn(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function jG(n,e){const t=ri(n),i=jr(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=Qw();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function QG(n,e){const t=zo(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=ur(n)?Ha(n):Bs(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function X3(n,e,t){let i;if(e==="viewport")i=jG(n,t);else if(e==="document")i=qG(jr(n));else if(zi(e))i=QG(e,t);else{const r=b7(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return Od(i)}function y7(n,e){const t=Ls(n);return t===e||!zi(t)||wl(t)?!1:Pi(t).position==="fixed"||y7(t,e)}function $G(n,e){const t=e.get(n);if(t)return t;let i=Nh(n,[],!1).filter(a=>zi(a)&&zl(a)!=="body"),r=null;const s=Pi(n).position==="fixed";let o=s?Ls(n):n;for(;zi(o)&&!wl(o);){const a=Pi(o),l=jw(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ru(o)&&!l&&y7(n,o))?i=i.filter(h=>h!==o):r=a,o=Ls(o)}return e.set(n,i),i}function GG(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?Ep(e)?[]:$G(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,h)=>{const u=X3(e,h,r);return c.top=Jn(u.top,c.top),c.right=ir(u.right,c.right),c.bottom=ir(u.bottom,c.bottom),c.left=Jn(u.left,c.left),c},X3(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function WG(n){const{width:e,height:t}=w7(n);return{width:e,height:t}}function KG(n,e,t){const i=ur(e),r=jr(e),s=t==="fixed",o=zo(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Bs(0);if(i||!i&&!s)if((zl(e)!=="body"||ru(r))&&(a=Sp(e)),i){const u=zo(e,!0,s,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else r&&(l.x=F7(r));const c=o.left+a.scrollLeft-l.x,h=o.top+a.scrollTop-l.y;return{x:c,y:h,width:o.width,height:o.height}}function T0(n){return Pi(n).position==="static"}function Z3(n,e){return!ur(n)||Pi(n).position==="fixed"?null:e?e(n):n.offsetParent}function v7(n,e){const t=ri(n);if(Ep(n))return t;if(!ur(n)){let r=Ls(n);for(;r&&!wl(r);){if(zi(r)&&!T0(r))return r;r=Ls(r)}return t}let i=Z3(n,e);for(;i&&zG(i)&&T0(i);)i=Z3(i,e);return i&&wl(i)&&T0(i)&&!jw(i)?t:i||PG(n)||t}const YG=async function(n){const e=this.getOffsetParent||v7,t=this.getDimensions,i=await t(n.floating);return{reference:KG(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function XG(n){return Pi(n).direction==="rtl"}const ZG={convertOffsetParentRelativeRectToViewportRelativeRect:UG,getDocumentElement:jr,getClippingRect:GG,getOffsetParent:v7,getElementRects:YG,getClientRects:VG,getDimensions:WG,getScale:Ha,isElement:zi,isRTL:XG};function JG(n,e){let t=null,i;const r=jr(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:h,width:u,height:f}=n.getBoundingClientRect();if(a||e(),!u||!f)return;const d=ef(h),p=ef(r.clientWidth-(c+u)),w=ef(r.clientHeight-(h+f)),F=ef(c),m={rootMargin:-d+"px "+-p+"px "+-w+"px "+-F+"px",threshold:Jn(0,ir(1,l))||1};let b=!0;function y(A){const x=A[0].intersectionRatio;if(x!==l){if(!b)return o();x?o(!1,x):i=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{t=new IntersectionObserver(y,{...m,root:r.ownerDocument})}catch{t=new IntersectionObserver(y,m)}t.observe(n)}return o(!0),s}function eW(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=$w(n),h=r||s?[...c?Nh(c):[],...Nh(e)]:[];h.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const u=c&&a?JG(c,t):null;let f=-1,d=null;o&&(d=new ResizeObserver(g=>{let[m]=g;m&&m.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=d)==null||b.observe(e)})),t()}),c&&!l&&d.observe(c),d.observe(e));let p,w=l?zo(n):null;l&&F();function F(){const g=zo(n);w&&(g.x!==w.x||g.y!==w.y||g.width!==w.width||g.height!==w.height)&&t(),w=g,p=requestAnimationFrame(F)}return t(),()=>{var g;h.forEach(m=>{r&&m.removeEventListener("scroll",t),s&&m.removeEventListener("resize",t)}),u==null||u(),(g=d)==null||g.disconnect(),d=null,l&&cancelAnimationFrame(p)}}const tW=MG,nW=BG,iW=NG,rW=LG,sW=TG,J3=IG,oW=DG,aW=(n,e,t)=>{const i=new Map,r={platform:ZG,...t},s={...r.platform,_c:i};return SG(n,e,{...r,platform:s})};var Df=typeof document<"u"?ie.useLayoutEffect:ie.useEffect;function Hd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Hd(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!Hd(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function A7(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function e5(n,e){const t=A7(n);return Math.round(e*t)/t}function t5(n){const e=ie.useRef(n);return Df(()=>{e.current=n}),e}function lW(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[h,u]=ie.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,d]=ie.useState(i);Hd(f,i)||d(i);const[p,w]=ie.useState(null),[F,g]=ie.useState(null),m=ie.useCallback(H=>{H!==x.current&&(x.current=H,w(H))},[]),b=ie.useCallback(H=>{H!==v.current&&(v.current=H,g(H))},[]),y=s||p,A=o||F,x=ie.useRef(null),v=ie.useRef(null),_=ie.useRef(h),k=l!=null,E=t5(l),T=t5(r),M=ie.useCallback(()=>{if(!x.current||!v.current)return;const H={placement:e,strategy:t,middleware:f};T.current&&(H.platform=T.current),aW(x.current,v.current,H).then(L=>{const O={...L,isPositioned:!0};N.current&&!Hd(_.current,O)&&(_.current=O,_l.flushSync(()=>{u(O)}))})},[f,e,t,T]);Df(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,u(H=>({...H,isPositioned:!1})))},[c]);const N=ie.useRef(!1);Df(()=>(N.current=!0,()=>{N.current=!1}),[]),Df(()=>{if(y&&(x.current=y),A&&(v.current=A),y&&A){if(E.current)return E.current(y,A,M);M()}},[y,A,M,E,k]);const C=ie.useMemo(()=>({reference:x,floating:v,setReference:m,setFloating:b}),[m,b]),B=ie.useMemo(()=>({reference:y,floating:A}),[y,A]),I=ie.useMemo(()=>{const H={position:t,left:0,top:0};if(!B.floating)return H;const L=e5(B.floating,h.x),O=e5(B.floating,h.y);return a?{...H,transform:"translate("+L+"px, "+O+"px)",...A7(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:L,top:O}},[t,a,B.floating,h.x,h.y]);return ie.useMemo(()=>({...h,update:M,refs:C,elements:B,floatingStyles:I}),[h,M,C,B,I])}const cW=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?J3({element:i.current,padding:r}).fn(t):{}:i?J3({element:i,padding:r}).fn(t):{}}}},hW=(n,e)=>({...tW(n),options:[n,e]}),uW=(n,e)=>({...nW(n),options:[n,e]}),fW=(n,e)=>({...oW(n),options:[n,e]}),dW=(n,e)=>({...iW(n),options:[n,e]}),pW=(n,e)=>({...rW(n),options:[n,e]}),gW=(n,e)=>({...sW(n),options:[n,e]}),mW=(n,e)=>({...cW(n),options:[n,e]});var wW="Arrow",_7=ie.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return ve.jsx(Wn.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:ve.jsx("polygon",{points:"0,0 30,0 15,10"})})});_7.displayName=wW;var bW=_7;function FW(n){const[e,t]=ie.useState(void 0);return Ms(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Gw="Popper",[C7,x7]=kp(Gw),[yW,k7]=C7(Gw),E7=n=>{const{__scopePopper:e,children:t}=n,[i,r]=ie.useState(null);return ve.jsx(yW,{scope:e,anchor:i,onAnchorChange:r,children:t})};E7.displayName=Gw;var S7="PopperAnchor",I7=ie.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=k7(S7,t),o=ie.useRef(null),a=Li(e,o);return ie.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:ve.jsx(Wn.div,{...r,ref:a})});I7.displayName=S7;var Ww="PopperContent",[vW,AW]=C7(Ww),N7=ie.forwardRef((n,e)=>{var Z,ye,V,ee,R,Y;const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:d="optimized",onPlaced:p,...w}=n,F=k7(Ww,t),[g,m]=ie.useState(null),b=Li(e,W=>m(W)),[y,A]=ie.useState(null),x=FW(y),v=(x==null?void 0:x.width)??0,_=(x==null?void 0:x.height)??0,k=i+(s!=="center"?"-"+s:""),E=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},T=Array.isArray(c)?c:[c],M=T.length>0,N={padding:E,boundary:T.filter(CW),altBoundary:M},{refs:C,floatingStyles:B,placement:I,isPositioned:H,middlewareData:L}=lW({strategy:"fixed",placement:k,whileElementsMounted:(...W)=>eW(...W,{animationFrame:d==="always"}),elements:{reference:F.anchor},middleware:[hW({mainAxis:r+_,alignmentAxis:o}),l&&uW({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?fW():void 0,...N}),l&&dW({...N}),pW({...N,apply:({elements:W,rects:q,availableWidth:ge,availableHeight:le})=>{const{width:ue,height:de}=q.reference,fe=W.floating.style;fe.setProperty("--radix-popper-available-width",`${ge}px`),fe.setProperty("--radix-popper-available-height",`${le}px`),fe.setProperty("--radix-popper-anchor-width",`${ue}px`),fe.setProperty("--radix-popper-anchor-height",`${de}px`)}}),y&&mW({element:y,padding:a}),xW({arrowWidth:v,arrowHeight:_}),f&&gW({strategy:"referenceHidden",...N})]}),[O,$]=M7(I),Q=hr(p);Ms(()=>{H&&(Q==null||Q())},[H,Q]);const te=(Z=L.arrow)==null?void 0:Z.x,U=(ye=L.arrow)==null?void 0:ye.y,G=((V=L.arrow)==null?void 0:V.centerOffset)!==0,[ne,J]=ie.useState();return Ms(()=>{g&&J(window.getComputedStyle(g).zIndex)},[g]),ve.jsx("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:H?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ee=L.transformOrigin)==null?void 0:ee.x,(R=L.transformOrigin)==null?void 0:R.y].join(" "),...((Y=L.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:ve.jsx(vW,{scope:t,placedSide:O,onArrowChange:A,arrowX:te,arrowY:U,shouldHideArrow:G,children:ve.jsx(Wn.div,{"data-side":O,"data-align":$,...w,ref:b,style:{...w.style,animation:H?void 0:"none"}})})})});N7.displayName=Ww;var T7="PopperArrow",_W={top:"bottom",right:"left",bottom:"top",left:"right"},R7=ie.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=AW(T7,i),o=_W[s.placedSide];return ve.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:ve.jsx(bW,{...r,ref:t,style:{...r.style,display:"block"}})})});R7.displayName=T7;function CW(n){return n!==null}var xW=n=>({name:"transformOrigin",options:n,fn(e){var F,g,m;const{placement:t,rects:i,middlewareData:r}=e,o=((F=r.arrow)==null?void 0:F.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,h]=M7(t),u={start:"0%",center:"50%",end:"100%"}[h],f=(((g=r.arrow)==null?void 0:g.x)??0)+a/2,d=(((m=r.arrow)==null?void 0:m.y)??0)+l/2;let p="",w="";return c==="bottom"?(p=o?u:`${f}px`,w=`${-l}px`):c==="top"?(p=o?u:`${f}px`,w=`${i.floating.height+l}px`):c==="right"?(p=`${-l}px`,w=o?u:`${d}px`):c==="left"&&(p=`${i.floating.width+l}px`,w=o?u:`${d}px`),{data:{x:p,y:w}}}});function M7(n){const[e,t="center"]=n.split("-");return[e,t]}var kW=E7,EW=I7,SW=N7,IW=R7,NW="Portal",B7=ie.forwardRef((n,e)=>{var a;const{container:t,...i}=n,[r,s]=ie.useState(!1);Ms(()=>s(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?nS.createPortal(ve.jsx(Wn.div,{...i,ref:e}),o):null});B7.displayName=NW;function TW(n,e){return ie.useReducer((t,i)=>e[t][i]??t,n)}var Kw=n=>{const{present:e,children:t}=n,i=RW(e),r=typeof t=="function"?t({present:i.isPresent}):ie.Children.only(t),s=Li(i.ref,MW(r));return typeof t=="function"||i.isPresent?ie.cloneElement(r,{ref:s}):null};Kw.displayName="Presence";function RW(n){const[e,t]=ie.useState(),i=ie.useRef({}),r=ie.useRef(n),s=ie.useRef("none"),o=n?"mounted":"unmounted",[a,l]=TW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ie.useEffect(()=>{const c=tf(i.current);s.current=a==="mounted"?c:"none"},[a]),Ms(()=>{const c=i.current,h=r.current;if(h!==n){const f=s.current,d=tf(c);n?l("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&f!==d?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),Ms(()=>{if(e){const c=u=>{const d=tf(i.current).includes(u.animationName);u.target===e&&d&&_l.flushSync(()=>l("ANIMATION_END"))},h=u=>{u.target===e&&(s.current=tf(i.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:ie.useCallback(c=>{c&&(i.current=getComputedStyle(c)),t(c)},[])}}function tf(n){return(n==null?void 0:n.animationName)||"none"}function MW(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function D7({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=BW({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:i,a=hr(t),l=ie.useCallback(c=>{if(s){const u=typeof c=="function"?c(n):c;u!==n&&a(u)}else r(c)},[s,n,r,a]);return[o,l]}function BW({defaultProp:n,onChange:e}){const t=ie.useState(n),[i]=t,r=ie.useRef(i),s=hr(e);return ie.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}var DW="VisuallyHidden",Ip=ie.forwardRef((n,e)=>ve.jsx(Wn.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Ip.displayName=DW;var LW=Ip,[Np,EY]=kp("Tooltip",[x7]),Tp=x7(),L7="TooltipProvider",zW=700,H2="tooltip.open",[PW,Yw]=Np(L7),z7=n=>{const{__scopeTooltip:e,delayDuration:t=zW,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,[o,a]=ie.useState(!0),l=ie.useRef(!1),c=ie.useRef(0);return ie.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),ve.jsx(PW,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:ie.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:ie.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:ie.useCallback(h=>{l.current=h},[]),disableHoverableContent:r,children:s})};z7.displayName=L7;var Rp="Tooltip",[OW,Mp]=Np(Rp),P7=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=Yw(Rp,n.__scopeTooltip),c=Tp(e),[h,u]=ie.useState(null),f=FG(),d=ie.useRef(0),p=o??l.disableHoverableContent,w=a??l.delayDuration,F=ie.useRef(!1),[g=!1,m]=D7({prop:i,defaultProp:r,onChange:v=>{v?(l.onOpen(),document.dispatchEvent(new CustomEvent(H2))):l.onClose(),s==null||s(v)}}),b=ie.useMemo(()=>g?F.current?"delayed-open":"instant-open":"closed",[g]),y=ie.useCallback(()=>{window.clearTimeout(d.current),F.current=!1,m(!0)},[m]),A=ie.useCallback(()=>{window.clearTimeout(d.current),m(!1)},[m]),x=ie.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{F.current=!0,m(!0)},w)},[w,m]);return ie.useEffect(()=>()=>window.clearTimeout(d.current),[]),ve.jsx(kW,{...c,children:ve.jsx(OW,{scope:e,contentId:f,open:g,stateAttribute:b,trigger:h,onTriggerChange:u,onTriggerEnter:ie.useCallback(()=>{l.isOpenDelayed?x():y()},[l.isOpenDelayed,x,y]),onTriggerLeave:ie.useCallback(()=>{p?A():window.clearTimeout(d.current)},[A,p]),onOpen:y,onClose:A,disableHoverableContent:p,children:t})})};P7.displayName=Rp;var U2="TooltipTrigger",O7=ie.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=Mp(U2,t),s=Yw(U2,t),o=Tp(t),a=ie.useRef(null),l=Li(e,a,r.onTriggerChange),c=ie.useRef(!1),h=ie.useRef(!1),u=ie.useCallback(()=>c.current=!1,[]);return ie.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),ve.jsx(EW,{asChild:!0,...o,children:ve.jsx(Wn.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:Kt(n.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),h.current=!0)}),onPointerLeave:Kt(n.onPointerLeave,()=>{r.onTriggerLeave(),h.current=!1}),onPointerDown:Kt(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Kt(n.onFocus,()=>{c.current||r.onOpen()}),onBlur:Kt(n.onBlur,r.onClose),onClick:Kt(n.onClick,r.onClose)})})});O7.displayName=U2;var HW="TooltipPortal",[SY,UW]=Np(HW,{forceMount:void 0}),bl="TooltipContent",H7=ie.forwardRef((n,e)=>{const t=UW(bl,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=Mp(bl,n.__scopeTooltip);return ve.jsx(Kw,{present:i||o.open,children:o.disableHoverableContent?ve.jsx(U7,{side:r,...s,ref:e}):ve.jsx(VW,{side:r,...s,ref:e})})}),VW=ie.forwardRef((n,e)=>{const t=Mp(bl,n.__scopeTooltip),i=Yw(bl,n.__scopeTooltip),r=ie.useRef(null),s=Li(e,r),[o,a]=ie.useState(null),{trigger:l,onClose:c}=t,h=r.current,{onPointerInTransitChange:u}=i,f=ie.useCallback(()=>{a(null),u(!1)},[u]),d=ie.useCallback((p,w)=>{const F=p.currentTarget,g={x:p.clientX,y:p.clientY},m=$W(g,F.getBoundingClientRect()),b=GW(g,m),y=WW(w.getBoundingClientRect()),A=YW([...b,...y]);a(A),u(!0)},[u]);return ie.useEffect(()=>()=>f(),[f]),ie.useEffect(()=>{if(l&&h){const p=F=>d(F,h),w=F=>d(F,l);return l.addEventListener("pointerleave",p),h.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",p),h.removeEventListener("pointerleave",w)}}},[l,h,d,f]),ie.useEffect(()=>{if(o){const p=w=>{const F=w.target,g={x:w.clientX,y:w.clientY},m=(l==null?void 0:l.contains(F))||(h==null?void 0:h.contains(F)),b=!KW(g,o);m?f():b&&(f(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,h,o,c,f]),ve.jsx(U7,{...n,ref:s})}),[qW,jW]=Np(Rp,{isInside:!1}),U7=ie.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=Mp(bl,t),c=Tp(t),{onClose:h}=l;return ie.useEffect(()=>(document.addEventListener(H2,h),()=>document.removeEventListener(H2,h)),[h]),ie.useEffect(()=>{if(l.trigger){const u=f=>{const d=f.target;d!=null&&d.contains(l.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,h]),ve.jsx(Hw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:ve.jsxs(SW,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[ve.jsx(c7,{children:i}),ve.jsx(qW,{scope:t,isInside:!0,children:ve.jsx(LW,{id:l.contentId,role:"tooltip",children:r||i})})]})})});H7.displayName=bl;var V7="TooltipArrow",QW=ie.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=Tp(t);return jW(V7,t).isInside?null:ve.jsx(IW,{...r,...i,ref:e})});QW.displayName=V7;function $W(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function GW(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function WW(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function KW(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,h=e[o].y;l>i!=h>i&&t<(c-a)*(i-l)/(h-l)+a&&(r=!r)}return r}function YW(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),XW(e)}function XW(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var ZW=z7,JW=P7,eK=O7,q7=H7;function j7(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=j7(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function tK(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=j7(n))&&(i&&(i+=" "),i+=e);return i}const Xw="-",nK=n=>{const e=rK(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(Xw);return a[0]===""&&a.length!==1&&a.shift(),Q7(a,e)||iK(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},Q7=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?Q7(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(Xw);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},n5=/^\[(.+)\]$/,iK=n=>{if(n5.test(n)){const e=n5.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},rK=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return oK(Object.entries(n.classGroups),t).forEach(([s,o])=>{V2(o,i,s,e)}),i},V2=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:i5(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(sK(r)){V2(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{V2(o,i5(e,s),t,i)})})},i5=(n,e)=>{let t=n;return e.split(Xw).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},sK=n=>n.isThemeGetter,oK=(n,e)=>e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,r]}):n,aK=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},$7="!",lK=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let c=0,h=0,u;for(let F=0;F<a.length;F++){let g=a[F];if(c===0){if(g===r&&(i||a.slice(F,F+s)===e)){l.push(a.slice(h,F)),h=F+s;continue}if(g==="/"){u=F;continue}}g==="["?c++:g==="]"&&c--}const f=l.length===0?a:a.substring(h),d=f.startsWith($7),p=d?f.substring(1):f,w=u&&u>h?u-h:void 0;return{modifiers:l,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:w}};return t?a=>t({className:a,parseClassName:o}):o},cK=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},hK=n=>({cache:aK(n.cacheSize),parseClassName:lK(n),...nK(n)}),uK=/\s+/,fK=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=n.trim().split(uK);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:d}=t(c);let p=!!d,w=i(p?f.substring(0,d):f);if(!w){if(!p){a=c+(a.length>0?" "+a:a);continue}if(w=i(f),!w){a=c+(a.length>0?" "+a:a);continue}p=!1}const F=cK(h).join(":"),g=u?F+$7:F,m=g+w;if(s.includes(m))continue;s.push(m);const b=r(w,p);for(let y=0;y<b.length;++y){const A=b[y];s.push(g+A)}a=c+(a.length>0?" "+a:a)}return a};function dK(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=G7(e))&&(i&&(i+=" "),i+=t);return i}const G7=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=G7(n[i]))&&(t&&(t+=" "),t+=e);return t};function pK(n,...e){let t,i,r,s=o;function o(l){const c=e.reduce((h,u)=>u(h),n());return t=hK(c),i=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const h=fK(l,t);return r(l,h),h}return function(){return s(dK.apply(null,arguments))}}const At=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},W7=/^\[(?:([a-z-]+):)?(.+)\]$/i,gK=/^\d+\/\d+$/,mK=new Set(["px","full","screen"]),wK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wr=n=>Ua(n)||mK.has(n)||gK.test(n),Yr=n=>Pl(n,"length",IK),Ua=n=>!!n&&!Number.isNaN(Number(n)),R0=n=>Pl(n,"number",Ua),gc=n=>!!n&&Number.isInteger(Number(n)),AK=n=>n.endsWith("%")&&Ua(n.slice(0,-1)),Je=n=>W7.test(n),Xr=n=>wK.test(n),_K=new Set(["length","size","percentage"]),CK=n=>Pl(n,_K,K7),xK=n=>Pl(n,"position",K7),kK=new Set(["image","url"]),EK=n=>Pl(n,kK,TK),SK=n=>Pl(n,"",NK),mc=()=>!0,Pl=(n,e,t)=>{const i=W7.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},IK=n=>bK.test(n)&&!FK.test(n),K7=()=>!1,NK=n=>yK.test(n),TK=n=>vK.test(n),RK=()=>{const n=At("colors"),e=At("spacing"),t=At("blur"),i=At("brightness"),r=At("borderColor"),s=At("borderRadius"),o=At("borderSpacing"),a=At("borderWidth"),l=At("contrast"),c=At("grayscale"),h=At("hueRotate"),u=At("invert"),f=At("gap"),d=At("gradientColorStops"),p=At("gradientColorStopPositions"),w=At("inset"),F=At("margin"),g=At("opacity"),m=At("padding"),b=At("saturate"),y=At("scale"),A=At("sepia"),x=At("skew"),v=At("space"),_=At("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Je,e],M=()=>[Je,e],N=()=>["",wr,Yr],C=()=>["auto",Ua,Je],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Je],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Ua,Je];return{cacheSize:500,separator:":",theme:{colors:[mc],spacing:[wr,Yr],blur:["none","",Xr,Je],brightness:Q(),borderColor:[n],borderRadius:["none","","full",Xr,Je],borderSpacing:M(),borderWidth:N(),contrast:Q(),grayscale:O(),hueRotate:Q(),invert:O(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[AK,Yr],inset:T(),margin:T(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:O(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Xr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Je]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gc,Je]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",gc,Je]}],"grid-cols":[{"grid-cols":[mc]}],"col-start-end":[{col:["auto",{span:["full",gc,Je]},Je]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[mc]}],"row-start-end":[{row:["auto",{span:[gc,Je]},Je]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[F]}],mx:[{mx:[F]}],my:[{my:[F]}],ms:[{ms:[F]}],me:[{me:[F]}],mt:[{mt:[F]}],mr:[{mr:[F]}],mb:[{mb:[F]}],ml:[{ml:[F]}],"space-x":[{"space-x":[v]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[v]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Xr]},Xr]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xr,Yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",R0]}],"font-family":[{font:[mc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",Ua,R0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wr,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wr,Yr]}],"underline-offset":[{"underline-offset":["auto",wr,Je]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),xK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EK]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:I()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[wr,Je]}],"outline-w":[{outline:[wr,Yr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[wr,Yr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Xr,SK]}],"shadow-color":[{shadow:[mc]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xr,Je]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[gc,Je]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[wr,Yr,R0]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MK=pK(RK);function ci(...n){return MK(tK(n))}const BK=ZW,DK=JW,LK=eK,Y7=ie.forwardRef(({className:n,sideOffset:e=4,...t},i)=>ve.jsx(q7,{ref:i,sideOffset:e,className:ci("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));Y7.displayName=q7.displayName;const Zw=ie.forwardRef(({className:n,...e},t)=>ve.jsx("div",{ref:t,className:ci("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Zw.displayName="Card";const Jw=ie.forwardRef(({className:n,...e},t)=>ve.jsx("div",{ref:t,className:ci("flex flex-col space-y-1.5 p-6",n),...e}));Jw.displayName="CardHeader";const X7=ie.forwardRef(({className:n,...e},t)=>ve.jsx("h3",{ref:t,className:ci("font-semibold leading-none tracking-tight",n),...e}));X7.displayName="CardTitle";const Z7=ie.forwardRef(({className:n,...e},t)=>ve.jsx("p",{ref:t,className:ci("text-sm text-muted-foreground",n),...e}));Z7.displayName="CardDescription";const eb=ie.forwardRef(({className:n,...e},t)=>ve.jsx("div",{ref:t,className:ci("p-6 pt-0",n),...e}));eb.displayName="CardContent";const tb=ie.forwardRef(({className:n,...e},t)=>ve.jsx("div",{ref:t,className:ci("flex items-center p-6 pt-0",n),...e}));tb.displayName="CardFooter";function zK(n){const[e,t]=ie.useState(""),{toast:i}=a7(),{mutateAsync:r,isPending:s,isError:o,error:a}=Y$(),l=async()=>{console.log("Handling click..."),t("");try{i({title:"Encoding Starting",description:"Starting to encode the sequence.",variant:"default"});const c=await r(n.locus);console.log("Response:",c);const h=c==null?void 0:c.data;t(h.content),i({title:"Encoding Complete",description:"The sequence has been successfully encoded.",variant:"default"})}catch(c){console.error("Error:",c),t("An error occurred"),i({title:"Encoding Failed",description:"An error occurred while encoding the sequence.",variant:"destructive"})}};return ve.jsx("div",{className:"flex flex-col items-center space-y-8 py-4",children:ve.jsxs(Zw,{children:[ve.jsxs(Jw,{children:[ve.jsx(X7,{className:"text-xl",children:"Encode"}),ve.jsx(Z7,{children:"Use LLM and arithmetic coding to compress the sequence at the current locus."})]}),ve.jsx(eb,{children:ve.jsx(BK,{children:ve.jsxs(DK,{children:[ve.jsx(LK,{asChild:!0,children:ve.jsx("button",{onClick:l,disabled:s,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:s?"Computing...":"Compute"})}),ve.jsx(Y7,{children:ve.jsx("p",{children:"Run LLM and arithmetic encoding to compress the sequence"})})]})})}),ve.jsxs(tb,{children:[s&&ve.jsx("p",{className:"text-gray-600",children:"Encoding in progress..."}),o&&ve.jsxs("p",{className:"text-red-500",children:["Error: ",a.message]}),e&&ve.jsx("h3",{className:"text-lg font-semibold",children:e})]})]})})}function PK(n){const e=ie.useRef(null),t=ie.useRef(null),[i,r]=ie.useState(()=>n.options.locus?n.options.locus:""),s=ie.useCallback(o=>{const a=o[0];console.log(o),a&&r(a.chr+":"+a.start+"-"+a.end)},[]);return ie.useEffect(()=>((async()=>{if(e.current&&!t.current)try{const a={...n.options,tracks:[{name:"Reference sequence",type:"sequence",order:-1},...n.options.tracks||[]]};if(t.current=await A3.createBrowser(e.current,a),console.log("IGV browser created"),t.current!==null){const l=t.current;l.on("locuschange",s);const c=l.currentLoci()[-1];c&&s(c)}}catch(a){console.error("Error creating IGV browser:",a)}})(),()=>{t.current&&(t.current.removeAllEventListeners(),A3.removeAllBrowsers(),t.current=null)}),[n.options,s]),ve.jsxs(Zw,{children:[ve.jsx(Jw,{children:ve.jsx("h1",{className:"text-3xl font-semibold",children:"LLM DNA compression"})}),ve.jsx(eb,{children:ve.jsx("div",{ref:e})}),ve.jsx(tb,{className:"flex justify-center items-center",children:i&&ve.jsxs("div",{children:[ve.jsxs("h3",{children:["Current Region: ",i]}),ve.jsx(zK,{locus:i})]})})]})}function OK(){const n={genome:"hg38",locus:"chr8:127,736,588-127,739,371",tracks:[{name:"HG00103",url:"https://s3.amazonaws.com/1000genomes/data/HG00103/alignment/HG00103.alt_bwamem_GRCh38DH.20150718.GBR.low_coverage.cram",indexURL:"https://s3.amazonaws.com/1000genomes/data/HG00103/alignment/HG00103.alt_bwamem_GRCh38DH.20150718.GBR.low_coverage.cram.crai",format:"cram"}]};return ve.jsx("main",{children:ve.jsx("div",{className:"p-8 m-4",children:ve.jsx(PK,{options:n})})})}function HK(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var UK=["color"],VK=ie.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=HK(n,UK);return ie.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ie.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});function qK(n){const e=n+"CollectionProvider",[t,i]=kp(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=d=>{const{scope:p,children:w}=d,F=Zr.useRef(null),g=Zr.useRef(new Map).current;return ve.jsx(r,{scope:p,itemMap:g,collectionRef:F,children:w})};o.displayName=e;const a=n+"CollectionSlot",l=Zr.forwardRef((d,p)=>{const{scope:w,children:F}=d,g=s(a,w),m=Li(p,g.collectionRef);return ve.jsx(Ld,{ref:m,children:F})});l.displayName=a;const c=n+"CollectionItemSlot",h="data-radix-collection-item",u=Zr.forwardRef((d,p)=>{const{scope:w,children:F,...g}=d,m=Zr.useRef(null),b=Li(p,m),y=s(c,w);return Zr.useEffect(()=>(y.itemMap.set(m,{ref:m,...g}),()=>void y.itemMap.delete(m))),ve.jsx(Ld,{[h]:"",ref:b,children:F})});u.displayName=c;function f(d){const p=s(n+"CollectionConsumer",d);return Zr.useCallback(()=>{const F=p.collectionRef.current;if(!F)return[];const g=Array.from(F.querySelectorAll(`[${h}]`));return Array.from(p.itemMap.values()).sort((y,A)=>g.indexOf(y.ref.current)-g.indexOf(A.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:l,ItemSlot:u},f,i]}var nb="ToastProvider",[ib,jK,QK]=qK("Toast"),[J7,IY]=kp("Toast",[QK]),[$K,Bp]=J7(nb),e9=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=n,[a,l]=ie.useState(null),[c,h]=ie.useState(0),u=ie.useRef(!1),f=ie.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${nb}\`. Expected non-empty \`string\`.`),ve.jsx(ib.Provider,{scope:e,children:ve.jsx($K,{scope:e,label:t,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:ie.useCallback(()=>h(d=>d+1),[]),onToastRemove:ie.useCallback(()=>h(d=>d-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};e9.displayName=nb;var t9="ToastViewport",GK=["F8"],q2="toast.viewportPause",j2="toast.viewportResume",n9=ie.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=GK,label:r="Notifications ({hotkey})",...s}=n,o=Bp(t9,t),a=jK(t),l=ie.useRef(null),c=ie.useRef(null),h=ie.useRef(null),u=ie.useRef(null),f=Li(e,u,o.onViewportChange),d=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;ie.useEffect(()=>{const F=g=>{var b;i.every(y=>g[y]||g.code===y)&&((b=u.current)==null||b.focus())};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),ie.useEffect(()=>{const F=l.current,g=u.current;if(p&&F&&g){const m=()=>{if(!o.isClosePausedRef.current){const x=new CustomEvent(q2);g.dispatchEvent(x),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const x=new CustomEvent(j2);g.dispatchEvent(x),o.isClosePausedRef.current=!1}},y=x=>{!F.contains(x.relatedTarget)&&b()},A=()=>{F.contains(document.activeElement)||b()};return F.addEventListener("focusin",m),F.addEventListener("focusout",y),F.addEventListener("pointermove",m),F.addEventListener("pointerleave",A),window.addEventListener("blur",m),window.addEventListener("focus",b),()=>{F.removeEventListener("focusin",m),F.removeEventListener("focusout",y),F.removeEventListener("pointermove",m),F.removeEventListener("pointerleave",A),window.removeEventListener("blur",m),window.removeEventListener("focus",b)}}},[p,o.isClosePausedRef]);const w=ie.useCallback(({tabbingDirection:F})=>{const m=a().map(b=>{const y=b.ref.current,A=[y,...oY(y)];return F==="forwards"?A:A.reverse()});return(F==="forwards"?m.reverse():m).flat()},[a]);return ie.useEffect(()=>{const F=u.current;if(F){const g=m=>{var A,x,v;const b=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!b){const _=document.activeElement,k=m.shiftKey;if(m.target===F&&k){(A=c.current)==null||A.focus();return}const M=w({tabbingDirection:k?"backwards":"forwards"}),N=M.findIndex(C=>C===_);M0(M.slice(N+1))?m.preventDefault():k?(x=c.current)==null||x.focus():(v=h.current)==null||v.focus()}};return F.addEventListener("keydown",g),()=>F.removeEventListener("keydown",g)}},[a,w]),ve.jsxs(mG,{ref:l,role:"region","aria-label":r.replace("{hotkey}",d),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&ve.jsx(Q2,{ref:c,onFocusFromOutsideViewport:()=>{const F=w({tabbingDirection:"forwards"});M0(F)}}),ve.jsx(ib.Slot,{scope:t,children:ve.jsx(Wn.ol,{tabIndex:-1,...s,ref:f})}),p&&ve.jsx(Q2,{ref:h,onFocusFromOutsideViewport:()=>{const F=w({tabbingDirection:"backwards"});M0(F)}})]})});n9.displayName=t9;var i9="ToastFocusProxy",Q2=ie.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...r}=n,s=Bp(i9,t);return ve.jsx(Ip,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&i()}})});Q2.displayName=i9;var Dp="Toast",WK="toast.swipeStart",KK="toast.swipeMove",YK="toast.swipeCancel",XK="toast.swipeEnd",r9=ie.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:r,onOpenChange:s,...o}=n,[a=!0,l]=D7({prop:i,defaultProp:r,onChange:s});return ve.jsx(Kw,{present:t||a,children:ve.jsx(eY,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:hr(n.onPause),onResume:hr(n.onResume),onSwipeStart:Kt(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Kt(n.onSwipeMove,c=>{const{x:h,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Kt(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Kt(n.onSwipeEnd,c=>{const{x:h,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});r9.displayName=Dp;var[ZK,JK]=J7(Dp,{onClose(){}}),eY=ie.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:d,...p}=n,w=Bp(Dp,t),[F,g]=ie.useState(null),m=Li(e,C=>g(C)),b=ie.useRef(null),y=ie.useRef(null),A=r||w.duration,x=ie.useRef(0),v=ie.useRef(A),_=ie.useRef(0),{onToastAdd:k,onToastRemove:E}=w,T=hr(()=>{var B;(F==null?void 0:F.contains(document.activeElement))&&((B=w.viewport)==null||B.focus()),o()}),M=ie.useCallback(C=>{!C||C===1/0||(window.clearTimeout(_.current),x.current=new Date().getTime(),_.current=window.setTimeout(T,C))},[T]);ie.useEffect(()=>{const C=w.viewport;if(C){const B=()=>{M(v.current),c==null||c()},I=()=>{const H=new Date().getTime()-x.current;v.current=v.current-H,window.clearTimeout(_.current),l==null||l()};return C.addEventListener(q2,I),C.addEventListener(j2,B),()=>{C.removeEventListener(q2,I),C.removeEventListener(j2,B)}}},[w.viewport,A,l,c,M]),ie.useEffect(()=>{s&&!w.isClosePausedRef.current&&M(A)},[s,A,w.isClosePausedRef,M]),ie.useEffect(()=>(k(),()=>E()),[k,E]);const N=ie.useMemo(()=>F?u9(F):null,[F]);return w.viewport?ve.jsxs(ve.Fragment,{children:[N&&ve.jsx(tY,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),ve.jsx(ZK,{scope:t,onClose:T,children:_l.createPortal(ve.jsx(ib.ItemSlot,{scope:t,children:ve.jsx(gG,{asChild:!0,onEscapeKeyDown:Kt(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||T(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:ve.jsx(Wn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...p,ref:m,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Kt(n.onKeyDown,C=>{C.key==="Escape"&&(a==null||a(C.nativeEvent),C.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Kt(n.onPointerDown,C=>{C.button===0&&(b.current={x:C.clientX,y:C.clientY})}),onPointerMove:Kt(n.onPointerMove,C=>{if(!b.current)return;const B=C.clientX-b.current.x,I=C.clientY-b.current.y,H=!!y.current,L=["left","right"].includes(w.swipeDirection),O=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,$=L?O(0,B):0,Q=L?0:O(0,I),te=C.pointerType==="touch"?10:2,U={x:$,y:Q},G={originalEvent:C,delta:U};H?(y.current=U,nf(KK,u,G,{discrete:!1})):r5(U,w.swipeDirection,te)?(y.current=U,nf(WK,h,G,{discrete:!1}),C.target.setPointerCapture(C.pointerId)):(Math.abs(B)>te||Math.abs(I)>te)&&(b.current=null)}),onPointerUp:Kt(n.onPointerUp,C=>{const B=y.current,I=C.target;if(I.hasPointerCapture(C.pointerId)&&I.releasePointerCapture(C.pointerId),y.current=null,b.current=null,B){const H=C.currentTarget,L={originalEvent:C,delta:B};r5(B,w.swipeDirection,w.swipeThreshold)?nf(XK,d,L,{discrete:!0}):nf(YK,f,L,{discrete:!0}),H.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),tY=n=>{const{__scopeToast:e,children:t,...i}=n,r=Bp(Dp,e),[s,o]=ie.useState(!1),[a,l]=ie.useState(!1);return rY(()=>o(!0)),ie.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:ve.jsx(B7,{asChild:!0,children:ve.jsx(Ip,{...i,children:s&&ve.jsxs(ve.Fragment,{children:[r.label," ",t]})})})},nY="ToastTitle",s9=ie.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return ve.jsx(Wn.div,{...i,ref:e})});s9.displayName=nY;var iY="ToastDescription",o9=ie.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return ve.jsx(Wn.div,{...i,ref:e})});o9.displayName=iY;var a9="ToastAction",l9=ie.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?ve.jsx(h9,{altText:t,asChild:!0,children:ve.jsx(rb,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${a9}\`. Expected non-empty \`string\`.`),null)});l9.displayName=a9;var c9="ToastClose",rb=ie.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,r=JK(c9,t);return ve.jsx(h9,{asChild:!0,children:ve.jsx(Wn.button,{type:"button",...i,ref:e,onClick:Kt(n.onClick,r.onClose)})})});rb.displayName=c9;var h9=ie.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...r}=n;return ve.jsx(Wn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function u9(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),sY(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...u9(i))}}),e}function nf(n,e,t,{discrete:i}){const r=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?h7(r,s):r.dispatchEvent(s)}var r5=(n,e,t=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return e==="left"||e==="right"?s&&i>t:!s&&r>t};function rY(n=()=>{}){const e=hr(n);Ms(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function sY(n){return n.nodeType===n.ELEMENT_NODE}function oY(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function M0(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var aY=e9,f9=n9,d9=r9,p9=s9,g9=o9,m9=l9,w9=rb;function b9(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=b9(n[e]))&&(i&&(i+=" "),i+=t);else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function lY(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=b9(n))&&(i&&(i+=" "),i+=e);return i}const s5=n=>typeof n=="boolean"?"".concat(n):n===0?"0":n,o5=lY,cY=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return o5(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const h=t==null?void 0:t[c],u=s==null?void 0:s[c];if(h===null)return null;const f=s5(h)||s5(u);return r[c][f]}),a=t&&Object.entries(t).reduce((c,h)=>{let[u,f]=h;return f===void 0||(c[u]=f),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,h)=>{let{class:u,className:f,...d}=h;return Object.entries(d).every(p=>{let[w,F]=p;return Array.isArray(F)?F.includes({...s,...a}[w]):{...s,...a}[w]===F})?[...c,u,f]:c},[]);return o5(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)},hY=aY,F9=ie.forwardRef(({className:n,...e},t)=>ve.jsx(f9,{ref:t,className:ci("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));F9.displayName=f9.displayName;const uY=cY("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),y9=ie.forwardRef(({className:n,variant:e,...t},i)=>ve.jsx(d9,{ref:i,className:ci(uY({variant:e}),n),...t}));y9.displayName=d9.displayName;const fY=ie.forwardRef(({className:n,...e},t)=>ve.jsx(m9,{ref:t,className:ci("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));fY.displayName=m9.displayName;const v9=ie.forwardRef(({className:n,...e},t)=>ve.jsx(w9,{ref:t,className:ci("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:ve.jsx(VK,{className:"h-4 w-4"})}));v9.displayName=w9.displayName;const A9=ie.forwardRef(({className:n,...e},t)=>ve.jsx(p9,{ref:t,className:ci("text-sm font-semibold [&+div]:text-xs",n),...e}));A9.displayName=p9.displayName;const _9=ie.forwardRef(({className:n,...e},t)=>ve.jsx(g9,{ref:t,className:ci("text-sm opacity-90",n),...e}));_9.displayName=g9.displayName;function dY(){const{toasts:n}=a7();return ve.jsxs(hY,{children:[n.map(function({id:e,title:t,description:i,action:r,...s}){return ve.jsxs(y9,{...s,children:[ve.jsxs("div",{className:"grid gap-1",children:[t&&ve.jsx(A9,{children:t}),i&&ve.jsx(_9,{children:i})]}),r,ve.jsx(v9,{})]},e)}),ve.jsx(F9,{})]})}function pY(){return ve.jsxs("main",{children:[ve.jsx(OK,{}),ve.jsx(dY,{})]})}const gY=new oQ;I_(document.getElementById("root")).render(ve.jsx(cQ,{client:gY,children:ve.jsx(pY,{})}))});export default mY();
